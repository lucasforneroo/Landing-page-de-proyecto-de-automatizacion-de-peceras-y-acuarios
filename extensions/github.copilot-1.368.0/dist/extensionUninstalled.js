"use strict";var JBe=Object.create;var F8=Object.defineProperty;var XBe=Object.getOwnPropertyDescriptor;var ZBe=Object.getOwnPropertyNames;var e8e=Object.getPrototypeOf,t8e=Object.prototype.hasOwnProperty;var dte=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),hte=t=>{throw TypeError(t)};var s=(t,e)=>F8(t,"name",{value:e,configurable:!0});var kl=(t,e)=>()=>(t&&(e=t(t=0)),e);var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Io=(t,e)=>{for(var r in e)F8(t,r,{get:e[r],enumerable:!0})},r8e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ZBe(e))!t8e.call(t,o)&&o!==r&&F8(t,o,{get:()=>e[o],enumerable:!(n=XBe(e,o))||n.enumerable});return t};var Et=(t,e,r)=>(r=t!=null?JBe(e8e(t)):{},r8e(e||!t||!t.__esModule?F8(r,"default",{value:t,enumerable:!0}):r,t));var Ate=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&hte("Object expected");var n,o;r&&(n=e[dte("asyncDispose")]),n===void 0&&(n=e[dte("dispose")],r&&(o=n)),typeof n!="function"&&hte("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.push([r,n,e])}else r&&t.push([r]);return e},pte=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(c,l,u,d){return d=Error(u),d.name="SuppressedError",d.error=c,d.suppressed=l,d},o=c=>e=r?new n(c,e,"An error was suppressed during disposal"):(r=!0,c),a=c=>{for(;c=t.pop();)try{var l=c[1]&&c[1].call(c[2]);if(c[0])return Promise.resolve(l).then(a,u=>(o(u),a()))}catch(u){o(u)}if(r)throw e};return a()};var importMetaUrlShim,f=kl(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var bn=q((U8,Cte)=>{f();(function(t,e){typeof U8=="object"?Cte.exports=U8=e():typeof define=="function"&&define.amd?define([],e):t.CryptoJS=e()})(U8,function(){var t=t||function(e,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var o=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),a=Object.create||function(){function _(){}return s(_,"F"),function(S){var D;return _.prototype=S,D=new _,_.prototype=null,D}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:s(function(_){var S=a(this);return _&&S.mixIn(_),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},"extend"),create:s(function(){var _=this.extend();return _.init.apply(_,arguments),_},"create"),init:s(function(){},"init"),mixIn:s(function(_){for(var S in _)_.hasOwnProperty(S)&&(this[S]=_[S]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},"mixIn"),clone:s(function(){return this.init.prototype.extend(this)},"clone")}}(),d=l.WordArray=u.extend({init:s(function(_,S){_=this.words=_||[],S!=r?this.sigBytes=S:this.sigBytes=_.length*4},"init"),toString:s(function(_){return(_||A).stringify(this)},"toString"),concat:s(function(_){var S=this.words,D=_.words,N=this.sigBytes,P=_.sigBytes;if(this.clamp(),N%4)for(var O=0;O<P;O++){var Y=D[O>>>2]>>>24-O%4*8&255;S[N+O>>>2]|=Y<<24-(N+O)%4*8}else for(var ne=0;ne<P;ne+=4)S[N+ne>>>2]=D[ne>>>2];return this.sigBytes+=P,this},"concat"),clamp:s(function(){var _=this.words,S=this.sigBytes;_[S>>>2]&=4294967295<<32-S%4*8,_.length=e.ceil(S/4)},"clamp"),clone:s(function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},"clone"),random:s(function(_){for(var S=[],D=0;D<_;D+=4)S.push(o());return new d.init(S,_)},"random")}),h=c.enc={},A=h.Hex={stringify:s(function(_){for(var S=_.words,D=_.sigBytes,N=[],P=0;P<D;P++){var O=S[P>>>2]>>>24-P%4*8&255;N.push((O>>>4).toString(16)),N.push((O&15).toString(16))}return N.join("")},"stringify"),parse:s(function(_){for(var S=_.length,D=[],N=0;N<S;N+=2)D[N>>>3]|=parseInt(_.substr(N,2),16)<<24-N%8*4;return new d.init(D,S/2)},"parse")},p=h.Latin1={stringify:s(function(_){for(var S=_.words,D=_.sigBytes,N=[],P=0;P<D;P++){var O=S[P>>>2]>>>24-P%4*8&255;N.push(String.fromCharCode(O))}return N.join("")},"stringify"),parse:s(function(_){for(var S=_.length,D=[],N=0;N<S;N++)D[N>>>2]|=(_.charCodeAt(N)&255)<<24-N%4*8;return new d.init(D,S)},"parse")},g=h.Utf8={stringify:s(function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:s(function(_){return p.parse(unescape(encodeURIComponent(_)))},"parse")},E=l.BufferedBlockAlgorithm=u.extend({reset:s(function(){this._data=new d.init,this._nDataBytes=0},"reset"),_append:s(function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},"_append"),_process:s(function(_){var S,D=this._data,N=D.words,P=D.sigBytes,O=this.blockSize,Y=O*4,ne=P/Y;_?ne=e.ceil(ne):ne=e.max((ne|0)-this._minBufferSize,0);var oe=ne*O,he=e.min(oe*4,P);if(oe){for(var $=0;$<oe;$+=O)this._doProcessBlock(N,$);S=N.splice(0,oe),D.sigBytes-=he}return new d.init(S,he)},"_process"),clone:s(function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},"clone"),_minBufferSize:0}),v=l.Hasher=E.extend({cfg:u.extend(),init:s(function(_){this.cfg=this.cfg.extend(_),this.reset()},"init"),reset:s(function(){E.reset.call(this),this._doReset()},"reset"),update:s(function(_){return this._append(_),this._process(),this},"update"),finalize:s(function(_){_&&this._append(_);var S=this._doFinalize();return S},"finalize"),blockSize:512/32,_createHelper:s(function(_){return function(S,D){return new _.init(D).finalize(S)}},"_createHelper"),_createHmacHelper:s(function(_){return function(S,D){return new w.HMAC.init(_,D).finalize(S)}},"_createHmacHelper")}),w=c.algo={};return c}(Math);return t})});var jT=q((H8,Ete)=>{f();(function(t,e){typeof H8=="object"?Ete.exports=H8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(H8,function(t){return function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=r.x64={},l=c.Word=o.extend({init:s(function(d,h){this.high=d,this.low=h},"init")}),u=c.WordArray=o.extend({init:s(function(d,h){d=this.words=d||[],h!=e?this.sigBytes=h:this.sigBytes=d.length*8},"init"),toX32:s(function(){for(var d=this.words,h=d.length,A=[],p=0;p<h;p++){var g=d[p];A.push(g.high),A.push(g.low)}return a.create(A,this.sigBytes)},"toX32"),clone:s(function(){for(var d=o.clone.call(this),h=d.words=this.words.slice(0),A=h.length,p=0;p<A;p++)h[p]=h[p].clone();return d},"clone")})}(),t})});var xte=q((q8,Ite)=>{f();(function(t,e){typeof q8=="object"?Ite.exports=q8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(q8,function(t){return function(){if(typeof ArrayBuffer=="function"){var e=t,r=e.lib,n=r.WordArray,o=n.init,a=n.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],d=0;d<l;d++)u[d>>>2]|=c[d]<<24-d%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=n}}(),t.lib.WordArray})});var bte=q((G8,vte)=>{f();(function(t,e){typeof G8=="object"?vte.exports=G8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(G8,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Utf16=o.Utf16BE={stringify:s(function(l){for(var u=l.words,d=l.sigBytes,h=[],A=0;A<d;A+=2){var p=u[A>>>2]>>>16-A%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},"stringify"),parse:s(function(l){for(var u=l.length,d=[],h=0;h<u;h++)d[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return n.create(d,u*2)},"parse")};o.Utf16LE={stringify:s(function(l){for(var u=l.words,d=l.sigBytes,h=[],A=0;A<d;A+=2){var p=c(u[A>>>2]>>>16-A%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},"stringify"),parse:s(function(l){for(var u=l.length,d=[],h=0;h<u;h++)d[h>>>1]|=c(l.charCodeAt(h)<<16-h%2*16);return n.create(d,u*2)},"parse")};function c(l){return l<<8&4278255360|l>>>8&16711935}s(c,"swapEndian")}(),t.enc.Utf16})});var Dm=q((V8,Tte)=>{f();(function(t,e){typeof V8=="object"?Tte.exports=V8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(V8,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64={stringify:s(function(l){var u=l.words,d=l.sigBytes,h=this._map;l.clamp();for(var A=[],p=0;p<d;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,w=g<<16|E<<8|v,_=0;_<4&&p+_*.75<d;_++)A.push(h.charAt(w>>>6*(3-_)&63));var S=h.charAt(64);if(S)for(;A.length%4;)A.push(S);return A.join("")},"stringify"),parse:s(function(l){var u=l.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var A=0;A<d.length;A++)h[d.charCodeAt(A)]=A}var p=d.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return c(l,u,h)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(l,u,d){for(var h=[],A=0,p=0;p<u;p++)if(p%4){var g=d[l.charCodeAt(p-1)]<<p%4*2,E=d[l.charCodeAt(p)]>>>6-p%4*2,v=g|E;h[A>>>2]|=v<<24-A%4*8,A++}return n.create(h,A)}s(c,"parseLoop")}(),t.enc.Base64})});var wte=q((W8,_te)=>{f();(function(t,e){typeof W8=="object"?_te.exports=W8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(W8,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.enc,a=o.Base64url={stringify:s(function(l,u){u===void 0&&(u=!0);var d=l.words,h=l.sigBytes,A=u?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<h;g+=3)for(var E=d[g>>>2]>>>24-g%4*8&255,v=d[g+1>>>2]>>>24-(g+1)%4*8&255,w=d[g+2>>>2]>>>24-(g+2)%4*8&255,_=E<<16|v<<8|w,S=0;S<4&&g+S*.75<h;S++)p.push(A.charAt(_>>>6*(3-S)&63));var D=A.charAt(64);if(D)for(;p.length%4;)p.push(D);return p.join("")},"stringify"),parse:s(function(l,u){u===void 0&&(u=!0);var d=l.length,h=u?this._safe_map:this._map,A=this._reverseMap;if(!A){A=this._reverseMap=[];for(var p=0;p<h.length;p++)A[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var E=l.indexOf(g);E!==-1&&(d=E)}return c(l,d,A)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(l,u,d){for(var h=[],A=0,p=0;p<u;p++)if(p%4){var g=d[l.charCodeAt(p-1)]<<p%4*2,E=d[l.charCodeAt(p)]>>>6-p%4*2,v=g|E;h[A>>>2]|=v<<24-A%4*8,A++}return n.create(h,A)}s(c,"parseLoop")}(),t.enc.Base64url})});var Nm=q(($8,Ste)=>{f();(function(t,e){typeof $8=="object"?Ste.exports=$8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})($8,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=e.abs(e.sin(g+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:s(function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:s(function(g,E){for(var v=0;v<16;v++){var w=E+v,_=g[w];g[w]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var S=this._hash.words,D=g[E+0],N=g[E+1],P=g[E+2],O=g[E+3],Y=g[E+4],ne=g[E+5],oe=g[E+6],he=g[E+7],$=g[E+8],K=g[E+9],xe=g[E+10],ce=g[E+11],J=g[E+12],W=g[E+13],Z=g[E+14],re=g[E+15],te=S[0],ie=S[1],ue=S[2],Ae=S[3];te=d(te,ie,ue,Ae,D,7,l[0]),Ae=d(Ae,te,ie,ue,N,12,l[1]),ue=d(ue,Ae,te,ie,P,17,l[2]),ie=d(ie,ue,Ae,te,O,22,l[3]),te=d(te,ie,ue,Ae,Y,7,l[4]),Ae=d(Ae,te,ie,ue,ne,12,l[5]),ue=d(ue,Ae,te,ie,oe,17,l[6]),ie=d(ie,ue,Ae,te,he,22,l[7]),te=d(te,ie,ue,Ae,$,7,l[8]),Ae=d(Ae,te,ie,ue,K,12,l[9]),ue=d(ue,Ae,te,ie,xe,17,l[10]),ie=d(ie,ue,Ae,te,ce,22,l[11]),te=d(te,ie,ue,Ae,J,7,l[12]),Ae=d(Ae,te,ie,ue,W,12,l[13]),ue=d(ue,Ae,te,ie,Z,17,l[14]),ie=d(ie,ue,Ae,te,re,22,l[15]),te=h(te,ie,ue,Ae,N,5,l[16]),Ae=h(Ae,te,ie,ue,oe,9,l[17]),ue=h(ue,Ae,te,ie,ce,14,l[18]),ie=h(ie,ue,Ae,te,D,20,l[19]),te=h(te,ie,ue,Ae,ne,5,l[20]),Ae=h(Ae,te,ie,ue,xe,9,l[21]),ue=h(ue,Ae,te,ie,re,14,l[22]),ie=h(ie,ue,Ae,te,Y,20,l[23]),te=h(te,ie,ue,Ae,K,5,l[24]),Ae=h(Ae,te,ie,ue,Z,9,l[25]),ue=h(ue,Ae,te,ie,O,14,l[26]),ie=h(ie,ue,Ae,te,$,20,l[27]),te=h(te,ie,ue,Ae,W,5,l[28]),Ae=h(Ae,te,ie,ue,P,9,l[29]),ue=h(ue,Ae,te,ie,he,14,l[30]),ie=h(ie,ue,Ae,te,J,20,l[31]),te=A(te,ie,ue,Ae,ne,4,l[32]),Ae=A(Ae,te,ie,ue,$,11,l[33]),ue=A(ue,Ae,te,ie,ce,16,l[34]),ie=A(ie,ue,Ae,te,Z,23,l[35]),te=A(te,ie,ue,Ae,N,4,l[36]),Ae=A(Ae,te,ie,ue,Y,11,l[37]),ue=A(ue,Ae,te,ie,he,16,l[38]),ie=A(ie,ue,Ae,te,xe,23,l[39]),te=A(te,ie,ue,Ae,W,4,l[40]),Ae=A(Ae,te,ie,ue,D,11,l[41]),ue=A(ue,Ae,te,ie,O,16,l[42]),ie=A(ie,ue,Ae,te,oe,23,l[43]),te=A(te,ie,ue,Ae,K,4,l[44]),Ae=A(Ae,te,ie,ue,J,11,l[45]),ue=A(ue,Ae,te,ie,re,16,l[46]),ie=A(ie,ue,Ae,te,P,23,l[47]),te=p(te,ie,ue,Ae,D,6,l[48]),Ae=p(Ae,te,ie,ue,he,10,l[49]),ue=p(ue,Ae,te,ie,Z,15,l[50]),ie=p(ie,ue,Ae,te,ne,21,l[51]),te=p(te,ie,ue,Ae,J,6,l[52]),Ae=p(Ae,te,ie,ue,O,10,l[53]),ue=p(ue,Ae,te,ie,xe,15,l[54]),ie=p(ie,ue,Ae,te,N,21,l[55]),te=p(te,ie,ue,Ae,$,6,l[56]),Ae=p(Ae,te,ie,ue,re,10,l[57]),ue=p(ue,Ae,te,ie,oe,15,l[58]),ie=p(ie,ue,Ae,te,W,21,l[59]),te=p(te,ie,ue,Ae,Y,6,l[60]),Ae=p(Ae,te,ie,ue,ce,10,l[61]),ue=p(ue,Ae,te,ie,P,15,l[62]),ie=p(ie,ue,Ae,te,K,21,l[63]),S[0]=S[0]+te|0,S[1]=S[1]+ie|0,S[2]=S[2]+ue|0,S[3]=S[3]+Ae|0},"_doProcessBlock"),_doFinalize:s(function(){var g=this._data,E=g.words,v=this._nDataBytes*8,w=g.sigBytes*8;E[w>>>5]|=128<<24-w%32;var _=e.floor(v/4294967296),S=v;E[(w+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,E[(w+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,g.sigBytes=(E.length+1)*4,this._process();for(var D=this._hash,N=D.words,P=0;P<4;P++){var O=N[P];N[P]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return D},"_doFinalize"),clone:s(function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g},"clone")});function d(g,E,v,w,_,S,D){var N=g+(E&v|~E&w)+_+D;return(N<<S|N>>>32-S)+E}s(d,"FF");function h(g,E,v,w,_,S,D){var N=g+(E&w|v&~w)+_+D;return(N<<S|N>>>32-S)+E}s(h,"GG");function A(g,E,v,w,_,S,D){var N=g+(E^v^w)+_+D;return(N<<S|N>>>32-S)+E}s(A,"HH");function p(g,E,v,w,_,S,D){var N=g+(v^(E|~w))+_+D;return(N<<S|N>>>32-S)+E}s(p,"II"),r.MD5=a._createHelper(u),r.HmacMD5=a._createHmacHelper(u)}(Math),t.MD5})});var dO=q((Y8,Bte)=>{f();(function(t,e){typeof Y8=="object"?Bte.exports=Y8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(Y8,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,c=[],l=a.SHA1=o.extend({_doReset:s(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(u,d){for(var h=this._hash.words,A=h[0],p=h[1],g=h[2],E=h[3],v=h[4],w=0;w<80;w++){if(w<16)c[w]=u[d+w]|0;else{var _=c[w-3]^c[w-8]^c[w-14]^c[w-16];c[w]=_<<1|_>>>31}var S=(A<<5|A>>>27)+v+c[w];w<20?S+=(p&g|~p&E)+1518500249:w<40?S+=(p^g^E)+1859775393:w<60?S+=(p&g|p&E|g&E)-1894007588:S+=(p^g^E)-899497514,v=E,E=g,g=p<<30|p>>>2,p=A,A=S}h[0]=h[0]+A|0,h[1]=h[1]+p|0,h[2]=h[2]+g|0,h[3]=h[3]+E|0,h[4]=h[4]+v|0},"_doProcessBlock"),_doFinalize:s(function(){var u=this._data,d=u.words,h=this._nDataBytes*8,A=u.sigBytes*8;return d[A>>>5]|=128<<24-A%32,d[(A+64>>>9<<4)+14]=Math.floor(h/4294967296),d[(A+64>>>9<<4)+15]=h,u.sigBytes=d.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u},"clone")});e.SHA1=o._createHelper(l),e.HmacSHA1=o._createHmacHelper(l)}(),t.SHA1})});var j8=q((z8,Rte)=>{f();(function(t,e){typeof z8=="object"?Rte.exports=z8=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(z8,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=[],u=[];(function(){function A(v){for(var w=e.sqrt(v),_=2;_<=w;_++)if(!(v%_))return!1;return!0}s(A,"isPrime");function p(v){return(v-(v|0))*4294967296|0}s(p,"getFractionalBits");for(var g=2,E=0;E<64;)A(g)&&(E<8&&(l[E]=p(e.pow(g,1/2))),u[E]=p(e.pow(g,1/3)),E++),g++})();var d=[],h=c.SHA256=a.extend({_doReset:s(function(){this._hash=new o.init(l.slice(0))},"_doReset"),_doProcessBlock:s(function(A,p){for(var g=this._hash.words,E=g[0],v=g[1],w=g[2],_=g[3],S=g[4],D=g[5],N=g[6],P=g[7],O=0;O<64;O++){if(O<16)d[O]=A[p+O]|0;else{var Y=d[O-15],ne=(Y<<25|Y>>>7)^(Y<<14|Y>>>18)^Y>>>3,oe=d[O-2],he=(oe<<15|oe>>>17)^(oe<<13|oe>>>19)^oe>>>10;d[O]=ne+d[O-7]+he+d[O-16]}var $=S&D^~S&N,K=E&v^E&w^v&w,xe=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),ce=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),J=P+ce+$+u[O]+d[O],W=xe+K;P=N,N=D,D=S,S=_+J|0,_=w,w=v,v=E,E=J+W|0}g[0]=g[0]+E|0,g[1]=g[1]+v|0,g[2]=g[2]+w|0,g[3]=g[3]+_|0,g[4]=g[4]+S|0,g[5]=g[5]+D|0,g[6]=g[6]+N|0,g[7]=g[7]+P|0},"_doProcessBlock"),_doFinalize:s(function(){var A=this._data,p=A.words,g=this._nDataBytes*8,E=A.sigBytes*8;return p[E>>>5]|=128<<24-E%32,p[(E+64>>>9<<4)+14]=e.floor(g/4294967296),p[(E+64>>>9<<4)+15]=g,A.sigBytes=p.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A},"clone")});r.SHA256=a._createHelper(h),r.HmacSHA256=a._createHmacHelper(h)}(Math),t.SHA256})});var Dte=q((K8,kte)=>{f();(function(t,e,r){typeof K8=="object"?kte.exports=K8=e(bn(),j8()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(t.CryptoJS)})(K8,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=e.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:s(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:s(function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});e.SHA224=a._createHelper(c),e.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})});var hO=q((J8,Nte)=>{f();(function(t,e,r){typeof J8=="object"?Nte.exports=J8=e(bn(),jT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(J8,function(t){return function(){var e=t,r=e.lib,n=r.Hasher,o=e.x64,a=o.Word,c=o.WordArray,l=e.algo;function u(){return a.create.apply(a,arguments)}s(u,"X64Word_create");var d=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var p=0;p<80;p++)h[p]=u()})();var A=l.SHA512=n.extend({_doReset:s(function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:s(function(p,g){for(var E=this._hash.words,v=E[0],w=E[1],_=E[2],S=E[3],D=E[4],N=E[5],P=E[6],O=E[7],Y=v.high,ne=v.low,oe=w.high,he=w.low,$=_.high,K=_.low,xe=S.high,ce=S.low,J=D.high,W=D.low,Z=N.high,re=N.low,te=P.high,ie=P.low,ue=O.high,Ae=O.low,Je=Y,rt=ne,lt=oe,Ct=he,Vt=$,Hr=K,Dn=xe,br=ce,le=J,Xe=W,ge=Z,ft=re,st=te,$e=ie,Mr=ue,xn=Ae,qr=0;qr<80;qr++){var Jt,gi,Yo=h[qr];if(qr<16)gi=Yo.high=p[g+qr*2]|0,Jt=Yo.low=p[g+qr*2+1]|0;else{var Mn=h[qr-15],zo=Mn.high,Xt=Mn.low,mo=(zo>>>1|Xt<<31)^(zo>>>8|Xt<<24)^zo>>>7,ko=(Xt>>>1|zo<<31)^(Xt>>>8|zo<<24)^(Xt>>>7|zo<<25),fa=h[qr-2],de=fa.high,Ve=fa.low,ht=(de>>>19|Ve<<13)^(de<<3|Ve>>>29)^de>>>6,vt=(Ve>>>19|de<<13)^(Ve<<3|de>>>29)^(Ve>>>6|de<<26),zr=h[qr-7],Tr=zr.high,Kn=zr.low,oi=h[qr-16],Or=oi.high,Kr=oi.low;Jt=ko+Kn,gi=mo+Tr+(Jt>>>0<ko>>>0?1:0),Jt=Jt+vt,gi=gi+ht+(Jt>>>0<vt>>>0?1:0),Jt=Jt+Kr,gi=gi+Or+(Jt>>>0<Kr>>>0?1:0),Yo.high=gi,Yo.low=Jt}var Gr=le&ge^~le&st,di=Xe&ft^~Xe&$e,Vi=Je&lt^Je&Vt^lt&Vt,Do=rt&Ct^rt&Hr^Ct&Hr,Tc=(Je>>>28|rt<<4)^(Je<<30|rt>>>2)^(Je<<25|rt>>>7),Of=(rt>>>28|Je<<4)^(rt<<30|Je>>>2)^(rt<<25|Je>>>7),N0=(le>>>14|Xe<<18)^(le>>>18|Xe<<14)^(le<<23|Xe>>>9),vu=(Xe>>>14|le<<18)^(Xe>>>18|le<<14)^(Xe<<23|le>>>9),cs=d[qr],bu=cs.high,_e=cs.low,M=xn+vu,fe=Mr+N0+(M>>>0<xn>>>0?1:0),M=M+di,fe=fe+Gr+(M>>>0<di>>>0?1:0),M=M+_e,fe=fe+bu+(M>>>0<_e>>>0?1:0),M=M+Jt,fe=fe+gi+(M>>>0<Jt>>>0?1:0),Ce=Of+Do,X=Tc+Vi+(Ce>>>0<Of>>>0?1:0);Mr=st,xn=$e,st=ge,$e=ft,ge=le,ft=Xe,Xe=br+M|0,le=Dn+fe+(Xe>>>0<br>>>0?1:0)|0,Dn=Vt,br=Hr,Vt=lt,Hr=Ct,lt=Je,Ct=rt,rt=M+Ce|0,Je=fe+X+(rt>>>0<M>>>0?1:0)|0}ne=v.low=ne+rt,v.high=Y+Je+(ne>>>0<rt>>>0?1:0),he=w.low=he+Ct,w.high=oe+lt+(he>>>0<Ct>>>0?1:0),K=_.low=K+Hr,_.high=$+Vt+(K>>>0<Hr>>>0?1:0),ce=S.low=ce+br,S.high=xe+Dn+(ce>>>0<br>>>0?1:0),W=D.low=W+Xe,D.high=J+le+(W>>>0<Xe>>>0?1:0),re=N.low=re+ft,N.high=Z+ge+(re>>>0<ft>>>0?1:0),ie=P.low=ie+$e,P.high=te+st+(ie>>>0<$e>>>0?1:0),Ae=O.low=Ae+xn,O.high=ue+Mr+(Ae>>>0<xn>>>0?1:0)},"_doProcessBlock"),_doFinalize:s(function(){var p=this._data,g=p.words,E=this._nDataBytes*8,v=p.sigBytes*8;g[v>>>5]|=128<<24-v%32,g[(v+128>>>10<<5)+30]=Math.floor(E/4294967296),g[(v+128>>>10<<5)+31]=E,p.sigBytes=g.length*4,this._process();var w=this._hash.toX32();return w},"_doFinalize"),clone:s(function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},"clone"),blockSize:1024/32});e.SHA512=n._createHelper(A),e.HmacSHA512=n._createHmacHelper(A)}(),t.SHA512})});var Pte=q((X8,Qte)=>{f();(function(t,e,r){typeof X8=="object"?Qte.exports=X8=e(bn(),jT(),hO()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(t.CryptoJS)})(X8,function(t){return function(){var e=t,r=e.x64,n=r.Word,o=r.WordArray,a=e.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:s(function(){this._hash=new o.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:s(function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u},"_doFinalize")});e.SHA384=c._createHelper(l),e.HmacSHA384=c._createHmacHelper(l)}(),t.SHA384})});var Lte=q((Z8,Fte)=>{f();(function(t,e,r){typeof Z8=="object"?Fte.exports=Z8=e(bn(),jT()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(t.CryptoJS)})(Z8,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.x64,l=c.Word,u=r.algo,d=[],h=[],A=[];(function(){for(var E=1,v=0,w=0;w<24;w++){d[E+5*v]=(w+1)*(w+2)/2%64;var _=v%5,S=(2*E+3*v)%5;E=_,v=S}for(var E=0;E<5;E++)for(var v=0;v<5;v++)h[E+5*v]=v+(2*E+3*v)%5*5;for(var D=1,N=0;N<24;N++){for(var P=0,O=0,Y=0;Y<7;Y++){if(D&1){var ne=(1<<Y)-1;ne<32?O^=1<<ne:P^=1<<ne-32}D&128?D=D<<1^113:D<<=1}A[N]=l.create(P,O)}})();var p=[];(function(){for(var E=0;E<25;E++)p[E]=l.create()})();var g=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:s(function(){for(var E=this._state=[],v=0;v<25;v++)E[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:s(function(E,v){for(var w=this._state,_=this.blockSize/2,S=0;S<_;S++){var D=E[v+2*S],N=E[v+2*S+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var P=w[S];P.high^=N,P.low^=D}for(var O=0;O<24;O++){for(var Y=0;Y<5;Y++){for(var ne=0,oe=0,he=0;he<5;he++){var P=w[Y+5*he];ne^=P.high,oe^=P.low}var $=p[Y];$.high=ne,$.low=oe}for(var Y=0;Y<5;Y++)for(var K=p[(Y+4)%5],xe=p[(Y+1)%5],ce=xe.high,J=xe.low,ne=K.high^(ce<<1|J>>>31),oe=K.low^(J<<1|ce>>>31),he=0;he<5;he++){var P=w[Y+5*he];P.high^=ne,P.low^=oe}for(var W=1;W<25;W++){var ne,oe,P=w[W],Z=P.high,re=P.low,te=d[W];te<32?(ne=Z<<te|re>>>32-te,oe=re<<te|Z>>>32-te):(ne=re<<te-32|Z>>>64-te,oe=Z<<te-32|re>>>64-te);var ie=p[h[W]];ie.high=ne,ie.low=oe}var ue=p[0],Ae=w[0];ue.high=Ae.high,ue.low=Ae.low;for(var Y=0;Y<5;Y++)for(var he=0;he<5;he++){var W=Y+5*he,P=w[W],Je=p[W],rt=p[(Y+1)%5+5*he],lt=p[(Y+2)%5+5*he];P.high=Je.high^~rt.high&lt.high,P.low=Je.low^~rt.low&lt.low}var P=w[0],Ct=A[O];P.high^=Ct.high,P.low^=Ct.low}},"_doProcessBlock"),_doFinalize:s(function(){var E=this._data,v=E.words,w=this._nDataBytes*8,_=E.sigBytes*8,S=this.blockSize*32;v[_>>>5]|=1<<24-_%32,v[(e.ceil((_+1)/S)*S>>>5)-1]|=128,E.sigBytes=v.length*4,this._process();for(var D=this._state,N=this.cfg.outputLength/8,P=N/8,O=[],Y=0;Y<P;Y++){var ne=D[Y],oe=ne.high,he=ne.low;oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,he=(he<<8|he>>>24)&16711935|(he<<24|he>>>8)&4278255360,O.push(he),O.push(oe)}return new o.init(O,N)},"_doFinalize"),clone:s(function(){for(var E=a.clone.call(this),v=E._state=this._state.slice(0),w=0;w<25;w++)v[w]=v[w].clone();return E},"clone")});r.SHA3=a._createHelper(g),r.HmacSHA3=a._createHmacHelper(g)}(Math),t.SHA3})});var Ote=q((e6,Mte)=>{f();(function(t,e){typeof e6=="object"?Mte.exports=e6=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(e6,function(t){return function(e){var r=t,n=r.lib,o=n.WordArray,a=n.Hasher,c=r.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),A=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=c.RIPEMD160=a.extend({_doReset:s(function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(N,P){for(var O=0;O<16;O++){var Y=P+O,ne=N[Y];N[Y]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360}var oe=this._hash.words,he=A.words,$=p.words,K=l.words,xe=u.words,ce=d.words,J=h.words,W,Z,re,te,ie,ue,Ae,Je,rt,lt;ue=W=oe[0],Ae=Z=oe[1],Je=re=oe[2],rt=te=oe[3],lt=ie=oe[4];for(var Ct,O=0;O<80;O+=1)Ct=W+N[P+K[O]]|0,O<16?Ct+=E(Z,re,te)+he[0]:O<32?Ct+=v(Z,re,te)+he[1]:O<48?Ct+=w(Z,re,te)+he[2]:O<64?Ct+=_(Z,re,te)+he[3]:Ct+=S(Z,re,te)+he[4],Ct=Ct|0,Ct=D(Ct,ce[O]),Ct=Ct+ie|0,W=ie,ie=te,te=D(re,10),re=Z,Z=Ct,Ct=ue+N[P+xe[O]]|0,O<16?Ct+=S(Ae,Je,rt)+$[0]:O<32?Ct+=_(Ae,Je,rt)+$[1]:O<48?Ct+=w(Ae,Je,rt)+$[2]:O<64?Ct+=v(Ae,Je,rt)+$[3]:Ct+=E(Ae,Je,rt)+$[4],Ct=Ct|0,Ct=D(Ct,J[O]),Ct=Ct+lt|0,ue=lt,lt=rt,rt=D(Je,10),Je=Ae,Ae=Ct;Ct=oe[1]+re+rt|0,oe[1]=oe[2]+te+lt|0,oe[2]=oe[3]+ie+ue|0,oe[3]=oe[4]+W+Ae|0,oe[4]=oe[0]+Z+Je|0,oe[0]=Ct},"_doProcessBlock"),_doFinalize:s(function(){var N=this._data,P=N.words,O=this._nDataBytes*8,Y=N.sigBytes*8;P[Y>>>5]|=128<<24-Y%32,P[(Y+64>>>9<<4)+14]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,N.sigBytes=(P.length+1)*4,this._process();for(var ne=this._hash,oe=ne.words,he=0;he<5;he++){var $=oe[he];oe[he]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return ne},"_doFinalize"),clone:s(function(){var N=a.clone.call(this);return N._hash=this._hash.clone(),N},"clone")});function E(N,P,O){return N^P^O}s(E,"f1");function v(N,P,O){return N&P|~N&O}s(v,"f2");function w(N,P,O){return(N|~P)^O}s(w,"f3");function _(N,P,O){return N&O|P&~O}s(_,"f4");function S(N,P,O){return N^(P|~O)}s(S,"f5");function D(N,P){return N<<P|N>>>32-P}s(D,"rotl"),r.RIPEMD160=a._createHelper(g),r.HmacRIPEMD160=a._createHmacHelper(g)}(Math),t.RIPEMD160})});var r6=q((t6,Ute)=>{f();(function(t,e){typeof t6=="object"?Ute.exports=t6=e(bn()):typeof define=="function"&&define.amd?define(["./core"],e):e(t.CryptoJS)})(t6,function(t){(function(){var e=t,r=e.lib,n=r.Base,o=e.enc,a=o.Utf8,c=e.algo,l=c.HMAC=n.extend({init:s(function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=a.parse(d));var h=u.blockSize,A=h*4;d.sigBytes>A&&(d=u.finalize(d)),d.clamp();for(var p=this._oKey=d.clone(),g=this._iKey=d.clone(),E=p.words,v=g.words,w=0;w<h;w++)E[w]^=1549556828,v[w]^=909522486;p.sigBytes=g.sigBytes=A,this.reset()},"init"),reset:s(function(){var u=this._hasher;u.reset(),u.update(this._iKey)},"reset"),update:s(function(u){return this._hasher.update(u),this},"update"),finalize:s(function(u){var d=this._hasher,h=d.finalize(u);d.reset();var A=d.finalize(this._oKey.clone().concat(h));return A},"finalize")})})()})});var qte=q((n6,Hte)=>{f();(function(t,e,r){typeof n6=="object"?Hte.exports=n6=e(bn(),j8(),r6()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(t.CryptoJS)})(n6,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:25e4}),init:s(function(d){this.cfg=this.cfg.extend(d)},"init"),compute:s(function(d,h){for(var A=this.cfg,p=l.create(A.hasher,d),g=o.create(),E=o.create([1]),v=g.words,w=E.words,_=A.keySize,S=A.iterations;v.length<_;){var D=p.update(h).finalize(E);p.reset();for(var N=D.words,P=N.length,O=D,Y=1;Y<S;Y++){O=p.finalize(O),p.reset();for(var ne=O.words,oe=0;oe<P;oe++)N[oe]^=ne[oe]}g.concat(D),w[0]++}return g.sigBytes=_*4,g},"compute")});e.PBKDF2=function(d,h,A){return u.create(A).compute(d,h)}}(),t.PBKDF2})});var Kh=q((i6,Gte)=>{f();(function(t,e,r){typeof i6=="object"?Gte.exports=i6=e(bn(),dO(),r6()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(t.CryptoJS)})(i6,function(t){return function(){var e=t,r=e.lib,n=r.Base,o=r.WordArray,a=e.algo,c=a.MD5,l=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:c,iterations:1}),init:s(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:s(function(u,d){for(var h,A=this.cfg,p=A.hasher.create(),g=o.create(),E=g.words,v=A.keySize,w=A.iterations;E.length<v;){h&&p.update(h),h=p.update(u).finalize(d),p.reset();for(var _=1;_<w;_++)h=p.finalize(h),p.reset();g.concat(h)}return g.sigBytes=v*4,g},"compute")});e.EvpKDF=function(u,d,h){return l.create(h).compute(u,d)}}(),t.EvpKDF})});var Rs=q((o6,Vte)=>{f();(function(t,e,r){typeof o6=="object"?Vte.exports=o6=e(bn(),Kh()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(t.CryptoJS)})(o6,function(t){t.lib.Cipher||function(e){var r=t,n=r.lib,o=n.Base,a=n.WordArray,c=n.BufferedBlockAlgorithm,l=r.enc,u=l.Utf8,d=l.Base64,h=r.algo,A=h.EvpKDF,p=n.Cipher=c.extend({cfg:o.extend(),createEncryptor:s(function($,K){return this.create(this._ENC_XFORM_MODE,$,K)},"createEncryptor"),createDecryptor:s(function($,K){return this.create(this._DEC_XFORM_MODE,$,K)},"createDecryptor"),init:s(function($,K,xe){this.cfg=this.cfg.extend(xe),this._xformMode=$,this._key=K,this.reset()},"init"),reset:s(function(){c.reset.call(this),this._doReset()},"reset"),process:s(function($){return this._append($),this._process()},"process"),finalize:s(function($){$&&this._append($);var K=this._doFinalize();return K},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function $(K){return typeof K=="string"?he:Y}return s($,"selectCipherStrategy"),function(K){return{encrypt:s(function(xe,ce,J){return $(ce).encrypt(K,xe,ce,J)},"encrypt"),decrypt:s(function(xe,ce,J){return $(ce).decrypt(K,xe,ce,J)},"decrypt")}}}()}),g=n.StreamCipher=p.extend({_doFinalize:s(function(){var $=this._process(!0);return $},"_doFinalize"),blockSize:1}),E=r.mode={},v=n.BlockCipherMode=o.extend({createEncryptor:s(function($,K){return this.Encryptor.create($,K)},"createEncryptor"),createDecryptor:s(function($,K){return this.Decryptor.create($,K)},"createDecryptor"),init:s(function($,K){this._cipher=$,this._iv=K},"init")}),w=E.CBC=function(){var $=v.extend();$.Encryptor=$.extend({processBlock:s(function(xe,ce){var J=this._cipher,W=J.blockSize;K.call(this,xe,ce,W),J.encryptBlock(xe,ce),this._prevBlock=xe.slice(ce,ce+W)},"processBlock")}),$.Decryptor=$.extend({processBlock:s(function(xe,ce){var J=this._cipher,W=J.blockSize,Z=xe.slice(ce,ce+W);J.decryptBlock(xe,ce),K.call(this,xe,ce,W),this._prevBlock=Z},"processBlock")});function K(xe,ce,J){var W,Z=this._iv;Z?(W=Z,this._iv=e):W=this._prevBlock;for(var re=0;re<J;re++)xe[ce+re]^=W[re]}return s(K,"xorBlock"),$}(),_=r.pad={},S=_.Pkcs7={pad:s(function($,K){for(var xe=K*4,ce=xe-$.sigBytes%xe,J=ce<<24|ce<<16|ce<<8|ce,W=[],Z=0;Z<ce;Z+=4)W.push(J);var re=a.create(W,ce);$.concat(re)},"pad"),unpad:s(function($){var K=$.words[$.sigBytes-1>>>2]&255;$.sigBytes-=K},"unpad")},D=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:w,padding:S}),reset:s(function(){var $;p.reset.call(this);var K=this.cfg,xe=K.iv,ce=K.mode;this._xformMode==this._ENC_XFORM_MODE?$=ce.createEncryptor:($=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==$?this._mode.init(this,xe&&xe.words):(this._mode=$.call(ce,this,xe&&xe.words),this._mode.__creator=$)},"reset"),_doProcessBlock:s(function($,K){this._mode.processBlock($,K)},"_doProcessBlock"),_doFinalize:s(function(){var $,K=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(K.pad(this._data,this.blockSize),$=this._process(!0)):($=this._process(!0),K.unpad($)),$},"_doFinalize"),blockSize:128/32}),N=n.CipherParams=o.extend({init:s(function($){this.mixIn($)},"init"),toString:s(function($){return($||this.formatter).stringify(this)},"toString")}),P=r.format={},O=P.OpenSSL={stringify:s(function($){var K,xe=$.ciphertext,ce=$.salt;return ce?K=a.create([1398893684,1701076831]).concat(ce).concat(xe):K=xe,K.toString(d)},"stringify"),parse:s(function($){var K,xe=d.parse($),ce=xe.words;return ce[0]==1398893684&&ce[1]==1701076831&&(K=a.create(ce.slice(2,4)),ce.splice(0,4),xe.sigBytes-=16),N.create({ciphertext:xe,salt:K})},"parse")},Y=n.SerializableCipher=o.extend({cfg:o.extend({format:O}),encrypt:s(function($,K,xe,ce){ce=this.cfg.extend(ce);var J=$.createEncryptor(xe,ce),W=J.finalize(K),Z=J.cfg;return N.create({ciphertext:W,key:xe,iv:Z.iv,algorithm:$,mode:Z.mode,padding:Z.padding,blockSize:$.blockSize,formatter:ce.format})},"encrypt"),decrypt:s(function($,K,xe,ce){ce=this.cfg.extend(ce),K=this._parse(K,ce.format);var J=$.createDecryptor(xe,ce).finalize(K.ciphertext);return J},"decrypt"),_parse:s(function($,K){return typeof $=="string"?K.parse($,this):$},"_parse")}),ne=r.kdf={},oe=ne.OpenSSL={execute:s(function($,K,xe,ce,J){if(ce||(ce=a.random(64/8)),J)var W=A.create({keySize:K+xe,hasher:J}).compute($,ce);else var W=A.create({keySize:K+xe}).compute($,ce);var Z=a.create(W.words.slice(K),xe*4);return W.sigBytes=K*4,N.create({key:W,iv:Z,salt:ce})},"execute")},he=n.PasswordBasedCipher=Y.extend({cfg:Y.cfg.extend({kdf:oe}),encrypt:s(function($,K,xe,ce){ce=this.cfg.extend(ce);var J=ce.kdf.execute(xe,$.keySize,$.ivSize,ce.salt,ce.hasher);ce.iv=J.iv;var W=Y.encrypt.call(this,$,K,J.key,ce);return W.mixIn(J),W},"encrypt"),decrypt:s(function($,K,xe,ce){ce=this.cfg.extend(ce),K=this._parse(K,ce.format);var J=ce.kdf.execute(xe,$.keySize,$.ivSize,K.salt,ce.hasher);ce.iv=J.iv;var W=Y.decrypt.call(this,$,K,J.key,ce);return W},"decrypt")})}()})});var $te=q((s6,Wte)=>{f();(function(t,e,r){typeof s6=="object"?Wte.exports=s6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(s6,function(t){return t.mode.CFB=function(){var e=t.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize;r.call(this,n,o,c,a),this._prevBlock=n.slice(o,o+c)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=n.slice(o,o+c);r.call(this,n,o,c,a),this._prevBlock=l},"processBlock")});function r(n,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var d=0;d<a;d++)n[o+d]^=l[d]}return s(r,"generateKeystreamAndEncrypt"),e}(),t.mode.CFB})});var zte=q((a6,Yte)=>{f();(function(t,e,r){typeof a6=="object"?Yte.exports=a6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(a6,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var d=u.slice(0);a.encryptBlock(d,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)n[o+h]^=d[h]},"processBlock")});return e.Decryptor=r,e}(),t.mode.CTR})});var Kte=q((c6,jte)=>{f();(function(t,e,r){typeof c6=="object"?jte.exports=c6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(c6,function(t){return t.mode.CTRGladman=function(){var e=t.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}s(r,"incWord");function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}s(n,"incCounter");var o=e.Encryptor=e.extend({processBlock:s(function(a,c){var l=this._cipher,u=l.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0),n(h);var A=h.slice(0);l.encryptBlock(A,0);for(var p=0;p<u;p++)a[c+p]^=A[p]},"processBlock")});return e.Decryptor=o,e}(),t.mode.CTRGladman})});var Xte=q((l6,Jte)=>{f();(function(t,e,r){typeof l6=="object"?Jte.exports=l6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(l6,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),r=e.Encryptor=e.extend({processBlock:s(function(n,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var d=0;d<c;d++)n[o+d]^=u[d]},"processBlock")});return e.Decryptor=r,e}(),t.mode.OFB})});var ere=q((u6,Zte)=>{f();(function(t,e,r){typeof u6=="object"?Zte.exports=u6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(u6,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:s(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),e.Decryptor=e.extend({processBlock:s(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),e}(),t.mode.ECB})});var rre=q((f6,tre)=>{f();(function(t,e,r){typeof f6=="object"?tre.exports=f6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(f6,function(t){return t.pad.AnsiX923={pad:s(function(e,r){var n=e.sigBytes,o=r*4,a=o-n%o,c=n+a-1;e.clamp(),e.words[c>>>2]|=a<<24-c%4*8,e.sigBytes+=a},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Ansix923})});var ire=q((d6,nre)=>{f();(function(t,e,r){typeof d6=="object"?nre.exports=d6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(d6,function(t){return t.pad.Iso10126={pad:s(function(e,r){var n=r*4,o=n-e.sigBytes%n;e.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},"pad"),unpad:s(function(e){var r=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=r},"unpad")},t.pad.Iso10126})});var sre=q((h6,ore)=>{f();(function(t,e,r){typeof h6=="object"?ore.exports=h6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(h6,function(t){return t.pad.Iso97971={pad:s(function(e,r){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,r)},"pad"),unpad:s(function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--},"unpad")},t.pad.Iso97971})});var cre=q((A6,are)=>{f();(function(t,e,r){typeof A6=="object"?are.exports=A6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(A6,function(t){return t.pad.ZeroPadding={pad:s(function(e,r){var n=r*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},"pad"),unpad:s(function(e){for(var r=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}},"unpad")},t.pad.ZeroPadding})});var ure=q((p6,lre)=>{f();(function(t,e,r){typeof p6=="object"?lre.exports=p6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(p6,function(t){return t.pad.NoPadding={pad:s(function(){},"pad"),unpad:s(function(){},"unpad")},t.pad.NoPadding})});var dre=q((m6,fre)=>{f();(function(t,e,r){typeof m6=="object"?fre.exports=m6=e(bn(),Rs()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(t.CryptoJS)})(m6,function(t){return function(e){var r=t,n=r.lib,o=n.CipherParams,a=r.enc,c=a.Hex,l=r.format,u=l.Hex={stringify:s(function(d){return d.ciphertext.toString(c)},"stringify"),parse:s(function(d){var h=c.parse(d);return o.create({ciphertext:h})},"parse")}}(),t.format.Hex})});var Are=q((g6,hre)=>{f();(function(t,e,r){typeof g6=="object"?hre.exports=g6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(g6,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo,a=[],c=[],l=[],u=[],d=[],h=[],A=[],p=[],g=[],E=[];(function(){for(var _=[],S=0;S<256;S++)S<128?_[S]=S<<1:_[S]=S<<1^283;for(var D=0,N=0,S=0;S<256;S++){var P=N^N<<1^N<<2^N<<3^N<<4;P=P>>>8^P&255^99,a[D]=P,c[P]=D;var O=_[D],Y=_[O],ne=_[Y],oe=_[P]*257^P*16843008;l[D]=oe<<24|oe>>>8,u[D]=oe<<16|oe>>>16,d[D]=oe<<8|oe>>>24,h[D]=oe;var oe=ne*16843009^Y*65537^O*257^D*16843008;A[P]=oe<<24|oe>>>8,p[P]=oe<<16|oe>>>16,g[P]=oe<<8|oe>>>24,E[P]=oe,D?(D=O^_[_[_[ne^O]]],N^=_[_[N]]):D=N=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],w=o.AES=n.extend({_doReset:s(function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,D=S.words,N=S.sigBytes/4,P=this._nRounds=N+6,O=(P+1)*4,Y=this._keySchedule=[],ne=0;ne<O;ne++)ne<N?Y[ne]=D[ne]:(_=Y[ne-1],ne%N?N>6&&ne%N==4&&(_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255]):(_=_<<8|_>>>24,_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255],_^=v[ne/N|0]<<24),Y[ne]=Y[ne-N]^_);for(var oe=this._invKeySchedule=[],he=0;he<O;he++){var ne=O-he;if(he%4)var _=Y[ne];else var _=Y[ne-4];he<4||ne<=4?oe[he]=_:oe[he]=A[a[_>>>24]]^p[a[_>>>16&255]]^g[a[_>>>8&255]]^E[a[_&255]]}}},"_doReset"),encryptBlock:s(function(_,S){this._doCryptBlock(_,S,this._keySchedule,l,u,d,h,a)},"encryptBlock"),decryptBlock:s(function(_,S){var D=_[S+1];_[S+1]=_[S+3],_[S+3]=D,this._doCryptBlock(_,S,this._invKeySchedule,A,p,g,E,c);var D=_[S+1];_[S+1]=_[S+3],_[S+3]=D},"decryptBlock"),_doCryptBlock:s(function(_,S,D,N,P,O,Y,ne){for(var oe=this._nRounds,he=_[S]^D[0],$=_[S+1]^D[1],K=_[S+2]^D[2],xe=_[S+3]^D[3],ce=4,J=1;J<oe;J++){var W=N[he>>>24]^P[$>>>16&255]^O[K>>>8&255]^Y[xe&255]^D[ce++],Z=N[$>>>24]^P[K>>>16&255]^O[xe>>>8&255]^Y[he&255]^D[ce++],re=N[K>>>24]^P[xe>>>16&255]^O[he>>>8&255]^Y[$&255]^D[ce++],te=N[xe>>>24]^P[he>>>16&255]^O[$>>>8&255]^Y[K&255]^D[ce++];he=W,$=Z,K=re,xe=te}var W=(ne[he>>>24]<<24|ne[$>>>16&255]<<16|ne[K>>>8&255]<<8|ne[xe&255])^D[ce++],Z=(ne[$>>>24]<<24|ne[K>>>16&255]<<16|ne[xe>>>8&255]<<8|ne[he&255])^D[ce++],re=(ne[K>>>24]<<24|ne[xe>>>16&255]<<16|ne[he>>>8&255]<<8|ne[$&255])^D[ce++],te=(ne[xe>>>24]<<24|ne[he>>>16&255]<<16|ne[$>>>8&255]<<8|ne[K&255])^D[ce++];_[S]=W,_[S+1]=Z,_[S+2]=re,_[S+3]=te},"_doCryptBlock"),keySize:256/32});e.AES=n._createHelper(w)}(),t.AES})});var mre=q((y6,pre)=>{f();(function(t,e,r){typeof y6=="object"?pre.exports=y6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(y6,function(t){return function(){var e=t,r=e.lib,n=r.WordArray,o=r.BlockCipher,a=e.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],A=a.DES=o.extend({_doReset:s(function(){for(var v=this._key,w=v.words,_=[],S=0;S<56;S++){var D=c[S]-1;_[S]=w[D>>>5]>>>31-D%32&1}for(var N=this._subKeys=[],P=0;P<16;P++){for(var O=N[P]=[],Y=u[P],S=0;S<24;S++)O[S/6|0]|=_[(l[S]-1+Y)%28]<<31-S%6,O[4+(S/6|0)]|=_[28+(l[S+24]-1+Y)%28]<<31-S%6;O[0]=O[0]<<1|O[0]>>>31;for(var S=1;S<7;S++)O[S]=O[S]>>>(S-1)*4+3;O[7]=O[7]<<5|O[7]>>>27}for(var ne=this._invSubKeys=[],S=0;S<16;S++)ne[S]=N[15-S]},"_doReset"),encryptBlock:s(function(v,w){this._doCryptBlock(v,w,this._subKeys)},"encryptBlock"),decryptBlock:s(function(v,w){this._doCryptBlock(v,w,this._invSubKeys)},"decryptBlock"),_doCryptBlock:s(function(v,w,_){this._lBlock=v[w],this._rBlock=v[w+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var D=_[S],N=this._lBlock,P=this._rBlock,O=0,Y=0;Y<8;Y++)O|=d[Y][((P^D[Y])&h[Y])>>>0];this._lBlock=P,this._rBlock=N^O}var ne=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ne,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[w]=this._lBlock,v[w+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,w){var _=(this._lBlock>>>v^this._rBlock)&w;this._rBlock^=_,this._lBlock^=_<<v}s(p,"exchangeLR");function g(v,w){var _=(this._rBlock>>>v^this._lBlock)&w;this._lBlock^=_,this._rBlock^=_<<v}s(g,"exchangeRL"),e.DES=o._createHelper(A);var E=a.TripleDES=o.extend({_doReset:s(function(){var v=this._key,w=v.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=w.slice(0,2),S=w.length<4?w.slice(0,2):w.slice(2,4),D=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=A.createEncryptor(n.create(_)),this._des2=A.createEncryptor(n.create(S)),this._des3=A.createEncryptor(n.create(D))},"_doReset"),encryptBlock:s(function(v,w){this._des1.encryptBlock(v,w),this._des2.decryptBlock(v,w),this._des3.encryptBlock(v,w)},"encryptBlock"),decryptBlock:s(function(v,w){this._des3.decryptBlock(v,w),this._des2.encryptBlock(v,w),this._des1.decryptBlock(v,w)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=o._createHelper(E)}(),t.TripleDES})});var yre=q((C6,gre)=>{f();(function(t,e,r){typeof C6=="object"?gre.exports=C6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(C6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=o.RC4=n.extend({_doReset:s(function(){for(var u=this._key,d=u.words,h=u.sigBytes,A=this._S=[],p=0;p<256;p++)A[p]=p;for(var p=0,g=0;p<256;p++){var E=p%h,v=d[E>>>2]>>>24-E%4*8&255;g=(g+A[p]+v)%256;var w=A[p];A[p]=A[g],A[g]=w}this._i=this._j=0},"_doReset"),_doProcessBlock:s(function(u,d){u[d]^=c.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function c(){for(var u=this._S,d=this._i,h=this._j,A=0,p=0;p<4;p++){d=(d+1)%256,h=(h+u[d])%256;var g=u[d];u[d]=u[h],u[h]=g,A|=u[(u[d]+u[h])%256]<<24-p*8}return this._i=d,this._j=h,A}s(c,"generateKeystreamWord"),e.RC4=n._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:s(function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)},"_doReset")});e.RC4Drop=n._createHelper(l)}(),t.RC4})});var Ere=q((E6,Cre)=>{f();(function(t,e,r){typeof E6=="object"?Cre.exports=E6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(E6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.Rabbit=n.extend({_doReset:s(function(){for(var h=this._key.words,A=this.cfg.iv,p=0;p<4;p++)h[p]=(h[p]<<8|h[p]>>>24)&16711935|(h[p]<<24|h[p]>>>8)&4278255360;var g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],E=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)E[p]^=g[p+4&7];if(A){var v=A.words,w=v[0],_=v[1],S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,N=S>>>16|D&4294901760,P=D<<16|S&65535;E[0]^=S,E[1]^=N,E[2]^=D,E[3]^=P,E[4]^=S,E[5]^=N,E[6]^=D,E[7]^=P;for(var p=0;p<4;p++)d.call(this)}},"_doReset"),_doProcessBlock:s(function(h,A){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,h[A+g]^=a[g]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,A=this._C,p=0;p<8;p++)c[p]=A[p];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<c[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<c[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<c[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<c[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<c[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<c[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<c[6]>>>0?1:0)|0,this._b=A[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var g=h[p]+A[p],E=g&65535,v=g>>>16,w=((E*E>>>17)+E*v>>>15)+v*v,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=w^_}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(d,"nextState"),e.Rabbit=n._createHelper(u)}(),t.Rabbit})});var xre=q((I6,Ire)=>{f();(function(t,e,r){typeof I6=="object"?Ire.exports=I6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(I6,function(t){return function(){var e=t,r=e.lib,n=r.StreamCipher,o=e.algo,a=[],c=[],l=[],u=o.RabbitLegacy=n.extend({_doReset:s(function(){var h=this._key.words,A=this.cfg.iv,p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var E=0;E<4;E++)d.call(this);for(var E=0;E<8;E++)g[E]^=p[E+4&7];if(A){var v=A.words,w=v[0],_=v[1],S=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,N=S>>>16|D&4294901760,P=D<<16|S&65535;g[0]^=S,g[1]^=N,g[2]^=D,g[3]^=P,g[4]^=S,g[5]^=N,g[6]^=D,g[7]^=P;for(var E=0;E<4;E++)d.call(this)}},"_doReset"),_doProcessBlock:s(function(h,A){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,h[A+g]^=a[g]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,A=this._C,p=0;p<8;p++)c[p]=A[p];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<c[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<c[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<c[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<c[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<c[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<c[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<c[6]>>>0?1:0)|0,this._b=A[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var g=h[p]+A[p],E=g&65535,v=g>>>16,w=((E*E>>>17)+E*v>>>15)+v*v,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=w^_}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(d,"nextState"),e.RabbitLegacy=n._createHelper(u)}(),t.RabbitLegacy})});var bre=q((x6,vre)=>{f();(function(t,e,r){typeof x6=="object"?vre.exports=x6=e(bn(),Dm(),Nm(),Kh(),Rs()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(t.CryptoJS)})(x6,function(t){return function(){var e=t,r=e.lib,n=r.BlockCipher,o=e.algo;let a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function d(E,v){let w=v>>24&255,_=v>>16&255,S=v>>8&255,D=v&255,N=E.sbox[0][w]+E.sbox[1][_];return N=N^E.sbox[2][S],N=N+E.sbox[3][D],N}s(d,"F");function h(E,v,w){let _=v,S=w,D;for(let N=0;N<a;++N)_=_^E.pbox[N],S=d(E,_)^S,D=_,_=S,S=D;return D=_,_=S,S=D,S=S^E.pbox[a],_=_^E.pbox[a+1],{left:_,right:S}}s(h,"BlowFish_Encrypt");function A(E,v,w){let _=v,S=w,D;for(let N=a+1;N>1;--N)_=_^E.pbox[N],S=d(E,_)^S,D=_,_=S,S=D;return D=_,_=S,S=D,S=S^E.pbox[1],_=_^E.pbox[0],{left:_,right:S}}s(A,"BlowFish_Decrypt");function p(E,v,w){for(let P=0;P<4;P++){E.sbox[P]=[];for(let O=0;O<256;O++)E.sbox[P][O]=l[P][O]}let _=0;for(let P=0;P<a+2;P++)E.pbox[P]=c[P]^v[_],_++,_>=w&&(_=0);let S=0,D=0,N=0;for(let P=0;P<a+2;P+=2)N=h(E,S,D),S=N.left,D=N.right,E.pbox[P]=S,E.pbox[P+1]=D;for(let P=0;P<4;P++)for(let O=0;O<256;O+=2)N=h(E,S,D),S=N.left,D=N.right,E.sbox[P][O]=S,E.sbox[P][O+1]=D;return!0}s(p,"BlowFishInit");var g=o.Blowfish=n.extend({_doReset:s(function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,v=E.words,w=E.sigBytes/4;p(u,v,w)}},"_doReset"),encryptBlock:s(function(E,v){var w=h(u,E[v],E[v+1]);E[v]=w.left,E[v+1]=w.right},"encryptBlock"),decryptBlock:s(function(E,v){var w=A(u,E[v],E[v+1]);E[v]=w.left,E[v+1]=w.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=n._createHelper(g)}(),t.Blowfish})});var KT=q((v6,Tre)=>{f();(function(t,e,r){typeof v6=="object"?Tre.exports=v6=e(bn(),jT(),xte(),bte(),Dm(),wte(),Nm(),dO(),j8(),Dte(),hO(),Pte(),Lte(),Ote(),r6(),qte(),Kh(),Rs(),$te(),zte(),Kte(),Xte(),ere(),rre(),ire(),sre(),cre(),ure(),dre(),Are(),mre(),yre(),Ere(),xre(),bre()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):t.CryptoJS=e(t.CryptoJS)})(v6,function(t){return t})});var qre=q((k6,Hre)=>{f();(function(t,e){typeof k6=="object"&&typeof Hre<"u"?e(k6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(k6,function(t){"use strict";function e(x,T){return x||T}s(e,"_pureAssign");function r(x,T){return x[T]}s(r,"_pureRef");var n=void 0,o=null,a="",c="function",l="object",u="prototype",d="__proto__",h="undefined",A="constructor",p="Symbol",g="_polyfill",E="length",v="name",w="call",_="toString",S=e(Object),D=r(S,u),N=e(String),P=r(N,u),O=e(Math),Y=e(Array),ne=r(Y,u),oe=r(ne,"slice");function he(x,T){try{return{v:x.apply(this,T)}}catch(B){return{e:B}}}s(he,"safe");function $(x){return function(T){return typeof T===x}}s($,"_createIs");function K(x){var T="[object "+x+"]";return function(B){return!!(B&&xe(B)===T)}}s(K,"_createObjIs");function xe(x){return D[_].call(x)}s(xe,"objToString");function ce(x){return typeof x===h||x===h}s(ce,"isUndefined");function J(x){return!Z(x)}s(J,"isStrictUndefined");function W(x){return x===o||ce(x)}s(W,"isNullOrUndefined");function Z(x){return!!x||x!==n}s(Z,"isDefined");var re=$("string"),te=$(c);function ie(x){return!x&&W(x)?!1:!!x&&typeof x===l}s(ie,"isObject");var ue=r(Y,"isArray"),Ae=K("Error"),Je=r(S,"getOwnPropertyDescriptor");function rt(x,T){return!!x&&D.hasOwnProperty[w](x,T)}s(rt,"objHasOwnProperty");var lt=e(r(S,"hasOwn"),Ct);function Ct(x,T){return rt(x,T)||!!Je(x,T)}s(Ct,"polyObjHasOwn");function Vt(x,T,B){if(x&&ie(x)){for(var Q in x)if(lt(x,Q)&&T[w](B||x,Q,x[Q])===-1)break}}s(Vt,"objForEachKey");var Hr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Dn(x){var T={};if(T[Hr.c]=!0,T[Hr.e]=!0,x.l){T.get=function(){return x.l.v};var B=Je(x.l,"v");B&&B.set&&(T.set=function(Q){x.l.v=Q})}return Vt(x,function(Q,z){T[Hr[Q]]=J(z)?T[Hr[Q]]:z}),T}s(Dn,"_createProp");var br=r(S,"defineProperty");function le(x,T,B){return br(x,T,Dn(B))}s(le,"objDefine");function Xe(x,T,B,Q,z){var pe={};return Vt(x,function(Ee,Be){ge(pe,Ee,T?Be:Ee),ge(pe,Be,B?Be:Ee)}),Q?Q(pe):pe}s(Xe,"_createKeyValueMap");function ge(x,T,B,Q){br(x,T,{value:B,enumerable:!0,writable:!1})}s(ge,"_assignMapValue");var ft=e(N),st="[object Error]";function $e(x,T){var B=a,Q=D[_][w](x);Q===st&&(x={stack:ft(x.stack),message:ft(x.message),name:ft(x.name)});try{B=JSON.stringify(x,o,T?typeof T=="number"?T:4:n),B=(B?B.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):o)||ft(x)}catch(z){B=" - "+$e(z,T)}return Q+": "+B}s($e,"dumpObj");function Mr(x){throw new Error(x)}s(Mr,"throwError");function xn(x){throw new TypeError(x)}s(xn,"throwTypeError");var qr=r(S,"freeze");function Jt(x){return x}s(Jt,"_doNothing");function gi(x){return x[d]||o}s(gi,"_getProto");var Yo=r(S,"assign"),Mn=r(S,"keys"),zo=e(qr,Jt),Xt=e(r(S,"getPrototypeOf"),gi);function mo(x){return Xe(x,1,0,zo)}s(mo,"createEnum");function ko(x){var T={};return Vt(x,function(B,Q){ge(T,B,Q[1]),ge(T,Q[0],Q[1])}),zo(T)}s(ko,"createSimpleMap");function fa(x){return ko(x)}s(fa,"createTypeMap");var de="__tsUtils$gblCfg",Ve;function ht(){var x;return typeof globalThis!==h&&(x=globalThis),!x&&typeof self!==h&&(x=self),!x&&typeof window!==h&&(x=window),!x&&typeof global!==h&&(x=global),x}s(ht,"_getGlobalValue");function vt(){if(!Ve){var x=he(ht).v||{};Ve=x[de]=x[de]||{}}return Ve}s(vt,"_getGlobalConfig");var zr=Tr;function Tr(x,T,B){var Q=T?T[x]:o;return function(z){var pe=(z?z[x]:o)||Q;if(pe||B){var Ee=arguments;return(pe||B).apply(z,pe?oe[w](Ee,1):Ee)}xn('"'+ft(x)+'" not defined for '+$e(z))}}s(Tr,"_unwrapFunctionWithPoly");var Kn=r(O,"min"),oi=r(O,"max"),Or=zr("slice",P),Kr=zr("substring",P),Gr=Tr("substr",P,di);function di(x,T,B){return W(x)&&xn("Invalid "+$e(x)),B<0?a:(T=T||0,T<0&&(T=oi(T+x[E],0)),ce(B)?Or(x,T):Or(x,T,T+B))}s(di,"polyStrSubstr");function Vi(x,T){return Kr(x,0,T)}s(Vi,"strLeft");var Do="_urid",Tc;function Of(){if(!Tc){var x=vt();Tc=x.gblSym=x.gblSym||{k:{},s:{}}}return Tc}s(Of,"_globalSymbolRegistry");function N0(x){var T={description:ft(x),toString:s(function(){return p+"("+x+")"},"toString")};return T[g]=!0,T}s(N0,"polyNewSymbol");function vu(x){var T=Of();if(!lt(T.k,x)){var B=N0(x),Q=Mn(T.s).length;B[Do]=function(){return Q+"_"+B[_]()},T.k[x]=B,T.s[B[Do]()]=ft(x)}return T.k[x]}s(vu,"polySymbolFor");var cs;function bu(){cs=vt()}s(bu,"_initTestHooks");function _e(x){return br({toJSON:s(function(){return x},"toJSON")},"v",{value:x})}s(_e,"createCachedValue");var M="window",fe;function Ce(x,T){var B;return function(){return!cs&&bu(),(!B||cs.lzy)&&(B=_e(he(x,T).v)),B.v}}s(Ce,"_getGlobalInstFn");function X(x){return!cs&&bu(),(!fe||x===!1||cs.lzy)&&(fe=_e(he(ht).v||o)),fe.v}s(X,"getGlobal");function L(x,T){var B;if(!fe||T===!1?B=X(T):B=fe.v,B&&B[x])return B[x];if(x===M)try{return window}catch{}return o}s(L,"getInst");var Se=Ce(L,["document"]);function Ze(){return!!nr()}s(Ze,"hasWindow");var nr=Ce(L,[M]);function yi(){return!!Nn()}s(yi,"hasNavigator");var Nn=Ce(L,["navigator"]),Os,da;function si(){return Os=_e(he(L,[p]).v),Os}s(si,"_initSymbol");function Dr(x){var T=(cs.lzy?0:Os)||si();return T.v?T.v[x]:n}s(Dr,"_getSymbolKey");function Q0(x,T){!cs&&bu();var B=(cs.lzy?0:Os)||si();return B.v?B.v(x):T?o:N0(x)}s(Q0,"newSymbol");function ls(x){return!cs&&bu(),da=(cs.lzy?0:da)||_e(he(Dr,["for"]).v),(da.v||vu)(x)}s(ls,"symbolFor");function Tu(x,T,B){return x.apply(T,B)}s(Tu,"fnApply");function Us(x,T,B){if(x)for(var Q=x[E]>>>0,z=0;z<Q&&!(z in x&&T[w](B||x,x[z],z,x)===-1);z++);}s(Us,"arrForEach");var _u=zr("indexOf",ne),ml=zr("map",ne),No=zr("reduce",ne),Uf=e(r(S,"create"),hp);function hp(x){if(!x)return{};var T=typeof x;T!==l&&T!==c&&xn("Prototype must be an Object or function: "+$e(x));function B(){}return s(B,"tempFunc"),B[u]=x,new B}s(hp,"polyObjCreate");var x5;function wu(x,T){var B=S.setPrototypeOf||function(Q,z){var pe;!x5&&(x5=_e((pe={},pe[d]=[],pe instanceof Array))),x5.v?Q[d]=z:Vt(z,function(Ee,Be){return Q[Ee]=Be})};return B(x,T)}s(wu,"objSetPrototypeOf");function SL(x,T,B){he(le,[T,v,{v:x,c:!0,e:!1}]),T=wu(T,B);function Q(){this[A]=T,he(le,[this,v,{v:x,c:!0,e:!1}])}return s(Q,"__"),T[u]=B===o?Uf(B):(Q[u]=B[u],new Q),T}s(SL,"_createCustomError");function Hf(x,T){T&&(x[v]=T)}s(Hf,"_setName");function BL(x,T,B){var Q=B||Error,z=Q[u][v],pe=Error.captureStackTrace;return SL(x,function(){var Ee=this,Be=arguments;try{he(Hf,[Q,x]);var Me=Tu(Q,Ee,oe[w](Be))||Ee;if(Me!==Ee){var et=Xt(Ee);et!==Xt(Me)&&wu(Me,et)}return pe&&pe(Me,Ee[A]),T&&T(Me,Be),Me}finally{he(Hf,[Q,z])}},Q)}s(BL,"createCustomError");function xh(){return(Date.now||v5)()}s(xh,"utcNow");function v5(){return new Date().getTime()}s(v5,"polyUtcNow");function iI(x){return s(function(B){return W(B)&&xn("strTrim called ["+$e(B)+"]"),B&&B.replace&&(B=B.replace(x,a)),B},"_doTrim")}s(iI,"_createTrimFn");var RL=iI(/^\s+|(?=\s)\s+$/g),Ma=Tr("trim",P,RL),qf=r(O,"floor"),F1,vh,L1;function Gf(x){if(!x||typeof x!==l)return!1;L1||(L1=Ze()?nr():!0);var T=!1;if(x!==L1){vh||(F1=Function[u][_],vh=F1[w](S));try{var B=Xt(x);T=!B,T||(rt(B,A)&&(B=B[A]),T=!!(B&&typeof B===c&&F1[w](B)===vh))}catch{}}return T}s(Gf,"isPlainObject");var oI;function M1(){return!cs&&bu(),(!oI||cs.lzy)&&(oI=_e(he(L,["performance"]).v)),oI.v}s(M1,"getPerformance");var b5=r(O,"round"),Ap=Tr("endsWith",P,pp);function pp(x,T,B){re(x)||xn("'"+$e(x)+"' is not a string");var Q=re(T)?T:ft(T),z=!ce(B)&&B<x[E]?B:x[E];return Kr(x,z-Q[E],z)===Q}s(pp,"polyStrEndsWith");var Yt=zr("indexOf",P),a0="ref",bh="unref",mp="hasRef",kL="enabled";function Vf(x,T,B){var Q=!0,z=x?T(o):o,pe;function Ee(){return Q=!1,z&&z[bh]&&z[bh](),pe}s(Ee,"_unref");function Be(){z&&B(z),z=o}s(Be,"_cancel");function Me(){return z=T(z),Q||Ee(),pe}s(Me,"_refresh");function et(St){!St&&z&&Be(),St&&!z&&Me()}return s(et,"_setEnabled"),pe={cancel:Be,refresh:Me},pe[mp]=function(){return z&&z[mp]?z[mp]():Q},pe[a0]=function(){return Q=!0,z&&z[a0]&&z[a0](),pe},pe[bh]=Ee,pe=br(pe,kL,{get:s(function(){return!!z},"get"),set:et}),{h:pe,dn:s(function(){z=o},"dn")}}s(Vf,"_createTimerHandler");function DL(x,T,B){var Q=ue(T),z=Q?T.length:0,pe=(z>0?T[0]:Q?n:T)||setTimeout,Ee=(z>1?T[1]:n)||clearTimeout,Be=B[0];B[0]=function(){Me.dn(),Tu(Be,n,oe[w](arguments))};var Me=Vf(x,function(et){if(et){if(et.refresh)return et.refresh(),et;Tu(Ee,n,[et])}return Tu(pe,n,B)},function(et){Tu(Ee,n,[et])});return Me.h}s(DL,"_createTimeoutWith");function T5(x,T){return DL(!0,n,oe[w](arguments))}s(T5,"scheduleTimeout");var O1=mo,NL=fa,U1="toLowerCase",us="length",Wf="warnToConsole",H1="throwInternal",rB="watch",QL="apply",On="push",Th="splice",$f="logger",_5="cancel",q1="name",c0="unload",nB="version",iB="loggingLevelConsole",w5="messageId",_h="message",S5="diagLog",oB="userAgent",B5="split",gp="replace",Yf="type",sB="evtName",sI="traceFlags",R5="getAttribute",aI;function PL(x,T){aI||(aI=BL("AggregationError",function(Q,z){z[us]>1&&(Q.errors=z[1])}));var B=x||"One or more errors occurred.";throw Us(T,function(Q,z){B+=`
`.concat(z," > ").concat($e(Q))}),new aI(B,T||[])}s(PL,"throwAggregationError");var FL="function",aB="object",LL="undefined",Su="prototype",cI=Object,k5=cI[Su];(X()||{}).Symbol,(X()||{}).Reflect;var lI="hasOwnProperty",ML=s(function(x){for(var T,B=1,Q=arguments.length;B<Q;B++){T=arguments[B];for(var z in T)k5[lI].call(T,z)&&(x[z]=T[z])}return x},"__objAssignFnImpl"),uI=Yo||ML,fI=s(function(x,T){return fI=cI.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Q){B.__proto__=Q}||function(B,Q){for(var z in Q)Q[lI](z)&&(B[z]=Q[z])},fI(x,T)},"extendStaticsFn");function zf(x,T){typeof T!==FL&&T!==null&&xn("Class extends value "+String(T)+" is not a constructor or null"),fI(x,T);function B(){this.constructor=x}s(B,"__"),x[Su]=T===null?Uf(T):(B[Su]=T[Su],new B)}s(zf,"__extendsFn");var dI,wh="constructor",P0="prototype",F0="function",Sh="_dynInstFuncs",yp="_isDynProxy",jf="_dynClass",Cp="_dynCls$",D5="_dynInstChk",Bh=D5,Ep="_dfOpts",N5="_unknown_",hI="__proto__",Ip="_dyn"+hI,G1="__dynProto$Gbl",AI="_dynInstProto",xp="useBaseInst",vp="setInstFuncs",V1=Object,Rh=V1.getPrototypeOf,bp=V1.getOwnPropertyNames,Q5=X(),pI=Q5[G1]||(Q5[G1]={o:(dI={},dI[vp]=!0,dI[xp]=!0,dI),n:1e3});function Tp(x){return x&&(x===V1[P0]||x===Array[P0])}s(Tp,"_isObjectOrArrayPrototype");function _p(x){return Tp(x)||x===Function[P0]}s(_p,"_isObjectArrayOrFunctionPrototype");function Bu(x){var T;if(x){if(Rh)return Rh(x);var B=x[hI]||x[P0]||(x[wh]?x[wh][P0]:null);T=x[Ip]||B,rt(x,Ip)||(delete x[AI],T=x[Ip]=x[AI]||x[Ip],x[AI]=B)}return T}s(Bu,"_getObjProto");function gl(x,T){var B=[];if(bp)B=bp(x);else for(var Q in x)typeof Q=="string"&&rt(x,Q)&&B.push(Q);if(B&&B.length>0)for(var z=0;z<B.length;z++)T(B[z])}s(gl,"_forEachProp");function wp(x,T,B){return T!==wh&&typeof x[T]===F0&&(B||rt(x,T))&&T!==hI&&T!==P0}s(wp,"_isDynamicCandidate");function Sp(x){xn("DynamicProto: "+x)}s(Sp,"_throwTypeError");function mI(x){var T=Uf(null);return gl(x,function(B){!T[B]&&wp(x,B,!1)&&(T[B]=x[B])}),T}s(mI,"_getInstanceFuncs");function P5(x,T){for(var B=x.length-1;B>=0;B--)if(x[B]===T)return!0;return!1}s(P5,"_hasVisited");function F5(x,T,B,Q){function z(Me,et,St){var pr=et[St];if(pr[yp]&&Q){var Rr=Me[Sh]||{};Rr[Bh]!==!1&&(pr=(Rr[et[jf]]||{})[St]||pr)}return function(){return pr.apply(Me,arguments)}}s(z,"_instFuncProxy");var pe=Uf(null);gl(B,function(Me){pe[Me]=z(T,B,Me)});for(var Ee=Bu(x),Be=[];Ee&&!_p(Ee)&&!P5(Be,Ee);)gl(Ee,function(Me){!pe[Me]&&wp(Ee,Me,!Rh)&&(pe[Me]=z(T,Ee,Me))}),Be.push(Ee),Ee=Bu(Ee);return pe}s(F5,"_getBaseFuncs");function OL(x,T,B,Q){var z=null;if(x&&rt(B,jf)){var pe=x[Sh]||Uf(null);if(z=(pe[B[jf]]||Uf(null))[T],z||Sp("Missing ["+T+"] "+F0),!z[D5]&&pe[Bh]!==!1){for(var Ee=!rt(x,T),Be=Bu(x),Me=[];Ee&&Be&&!_p(Be)&&!P5(Me,Be);){var et=Be[T];if(et){Ee=et===Q;break}Me.push(Be),Be=Bu(Be)}try{Ee&&(x[T]=z),z[D5]=1}catch{pe[Bh]=!1}}}return z}s(OL,"_getInstFunc");function UL(x,T,B){var Q=T[x];return Q===B&&(Q=Bu(T)[x]),typeof Q!==F0&&Sp("["+x+"] is not a "+F0),Q}s(UL,"_getProtoFunc");function HL(x,T,B,Q,z){function pe(Me,et){var St=s(function(){var pr=OL(this,et,Me,St)||UL(et,Me,St);return pr.apply(this,arguments)},"dynProtoProxy");return St[yp]=1,St}if(s(pe,"_createDynamicPrototype"),!Tp(x)){var Ee=B[Sh]=B[Sh]||Uf(null);if(!Tp(Ee)){var Be=Ee[T]=Ee[T]||Uf(null);Ee[Bh]!==!1&&(Ee[Bh]=!!z),Tp(Be)||gl(B,function(Me){wp(B,Me,!1)&&B[Me]!==Q[Me]&&(Be[Me]=B[Me],delete B[Me],(!rt(x,Me)||x[Me]&&!x[Me][yp])&&(x[Me]=pe(x,Me)))})}}}s(HL,"_populatePrototype");function qL(x,T){if(Rh){for(var B=[],Q=Bu(T);Q&&!_p(Q)&&!P5(B,Q);){if(Q===x)return!0;B.push(Q),Q=Bu(Q)}return!1}return!0}s(qL,"_checkPrototype");function L5(x,T){return rt(x,P0)?x.name||T||N5:((x||{})[wh]||{}).name||T||N5}s(L5,"_getObjName");function W1(x,T,B,Q){rt(x,P0)||Sp("theClass is an invalid class definition.");var z=x[P0];qL(z,T)||Sp("["+L5(x)+"] not in hierarchy of ["+L5(T)+"]");var pe=null;rt(z,jf)?pe=z[jf]:(pe=Cp+L5(x,"_")+"$"+pI.n,pI.n++,z[jf]=pe);var Ee=W1[Ep],Be=!!Ee[xp];Be&&Q&&Q[xp]!==void 0&&(Be=!!Q[xp]);var Me=mI(T),et=F5(z,T,Me,Be);B(T,et);var St=!!Rh&&!!Ee[vp];St&&Q&&(St=!!Q[vp]),HL(z,pe,T,Me,St!==!1)}s(W1,"dynamicProto"),W1[Ep]=pI.o;var ha=void 0,go="",cB="Not dynamic - ",lB=/-([a-z])/g,$1=/([^\w\d_$])/g,M5=/^(\d+[\w\d_$])/;function O5(x){return!W(x)}s(O5,"isNotNullOrUndefined");function gI(x){var T=x;return T&&re(T)&&(T=T[gp](lB,function(B,Q){return Q.toUpperCase()}),T=T[gp]($1,"_"),T=T[gp](M5,function(B,Q){return"_"+Q})),T}s(gI,"normalizeJsName");function uB(x,T){return x&&T?Yt(x,T)!==-1:!1}s(uB,"strContains");function Ru(x){return x&&x.toISOString()||""}s(Ru,"toISOString");function Kf(x){return Ae(x)?x[q1]:go}s(Kf,"getExceptionName");function Y1(x){return function(){function T(){var B=this;x&&Vt(x,function(Q,z){B[Q]=z})}return s(T,"class_1"),T}()}s(Y1,"createClassFromInterface");var fB="console",yI="JSON",GL="crypto",Jf="msCrypto",Bp="msie",Ur="trident/",Rp=null,kh=null,ku=null;function CI(){return typeof console!==LL?console:L(fB)}s(CI,"getConsole");function Un(){return!!(typeof JSON===aB&&JSON||L(yI)!==null)}s(Un,"hasJSON");function kp(){return Un()?JSON||L(yI):null}s(kp,"getJSON");function jo(){return L(GL)}s(jo,"getCrypto");function Dp(){return L(Jf)}s(Dp,"getMsCrypto");function z1(){var x=Nn();if(x&&(x[oB]!==kh||Rp===null)){kh=x[oB];var T=(kh||go)[U1]();Rp=uB(T,Bp)||uB(T,Ur)}return Rp}s(z1,"isIE");function Xf(x){return(ku===null||x===!1)&&(ku=yi()&&!!Nn().sendBeacon),ku}s(Xf,"isBeaconsSupported");function j1(x,T){if(x)for(var B=0;B<x[us];B++){var Q=x[B];if(Q[q1]&&Q[q1]===T)return Q}return{}}s(j1,"_getNamedValue");function EI(x){var T=Se();return T&&x?j1(T.querySelectorAll("meta"),x).content:null}s(EI,"findMetaTag");function yl(x){var T,B=M1();if(B){var Q=B.getEntriesByType("navigation")||[];T=j1((Q[us]>0?Q[0]:{}).serverTiming,x).description}return T}s(yl,"findNamedServerTiming");var Np=4294967296,_c=4294967295,Qp=123456789,Zf=987654321,Hs=!1,Pp=Qp,Cl=Zf;function dB(x){x<0&&(x>>>=0),Pp=Qp+x&_c,Cl=Zf-x&_c,Hs=!0}s(dB,"_mwcSeed");function Dh(){try{var x=xh()&2147483647;dB((Math.random()*Np^x)+x)}catch{}}s(Dh,"_autoSeedMwc");function II(x){return x>0?qf(Fp()/_c*(x+1))>>>0:0}s(II,"randomValue");function Fp(x){var T=0,B=jo()||Dp();return B&&B.getRandomValues&&(T=B.getRandomValues(new Uint32Array(1))[0]&_c),T===0&&z1()&&(Hs||Dh(),T=hB()&_c),T===0&&(T=qf(Np*Math.random()|0)),x||(T>>>=0),T}s(Fp,"random32");function hB(x){Cl=36969*(Cl&65535)+(Cl>>16)&_c,Pp=18e3*(Pp&65535)+(Pp>>16)&_c;var T=(Cl<<16)+(Pp&65535)>>>0&_c|0;return x||(T>>>=0),T}s(hB,"mwcRandom32");function Nh(x){x===void 0&&(x=22);for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=Fp()>>>0,Q=0,z=go;z[us]<x;)Q++,z+=T.charAt(B&63),B>>>=6,Q===5&&(B=(Fp()<<2&4294967295|B&3)>>>0,Q=0);return z}s(Nh,"newId");var El="3.3.6",xI="."+Nh(6),Qh=0;function Il(x){return x.nodeType===1||x.nodeType===9||!+x.nodeType}s(Il,"_canAcceptData");function vI(x,T){var B=T[x.id];if(!B){B={};try{Il(T)&&le(T,x.id,{e:!1,v:B})}catch{}}return B}s(vI,"_getCache");function Du(x,T){return T===void 0&&(T=!1),gI(x+Qh+++(T?"."+El:go)+xI)}s(Du,"createUniqueNamespace");function xl(x){var T={id:Du("_aiData-"+(x||go)+"."+El),accept:s(function(B){return Il(B)},"accept"),get:s(function(B,Q,z,pe){var Ee=B[T.id];return Ee?Ee[gI(Q)]:(pe&&(Ee=vI(T,B),Ee[gI(Q)]=z),z)},"get"),kill:s(function(B,Q){if(B&&B[Q])try{delete B[Q]}catch{}},"kill")};return T}s(xl,"createElmNodeData");function ed(x){return x&&ie(x)&&(x.isVal||x.fb||lt(x,"v")||lt(x,"mrg")||lt(x,"ref")||x.set)}s(ed,"_isConfigDefaults");function bI(x,T,B){var Q,z=B.dfVal||Z;if(T&&B.fb){var pe=B.fb;ue(pe)||(pe=[pe]);for(var Ee=0;Ee<pe[us];Ee++){var Be=pe[Ee],Me=T[Be];if(z(Me)?Q=Me:x&&(Me=x.cfg[Be],z(Me)&&(Q=Me),x.set(x.cfg,ft(Be),Me)),z(Q))break}}return!z(Q)&&z(B.v)&&(Q=B.v),Q}s(bI,"_getDefault");function td(x,T,B){var Q=B;if(B&&ed(B)&&(Q=bI(x,T,B)),Q){ed(Q)&&(Q=td(x,T,Q));var z;ue(Q)?(z=[],z[us]=Q[us]):Gf(Q)&&(z={}),z&&(Vt(Q,function(pe,Ee){Ee&&ed(Ee)&&(Ee=td(x,T,Ee)),z[pe]=Ee}),Q=z)}return Q}s(td,"_resolveDefaultValue");function rd(x,T,B,Q){var z,pe,Ee,Be=Q,Me,et,St,pr;ed(Be)?(z=Be.isVal,pe=Be.set,St=Be.rdOnly,pr=Be.blkVal,Me=Be.mrg,et=Be.ref,!et&&ce(et)&&(et=!!Me),Ee=bI(x,T,Be)):Ee=Q,pr&&x.blkVal(T,B);var Rr,Rt=!0,Lt=T[B];(Lt||!W(Lt))&&(Rr=Lt,Rt=!1,z&&Rr!==Ee&&!z(Rr)&&(Rr=Ee,Rt=!0),pe&&(Rr=pe(Rr,Ee,T),Rt=Rr===Ee)),Rt?Ee?Rr=td(x,T,Ee):Rr=Ee:(Gf(Rr)||ue(Ee))&&Me&&Ee&&(Gf(Ee)||ue(Ee))&&Vt(Ee,function(_r,mr){rd(x,Rr,_r,mr)}),x.set(T,B,Rr),et&&x.ref(T,B),St&&x.rdOnly(T,B)}s(rd,"_applyDefaultValue");var Aa=ls("[[ai_dynCfg_1]]"),U5=ls("[[ai_blkDynCfg_1]]"),K1=ls("[[ai_frcDynCfg_1]]");function H5(x){if(x){var T;if(ue(x)?(T=[],T[us]=x[us]):Gf(x)&&(T={}),T)return Vt(x,function(B,Q){T[B]=H5(Q)}),T}return x}s(H5,"_cfgDeepCopy");function q5(x){if(x){var T=x[Aa]||x;if(T.cfg&&(T.cfg===x||T.cfg[Aa]===T))return T}return null}s(q5,"getDynamicConfigHandler");function Lp(x){if(x&&(Gf(x)||ue(x)))try{x[U5]=!0}catch{}return x}s(Lp,"blockDynamicConversion");function nd(x,T,B){var Q=!1;return B&&!x[T.blkVal]&&(Q=B[K1],!Q&&!B[U5]&&(Q=Gf(B)||ue(B))),Q}s(nd,"_canMakeDynamic");function wc(x){xn("InvalidAccess:"+x)}s(wc,"throwInvalidAccess");var AB=["push","pop","shift","unshift","splice"],Nu=s(function(x,T,B,Q){x&&x[H1](3,108,"".concat(B," [").concat(T,"] failed - ")+$e(Q))},"_throwDynamicError");function G5(x,T,B){ue(T)&&Us(AB,function(Q){var z=T[Q];T[Q]=function(){for(var pe=[],Ee=0;Ee<arguments.length;Ee++)pe[Ee]=arguments[Ee];var Be=z[QL](this,pe);return Ph(x,T,B,"Patching"),Be}})}s(G5,"_patchArray");function Qu(x,T){var B=Je(x,T);return B&&B.get}s(Qu,"_getOwnPropGetter");function pB(x,T,B,Q){var z={n:B,h:[],trk:s(function(et){et&&et.fn&&(_u(z.h,et)===-1&&z.h[On](et),x.trk(et,z))},"trk"),clr:s(function(et){var St=_u(z.h,et);St!==-1&&z.h[Th](St,1)},"clr")},pe=!0,Ee=!1;function Be(){pe&&(Ee=Ee||nd(Be,x,Q),Q&&!Q[Aa]&&Ee&&(Q=Ph(x,Q,B,"Converting")),pe=!1);var et=x.act;return et&&z.trk(et),Q}s(Be,"_getProperty"),Be[x.prop]={chng:s(function(){x.add(z)},"chng")};function Me(et){if(Q!==et){Be[x.ro]&&!x.upd&&wc("["+B+"] is read-only:"+$e(T)),pe&&(Ee=Ee||nd(Be,x,Q),pe=!1);var St=Ee&&Be[x.rf];if(Ee)if(St){Vt(Q,function(Rr){Q[Rr]=et?et[Rr]:ha});try{Vt(et,function(Rr,Rt){Mp(x,Q,Rr,Rt)}),et=Q}catch(Rr){Nu((x.hdlr||{})[$f],B,"Assigning",Rr),Ee=!1}}else Q&&Q[Aa]&&Vt(Q,function(Rr){var Rt=Qu(Q,Rr);if(Rt){var Lt=Rt[x.prop];Lt&&Lt.chng()}});if(et!==Q){var pr=et&&nd(Be,x,et);!St&&pr&&(et=Ph(x,et,B,"Converting")),Q=et,Ee=pr}x.add(z)}}s(Me,"_setProperty"),le(T,z.n,{g:Be,s:Me})}s(pB,"_createDynamicProperty");function Mp(x,T,B,Q){if(T){var z=Qu(T,B),pe=z&&!!z[x.prop];pe?T[B]=Q:pB(x,T,B,Q)}return T}s(Mp,"_setDynamicProperty");function V5(x,T,B,Q){if(T){var z=Qu(T,B),pe=z&&!!z[x.prop],Ee=Q&&Q[0],Be=Q&&Q[1],Me=Q&&Q[2];if(!pe){if(Me)try{Lp(T)}catch(et){Nu((x.hdlr||{})[$f],B,"Blocking",et)}try{Mp(x,T,B,T[B]),z=Qu(T,B)}catch(et){Nu((x.hdlr||{})[$f],B,"State",et)}}Ee&&(z[x.rf]=Ee),Be&&(z[x.ro]=Be),Me&&(z[x.blkVal]=!0)}return T}s(V5,"_setDynamicPropertyState");function Ph(x,T,B,Q){try{Vt(T,function(z,pe){Mp(x,T,z,pe)}),T[Aa]||(br(T,Aa,{get:s(function(){return x.hdlr},"get")}),G5(x,T,B))}catch(z){Nu((x.hdlr||{})[$f],B,Q,z)}return T}s(Ph,"_makeDynamicObject");var Fh="[[ai_",L0="]]";function mB(x){var T=Q0(Fh+"get"+x.uid+L0),B=Q0(Fh+"ro"+x.uid+L0),Q=Q0(Fh+"rf"+x.uid+L0),z=Q0(Fh+"blkVal"+x.uid+L0),pe=Q0(Fh+"dtl"+x.uid+L0),Ee=null,Be=null,Me;function et(Rt,Lt){var _r=Me.act;try{Me.act=Rt,Rt&&Rt[pe]&&(Us(Rt[pe],function(un){un.clr(Rt)}),Rt[pe]=[]),Lt({cfg:x.cfg,set:x.set.bind(x),setDf:x.setDf.bind(x),ref:x.ref.bind(x),rdOnly:x.rdOnly.bind(x)})}catch(un){var mr=x[$f];throw mr&&mr[H1](1,107,$e(un)),un}finally{Me.act=_r||null}}s(et,"_useHandler");function St(){if(Ee){var Rt=Ee;Ee=null,Be&&Be[_5](),Be=null;var Lt=[];if(Us(Rt,function(_r){if(_r&&(_r[pe]&&(Us(_r[pe],function(mr){mr.clr(_r)}),_r[pe]=null),_r.fn))try{et(_r,_r.fn)}catch(mr){Lt[On](mr)}}),Ee)try{St()}catch(_r){Lt[On](_r)}Lt[us]>0&&PL("Watcher error(s): ",Lt)}}s(St,"_notifyWatchers");function pr(Rt){if(Rt&&Rt.h[us]>0){Ee||(Ee=[]),Be||(Be=T5(function(){Be=null,St()},0));for(var Lt=0;Lt<Rt.h[us];Lt++){var _r=Rt.h[Lt];_r&&_u(Ee,_r)===-1&&Ee[On](_r)}}}s(pr,"_addWatcher");function Rr(Rt,Lt){if(Rt){var _r=Rt[pe]=Rt[pe]||[];_u(_r,Lt)===-1&&_r[On](Lt)}}return s(Rr,"_trackHandler"),Me={prop:T,ro:B,rf:Q,blkVal:z,hdlr:x,add:pr,notify:St,use:et,trk:Rr},Me}s(mB,"_createState");function VL(x,T){var B={fn:T,rm:s(function(){B.fn=null,x=null,T=null},"rm")};return le(B,"toJSON",{v:s(function(){return"WatcherHandler"+(B.fn?"":"[X]")},"v")}),x.use(B,T),B}s(VL,"_createAndUseHandler");function gB(x,T,B){var Q=q5(T);if(Q)return Q;var z=Du("dyncfg",!0),pe=T&&B!==!1?T:H5(T),Ee;function Be(){Ee.notify()}s(Be,"_notifyWatchers");function Me(mr,un,Jn){try{mr=Mp(Ee,mr,un,Jn)}catch(vn){Nu(x,un,"Setting value",vn)}return mr[un]}s(Me,"_setValue");function et(mr){return VL(Ee,mr)}s(et,"_watch");function St(mr,un){Ee.use(null,function(Jn){var vn=Ee.upd;try{ce(un)||(Ee.upd=un),mr(Jn)}finally{Ee.upd=vn}})}s(St,"_block");function pr(mr,un){var Jn;return V5(Ee,mr,un,(Jn={},Jn[0]=!0,Jn))[un]}s(pr,"_ref");function Rr(mr,un){var Jn;return V5(Ee,mr,un,(Jn={},Jn[1]=!0,Jn))[un]}s(Rr,"_rdOnly");function Rt(mr,un){var Jn;return V5(Ee,mr,un,(Jn={},Jn[2]=!0,Jn))[un]}s(Rt,"_blkPropValue");function Lt(mr,un){return un&&Vt(un,function(Jn,vn){rd(_r,mr,Jn,vn)}),mr}s(Lt,"_applyDefaults");var _r={uid:null,cfg:pe,logger:x,notify:Be,set:Me,setDf:Lt,watch:et,ref:pr,rdOnly:Rr,blkVal:Rt,_block:St};return le(_r,"uid",{c:!1,e:!1,w:!1,v:z}),Ee=mB(_r),Ph(Ee,pe,"config","Creating"),_r}s(gB,"_createDynamicHandler");function yB(x,T){x?(x[Wf](T),x[H1](2,108,T)):wc(T)}s(yB,"_logInvalidAccess");function J1(x,T,B,Q){var z=gB(B,x||{},Q);return T&&z.setDf(z.cfg,T),z}s(J1,"createDynamicConfig");function CB(x,T,B){var Q=x[Aa]||x;return Q.cfg&&(Q.cfg===x||Q.cfg[Aa]===Q)?Q[rB](T):(yB(B,cB+$e(x)),J1(x,null,B)[rB](T))}s(CB,"onConfigChange");var TI=null;function EB(){var x=L("Microsoft");return x&&(TI=x.ApplicationInsights),TI}s(EB,"_getExtensionNamespace");function WL(x){var T=TI;return!T&&x.disableDbgExt!==!0&&(T=TI||EB()),T?T.ChromeDbgExt:null}s(WL,"getDebugExt");var Op,_I="warnToConsole",IB="AI (Internal): ",xB="AI: ",$L="AITR_",YL={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},vB=(Op={},Op[0]=null,Op[1]="errorToConsole",Op[2]=_I,Op[3]="debugToConsole",Op);function bB(x){return x?'"'+x[gp](/\"/g,go)+'"':go}s(bB,"_sanitizeDiagnosticText");function wI(x,T){var B=CI();if(B){var Q="log";B[x]&&(Q=x),te(B[Q])&&B[Q](T)}}s(wI,"_logToConsole");var SI=function(){function x(T,B,Q,z){Q===void 0&&(Q=!1);var pe=this;pe[w5]=T,pe[_h]=(Q?xB:IB)+T;var Ee=go;Un()&&(Ee=kp().stringify(z));var Be=(B?" message:"+bB(B):go)+(z?" props:"+bB(Ee):go);pe[_h]+=Be}return s(x,"_InternalLogMessage"),x.dataType="MessageData",x}();function zL(x,T){return(x||{})[$f]||new BI(T)}s(zL,"safeGetLogger");var BI=function(){function x(T){this.identifier="DiagnosticLogger",this.queue=[];var B=0,Q={},z,pe,Ee,Be,Me;W1(x,this,function(et){Me=pr(T||{}),et.consoleLoggingLevel=function(){return z},et[H1]=function(Lt,_r,mr,un,Jn){Jn===void 0&&(Jn=!1);var vn=new SI(_r,mr,Jn,un);if(Be)throw $e(vn);var ds=vB[Lt]||_I;if(ce(vn[_h]))Rt("throw"+(Lt===1?"Critical":"Warning"),vn);else{if(Jn){var mm=+vn[w5];!Q[mm]&&z>=Lt&&(et[ds](vn[_h]),Q[mm]=!0)}else z>=Lt&&et[ds](vn[_h]);St(Lt,vn)}},et.debugToConsole=function(Lt){wI("debug",Lt),Rt("warning",Lt)},et[Wf]=function(Lt){wI("warn",Lt),Rt("warning",Lt)},et.errorToConsole=function(Lt){wI("error",Lt),Rt("error",Lt)},et.resetInternalMessageCount=function(){B=0,Q={}},et.logInternalMessage=St,et[c0]=function(Lt){Me&&Me.rm(),Me=null};function St(Lt,_r){if(!Rr()){var mr=!0,un=$L+_r[w5];if(Q[un]?mr=!1:Q[un]=!0,mr&&(Lt<=pe&&(et.queue[On](_r),B++,Rt(Lt===1?"error":"warn",_r)),B===Ee)){var Jn="Internal events throttle limit per PageView reached for this app.",vn=new SI(23,Jn,!1);et.queue[On](vn),Lt===1?et.errorToConsole(Jn):et[Wf](Jn)}}}s(St,"_logInternalMessage");function pr(Lt){return CB(J1(Lt,YL,et).cfg,function(_r){var mr=_r.cfg;z=mr[iB],pe=mr.loggingLevelTelemetry,Ee=mr.maxMessageLimit,Be=mr.enableDebug})}s(pr,"_setDefaultsFromConfig");function Rr(){return B>=Ee}s(Rr,"_areInternalMessagesThrottled");function Rt(Lt,_r){var mr=WL(T||{});mr&&mr[S5]&&mr[S5](Lt,_r)}s(Rt,"_debugExtMsg")})}return s(x,"DiagnosticLogger"),x.__ieDyn=1,x}();function RI(x){return x||new BI}s(RI,"_getLogger");function l0(x,T,B,Q,z,pe){pe===void 0&&(pe=!1),RI(x)[H1](T,B,Q,z,pe)}s(l0,"_throwInternal");function kI(){for(var x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],T=go,B,Q=0;Q<4;Q++)B=Fp(),T+=x[B&15]+x[B>>4&15]+x[B>>8&15]+x[B>>12&15]+x[B>>16&15]+x[B>>20&15]+x[B>>24&15]+x[B>>28&15];var z=x[8+(Fp()&3)|0];return Gr(T,0,8)+Gr(T,9,4)+"4"+Gr(T,13,3)+z+Gr(T,16,3)+Gr(T,19,12)}s(kI,"generateW3CId");var Up=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,W5="00",M0="ff",ln="00000000000000000000000000000000",Pu="0000000000000000",Ko=1;function Sc(x,T,B){return x&&x[us]===T&&x!==B?!!x.match(/^[\da-f]*$/i):!1}s(Sc,"_isValid");function DI(x,T,B){return Sc(x,T)?x:B}s(DI,"_formatValue");function Lh(x){(isNaN(x)||x<0||x>255)&&(x=1);for(var T=x.toString(16);T[us]<2;)T="0"+T;return T}s(Lh,"_formatFlags");function Hp(x,T,B,Q){return{version:Sc(Q,2,M0)?Q:W5,traceId:qp(x)?x:kI(),spanId:Gp(T)?T:Vi(kI(),16),traceFlags:B>=0&&B<=255?B:1}}s(Hp,"createTraceParent");function O0(x,T){if(!x||(ue(x)&&(x=x[0]||""),!x||!re(x)||x[us]>8192))return null;if(x.indexOf(",")!==-1){var B=x[B5](",");x=B[T>0&&B[us]>T?T:0]}var Q=Up.exec(Ma(x));return!Q||Q[1]===M0||Q[2]===ln||Q[3]===Pu?null:{version:(Q[1]||go)[U1](),traceId:(Q[2]||go)[U1](),spanId:(Q[3]||go)[U1](),traceFlags:parseInt(Q[4],16)}}s(O0,"parseTraceParent");function qp(x){return Sc(x,32,ln)}s(qp,"isValidTraceId");function Gp(x){return Sc(x,16,Pu)}s(Gp,"isValidSpanId");function Vp(x){return!(!x||!Sc(x[nB],2,M0)||!Sc(x.traceId,32,ln)||!Sc(x.spanId,16,Pu)||!Sc(Lh(x[sI]),2))}s(Vp,"isValidTraceParent");function NI(x){return Vp(x)?(x[sI]&Ko)===Ko:!1}s(NI,"isSampledFlag");function Mh(x){if(x){var T=Lh(x[sI]);Sc(T,2)||(T="01");var B=x[nB]||W5;return B!=="00"&&B!=="ff"&&(B=W5),"".concat(B.toLowerCase(),"-").concat(DI(x.traceId,32,ln).toLowerCase(),"-").concat(DI(x.spanId,16,Pu).toLowerCase(),"-").concat(T.toLowerCase())}return""}s(Mh,"formatTraceParent");function $5(x){var T="traceparent",B=O0(EI(T),x);return B||(B=O0(yl(T),x)),B}s($5,"findW3cTraceParent");function Y5(x){var T=x.getElementsByTagName("script"),B=[];return Us(T,function(Q){var z=Q[R5]("src");if(z){var pe=Q[R5]("crossorigin"),Ee=Q.hasAttribute("async")===!0,Be=Q.hasAttribute("defer")===!0,Me=Q[R5]("referrerpolicy"),et={url:z};pe&&(et.crossOrigin=pe),Ee&&(et.async=Ee),Be&&(et.defer=Be),Me&&(et.referrerPolicy=Me),B[On](et)}}),B}s(Y5,"findAllScripts");var QI="on",X1="attachEvent",PI="addEventListener",FI="detachEvent",TB="removeEventListener",z5="events";Du("aiEvtPageHide"),Du("aiEvtPageShow");var jL=/\.[\.]+/g,KL=/[\.]+$/,LI=1,Wp=xl("events"),qs=/^([^.]*)(?:\.(.+)|)/;function Z1(x){return x&&x[gp]?x[gp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,go):x}s(Z1,"_normalizeNamespace");function ws(x,T){if(T){var B=go;ue(T)?(B=go,Us(T,function(z){z=Z1(z),z&&(z[0]!=="."&&(z="."+z),B+=z)})):B=Z1(T),B&&(B[0]!=="."&&(B="."+B),x=(x||go)+B)}var Q=qs.exec(x||go)||[];return{type:Q[1],ns:(Q[2]||go).replace(jL,".").replace(KL,go)[B5](".").sort().join(".")}}s(ws,"_getEvtNamespace");function id(x,T,B){B===void 0&&(B=!0);var Q=Wp.get(x,z5,{},B),z=Q[T];return z||(z=Q[T]=[]),z}s(id,"_getRegisteredEvents");function _B(x,T,B,Q){x&&T&&T[Yf]&&(x[TB]?x[TB](T[Yf],B,Q):x[FI]&&x[FI](QI+T[Yf],B))}s(_B,"_doDetach");function JL(x,T,B,Q){var z=!1;return x&&T&&T[Yf]&&B&&(x[PI]?(x[PI](T[Yf],B,Q),z=!0):x[X1]&&(x[X1](QI+T[Yf],B),z=!0)),z}s(JL,"_doAttach");function ey(x,T,B,Q){for(var z=T[us];z--;){var pe=T[z];pe&&(!B.ns||B.ns===pe[sB].ns)&&(!Q||Q(pe))&&(_B(x,pe[sB],pe.handler,pe.capture),T[Th](z,1))}}s(ey,"_doUnregister");function j5(x,T,B){if(T[Yf])ey(x,id(x,T[Yf]),T,B);else{var Q=Wp.get(x,z5,{});Vt(Q,function(z,pe){ey(x,pe,T,B)}),Mn(Q)[us]===0&&Wp.kill(x,z5)}}s(j5,"_unregisterEvents");function XL(x,T){var B;return T?(ue(T)?B=[x].concat(T):B=[x,T],B=ws("xx",B).ns[B5](".")):B=x,B}s(XL,"mergeEvtNamespace");function K5(x,T,B,Q,z){z===void 0&&(z=!1);var pe=!1;if(x)try{var Ee=ws(T,Q);if(pe=JL(x,Ee,B,z),pe&&Wp.accept(x)){var Be={guid:LI++,evtName:Ee,handler:B,capture:z};id(x,Ee.type)[On](Be)}}catch{}return pe}s(K5,"eventOn");function wB(x,T,B,Q,z){if(z===void 0&&(z=!1),x)try{var pe=ws(T,Q),Ee=!1;j5(x,pe,function(Be){return pe.ns&&!B||Be.handler===B?(Ee=!0,!0):!1}),Ee||_B(x,pe,B,z)}catch{}}s(wB,"eventOff");var MI="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SB="sampleRate",OI="ProcessLegacy",BB="http.method",J5="https://dc.services.visualstudio.com",ty="/v2/track",vl="not_specified",X5="iKey",RB=NL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),od="split",Ar="length",$p="toLowerCase",Oh="ingestionendpoint",Uh="toString",Z5="removeItem",ry="message",Yp="count",UI="preTriggerDate",eT="getUTCDate",HI="stringify",zp="pathname",Hh="match",tT="correlationHeaderExcludePatterns",U0="name",jp="extensionConfig",bl="properties",Oa="measurements",Kp="sizeInBytes",ny="typeName",Jp="exceptions",iy="severityLevel",Xp="problemGroup",u0="parsedStack",qI="hasFullStack",GI="assembly",Bc="fileName",Zp="line",sd="aiDataContract",oy="duration";function rT(x,T,B){var Q=T[Ar],z=nT(x,T);if(z[Ar]!==Q){for(var pe=0,Ee=z;B[Ee]!==void 0;)pe++,Ee=Kr(z,0,147)+kB(pe);z=Ee}return z}s(rT,"dataSanitizeKeyAndAddUniqueness");function nT(x,T){var B;return T&&(T=Ma(ft(T)),T[Ar]>150&&(B=Kr(T,0,150),l0(x,2,57,"name is too long.  It has been truncated to 150 characters.",{name:T},!0))),B||T}s(nT,"dataSanitizeKey");function Ss(x,T,B){B===void 0&&(B=1024);var Q;return T&&(B=B||1024,T=Ma(ft(T)),T[Ar]>B&&(Q=Kr(T,0,B),l0(x,2,61,"string value is too long. It has been truncated to "+B+" characters.",{value:T},!0))),Q||T}s(Ss,"dataSanitizeString");function Tl(x,T){return oT(x,T,2048,66)}s(Tl,"dataSanitizeUrl");function VI(x,T){var B;return T&&T[Ar]>32768&&(B=Kr(T,0,32768),l0(x,2,56,"message is too long, it has been truncated to 32768 characters.",{message:T},!0)),B||T}s(VI,"dataSanitizeMessage");function iT(x,T){var B;if(T){var Q=""+T;Q[Ar]>32768&&(B=Kr(Q,0,32768),l0(x,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:T},!0))}return B||T}s(iT,"dataSanitizeException");function Fu(x,T){if(T){var B={};Vt(T,function(Q,z){if(ie(z)&&Un())try{z=kp()[HI](z)}catch(pe){l0(x,2,49,"custom property is not valid",{exception:pe},!0)}z=Ss(x,z,8192),Q=rT(x,Q,B),B[Q]=z}),T=B}return T}s(Fu,"dataSanitizeProperties");function H0(x,T){if(T){var B={};Vt(T,function(Q,z){Q=rT(x,Q,B),B[Q]=z}),T=B}return T}s(H0,"dataSanitizeMeasurements");function em(x,T){return T&&oT(x,T,128,69)[Uh]()}s(em,"dataSanitizeId");function oT(x,T,B,Q){var z;return T&&(T=Ma(ft(T)),T[Ar]>B&&(z=Kr(T,0,B),l0(x,2,Q,"input is too long, it has been truncated to "+B+" characters.",{data:T},!0))),z||T}s(oT,"dataSanitizeInput");function kB(x){var T="00"+x;return Gr(T,T[Ar]-3)}s(kB,"dsPadNumber");var sT=Se()||{},DB=0,ZL=[null,null,null,null,null];function tm(x){var T=DB,B=ZL,Q=B[T];return sT.createElement?B[T]||(Q=B[T]=sT.createElement("a")):Q={host:QB(x,!0)},Q.href=x,T++,T>=B[Ar]&&(T=0),DB=T,Q}s(tm,"urlParseUrl");function eM(x){var T,B=tm(x);return B&&(T=B.href),T}s(eM,"urlGetAbsoluteUrl");function tM(x){var T,B=tm(x);return B&&(T=B[zp]),T}s(tM,"urlGetPathName");function NB(x,T){return x?x.toUpperCase()+" "+T:T}s(NB,"urlGetCompleteUrl");function QB(x,T){var B=Lu(x,T)||"";if(B){var Q=B[Hh](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[Ar]>3&&re(Q[2])&&Q[2][Ar]>0)return Q[2]+(Q[3]||"")}return B}s(QB,"urlParseHost");function Lu(x,T){var B=null;if(x){var Q=x[Hh](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[Ar]>2&&re(Q[2])&&Q[2][Ar]>0&&(B=Q[2]||"",T&&Q[Ar]>2)){var z=(Q[1]||"")[$p](),pe=Q[3]||"";(z==="http"&&pe===":80"||z==="https"&&pe===":443")&&(pe=""),B+=pe}}return B}s(Lu,"urlParseFullHost");var PB=[J5+ty,"https://breeze.aimon.applicationinsights.io"+ty,"https://dc-int.services.visualstudio.com"+ty],rm="cid-v1:";function FB(x){return _u(PB,x[$p]())!==-1}s(FB,"isInternalApplicationInsightsEndpoint");function aT(x){rm=x}s(aT,"correlationIdSetPrefix");function cT(){return rm}s(cT,"correlationIdGetPrefix");function ad(x,T,B){if(!T||x&&x.disableCorrelationHeaders)return!1;if(x&&x[tT]){for(var Q=0;Q<x.correlationHeaderExcludePatterns[Ar];Q++)if(x[tT][Q].test(T))return!1}var z=tm(T).host[$p]();if(z&&(Yt(z,":443")!==-1||Yt(z,":80")!==-1)&&(z=(Lu(T,!0)||"")[$p]()),(!x||!x.enableCorsCorrelation)&&z&&z!==B)return!1;var pe=x&&x.correlationHeaderDomains;if(pe){var Ee;if(Us(pe,function(et){var St=new RegExp(et.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ee=Ee||St.test(z)}),!Ee)return!1}var Be=x&&x.correlationHeaderExcludedDomains;if(!Be||Be[Ar]===0)return!0;for(var Q=0;Q<Be[Ar];Q++){var Me=new RegExp(Be[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Me.test(z))return!1}return z&&z[Ar]>0}s(ad,"correlationIdCanIncludeCorrelationHeader");function LB(x){if(x){var T=MB(x,RB[1]);if(T&&T!==rm)return T}}s(LB,"correlationIdGetCorrelationContext");function MB(x,T){if(x)for(var B=x[od](","),Q=0;Q<B[Ar];++Q){var z=B[Q][od]("=");if(z[Ar]===2&&z[0]===T)return z[1]}}s(MB,"correlationIdGetCorrelationContextValue");function OB(x,T,B,Q){var z,pe=Q,Ee=Q;if(T&&T[Ar]>0){var Be=tm(T);if(z=Be.host,!pe)if(Be[zp]!=null){var Me=Be.pathname[Ar]===0?"/":Be[zp];Me.charAt(0)!=="/"&&(Me="/"+Me),Ee=Be[zp],pe=Ss(x,B?B+" "+Me:Me)}else pe=Ss(x,T)}else z=Q,pe=Q;return{target:z,name:pe,data:Ee}}s(OB,"AjaxHelperParseDependencyPath");function rM(){var x=M1();if(x&&x.now&&x.timing){var T=x.now()+x.timing.navigationStart;if(T>0)return T}return xh()}s(rM,"dateTimeUtilsNow");function nM(x,T){var B=null;return x!==0&&T!==0&&!W(x)&&!W(T)&&(B=T-x),B}s(nM,"dateTimeUtilsDuration");function lT(x,T){var B=x||{};return{getName:s(function(){return B[U0]},"getName"),setName:s(function(Q){T&&T.setName(Q),B[U0]=Q},"setName"),getTraceId:s(function(){return B.traceID},"getTraceId"),setTraceId:s(function(Q){T&&T.setTraceId(Q),qp(Q)&&(B.traceID=Q)},"setTraceId"),getSpanId:s(function(){return B.parentID},"getSpanId"),setSpanId:s(function(Q){T&&T.setSpanId(Q),Gp(Q)&&(B.parentID=Q)},"setSpanId"),getTraceFlags:s(function(){return B.traceFlags},"getTraceFlags"),setTraceFlags:s(function(Q){T&&T.setTraceFlags(Q),B.traceFlags=Q},"setTraceFlags")}}s(lT,"createDistributedTraceContextFromTrace");var nm=O1({LocalStorage:0,SessionStorage:1}),iM=O1({AI:0,AI_AND_W3C:1,W3C:2}),sy=O1({Normal:1,Critical:2}),cd=void 0,Rc=void 0,UB="";function im(){return WI()?om(nm.LocalStorage):null}s(im,"_getLocalStorageObject");function om(x){try{if(W(X()))return null;var T=new Date()[Uh](),B=L(x===nm.LocalStorage?"localStorage":"sessionStorage"),Q=UB+T;B.setItem(Q,T);var z=B.getItem(Q)!==T;if(B[Z5](Q),!z)return B}catch{}return null}s(om,"_getVerifiedStorageObject");function sm(){return Mu()?om(nm.SessionStorage):null}s(sm,"_getSessionStorageObject");function ay(){cd=!1,Rc=!1}s(ay,"utlDisableStorage");function cy(x){UB=x||""}s(cy,"utlSetStoragePrefix");function oM(){cd=WI(!0),Rc=Mu(!0)}s(oM,"utlEnableStorage");function WI(x){return(x||cd===void 0)&&(cd=!!om(nm.LocalStorage)),cd}s(WI,"utlCanUseLocalStorage");function HB(x,T){var B=im();if(B!==null)try{return B.getItem(T)}catch(Q){cd=!1,l0(x,2,1,"Browser failed read of local storage. "+Kf(Q),{exception:$e(Q)})}return null}s(HB,"utlGetLocalStorage");function qB(x,T,B){var Q=im();if(Q!==null)try{return Q.setItem(T,B),!0}catch(z){cd=!1,l0(x,2,3,"Browser failed write to local storage. "+Kf(z),{exception:$e(z)})}return!1}s(qB,"utlSetLocalStorage");function q0(x,T){var B=im();if(B!==null)try{return B[Z5](T),!0}catch(Q){cd=!1,l0(x,2,5,"Browser failed removal of local storage item. "+Kf(Q),{exception:$e(Q)})}return!1}s(q0,"utlRemoveStorage");function Mu(x){return(x||Rc===void 0)&&(Rc=!!om(nm.SessionStorage)),Rc}s(Mu,"utlCanUseSessionStorage");function am(){var x=[];return Mu()&&Vt(L("sessionStorage"),function(T){x.push(T)}),x}s(am,"utlGetSessionStorageKeys");function GB(x,T){var B=sm();if(B!==null)try{return B.getItem(T)}catch(Q){Rc=!1,l0(x,2,2,"Browser failed read of session storage. "+Kf(Q),{exception:$e(Q)})}return null}s(GB,"utlGetSessionStorage");function sM(x,T,B){var Q=sm();if(Q!==null)try{return Q.setItem(T,B),!0}catch(z){Rc=!1,l0(x,2,4,"Browser failed write to session storage. "+Kf(z),{exception:$e(z)})}return!1}s(sM,"utlSetSessionStorage");function VB(x,T){var B=sm();if(B!==null)try{return B[Z5](T),!0}catch(Q){Rc=!1,l0(x,2,6,"Browser failed removal of session storage item. "+Kf(Q),{exception:$e(Q)})}return!1}s(VB,"utlRemoveSessionStorage");var aM="appInsightsThrottle",cM=function(){function x(T,B){var Q=this,z,pe,Ee,Be,Me,et,St,pr=!1,Rr=!1;Lt(),Q._getDbgPlgTargets=function(){return[St]},Q.getConfig=function(){return Ee},Q.canThrottle=function(ct){var Ht=vT(ct),rr=_r(ct);return Jn(rr,z,Ht)},Q.isTriggered=function(ct){return a8(ct)},Q.isReady=function(){return pr},Q.flush=function(ct){try{var Ht=c8(ct);if(Ht&&Ht[Ar]>0){var rr=Ht.slice(0);return St[ct]=[],Us(rr,function(_i){Rt(_i.msgID,_i[ry],_i.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(St){var ct=!0;return Vt(St,function(Ht){var rr=Q.flush(parseInt(Ht));ct=ct&&rr}),ct}}catch{}return!1},Q.onReadyState=function(ct,Ht){return Ht===void 0&&(Ht=!0),pr=W(ct)?!0:ct,pr&&Ht?Q.flushAll():null},Q.sendMessage=function(ct,Ht,rr){return Rt(ct,Ht,rr,!0)};function Rt(ct,Ht,rr,_i){if(pr){var hs=_M(ct);if(!hs)return;var yo=_r(ct),As=vT(ct),Gh=Jn(yo,z,As),hd=!1,gm=0,l8=a8(ct);try{Gh&&!l8?(gm=Kn(yo.limit.maxSendNumber,As[Yp]+1),As[Yp]=0,hd=!0,Me[ct]=!0,As[UI]=new Date):(Me[ct]=Gh,As[Yp]+=1);var u8=vn(ct);xT(pe,u8,As);for(var o2=0;o2<gm;o2++)s8(ct,pe,Ht,rr)}catch{}return{isThrottled:hd,throttleNum:gm}}else if(_i){var wM=c8(ct);wM.push({msgID:ct,message:Ht,severity:rr})}return null}s(Rt,"_flushMessage");function Lt(){pe=zL(T),Me={},Be={},St={},Ee={},mr(109),et=O5(B)?B:"",T.addUnloadHook(CB(T.config,function(ct){var Ht=ct.cfg;z=WI();var rr=Ht.throttleMgrCfg||{};Vt(rr,function(_i,hs){mr(parseInt(_i),hs)})}))}s(Lt,"_initConfig");function _r(ct){return Ee[ct]||Ee[109]}s(_r,"_getCfgByKey");function mr(ct,Ht){var rr,_i;try{var hs=Ht||{},yo={};yo.disabled=!!hs.disabled;var As=hs.interval||{};Rr=As?.daysOfMonth&&As?.daysOfMonth[Ar]>0,yo.interval=un(As);var Gh={samplingRate:((rr=hs.limit)===null||rr===void 0?void 0:rr.samplingRate)||100,maxSendNumber:((_i=hs.limit)===null||_i===void 0?void 0:_i.maxSendNumber)||1};yo.limit=Gh,Ee[ct]=yo}catch{}}s(mr,"_setCfgByKey");function un(ct){ct=ct||{};var Ht=ct?.monthInterval,rr=ct?.dayInterval;return W(Ht)&&W(rr)&&(ct.monthInterval=3,Rr||(ct.daysOfMonth=[28],Rr=!0)),ct={monthInterval:ct?.monthInterval,dayInterval:ct?.dayInterval,daysOfMonth:ct?.daysOfMonth},ct}s(un,"_getIntervalConfig");function Jn(ct,Ht,rr){if(ct&&!ct.disabled&&Ht&&O5(rr)){var _i=my(),hs=rr.date,yo=ct.interval,As=1;if(yo?.monthInterval){var Gh=(_i.getUTCFullYear()-hs.getUTCFullYear())*12+_i.getUTCMonth()-hs.getUTCMonth();As=i2(yo.monthInterval,0,Gh)}var hd=1;if(Rr)hd=_u(yo.daysOfMonth,_i[eT]());else if(yo?.dayInterval){var gm=qf((_i.getTime()-hs.getTime())/864e5);hd=i2(yo.dayInterval,0,gm)}return As>=0&&hd>=0}return!1}s(Jn,"_canThrottle");function vn(ct,Ht){var rr=O5(Ht)?Ht:"";return ct?aM+rr+"-"+ct:null}s(vn,"_getLocalStorageName");function ds(ct){try{if(ct){var Ht=new Date;return ct.getUTCFullYear()===Ht.getUTCFullYear()&&ct.getUTCMonth()===Ht.getUTCMonth()&&ct[eT]()===Ht[eT]()}}catch{}return!1}s(ds,"_isTriggeredOnCurDate");function mm(ct,Ht,rr){try{var _i={date:my(),count:0};if(ct){var hs=JSON.parse(ct),yo={date:my(hs.date)||_i.date,count:hs[Yp]||_i[Yp],preTriggerDate:hs.preTriggerDate?my(hs[UI]):void 0};return yo}else return xT(Ht,rr,_i),_i}catch{}return null}s(mm,"_getLocalStorageObj");function my(ct){try{if(ct){var Ht=new Date(ct);if(!isNaN(Ht.getDate()))return Ht}else return new Date}catch{}return null}s(my,"_getThrottleDate");function xT(ct,Ht,rr){try{return qB(ct,Ht,Ma(JSON[HI](rr)))}catch{}return!1}s(xT,"_resetLocalStorage");function i2(ct,Ht,rr){return ct<=0?1:rr>=Ht&&(rr-Ht)%ct==0?qf((rr-Ht)/ct)+1:-1}s(i2,"_checkInterval");function s8(ct,Ht,rr,_i){l0(Ht,_i||1,ct,rr)}s(s8,"_sendMessage");function _M(ct){try{var Ht=_r(ct);return II(1e6)<=Ht.limit.samplingRate}catch{}return!1}s(_M,"_canSampledIn");function vT(ct){try{var Ht=Be[ct];if(!Ht){var rr=vn(ct,et);Ht=mm(HB(pe,rr),pe,rr),Be[ct]=Ht}return Be[ct]}catch{}return null}s(vT,"_getLocalStorageObjByKey");function a8(ct){var Ht=Me[ct];if(W(Ht)){Ht=!1;var rr=vT(ct);rr&&(Ht=ds(rr[UI])),Me[ct]=Ht}return Me[ct]}s(a8,"_isTrigger");function c8(ct){return St=St||{},W(St[ct])&&(St[ct]=[]),St[ct]}s(c8,"_getQueueByKey")}return s(x,"ThrottleMgr"),x}(),uT=";",_l="=";function $I(x){if(!x)return{};var T=x[od](uT),B=No(T,function(z,pe){var Ee=pe[od](_l);if(Ee[Ar]===2){var Be=Ee[0][$p](),Me=Ee[1];z[Be]=Me}return z},{});if(Mn(B)[Ar]>0){if(B.endpointsuffix){var Q=B.location?B.location+".":"";B[Oh]=B[Oh]||"https://"+Q+"dc."+B.endpointsuffix}B[Oh]=B[Oh]||J5,Ap(B[Oh],"/")&&(B[Oh]=B[Oh].slice(0,-1))}return B}s($I,"parseConnectionString");var YI={parse:$I},zI=function(){function x(T,B,Q){var z=this,pe=this;pe.ver=1,pe.sampleRate=100,pe.tags={},pe[U0]=Ss(T,Q)||vl,pe.data=B,pe.time=Ru(new Date),pe[sd]={time:1,iKey:1,name:1,sampleRate:s(function(){return z.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(x,"Envelope"),x}(),lM=function(){function x(T,B,Q,z){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var pe=this;pe.ver=2,pe[U0]=Ss(T,B)||vl,pe[bl]=Fu(T,Q),pe[Oa]=H0(T,z)}return s(x,"Event"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Event",x.dataType="EventData",x}(),uM=58,WB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,fM=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,cm=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,$B=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,dM=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,hM=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,AM=/([^\(\s\n]+):([0-9]+)$/,YB="<no_method>",lm="error",f0="stack",ly="stackDetails",jI="errorSrc",uy="message",fy="description",fT=[{re:fM,len:5,m:1,fn:2,ln:3,col:4},{chk:KI,pre:Mt,re:cm,len:4,m:1,fn:2,ln:3},{re:$B,len:3,m:1,fn:2,hdl:hT},{re:dM,len:2,fn:1,hdl:hT}];function Mt(x){return x.replace(/(\(anonymous\))/,"<anonymous>")}s(Mt,"_scrubAnonymous");function KI(x){return Yt(x,"[native")<0}s(KI,"_ignoreNative");function dy(x,T){var B=x;return B&&!re(B)&&(JSON&&JSON[HI]?(B=JSON[HI](x),T&&(!B||B==="{}")&&(te(x[Uh])?B=x[Uh]():B=""+x)):B=""+x+" - (Missing JSON.stringify)"),B||""}s(dy,"_stringify");function ld(x,T){var B=x;return x&&(B&&!re(B)&&(B=x[uy]||x[fy]||B),B&&!re(B)&&(B=dy(B,!0)),x.filename&&(B=B+" @"+(x.filename||"")+":"+(x.lineno||"?")+":"+(x.colno||"?"))),T&&T!=="String"&&T!=="Object"&&T!=="Error"&&Yt(B||"",T)===-1&&(B=T+": "+B),B||""}s(ld,"_formatMessage");function zB(x){try{if(ie(x))return"hasFullStack"in x&&"typeName"in x}catch{}return!1}s(zB,"_isExceptionDetailsInternal");function jB(x){try{if(ie(x))return"ver"in x&&"exceptions"in x&&"properties"in x}catch{}return!1}s(jB,"_isExceptionInternal");function JI(x){return x&&x.src&&re(x.src)&&x.obj&&ue(x.obj)}s(JI,"_isStackDetails");function Ou(x){var T=x||"";re(T)||(re(T[f0])?T=T[f0]:T=""+T);var B=T[od](`
`);return{src:T,obj:B}}s(Ou,"_convertStackObj");function KB(x){for(var T=[],B=x[od](`
`),Q=0;Q<B[Ar];Q++){var z=B[Q];B[Q+1]&&(z+="@"+B[Q+1],Q++),T.push(z)}return{src:x,obj:T}}s(KB,"_getOperaStack");function XI(x){var T=null;if(x)try{if(x[f0])T=Ou(x[f0]);else if(x[lm]&&x[lm][f0])T=Ou(x[lm][f0]);else if(x.exception&&x.exception[f0])T=Ou(x.exception[f0]);else if(JI(x))T=x;else if(JI(x[ly]))T=x[ly];else if(nr()&&nr().opera&&x[uy])T=KB(x[ry]);else if(x.reason&&x.reason[f0])T=Ou(x.reason[f0]);else if(re(x))T=Ou(x);else{var B=x[uy]||x[fy]||"";re(x[jI])&&(B&&(B+=`
`),B+=" from "+x[jI]),B&&(T=Ou(B))}}catch(Q){T=Ou(Q)}return T||{src:"",obj:null}}s(XI,"_getStackFromErrorObj");function JB(x){var T="";return x&&(x.obj?T=x.obj.join(`
`):T=x.src||""),T}s(JB,"_formatStackTrace");function ZI(x){var T,B=x.obj;if(B&&B[Ar]>0){T=[];var Q=0,z=!1,pe=0;Us(B,function(_r){if(z||pM(_r)){var mr=ft(_r);z=!0;var un=mM(mr,Q);un&&(pe+=un[Kp],T.push(un),Q++)}});var Ee=32*1024;if(pe>Ee)for(var Be=0,Me=T[Ar]-1,et=0,St=Be,pr=Me;Be<Me;){var Rr=T[Be][Kp],Rt=T[Me][Kp];if(et+=Rr+Rt,et>Ee){var Lt=pr-St+1;T.splice(St,Lt);break}St=Be,pr=Me,Be++,Me--}}return T}s(ZI,"_parseStack");function um(x){var T="";if(x&&(T=x.typeName||x[U0]||"",!T))try{var B=/function (.{1,200})\(/,Q=B.exec(x.constructor[Uh]());T=Q&&Q[Ar]>1?Q[1]:""}catch{}return T}s(um,"_getErrorType");function e2(x){if(x)try{if(!re(x)){var T=um(x),B=dy(x,!1);return(!B||B==="{}")&&(x[lm]&&(x=x[lm],T=um(x)),B=dy(x,!0)),Yt(B,T)!==0&&T!=="String"?T+":"+B:B}}catch{}return""+(x||"")}s(e2,"_formatErrorCode");var wl=function(){function x(T,B,Q,z,pe,Ee){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Be=this;Be.ver=2,jB(B)?(Be[Jp]=B[Jp]||[],Be[bl]=B[bl],Be[Oa]=B[Oa],B[iy]&&(Be[iy]=B[iy]),B.id&&(Be.id=B.id,B[bl].id=B.id),B[Xp]&&(Be[Xp]=B[Xp]),W(B.isManual)||(Be.isManual=B.isManual)):(Q||(Q={}),Ee&&(Q.id=Ee),Be[Jp]=[e8(T,B,Q)],Be[bl]=Fu(T,Q),Be[Oa]=H0(T,z),pe&&(Be[iy]=pe),Ee&&(Be.id=Ee))}return s(x,"Exception"),x.CreateAutoException=function(T,B,Q,z,pe,Ee,Be,Me){var et=um(pe||Ee||T);return{message:ld(T,et),url:B,lineNumber:Q,columnNumber:z,error:e2(pe||Ee||T),evt:e2(Ee||T),typeName:et,stackDetails:XI(Be||pe||Ee),errorSrc:Me}},x.CreateFromInterface=function(T,B,Q,z){var pe=B[Jp]&&ml(B[Jp],function(Be){return dT(T,Be)}),Ee=new x(T,uI(uI({},B),{exceptions:pe}),Q,z);return Ee},x.prototype.toInterface=function(){var T=this,B=T.exceptions,Q=T.properties,z=T.measurements,pe=T.severityLevel,Ee=T.problemGroup,Be=T.id,Me=T.isManual,et=B instanceof Array&&ml(B,function(St){return St.toInterface()})||void 0;return{ver:"4.0",exceptions:et,severityLevel:pe,properties:Q,measurements:z,problemGroup:Ee,id:Be,isManual:Me}},x.CreateSimpleException=function(T,B,Q,z,pe,Ee){var Be;return{exceptions:[(Be={},Be[qI]=!0,Be.message=T,Be.stack=pe,Be.typeName=B,Be)]}},x.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",x.dataType="ExceptionData",x.formatError=e2,x}(),XB=zo({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function ZB(){var x=this,T=ue(x[u0])&&ml(x[u0],function(Q){return r8(Q)}),B={id:x.id,outerId:x.outerId,typeName:x[ny],message:x[ry],hasFullStack:x[qI],stack:x[f0],parsedStack:T||void 0};return B}s(ZB,"_toInterface");function e8(x,T,B){var Q,z,pe,Ee,Be,Me,et,St;if(zB(T))Ee=T[ny],Be=T[ry],et=T[f0],St=T[u0]||[],Me=T[qI];else{var pr=T,Rr=pr&&pr.evt;Ae(pr)||(pr=pr[lm]||Rr||pr),Ee=Ss(x,um(pr))||vl,Be=VI(x,ld(T||pr,Ee))||vl;var Rt=T[ly]||XI(T);St=ZI(Rt),ue(St)&&ml(St,function(Lt){Lt[GI]=Ss(x,Lt[GI]),Lt[Bc]=Ss(x,Lt[Bc])}),et=iT(x,JB(Rt)),Me=ue(St)&&St[Ar]>0,B&&(B[ny]=B[ny]||Ee)}return Q={},Q[sd]=XB,Q.id=z,Q.outerId=pe,Q.typeName=Ee,Q.message=Be,Q[qI]=Me,Q.stack=et,Q.parsedStack=St,Q.toInterface=ZB,Q}s(e8,"_createExceptionDetails");function dT(x,T){var B=ue(T[u0])&&ml(T[u0],function(z){return t8(z)})||T[u0],Q=e8(x,uI(uI({},T),{parsedStack:B}));return Q}s(dT,"_createExDetailsFromInterface");function hy(x,T){var B=T[Hh](hM);if(B&&B[Ar]>=4)x[Bc]=B[1],x[Zp]=parseInt(B[2]);else{var Q=T[Hh](AM);Q&&Q[Ar]>=3?(x[Bc]=Q[1],x[Zp]=parseInt(Q[2])):x[Bc]=T}}s(hy,"_parseFilename");function hT(x,T,B){var Q=x[Bc];T.fn&&B&&B[Ar]>T.fn&&(T.ln&&B[Ar]>T.ln?(Q=Ma(B[T.fn]||""),x[Zp]=parseInt(Ma(B[T.ln]||""))||0):Q=Ma(B[T.fn]||"")),Q&&hy(x,Q)}s(hT,"_handleFilename");function pM(x){var T=!1;if(x&&re(x)){var B=Ma(x);B&&(T=WB.test(B))}return T}s(pM,"_isStackFrame");var AT=zo({level:1,method:1,assembly:0,fileName:0,line:0});function mM(x,T){var B,Q;if(x&&re(x)&&Ma(x)){Q=(B={},B[sd]=AT,B.level=T,B.assembly=Ma(x),B.method=YB,B.fileName="",B.line=0,B.sizeInBytes=0,B);for(var z=0;z<fT[Ar];){var pe=fT[z];if(pe.chk&&!pe.chk(x))break;pe.pre&&(x=pe.pre(x));var Ee=x[Hh](pe.re);if(Ee&&Ee[Ar]>=pe.len){pe.m&&(Q.method=Ma(Ee[pe.m]||YB)),pe.hdl?pe.hdl(Q,pe,Ee):pe.fn&&(pe.ln?(Q[Bc]=Ma(Ee[pe.fn]||""),Q[Zp]=parseInt(Ma(Ee[pe.ln]||""))||0):hy(Q,Ee[pe.fn]||""));break}z++}}return pT(Q)}s(mM,"_extractStackFrame");function t8(x){var T,B=(T={},T[sd]=AT,T.level=x.level,T.method=x.method,T.assembly=x[GI],T.fileName=x[Bc],T.line=x[Zp],T.sizeInBytes=0,T);return pT(B)}s(t8,"_stackFrameFromInterface");function pT(x){var T=uM;return x&&(T+=x.method[Ar],T+=x.assembly[Ar],T+=x.fileName[Ar],T+=x.level.toString()[Ar],T+=x.line.toString()[Ar],x[Kp]=T),x}s(pT,"_populateFrameSizeInBytes");function r8(x){return{level:x.level,method:x.method,assembly:x[GI],fileName:x[Bc],line:x[Zp]}}s(r8,"_parsedFrameToInterface");var n8=function(){function x(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(x,"DataPoint"),x}(),gM=function(){function x(T,B,Q,z,pe,Ee,Be,Me,et){this.aiDataContract={ver:1,metrics:1,properties:0};var St=this;St.ver=2;var pr=new n8;pr[Yp]=z>0?z:void 0,pr.max=isNaN(Ee)||Ee===null?void 0:Ee,pr.min=isNaN(pe)||pe===null?void 0:pe,pr[U0]=Ss(T,B)||vl,pr.value=Q,pr.stdDev=isNaN(Be)||Be===null?void 0:Be,St.metrics=[pr],St[bl]=Fu(T,Me),St[Oa]=H0(T,et)}return s(x,"Metric"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",x.dataType="MetricData",x}(),fm="";function yM(x,T){return T===void 0&&(T=!1),x==null?T:x.toString()[$p]()==="true"}s(yM,"stringToBoolOrDefault");function mT(x){(isNaN(x)||x<0)&&(x=0),x=b5(x);var T=fm+x%1e3,B=fm+qf(x/1e3)%60,Q=fm+qf(x/(1e3*60))%60,z=fm+qf(x/(1e3*60*60))%24,pe=qf(x/(1e3*60*60*24));return T=T[Ar]===1?"00"+T:T[Ar]===2?"0"+T:T,B=B[Ar]<2?"0"+B:B,Q=Q[Ar]<2?"0"+Q:Q,z=z[Ar]<2?"0"+z:z,(pe>0?pe+".":fm)+z+":"+Q+":"+B+"."+T}s(mT,"msToTimeSpan");function CM(x,T){var B=null;return Us(x,function(Q){if(Q.identifier===T)return B=Q,-1}),B}s(CM,"getExtensionByName");function ud(x,T,B,Q,z){return!z&&re(x)&&(x==="Script error."||x==="Script error")}s(ud,"isCrossOriginError");var EM=function(){function x(T,B,Q,z,pe,Ee,Be){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Me=this;Me.ver=2,Me.id=em(T,Be),Me.url=Tl(T,Q),Me[U0]=Ss(T,B)||vl,isNaN(z)||(Me[oy]=mT(z)),Me[bl]=Fu(T,pe),Me[Oa]=H0(T,Ee)}return s(x,"PageView"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",x.dataType="PageviewData",x}(),dm=function(){function x(T,B,Q,z,pe,Ee,Be,Me,et,St,pr,Rr){et===void 0&&(et="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Rt=this;Rt.ver=2,Rt.id=B,Rt[oy]=mT(pe),Rt.success=Ee,Rt.resultCode=Be+"",Rt.type=Ss(T,et);var Lt=OB(T,Q,Me,z);Rt.data=Tl(T,z)||Lt.data,Rt.target=Ss(T,Lt.target),St&&(Rt.target="".concat(Rt.target," | ").concat(St)),Rt[U0]=Ss(T,Lt[U0]),Rt[bl]=Fu(T,pr),Rt[Oa]=H0(T,Rr)}return s(x,"RemoteDependencyData"),x.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",x.dataType="RemoteDependencyData",x}(),gT=function(){function x(T,B,Q,z,pe){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ee=this;Ee.ver=2,B=B||vl,Ee[ry]=VI(T,B),Ee[bl]=Fu(T,z),Ee[Oa]=H0(T,pe),Q&&(Ee[iy]=Q)}return s(x,"Trace"),x.envelopeType="Microsoft.ApplicationInsights.{0}.Message",x.dataType="MessageData",x}(),Ay=function(){function x(T,B,Q,z,pe,Ee,Be){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Me=this;Me.ver=2,Me.url=Tl(T,Q),Me[U0]=Ss(T,B)||vl,Me[bl]=Fu(T,pe),Me[Oa]=H0(T,Ee),Be&&(Me.domProcessing=Be.domProcessing,Me[oy]=Be[oy],Me.networkConnect=Be.networkConnect,Me.perfTotal=Be.perfTotal,Me.receivedResponse=Be.receivedResponse,Me.sentRequest=Be.sentRequest)}return s(x,"PageViewPerformance"),x.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",x.dataType="PageviewPerformanceData",x}(),IM=function(){function x(T,B){this.aiDataContract={baseType:1,baseData:1},this.baseType=T,this.baseData=B}return s(x,"Data"),x}(),t2=O1({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),xM=function(){function x(){}return s(x,"ConfigurationManager"),x.getConfig=function(T,B,Q,z){z===void 0&&(z=!1);var pe;return Q&&T[jp]&&T[jp][Q]&&!W(T[jp][Q][B])?pe=T[jp][Q][B]:pe=T[B],W(pe)?z:pe},x}();function Sl(x){var T="ai."+x+".";return function(B){return T+B}}s(Sl,"_aiNameFunc");var hm=Sl("application"),Jo=Sl("device"),r2=Sl("location"),Am=Sl("operation"),n2=Sl("session"),fd=Sl("user"),qh=Sl("cloud"),py=Sl("internal"),dd=function(x){zf(T,x);function T(){return x.call(this)||this}return s(T,"ContextTagKeys"),T}(Y1({applicationVersion:hm("ver"),applicationBuild:hm("build"),applicationTypeId:hm("typeId"),applicationId:hm("applicationId"),applicationLayer:hm("layer"),deviceId:Jo("id"),deviceIp:Jo("ip"),deviceLanguage:Jo("language"),deviceLocale:Jo("locale"),deviceModel:Jo("model"),deviceFriendlyName:Jo("friendlyName"),deviceNetwork:Jo("network"),deviceNetworkName:Jo("networkName"),deviceOEMName:Jo("oemName"),deviceOS:Jo("os"),deviceOSVersion:Jo("osVersion"),deviceRoleInstance:Jo("roleInstance"),deviceRoleName:Jo("roleName"),deviceScreenResolution:Jo("screenResolution"),deviceType:Jo("type"),deviceMachineName:Jo("machineName"),deviceVMName:Jo("vmName"),deviceBrowser:Jo("browser"),deviceBrowserVersion:Jo("browserVersion"),locationIp:r2("ip"),locationCountry:r2("country"),locationProvince:r2("province"),locationCity:r2("city"),operationId:Am("id"),operationName:Am("name"),operationParentId:Am("parentId"),operationRootId:Am("rootId"),operationSyntheticSource:Am("syntheticSource"),operationCorrelationVector:Am("correlationVector"),sessionId:n2("id"),sessionIsFirst:n2("isFirst"),sessionIsNew:n2("isNew"),userAccountAcquisitionDate:fd("accountAcquisitionDate"),userAccountId:fd("accountId"),userAgent:fd("userAgent"),userId:fd("id"),userStoreRegion:fd("storeRegion"),userAuthUserId:fd("authUserId"),userAnonymousUserAcquisitionDate:fd("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:fd("authUserAcquisitionDate"),cloudName:qh("name"),cloudRole:qh("role"),cloudRoleVer:qh("roleVer"),cloudRoleInstance:qh("roleInstance"),cloudEnvironment:qh("environment"),cloudLocation:qh("location"),cloudDeploymentUnit:qh("deploymentUnit"),internalNodeName:py("nodeName"),internalSdkVersion:py("sdkVersion"),internalAgentVersion:py("agentVersion"),internalSnippet:py("snippet"),internalSdkSrc:py("sdkSrc")}));function yT(x,T,B,Q,z,pe){B=Ss(Q,B)||vl,(W(x)||W(T)||W(B))&&Mr("Input doesn't contain all required fields");var Ee="";x[X5]&&(Ee=x[X5],delete x[X5]);var Be={name:B,time:Ru(new Date),iKey:Ee,ext:pe||{},tags:[],data:{},baseType:T,baseData:x};return W(z)||Vt(z,function(Me,et){Be.data[Me]=et}),Be}s(yT,"createTelemetryItem");var CT=function(){function x(){}return s(x,"TelemetryItemCreator"),x.create=yT,x}(),vM={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},bM=new dd;function i8(x){var T=null;if(te(Event))T=new Event(x);else{var B=Se();B&&B.createEvent&&(T=B.createEvent("Event"),T.initEvent(x,!0,!0))}return T}s(i8,"createDomEvent");function ET(x,T){wB(x,null,null,T)}s(ET,"_disableEvents");function o8(x){var T=Se(),B=Nn(),Q=!1,z=[],pe=1;B&&!W(B.onLine)&&!B.onLine&&(pe=2);var Ee=0,Be=Rr(),Me=XL(Du("OfflineListener"),x);try{if(St(nr())&&(Q=!0),T){var et=T.body||T;et.ononline&&St(et)&&(Q=!0)}}catch{Q=!1}function St(vn){var ds=!1;return vn&&(ds=K5(vn,"online",_r,Me),ds&&K5(vn,"offline",mr,Me)),ds}s(St,"_enableEvents");function pr(){return Be}s(pr,"_isOnline");function Rr(){return!(Ee===2||pe===2)}s(Rr,"calCurrentState");function Rt(){var vn=Rr();Be!==vn&&(Be=vn,Us(z,function(ds){var mm={isOnline:Be,rState:pe,uState:Ee};try{ds(mm)}catch{}}))}s(Rt,"listnerNoticeCheck");function Lt(vn){Ee=vn,Rt()}s(Lt,"setOnlineState");function _r(){pe=1,Rt()}s(_r,"_setOnline");function mr(){pe=2,Rt()}s(mr,"_setOffline");function un(){var vn=nr();if(vn&&Q){if(ET(vn,Me),T){var ds=T.body||T;ce(ds.ononline)||ET(ds,Me)}Q=!1}}s(un,"_unload");function Jn(vn){return z.push(vn),{rm:s(function(){var ds=z.indexOf(vn);if(ds>-1)return z.splice(ds,1)},"rm")}}return s(Jn,"addListener"),{isOnline:pr,isListening:s(function(){return Q},"isListening"),unload:un,addListener:Jn,setOnlineState:Lt}}s(o8,"createOfflineListener");var TM="AppInsightsPropertiesPlugin",IT="AppInsightsChannelPlugin",pm="ApplicationInsightsAnalytics";t.AnalyticsPluginIdentifier=pm,t.BreezeChannelIdentifier=IT,t.ConfigurationManager=xM,t.ConnectionStringParser=YI,t.ContextTagKeys=dd,t.CtxTagKeys=bM,t.DEFAULT_BREEZE_ENDPOINT=J5,t.DEFAULT_BREEZE_PATH=ty,t.Data=IM,t.DisabledPropertyName=MI,t.DistributedTracingModes=iM,t.Envelope=zI,t.Event=lM,t.EventPersistence=sy,t.Exception=wl,t.Extensions=vM,t.HttpMethod=BB,t.Metric=gM,t.PageView=EM,t.PageViewPerformance=Ay,t.ProcessLegacy=OI,t.PropertiesPluginIdentifier=TM,t.RemoteDependencyData=dm,t.RequestHeaders=RB,t.SampleRate=SB,t.SeverityLevel=t2,t.TelemetryItemCreator=CT,t.ThrottleMgr=cM,t.Trace=gT,t.correlationIdCanIncludeCorrelationHeader=ad,t.correlationIdGetCorrelationContext=LB,t.correlationIdGetCorrelationContextValue=MB,t.correlationIdGetPrefix=cT,t.correlationIdSetPrefix=aT,t.createDistributedTraceContextFromTrace=lT,t.createDomEvent=i8,t.createOfflineListener=o8,t.createTelemetryItem=yT,t.createTraceParent=Hp,t.dataSanitizeException=iT,t.dataSanitizeId=em,t.dataSanitizeInput=oT,t.dataSanitizeKey=nT,t.dataSanitizeKeyAndAddUniqueness=rT,t.dataSanitizeMeasurements=H0,t.dataSanitizeMessage=VI,t.dataSanitizeProperties=Fu,t.dataSanitizeString=Ss,t.dataSanitizeUrl=Tl,t.dateTimeUtilsDuration=nM,t.dateTimeUtilsNow=rM,t.dsPadNumber=kB,t.findAllScripts=Y5,t.findW3cTraceParent=$5,t.formatTraceParent=Mh,t.getExtensionByName=CM,t.isBeaconApiSupported=Xf,t.isCrossOriginError=ud,t.isInternalApplicationInsightsEndpoint=FB,t.isSampledFlag=NI,t.isValidSpanId=Gp,t.isValidTraceId=qp,t.isValidTraceParent=Vp,t.msToTimeSpan=mT,t.parseConnectionString=$I,t.parseTraceParent=O0,t.strNotSpecified=vl,t.stringToBoolOrDefault=yM,t.urlGetAbsoluteUrl=eM,t.urlGetCompleteUrl=NB,t.urlGetPathName=tM,t.urlParseFullHost=Lu,t.urlParseHost=QB,t.urlParseUrl=tm,t.utlCanUseLocalStorage=WI,t.utlCanUseSessionStorage=Mu,t.utlDisableStorage=ay,t.utlEnableStorage=oM,t.utlGetLocalStorage=HB,t.utlGetSessionStorage=GB,t.utlGetSessionStorageKeys=am,t.utlRemoveSessionStorage=VB,t.utlRemoveStorage=q0,t.utlSetLocalStorage=qB,t.utlSetSessionStorage=sM,t.utlSetStoragePrefix=cy})});var Vre=q((D6,Gre)=>{f();(function(t,e){typeof D6=="object"&&typeof Gre<"u"?e(D6):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e((t.Microsoft=t.Microsoft||{},t.Microsoft.ApplicationInsights=t.Microsoft.ApplicationInsights||{})))})(D6,function(t){"use strict";function e(m,y){return m||y}s(e,"_pureAssign");function r(m,y){return m[y]}s(r,"_pureRef");var n=void 0,o=null,a="",c="function",l="object",u="prototype",d="__proto__",h="undefined",A="constructor",p="Symbol",g="_polyfill",E="length",v="name",w="call",_="toString",S=e(Object),D=r(S,u),N=e(String),P=r(N,u),O=e(Math),Y=e(Array),ne=r(Y,u),oe=r(ne,"slice");function he(m,y){try{return{v:m.apply(this,y)}}catch(I){return{e:I}}}s(he,"safe");function $(m,y){var I=he(m);return I.e?y:I.v}s($,"safeGet");var K;function xe(m){return function(y){return typeof y===m}}s(xe,"_createIs");function ce(m){var y="[object "+m+"]";return function(I){return!!(I&&J(I)===y)}}s(ce,"_createObjIs");function J(m){return D[_].call(m)}s(J,"objToString");function W(m){return typeof m===h||m===h}s(W,"isUndefined");function Z(m){return!ie(m)}s(Z,"isStrictUndefined");function re(m){return m===o||W(m)}s(re,"isNullOrUndefined");function te(m){return m===o||!ie(m)}s(te,"isStrictNullOrUndefined");function ie(m){return!!m||m!==n}s(ie,"isDefined");function ue(m){return!K&&(K=["string","number","boolean",h,"symbol","bigint"]),m!==l&&K.indexOf(m)!==-1}s(ue,"isPrimitiveType");var Ae=xe("string"),Je=xe(c);function rt(m){return!m&&re(m)?!1:!!m&&typeof m===l}s(rt,"isObject");var lt=r(Y,"isArray"),Ct=ce("Date"),Vt=xe("number"),Hr=xe("boolean"),Dn=ce("Error");function br(m){return!!(m&&m.then&&Je(m.then))}s(br,"isPromiseLike");function le(m){return!(!m||$(function(){return!(m&&0+m)},!m))}s(le,"isTruthy");var Xe=r(S,"getOwnPropertyDescriptor");function ge(m,y){return!!m&&D.hasOwnProperty[w](m,y)}s(ge,"objHasOwnProperty");var ft=e(r(S,"hasOwn"),st);function st(m,y){return ge(m,y)||!!Xe(m,y)}s(st,"polyObjHasOwn");function $e(m,y,I){if(m&&rt(m)){for(var b in m)if(ft(m,b)&&y[w](I||m,b,m[b])===-1)break}}s($e,"objForEachKey");var Mr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function xn(m){var y={};if(y[Mr.c]=!0,y[Mr.e]=!0,m.l){y.get=function(){return m.l.v};var I=Xe(m.l,"v");I&&I.set&&(y.set=function(b){m.l.v=b})}return $e(m,function(b,R){y[Mr[b]]=Z(R)?y[Mr[b]]:R}),y}s(xn,"_createProp");var qr=r(S,"defineProperty");function Jt(m,y,I){return qr(m,y,xn(I))}s(Jt,"objDefine");function gi(m,y,I,b,R){var k={};return $e(m,function(F,V){Yo(k,F,y?V:F),Yo(k,V,I?V:F)}),b?b(k):k}s(gi,"_createKeyValueMap");function Yo(m,y,I,b){qr(m,y,{value:I,enumerable:!0,writable:!1})}s(Yo,"_assignMapValue");var Mn=e(N),zo="[object Error]";function Xt(m,y){var I=a,b=D[_][w](m);b===zo&&(m={stack:Mn(m.stack),message:Mn(m.message),name:Mn(m.name)});try{I=JSON.stringify(m,o,y?typeof y=="number"?y:4:n),I=(I?I.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):o)||Mn(m)}catch(R){I=" - "+Xt(R,y)}return b+": "+I}s(Xt,"dumpObj");function mo(m){throw new Error(m)}s(mo,"throwError");function ko(m){throw new TypeError(m)}s(ko,"throwTypeError");var fa=r(S,"freeze");function de(m){return m}s(de,"_doNothing");function Ve(m){return m[d]||o}s(Ve,"_getProto");var ht=r(S,"assign"),vt=r(S,"keys");function zr(m){return fa&&$e(m,function(y,I){(lt(I)||rt(I))&&zr(I)}),Tr(m)}s(zr,"objDeepFreeze");var Tr=e(fa,de),Kn=e(r(S,"getPrototypeOf"),Ve);function oi(m){return gi(m,1,0,Tr)}s(oi,"createEnum");function Or(m){return gi(m,0,0,Tr)}s(Or,"createEnumKeyMap");function Kr(m){var y={};return $e(m,function(I,b){Yo(y,I,b[1]),Yo(y,b[0],b[1])}),Tr(y)}s(Kr,"createSimpleMap");function Gr(m){return Kr(m)}s(Gr,"createTypeMap");var di=Or({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Vi="__tsUtils$gblCfg",Do;function Tc(){var m;return typeof globalThis!==h&&(m=globalThis),!m&&typeof self!==h&&(m=self),!m&&typeof window!==h&&(m=window),!m&&typeof global!==h&&(m=global),m}s(Tc,"_getGlobalValue");function Of(){if(!Do){var m=he(Tc).v||{};Do=m[Vi]=m[Vi]||{}}return Do}s(Of,"_getGlobalConfig");var N0=vu;function vu(m,y,I){var b=y?y[m]:o;return function(R){var k=(R?R[m]:o)||b;if(k||I){var F=arguments;return(k||I).apply(R,k?oe[w](F,1):F)}ko('"'+Mn(m)+'" not defined for '+Xt(R))}}s(vu,"_unwrapFunctionWithPoly");function cs(m){return function(y){return y[m]}}s(cs,"_unwrapProp");var bu=r(O,"min"),_e=r(O,"max"),M=N0("slice",P),fe=N0("substring",P),Ce=vu("substr",P,X);function X(m,y,I){return re(m)&&ko("Invalid "+Xt(m)),I<0?a:(y=y||0,y<0&&(y=_e(y+m[E],0)),W(I)?M(m,y):M(m,y,y+I))}s(X,"polyStrSubstr");function L(m,y){return fe(m,0,y)}s(L,"strLeft");var Se="_urid",Ze;function nr(){if(!Ze){var m=Of();Ze=m.gblSym=m.gblSym||{k:{},s:{}}}return Ze}s(nr,"_globalSymbolRegistry");var yi;function Nn(m){var y={description:Mn(m),toString:s(function(){return p+"("+m+")"},"toString")};return y[g]=!0,y}s(Nn,"polyNewSymbol");function Os(m){var y=nr();if(!ft(y.k,m)){var I=Nn(m),b=vt(y.s).length;I[Se]=function(){return b+"_"+I[_]()},y.k[m]=I,y.s[I[Se]()]=Mn(m)}return y.k[m]}s(Os,"polySymbolFor");function da(m){!yi&&(yi={});var y,I=di[m];return I&&(y=yi[I]=yi[I]||Nn(p+"."+I)),y}s(da,"polyGetKnownSymbol");var si;function Dr(){si=Of()}s(Dr,"_initTestHooks");function Q0(m){var y={};return!si&&Dr(),y.b=si.lzy,qr(y,"v",{configurable:!0,get:s(function(){var I=m();return si.lzy||qr(y,"v",{value:I}),y.b=si.lzy,I},"get")}),y}s(Q0,"getLazy");function ls(m){return qr({toJSON:s(function(){return m},"toJSON")},"v",{value:m})}s(ls,"createCachedValue");var Tu="window",Us;function _u(m,y){var I;return function(){return!si&&Dr(),(!I||si.lzy)&&(I=ls(he(m,y).v)),I.v}}s(_u,"_getGlobalInstFn");function ml(m){return!si&&Dr(),(!Us||m===!1||si.lzy)&&(Us=ls(he(Tc).v||o)),Us.v}s(ml,"getGlobal");function No(m,y){var I;if(!Us||y===!1?I=ml(y):I=Us.v,I&&I[m])return I[m];if(m===Tu)try{return window}catch{}return o}s(No,"getInst");function Uf(){return!!hp()}s(Uf,"hasDocument");var hp=_u(No,["document"]);function x5(){return!!wu()}s(x5,"hasWindow");var wu=_u(No,[Tu]);function SL(){return!!Hf()}s(SL,"hasNavigator");var Hf=_u(No,["navigator"]),BL=_u(function(){return!!he(function(){return process&&(process.versions||{}).node}).v}),xh,v5;function iI(){return xh=ls(he(No,[p]).v),xh}s(iI,"_initSymbol");function RL(m){var y=(si.lzy?0:xh)||iI();return y.v?y.v[m]:n}s(RL,"_getSymbolKey");function Ma(){return!!qf()}s(Ma,"hasSymbol");function qf(){return!si&&Dr(),((si.lzy?0:xh)||iI()).v}s(qf,"getSymbol");function F1(m,y){var I=di[m];!si&&Dr();var b=(si.lzy?0:xh)||iI();return b.v?b.v[I||m]:y?n:da(m)}s(F1,"getKnownSymbol");function vh(m,y){!si&&Dr();var I=(si.lzy?0:xh)||iI();return I.v?I.v(m):y?o:Nn(m)}s(vh,"newSymbol");function L1(m){return!si&&Dr(),v5=(si.lzy?0:v5)||ls(he(RL,["for"]).v),(v5.v||Os)(m)}s(L1,"symbolFor");function Gf(m){return!!m&&Je(m.next)}s(Gf,"isIterator");function oI(m){return!te(m)&&Je(m[F1(3)])}s(oI,"isIterable");var M1;function b5(m,y,I){if(m&&(Gf(m)||(!M1&&(M1=ls(F1(3))),m=m[M1.v]?m[M1.v]():o),Gf(m))){var b=n,R=n;try{for(var k=0;!(R=m.next()).done&&y[w](I||m,R.value,k,m)!==-1;)k++}catch(F){b={e:F},m.throw&&(R=o,m.throw(b))}finally{try{R&&!R.done&&m.return&&m.return(R)}finally{if(b)throw b.e}}}}s(b5,"iterForOf");function Ap(m,y,I){return m.apply(y,I)}s(Ap,"fnApply");function pp(m,y){return!W(y)&&m&&(lt(y)?Ap(m.push,m,y):Gf(y)||oI(y)?b5(y,function(I){m.push(I)}):m.push(y)),m}s(pp,"arrAppend");function Yt(m,y,I){if(m)for(var b=m[E]>>>0,R=0;R<b&&!(R in m&&y[w](I||m,m[R],R,m)===-1);R++);}s(Yt,"arrForEach");var a0=N0("indexOf",ne),bh=N0("map",ne);function mp(m,y,I){return((m?m.slice:o)||oe).apply(m,oe[w](arguments,1))}s(mp,"arrSlice");var kL=N0("reduce",ne),Vf=e(r(S,"create"),DL);function DL(m){if(!m)return{};var y=typeof m;y!==l&&y!==c&&ko("Prototype must be an Object or function: "+Xt(m));function I(){}return s(I,"tempFunc"),I[u]=m,new I}s(DL,"polyObjCreate");var T5;function O1(m,y){var I=S.setPrototypeOf||function(b,R){var k;!T5&&(T5=ls((k={},k[d]=[],k instanceof Array))),T5.v?b[d]=R:$e(R,function(F,V){return b[F]=V})};return I(m,y)}s(O1,"objSetPrototypeOf");function NL(m,y,I){he(Jt,[y,v,{v:m,c:!0,e:!1}]),y=O1(y,I);function b(){this[A]=y,he(Jt,[this,v,{v:m,c:!0,e:!1}])}return s(b,"__"),y[u]=I===o?Vf(I):(b[u]=I[u],new b),y}s(NL,"_createCustomError");function U1(m,y){y&&(m[v]=y)}s(U1,"_setName");function us(m,y,I){var b=I||Error,R=b[u][v],k=Error.captureStackTrace;return NL(m,function(){var F=this,V=arguments;try{he(U1,[b,m]);var j=Ap(b,F,oe[w](V))||F;if(j!==F){var se=Kn(F);se!==Kn(j)&&O1(j,se)}return k&&k(j,F[A]),y&&y(j,V),j}finally{he(U1,[b,R])}},b)}s(us,"createCustomError");function Wf(){return(Date.now||H1)()}s(Wf,"utcNow");function H1(){return new Date().getTime()}s(H1,"polyUtcNow");function rB(m){return s(function(I){return re(I)&&ko("strTrim called ["+Xt(I)+"]"),I&&I.replace&&(I=I.replace(m,a)),I},"_doTrim")}s(rB,"_createTrimFn");var QL=rB(/^\s+|(?=\s)\s+$/g),On=vu("trim",P,QL),Th=r(O,"floor"),$f,_5,q1;function c0(m){if(!m||typeof m!==l)return!1;q1||(q1=x5()?wu():!0);var y=!1;if(m!==q1){_5||($f=Function[u][_],_5=$f[w](S));try{var I=Kn(m);y=!I,y||(ge(I,A)&&(I=I[A]),y=!!(I&&typeof I===c&&$f[w](I)===_5))}catch{}}return y}s(c0,"isPlainObject");function nB(m){return m.value&&sI(m),!0}s(nB,"_defaultDeepCopyHandler");var iB=[gp,sI,sB,Yf];function w5(m,y,I,b){var R;return Yt(m,function(k){if(k.k===y)return R=k,-1}),R||(R={k:y,v:y},m.push(R),b(R)),R.v}s(w5,"_getSetVisited");function _h(m,y,I,b){var R=I.handler,k=I.path?b?I.path.concat(b):I.path:[],F={handler:I.handler,src:I.src,path:k},V=typeof y,j=!1,se=y===o;se||(y&&V===l?j=c0(y):se=ue(V));var ye={type:V,isPrim:se,isPlain:j,value:y,result:y,path:k,origin:I.src,copy:s(function(Te,Pe){return _h(m,Te,Pe?F:I,Pe)},"copy"),copyTo:s(function(Te,Pe){return S5(m,Te,Pe,F)},"copyTo")};return ye.isPrim?R&&R[w](I,ye)?ye.result:y:w5(m,y,k,function(Te){Jt(ye,"result",{g:s(function(){return Te.v},"g"),s:s(function(De){Te.v=De},"s")});for(var Pe=0,we=R;!(we||(Pe<iB.length?iB[Pe++]:nB))[w](I,ye);)we=o})}s(_h,"_deepCopy");function S5(m,y,I,b){if(!re(I))for(var R in I)y[R]=_h(m,I[R],b,R);return y}s(S5,"_copyProps");function oB(m,y,I){var b={handler:I,src:y,path:[]};return S5([],m,y,b)}s(oB,"objCopyProps");function B5(m,y){var I={handler:y,src:m};return _h([],m,I)}s(B5,"objDeepCopy");function gp(m){var y=m.value;if(lt(y)){var I=m.result=[];return I.length=y.length,m.copyTo(I,y),!0}return!1}s(gp,"arrayDeepCopyHandler");function Yf(m){var y=m.value;return Ct(y)?(m.result=new Date(y.getTime()),!0):!1}s(Yf,"dateDeepCopyHandler");function sB(m){return m.type===c}s(sB,"functionDeepCopyHandler");function sI(m){var y=m.value;if(y&&m.isPlain){var I=m.result={};return m.copyTo(I,y),!0}return!1}s(sI,"plainObjDeepCopyHandler");function R5(m,y){return Yt(y,function(I){oB(m,I)}),m}s(R5,"_doExtend");function aI(m,y,I,b,R,k,F){return R5(B5(m)||{},oe[w](arguments))}s(aI,"deepExtend");var PL=cs(E),FL=r(O,"round"),aB=vu("endsWith",P,LL);function LL(m,y,I){Ae(m)||ko("'"+Xt(m)+"' is not a string");var b=Ae(y)?y:Mn(y),R=!W(I)&&I<m[E]?I:m[E];return fe(m,R-b[E],R)===b}s(LL,"polyStrEndsWith");var Su=N0("indexOf",P),cI="ref",k5="unref",lI="hasRef",ML="enabled";function uI(m,y,I){var b=!0,R=m?y(o):o,k;function F(){return b=!1,R&&R[k5]&&R[k5](),k}s(F,"_unref");function V(){R&&I(R),R=o}s(V,"_cancel");function j(){return R=y(R),b||F(),k}s(j,"_refresh");function se(ye){!ye&&R&&V(),ye&&!R&&j()}return s(se,"_setEnabled"),k={cancel:V,refresh:j},k[lI]=function(){return R&&R[lI]?R[lI]():b},k[cI]=function(){return b=!0,R&&R[cI]&&R[cI](),k},k[k5]=F,k=qr(k,ML,{get:s(function(){return!!R},"get"),set:se}),{h:k,dn:s(function(){R=o},"dn")}}s(uI,"_createTimerHandler");function fI(m,y,I){var b=lt(y),R=b?y.length:0,k=(R>0?y[0]:b?n:y)||setTimeout,F=(R>1?y[1]:n)||clearTimeout,V=I[0];I[0]=function(){j.dn(),Ap(V,n,oe[w](arguments))};var j=uI(m,function(se){if(se){if(se.refresh)return se.refresh(),se;Ap(F,n,[se])}return Ap(k,n,I)},function(se){Ap(F,n,[se])});return j.h}s(fI,"_createTimeoutWith");function zf(m,y){return fI(!0,n,oe[w](arguments))}s(zf,"scheduleTimeout");function dI(m,y){return fI(!1,n,oe[w](arguments))}s(dI,"createTimeout");var wh,P0="constructor",F0="prototype",Sh="function",yp="_dynInstFuncs",jf="_isDynProxy",Cp="_dynClass",D5="_dynCls$",Bh="_dynInstChk",Ep=Bh,N5="_dfOpts",hI="_unknown_",Ip="__proto__",G1="_dyn"+Ip,AI="__dynProto$Gbl",xp="_dynInstProto",vp="useBaseInst",V1="setInstFuncs",Rh=Object,bp=Rh.getPrototypeOf,Q5=Rh.getOwnPropertyNames,pI=ml(),Tp=pI[AI]||(pI[AI]={o:(wh={},wh[V1]=!0,wh[vp]=!0,wh),n:1e3});function _p(m){return m&&(m===Rh[F0]||m===Array[F0])}s(_p,"_isObjectOrArrayPrototype");function Bu(m){return _p(m)||m===Function[F0]}s(Bu,"_isObjectArrayOrFunctionPrototype");function gl(m){var y;if(m){if(bp)return bp(m);var I=m[Ip]||m[F0]||(m[P0]?m[P0][F0]:null);y=m[G1]||I,ge(m,G1)||(delete m[xp],y=m[G1]=m[xp]||m[G1],m[xp]=I)}return y}s(gl,"_getObjProto");function wp(m,y){var I=[];if(Q5)I=Q5(m);else for(var b in m)typeof b=="string"&&ge(m,b)&&I.push(b);if(I&&I.length>0)for(var R=0;R<I.length;R++)y(I[R])}s(wp,"_forEachProp");function Sp(m,y,I){return y!==P0&&typeof m[y]===Sh&&(I||ge(m,y))&&y!==Ip&&y!==F0}s(Sp,"_isDynamicCandidate");function mI(m){ko("DynamicProto: "+m)}s(mI,"_throwTypeError");function P5(m){var y=Vf(null);return wp(m,function(I){!y[I]&&Sp(m,I,!1)&&(y[I]=m[I])}),y}s(P5,"_getInstanceFuncs");function F5(m,y){for(var I=m.length-1;I>=0;I--)if(m[I]===y)return!0;return!1}s(F5,"_hasVisited");function OL(m,y,I,b){function R(j,se,ye){var Te=se[ye];if(Te[jf]&&b){var Pe=j[yp]||{};Pe[Ep]!==!1&&(Te=(Pe[se[Cp]]||{})[ye]||Te)}return function(){return Te.apply(j,arguments)}}s(R,"_instFuncProxy");var k=Vf(null);wp(I,function(j){k[j]=R(y,I,j)});for(var F=gl(m),V=[];F&&!Bu(F)&&!F5(V,F);)wp(F,function(j){!k[j]&&Sp(F,j,!bp)&&(k[j]=R(y,F,j))}),V.push(F),F=gl(F);return k}s(OL,"_getBaseFuncs");function UL(m,y,I,b){var R=null;if(m&&ge(I,Cp)){var k=m[yp]||Vf(null);if(R=(k[I[Cp]]||Vf(null))[y],R||mI("Missing ["+y+"] "+Sh),!R[Bh]&&k[Ep]!==!1){for(var F=!ge(m,y),V=gl(m),j=[];F&&V&&!Bu(V)&&!F5(j,V);){var se=V[y];if(se){F=se===b;break}j.push(V),V=gl(V)}try{F&&(m[y]=R),R[Bh]=1}catch{k[Ep]=!1}}}return R}s(UL,"_getInstFunc");function HL(m,y,I){var b=y[m];return b===I&&(b=gl(y)[m]),typeof b!==Sh&&mI("["+m+"] is not a "+Sh),b}s(HL,"_getProtoFunc");function qL(m,y,I,b,R){function k(j,se){var ye=s(function(){var Te=UL(this,se,j,ye)||HL(se,j,ye);return Te.apply(this,arguments)},"dynProtoProxy");return ye[jf]=1,ye}if(s(k,"_createDynamicPrototype"),!_p(m)){var F=I[yp]=I[yp]||Vf(null);if(!_p(F)){var V=F[y]=F[y]||Vf(null);F[Ep]!==!1&&(F[Ep]=!!R),_p(V)||wp(I,function(j){Sp(I,j,!1)&&I[j]!==b[j]&&(V[j]=I[j],delete I[j],(!ge(m,j)||m[j]&&!m[j][jf])&&(m[j]=k(m,j)))})}}}s(qL,"_populatePrototype");function L5(m,y){if(bp){for(var I=[],b=gl(y);b&&!Bu(b)&&!F5(I,b);){if(b===m)return!0;I.push(b),b=gl(b)}return!1}return!0}s(L5,"_checkPrototype");function W1(m,y){return ge(m,F0)?m.name||y||hI:((m||{})[P0]||{}).name||y||hI}s(W1,"_getObjName");function ha(m,y,I,b){ge(m,F0)||mI("theClass is an invalid class definition.");var R=m[F0];L5(R,y)||mI("["+W1(m)+"] not in hierarchy of ["+W1(y)+"]");var k=null;ge(R,Cp)?k=R[Cp]:(k=D5+W1(m,"_")+"$"+Tp.n,Tp.n++,R[Cp]=k);var F=ha[N5],V=!!F[vp];V&&b&&b[vp]!==void 0&&(V=!!b[vp]);var j=P5(y),se=OL(R,y,j,V);I(y,se);var ye=!!bp&&!!F[V1];ye&&b&&(ye=!!b[V1]),qL(R,k,y,j,ye!==!1)}s(ha,"dynamicProto"),ha[N5]=Tp.o;var go="function",cB="object",lB="undefined",$1="prototype",M5=Object,O5=M5[$1];(ml()||{}).Symbol,(ml()||{}).Reflect;var gI="hasOwnProperty",uB=s(function(m){for(var y,I=1,b=arguments.length;I<b;I++){y=arguments[I];for(var R in y)O5[gI].call(y,R)&&(m[R]=y[R])}return m},"__objAssignFnImpl"),Ru=ht||uB,Kf=s(function(m,y){return Kf=M5.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,b){I.__proto__=b}||function(I,b){for(var R in b)b[gI](R)&&(I[R]=b[R])},Kf(m,y)},"extendStaticsFn");function Y1(m,y){typeof y!==go&&y!==null&&ko("Class extends value "+String(y)+" is not a constructor or null"),Kf(m,y);function I(){this.constructor=m}s(I,"__"),m[$1]=y===null?Vf(y):(I[$1]=y[$1],new I)}s(Y1,"__extendsFn");function fB(m,y){for(var I=0,b=y.length,R=m.length;I<b;I++,R++)m[R]=y[I];return m}s(fB,"__spreadArrayFn");var yI=oi,GL=Gr,Jf=yI({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Bp="toLowerCase",Ur="length",Rp="warnToConsole",kh="throwInternal",ku="watch",CI="apply",Un="push",kp="splice",jo="logger",Dp="cancel",z1="initialize",Xf="identifier",j1="removeNotificationListener",EI="addNotificationListener",yl="isInitialized",Np="value",_c="getNotifyMgr",Qp="getPlugin",Zf="name",Hs="processNext",Pp="getProcessTelContext",Cl="enabled",dB="stopPollingInternalLogs",Dh="unload",II="onComplete",Fp="version",hB="loggingLevelConsole",Nh="createNew",El="teardown",xI="messageId",Qh="message",Il="diagLog",vI="_doTeardown",Du="update",xl="getNext",ed="setNextPlugin",bI="userAgent",td="split",rd="replace",Aa="type",U5="evtName",K1="status",H5="getAllResponseHeaders",q5="isChildEvt",Lp="data",nd="getCtx",wc="setCtx",AB="itemsReceived",Nu="urlString",G5="headers",Qu="timeout",pB="traceFlags",Mp;function V5(m,y){Mp||(Mp=us("AggregationError",function(b,R){R[Ur]>1&&(b.errors=R[1])}));var I=m||"One or more errors occurred.";throw Yt(y,function(b,R){I+=`
`.concat(R," > ").concat(Xt(b))}),new Mp(I,y||[])}s(V5,"throwAggregationError");var Ph="Promise",Fh="rejected";function L0(m,y){return mB(m,function(I){return y?y({status:"fulfilled",rejected:!1,value:I}):I},function(I){return y?y({status:Fh,rejected:!0,reason:I}):I})}s(L0,"doAwaitResponse");function mB(m,y,I,b){var R=m;try{if(br(m))(y||I)&&(R=m.then(y,I));else try{y&&(R=y(m))}catch(k){if(I)R=I(k);else throw k}}finally{b&&VL(R,b)}return R}s(mB,"doAwait");function VL(m,y){var I=m;return y&&(br(m)?m.finally?I=m.finally(y):I=m.then(function(b){return y(),b},function(b){throw y(),b}):y()),I}s(VL,"doFinally");var gB=["pending","resolving","resolved",Fh],yB="dispatchEvent",J1;function CB(m){var y;return m&&m.createEvent&&(y=m.createEvent("Event")),!!y&&y.initEvent}s(CB,"_hasInitEventFn");function TI(m,y,I,b){var R=hp();!J1&&(J1=ls(!!he(CB,[R]).v));var k=J1.v?R.createEvent("Event"):b?new Event(y):{};if(I&&I(k),J1.v&&k.initEvent(y,!1,!0),k&&m[yB])m[yB](k);else{var F=m["on"+y];if(F)F(k);else{var V=No("console");V&&(V.error||V.log)(y,Xt(k))}}}s(TI,"emitEvent");var EB="unhandledRejection",WL=EB.toLowerCase(),Op=10,_I;function IB(m){return Je(m)?m.toString():Xt(m)}s(IB,"dumpFnObj");function xB(m,y,I){var b=mp(arguments,3),R=0,k=!1,F,V=[],j=!1,se=null,ye;function Te(It,Nt){try{j=!0,se&&se.cancel(),se=null;var Nr=m(function(An,pn){V.push(function(){try{var ai=R===2?It:Nt,sr=W(ai)?F:Je(ai)?ai(F):ai;br(sr)?sr.then(An,pn):ai?An(sr):R===3?pn(sr):An(sr)}catch(Wt){pn(Wt)}}),k&&Ye()},b);return Nr}finally{}}s(Te,"_then");function Pe(It){return Te(void 0,It)}s(Pe,"_catch");function we(It){var Nt=It,Nr=It;return Je(It)&&(Nt=s(function(An){return It&&It(),An},"thenFinally"),Nr=s(function(An){throw It&&It(),An},"catchFinally")),Te(Nt,Nr)}s(we,"_finally");function De(){return gB[R]}s(De,"_strState");function Ye(){if(V.length>0){var It=V.slice();V=[],j=!0,se&&se.cancel(),se=null,y(It)}}s(Ye,"_processQueue");function Ue(It,Nt){return function(Nr){if(R===Nt){if(It===2&&br(Nr)){R=1,Nr.then(Ue(2,1),Ue(3,1));return}R=It,k=!0,F=Nr,Ye(),!j&&It===3&&!se&&(se=zf(nt,Op))}}}s(Ue,"_createSettleIfFn");function nt(){if(!j)if(j=!0,BL())process.emit(EB,F,ye);else{var It=wu()||ml();!_I&&(_I=ls(he(No,[Ph+"RejectionEvent"]).v)),TI(It,WL,function(Nt){return Jt(Nt,"promise",{g:s(function(){return ye},"g")}),Nt.reason=F,Nt},!!_I.v)}}s(nt,"_notifyUnhandledRejection"),ye={then:Te,catch:Pe,finally:we},qr(ye,"state",{get:De}),Ma()&&(ye[F1(11)]="IPromise");function At(){return"IPromise "+De()+(k?" - "+IB(F):"")}return s(At,"_toString"),ye.toString=At,s(function(){Je(I)||ko(Ph+": executor is not a function - "+IB(I));var Nt=Ue(3,0);try{I.call(ye,Ue(2,0),Nt)}catch(Nr){Nt(Nr)}},"_initialize")(),ye}s(xB,"_createPromise");function $L(m){return function(y){var I=mp(arguments,1);return m(function(b,R){try{var k=[],F=1;b5(y,function(V,j){V&&(F++,mB(V,function(se){k[j]=se,--F===0&&b(k)},R))}),F--,F===0&&b(k)}catch(V){R(V)}},I)}}s($L,"_createAllPromise");function YL(m){return ls(function(y){var I=mp(arguments,1);return m(function(b,R){var k=[],F=1;function V(j,se){F++,L0(j,function(ye){ye.rejected?k[se]={status:Fh,reason:ye.reason}:k[se]={status:"fulfilled",value:ye.value},--F===0&&b(k)})}s(V,"processItem");try{lt(y)?Yt(y,V):oI(y)?b5(y,V):ko("Input is not an iterable"),F--,F===0&&b(k)}catch(j){R(j)}},I)})}s(YL,"_createAllSettledPromise");function vB(m){Yt(m,function(y){try{y()}catch{}})}s(vB,"syncItemProcessor");function bB(m){var y=Vt(m)?m:0;return function(I){zf(function(){vB(I)},y)}}s(bB,"timeoutItemProcessor");function wI(m,y){return xB(wI,bB(y),m,y)}s(wI,"createAsyncPromise");var SI;function zL(m,y){!SI&&(SI=ls(he(No,[Ph]).v||null));var I=SI.v;if(!I)return wI(m);Je(m)||ko(Ph+": executor is not a function - "+Xt(m));var b=0;function R(){return gB[b]}s(R,"_strState");var k=new I(function(F,V){function j(ye){b=2,F(ye)}s(j,"_resolve");function se(ye){b=3,V(ye)}s(se,"_reject"),m(j,se)});return qr(k,"state",{get:R}),k}s(zL,"createNativePromise");var BI;function RI(m){return xB(RI,vB,m)}s(RI,"createSyncPromise");function l0(m,y){return!BI&&(BI=YL(RI)),BI.v(m,y)}s(l0,"createSyncAllSettledPromise");var kI;function Up(m,y){return!kI&&(kI=ls(zL)),kI.v.call(this,m,y)}s(Up,"createPromise");var W5=$L(Up),M0=void 0,ln="",Pu="channels",Ko="core",Sc="createPerfMgr",DI="disabled",Lh="extensionConfig",Hp="extensions",O0="processTelemetry",qp="priority",Gp="eventsSent",Vp="eventsDiscarded",NI="eventsSendRequest",Mh="perfEvent",$5="offlineEventsStored",Y5="offlineBatchSent",QI="offlineBatchDrop",X1="getPerfMgr",PI="domain",FI="path",TB="Not dynamic - ",z5=/-([a-z])/g,jL=/([^\w\d_$])/g,KL=/^(\d+[\w\d_$])/;function LI(m){return!re(m)}s(LI,"isNotNullOrUndefined");function Wp(m){var y=m;return y&&Ae(y)&&(y=y[rd](z5,function(I,b){return b.toUpperCase()}),y=y[rd](jL,"_"),y=y[rd](KL,function(I,b){return"_"+b})),y}s(Wp,"normalizeJsName");function qs(m,y){return m&&y?Su(m,y)!==-1:!1}s(qs,"strContains");function Z1(m){return m&&m.toISOString()||""}s(Z1,"toISOString");function ws(m){return Dn(m)?m[Zf]:ln}s(ws,"getExceptionName");function id(m,y,I,b,R){var k=I;return m&&(k=m[y],k!==I&&(!R||R(k))&&(!b||b(I))&&(k=I,m[y]=k)),k}s(id,"setValue");function _B(m,y,I){var b;return m?(b=m[y],!b&&re(b)&&(b=W(I)?{}:I,m[y]=b)):b=W(I)?{}:I,b}s(_B,"getSetValue");function JL(m,y){var I=null,b=null;return Je(m)?I=m:b=m,function(){var R=arguments;if(I&&(b=I()),b)return b[y][CI](b,R)}}s(JL,"_createProxyFunction");function ey(m,y,I,b,R){m&&y&&I&&(R!==!1||W(m[y]))&&(m[y]=JL(I,b))}s(ey,"proxyFunctionAs");function j5(m,y,I,b){return m&&y&&rt(m)&&lt(I)&&Yt(I,function(R){Ae(R)&&ey(m,R,y,R,b)}),m}s(j5,"proxyFunctions");function XL(m){return function(){function y(){var I=this;m&&$e(m,function(b,R){I[b]=R})}return s(y,"class_1"),y}()}s(XL,"createClassFromInterface");function K5(m){return m&&ht&&(m=M5(ht({},m))),m}s(K5,"optimizeObject");function wB(m,y,I,b,R,k){var F=arguments,V=F[0]||{},j=F[Ur],se=!1,ye=1;for(j>0&&Hr(V)&&(se=V,V=F[ye]||{},ye++),rt(V)||(V={});ye<j;ye++){var Te=F[ye],Pe=lt(Te),we=rt(Te);for(var De in Te){var Ye=Pe&&De in Te||we&&ft(Te,De);if(Ye){var Ue=Te[De],nt=void 0;if(se&&Ue&&((nt=lt(Ue))||c0(Ue))){var At=V[De];nt?lt(At)||(At=[]):c0(At)||(At={}),Ue=wB(se,At,Ue)}Ue!==void 0&&(V[De]=Ue)}}}return V}s(wB,"objExtend");function MI(m){try{return m.responseText}catch{}return null}s(MI,"getResponseText");function SB(m,y){return m?"XDomainRequest,Response:"+MI(m)||"":y}s(SB,"formatErrorMessageXdr");function OI(m,y){return m?"XMLHttpRequest,Status:"+m[K1]+",Response:"+MI(m)||m.response||"":y}s(OI,"formatErrorMessageXhr");function BB(m,y){return y&&(Vt(y)?m=[y].concat(m):lt(y)&&(m=y.concat(m))),m}s(BB,"prependTransports");var J5="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ty="withCredentials",vl="timeout";function X5(m,y,I,b,R,k){b===void 0&&(b=!1),R===void 0&&(R=!1);function F(j,se,ye){try{j[se]=ye}catch{}}s(F,"_wrapSetXhrProp");var V=new XMLHttpRequest;return b&&F(V,J5,b),I&&F(V,ty,I),V.open(m,y,!R),I&&F(V,ty,I),!R&&k&&F(V,vl,k),V}s(X5,"openXhr");function RB(m){var y={};if(Ae(m)){var I=On(m)[td](/[\r\n]+/);Yt(I,function(b){if(b){var R=b.indexOf(": ");if(R!==-1){var k=On(b.substring(0,R))[Bp](),F=On(b.substring(R+1));y[k]=F}else y[On(b)]=1}})}return y}s(RB,"convertAllHeadersToMap");function od(m,y,I){if(!m[I]&&y&&y.getResponseHeader){var b=y.getResponseHeader(I);b&&(m[I]=On(b))}return m}s(od,"_appendHeader");var Ar="kill-duration",$p="kill-duration-seconds",Oh="time-delta-millis";function Uh(m,y){var I={};return m[H5]?I=RB(m[H5]()):y&&(I=od(I,m,Oh),I=od(I,m,Ar),I=od(I,m,$p)),I}s(Uh,"_getAllResponseHeaders");var Z5="documentMode",ry="location",Yp="console",UI="JSON",eT="crypto",HI="msCrypto",zp="msie",Hh="trident/",tT="XMLHttpRequest",U0=null,jp=null,bl=!1,Oa=null,Kp=null;function ny(m,y){var I=!1;if(m){try{if(I=y in m,!I){var b=m[$1];b&&(I=y in b)}}catch{}if(!I)try{var R=new m;I=!W(R[y])}catch{}}return I}s(ny,"_hasProperty");function Jp(m){if(m&&bl){var y=No("__mockLocation");if(y)return y}return typeof location===cB&&location?location:No(ry)}s(Jp,"getLocation");function iy(){return typeof console!==lB?console:No(Yp)}s(iy,"getConsole");function Xp(){return!!(typeof JSON===cB&&JSON||No(UI)!==null)}s(Xp,"hasJSON");function u0(){return Xp()?JSON||No(UI):null}s(u0,"getJSON");function qI(){return No(eT)}s(qI,"getCrypto");function GI(){return No(HI)}s(GI,"getMsCrypto");function Bc(){var m=Hf();if(m&&(m[bI]!==jp||U0===null)){jp=m[bI];var y=(jp||ln)[Bp]();U0=qs(y,zp)||qs(y,Hh)}return U0}s(Bc,"isIE");function Zp(m){if(m===void 0&&(m=null),!m){var y=Hf()||{};m=y?(y.userAgent||ln)[Bp]():ln}var I=(m||ln)[Bp]();if(qs(I,zp)){var b=hp()||{};return _e(parseInt(I[td](zp)[1]),b[Z5]||0)}else if(qs(I,Hh)){var R=parseInt(I[td](Hh)[1]);if(R)return R+4}return null}s(Zp,"getIEVersion");function sd(m){return(Kp===null||m===!1)&&(Kp=SL()&&!!Hf().sendBeacon),Kp}s(sd,"isBeaconsSupported");function oy(m){var y=!1;try{y=!!No("fetch");var I=No("Request");y&&m&&I&&(y=ny(I,"keepalive"))}catch{}return y}s(oy,"isFetchSupported");function rT(){return Oa===null&&(Oa=typeof XDomainRequest!==lB,Oa&&nT()&&(Oa=Oa&&!ny(No(tT),"withCredentials"))),Oa}s(rT,"useXDomainRequest");function nT(){var m=!1;try{var y=No(tT);m=!!y}catch{}return m}s(nT,"isXhrSupported");var Ss=4294967296,Tl=4294967295,VI=123456789,iT=987654321,Fu=!1,H0=VI,em=iT;function oT(m){m<0&&(m>>>=0),H0=VI+m&Tl,em=iT-m&Tl,Fu=!0}s(oT,"_mwcSeed");function kB(){try{var m=Wf()&2147483647;oT((Math.random()*Ss^m)+m)}catch{}}s(kB,"_autoSeedMwc");function sT(m){var y=0,I=qI()||GI();return I&&I.getRandomValues&&(y=I.getRandomValues(new Uint32Array(1))[0]&Tl),y===0&&Bc()&&(Fu||kB(),y=DB()&Tl),y===0&&(y=Th(Ss*Math.random()|0)),m||(y>>>=0),y}s(sT,"random32");function DB(m){em=36969*(em&65535)+(em>>16)&Tl,H0=18e3*(H0&65535)+(H0>>16)&Tl;var y=(em<<16)+(H0&65535)>>>0&Tl|0;return m||(y>>>=0),y}s(DB,"mwcRandom32");function ZL(m){m===void 0&&(m=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=sT()>>>0,b=0,R=ln;R[Ur]<m;)b++,R+=y.charAt(I&63),I>>>=6,b===5&&(I=(sT()<<2&4294967295|I&3)>>>0,b=0);return R}s(ZL,"newId");var tm="3.3.6",eM="."+ZL(6),tM=0;function NB(m){return m.nodeType===1||m.nodeType===9||!+m.nodeType}s(NB,"_canAcceptData");function QB(m,y){var I=y[m.id];if(!I){I={};try{NB(y)&&Jt(y,m.id,{e:!1,v:I})}catch{}}return I}s(QB,"_getCache");function Lu(m,y){return y===void 0&&(y=!1),Wp(m+tM+++(y?"."+tm:ln)+eM)}s(Lu,"createUniqueNamespace");function PB(m){var y={id:Lu("_aiData-"+(m||ln)+"."+tm),accept:s(function(I){return NB(I)},"accept"),get:s(function(I,b,R,k){var F=I[y.id];return F?F[Wp(b)]:(k&&(F=QB(y,I),F[Wp(b)]=R),R)},"get"),kill:s(function(I,b){if(I&&I[b])try{delete I[b]}catch{}},"kill")};return y}s(PB,"createElmNodeData");function rm(m){return m&&rt(m)&&(m.isVal||m.fb||ft(m,"v")||ft(m,"mrg")||ft(m,"ref")||m.set)}s(rm,"_isConfigDefaults");function FB(m,y,I){var b,R=I.dfVal||ie;if(y&&I.fb){var k=I.fb;lt(k)||(k=[k]);for(var F=0;F<k[Ur];F++){var V=k[F],j=y[V];if(R(j)?b=j:m&&(j=m.cfg[V],R(j)&&(b=j),m.set(m.cfg,Mn(V),j)),R(b))break}}return!R(b)&&R(I.v)&&(b=I.v),b}s(FB,"_getDefault");function aT(m,y,I){var b=I;if(I&&rm(I)&&(b=FB(m,y,I)),b){rm(b)&&(b=aT(m,y,b));var R;lt(b)?(R=[],R[Ur]=b[Ur]):c0(b)&&(R={}),R&&($e(b,function(k,F){F&&rm(F)&&(F=aT(m,y,F)),R[k]=F}),b=R)}return b}s(aT,"_resolveDefaultValue");function cT(m,y,I,b){var R,k,F,V=b,j,se,ye,Te;rm(V)?(R=V.isVal,k=V.set,ye=V.rdOnly,Te=V.blkVal,j=V.mrg,se=V.ref,!se&&W(se)&&(se=!!j),F=FB(m,y,V)):F=b,Te&&m.blkVal(y,I);var Pe,we=!0,De=y[I];(De||!re(De))&&(Pe=De,we=!1,R&&Pe!==F&&!R(Pe)&&(Pe=F,we=!0),k&&(Pe=k(Pe,F,y),we=Pe===F)),we?F?Pe=aT(m,y,F):Pe=F:(c0(Pe)||lt(F))&&j&&F&&(c0(F)||lt(F))&&$e(F,function(Ye,Ue){cT(m,Pe,Ye,Ue)}),m.set(y,I,Pe),se&&m.ref(y,I),ye&&m.rdOnly(y,I)}s(cT,"_applyDefaultValue");var ad=L1("[[ai_dynCfg_1]]"),LB=L1("[[ai_blkDynCfg_1]]"),MB=L1("[[ai_frcDynCfg_1]]");function OB(m){if(m){var y;if(lt(m)?(y=[],y[Ur]=m[Ur]):c0(m)&&(y={}),y)return $e(m,function(I,b){y[I]=OB(b)}),y}return m}s(OB,"_cfgDeepCopy");function rM(m){if(m){var y=m[ad]||m;if(y.cfg&&(y.cfg===m||y.cfg[ad]===y))return y}return null}s(rM,"getDynamicConfigHandler");function nM(m){if(m&&(c0(m)||lt(m)))try{m[LB]=!0}catch{}return m}s(nM,"blockDynamicConversion");function lT(m,y,I){var b=!1;return I&&!m[y.blkVal]&&(b=I[MB],!b&&!I[LB]&&(b=c0(I)||lt(I))),b}s(lT,"_canMakeDynamic");function nm(m){ko("InvalidAccess:"+m)}s(nm,"throwInvalidAccess");var iM=["push","pop","shift","unshift","splice"],sy=s(function(m,y,I,b){m&&m[kh](3,108,"".concat(I," [").concat(y,"] failed - ")+Xt(b))},"_throwDynamicError");function cd(m,y,I){lt(y)&&Yt(iM,function(b){var R=y[b];y[b]=function(){for(var k=[],F=0;F<arguments.length;F++)k[F]=arguments[F];var V=R[CI](this,k);return sm(m,y,I,"Patching"),V}})}s(cd,"_patchArray");function Rc(m,y){var I=Xe(m,y);return I&&I.get}s(Rc,"_getOwnPropGetter");function UB(m,y,I,b){var R={n:I,h:[],trk:s(function(se){se&&se.fn&&(a0(R.h,se)===-1&&R.h[Un](se),m.trk(se,R))},"trk"),clr:s(function(se){var ye=a0(R.h,se);ye!==-1&&R.h[kp](ye,1)},"clr")},k=!0,F=!1;function V(){k&&(F=F||lT(V,m,b),b&&!b[ad]&&F&&(b=sm(m,b,I,"Converting")),k=!1);var se=m.act;return se&&R.trk(se),b}s(V,"_getProperty"),V[m.prop]={chng:s(function(){m.add(R)},"chng")};function j(se){if(b!==se){V[m.ro]&&!m.upd&&nm("["+I+"] is read-only:"+Xt(y)),k&&(F=F||lT(V,m,b),k=!1);var ye=F&&V[m.rf];if(F)if(ye){$e(b,function(Pe){b[Pe]=se?se[Pe]:M0});try{$e(se,function(Pe,we){im(m,b,Pe,we)}),se=b}catch(Pe){sy((m.hdlr||{})[jo],I,"Assigning",Pe),F=!1}}else b&&b[ad]&&$e(b,function(Pe){var we=Rc(b,Pe);if(we){var De=we[m.prop];De&&De.chng()}});if(se!==b){var Te=se&&lT(V,m,se);!ye&&Te&&(se=sm(m,se,I,"Converting")),b=se,F=Te}m.add(R)}}s(j,"_setProperty"),Jt(y,R.n,{g:V,s:j})}s(UB,"_createDynamicProperty");function im(m,y,I,b){if(y){var R=Rc(y,I),k=R&&!!R[m.prop];k?y[I]=b:UB(m,y,I,b)}return y}s(im,"_setDynamicProperty");function om(m,y,I,b){if(y){var R=Rc(y,I),k=R&&!!R[m.prop],F=b&&b[0],V=b&&b[1],j=b&&b[2];if(!k){if(j)try{nM(y)}catch(se){sy((m.hdlr||{})[jo],I,"Blocking",se)}try{im(m,y,I,y[I]),R=Rc(y,I)}catch(se){sy((m.hdlr||{})[jo],I,"State",se)}}F&&(R[m.rf]=F),V&&(R[m.ro]=V),j&&(R[m.blkVal]=!0)}return y}s(om,"_setDynamicPropertyState");function sm(m,y,I,b){try{$e(y,function(R,k){im(m,y,R,k)}),y[ad]||(qr(y,ad,{get:s(function(){return m.hdlr},"get")}),cd(m,y,I))}catch(R){sy((m.hdlr||{})[jo],I,b,R)}return y}s(sm,"_makeDynamicObject");var ay="[[ai_",cy="]]";function oM(m){var y=vh(ay+"get"+m.uid+cy),I=vh(ay+"ro"+m.uid+cy),b=vh(ay+"rf"+m.uid+cy),R=vh(ay+"blkVal"+m.uid+cy),k=vh(ay+"dtl"+m.uid+cy),F=null,V=null,j;function se(we,De){var Ye=j.act;try{j.act=we,we&&we[k]&&(Yt(we[k],function(nt){nt.clr(we)}),we[k]=[]),De({cfg:m.cfg,set:m.set.bind(m),setDf:m.setDf.bind(m),ref:m.ref.bind(m),rdOnly:m.rdOnly.bind(m)})}catch(nt){var Ue=m[jo];throw Ue&&Ue[kh](1,107,Xt(nt)),nt}finally{j.act=Ye||null}}s(se,"_useHandler");function ye(){if(F){var we=F;F=null,V&&V[Dp](),V=null;var De=[];if(Yt(we,function(Ye){if(Ye&&(Ye[k]&&(Yt(Ye[k],function(Ue){Ue.clr(Ye)}),Ye[k]=null),Ye.fn))try{se(Ye,Ye.fn)}catch(Ue){De[Un](Ue)}}),F)try{ye()}catch(Ye){De[Un](Ye)}De[Ur]>0&&V5("Watcher error(s): ",De)}}s(ye,"_notifyWatchers");function Te(we){if(we&&we.h[Ur]>0){F||(F=[]),V||(V=zf(function(){V=null,ye()},0));for(var De=0;De<we.h[Ur];De++){var Ye=we.h[De];Ye&&a0(F,Ye)===-1&&F[Un](Ye)}}}s(Te,"_addWatcher");function Pe(we,De){if(we){var Ye=we[k]=we[k]||[];a0(Ye,De)===-1&&Ye[Un](De)}}return s(Pe,"_trackHandler"),j={prop:y,ro:I,rf:b,blkVal:R,hdlr:m,add:Te,notify:ye,use:se,trk:Pe},j}s(oM,"_createState");function WI(m,y){var I={fn:y,rm:s(function(){I.fn=null,m=null,y=null},"rm")};return Jt(I,"toJSON",{v:s(function(){return"WatcherHandler"+(I.fn?"":"[X]")},"v")}),m.use(I,y),I}s(WI,"_createAndUseHandler");function HB(m,y,I){var b=rM(y);if(b)return b;var R=Lu("dyncfg",!0),k=y&&I!==!1?y:OB(y),F;function V(){F.notify()}s(V,"_notifyWatchers");function j(Ue,nt,At){try{Ue=im(F,Ue,nt,At)}catch(It){sy(m,nt,"Setting value",It)}return Ue[nt]}s(j,"_setValue");function se(Ue){return WI(F,Ue)}s(se,"_watch");function ye(Ue,nt){F.use(null,function(At){var It=F.upd;try{W(nt)||(F.upd=nt),Ue(At)}finally{F.upd=It}})}s(ye,"_block");function Te(Ue,nt){var At;return om(F,Ue,nt,(At={},At[0]=!0,At))[nt]}s(Te,"_ref");function Pe(Ue,nt){var At;return om(F,Ue,nt,(At={},At[1]=!0,At))[nt]}s(Pe,"_rdOnly");function we(Ue,nt){var At;return om(F,Ue,nt,(At={},At[2]=!0,At))[nt]}s(we,"_blkPropValue");function De(Ue,nt){return nt&&$e(nt,function(At,It){cT(Ye,Ue,At,It)}),Ue}s(De,"_applyDefaults");var Ye={uid:null,cfg:k,logger:m,notify:V,set:j,setDf:De,watch:se,ref:Te,rdOnly:Pe,blkVal:we,_block:ye};return Jt(Ye,"uid",{c:!1,e:!1,w:!1,v:R}),F=oM(Ye),sm(F,k,"config","Creating"),Ye}s(HB,"_createDynamicHandler");function qB(m,y){m?(m[Rp](y),m[kh](2,108,y)):nm(y)}s(qB,"_logInvalidAccess");function q0(m,y,I,b){var R=HB(I,m||{},b);return y&&R.setDf(R.cfg,y),R}s(q0,"createDynamicConfig");function Mu(m,y,I){var b=m[ad]||m;return b.cfg&&(b.cfg===m||b.cfg[ad]===b)?b[ku](y):(qB(I,TB+Xt(m)),q0(m,null,I)[ku](y))}s(Mu,"onConfigChange");function am(m,y){if(m&&m[Dh])return m[Dh](y)}s(am,"runTargetUnload");function GB(m,y,I){var b;return I||(b=Up(function(R){I=R})),m&&PL(m)>0?L0(am(m[0],y),function(){GB(mp(m,1),y,I)}):I(),b}s(GB,"doUnloadAll");var sM=500,VB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function aM(m,y,I){return!m&&re(m)?y:Hr(m)?m:Mn(m)[Bp]()==="true"}s(aM,"_stringToBoolOrDefault");function cM(m){return{mrg:!0,v:m}}s(cM,"cfgDfMerge");function uT(m,y,I){return{fb:I,isVal:m,v:y}}s(uT,"cfgDfValidate");function _l(m,y){return{fb:y,set:aM,v:!!m}}s(_l,"cfgDfBoolean");var $I=[Gp,Vp,NI,Mh],YI=null,zI;function lM(m,y){return function(){var I=arguments,b=WB(y);if(b){var R=b.listener;R&&R[m]&&R[m][CI](R,I)}}}s(lM,"_listenerProxyFunc");function uM(){var m=No("Microsoft");return m&&(YI=m.ApplicationInsights),YI}s(uM,"_getExtensionNamespace");function WB(m){var y=YI;return!y&&m.disableDbgExt!==!0&&(y=YI||uM()),y?y.ChromeDbgExt:null}s(WB,"getDebugExt");function fM(m){if(!zI){zI={};for(var y=0;y<$I[Ur];y++)zI[$I[y]]=lM($I[y],m)}return zI}s(fM,"getDebugListener");var cm,$B="warnToConsole",dM="AI (Internal): ",hM="AI: ",AM="AITR_",YB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},lm=(cm={},cm[0]=null,cm[1]="errorToConsole",cm[2]=$B,cm[3]="debugToConsole",cm);function f0(m){return m?'"'+m[rd](/\"/g,ln)+'"':ln}s(f0,"_sanitizeDiagnosticText");function ly(m,y){var I=iy();if(I){var b="log";I[m]&&(b=m),Je(I[b])&&I[b](y)}}s(ly,"_logToConsole");var jI=function(){function m(y,I,b,R){b===void 0&&(b=!1);var k=this;k[xI]=y,k[Qh]=(b?hM:dM)+y;var F=ln;Xp()&&(F=u0().stringify(R));var V=(I?" message:"+f0(I):ln)+(R?" props:"+f0(F):ln);k[Qh]+=V}return s(m,"_InternalLogMessage"),m.dataType="MessageData",m}();function uy(m,y){return(m||{})[jo]||new fy(y)}s(uy,"safeGetLogger");var fy=function(){function m(y){this.identifier="DiagnosticLogger",this.queue=[];var I=0,b={},R,k,F,V,j;ha(m,this,function(se){j=Te(y||{}),se.consoleLoggingLevel=function(){return R},se[kh]=function(De,Ye,Ue,nt,At){At===void 0&&(At=!1);var It=new jI(Ye,Ue,At,nt);if(V)throw Xt(It);var Nt=lm[De]||$B;if(W(It[Qh]))we("throw"+(De===1?"Critical":"Warning"),It);else{if(At){var Nr=+It[xI];!b[Nr]&&R>=De&&(se[Nt](It[Qh]),b[Nr]=!0)}else R>=De&&se[Nt](It[Qh]);ye(De,It)}},se.debugToConsole=function(De){ly("debug",De),we("warning",De)},se[Rp]=function(De){ly("warn",De),we("warning",De)},se.errorToConsole=function(De){ly("error",De),we("error",De)},se.resetInternalMessageCount=function(){I=0,b={}},se.logInternalMessage=ye,se[Dh]=function(De){j&&j.rm(),j=null};function ye(De,Ye){if(!Pe()){var Ue=!0,nt=AM+Ye[xI];if(b[nt]?Ue=!1:b[nt]=!0,Ue&&(De<=k&&(se.queue[Un](Ye),I++,we(De===1?"error":"warn",Ye)),I===F)){var At="Internal events throttle limit per PageView reached for this app.",It=new jI(23,At,!1);se.queue[Un](It),De===1?se.errorToConsole(At):se[Rp](At)}}}s(ye,"_logInternalMessage");function Te(De){return Mu(q0(De,YB,se).cfg,function(Ye){var Ue=Ye.cfg;R=Ue[hB],k=Ue.loggingLevelTelemetry,F=Ue.maxMessageLimit,V=Ue.enableDebug})}s(Te,"_setDefaultsFromConfig");function Pe(){return I>=F}s(Pe,"_areInternalMessagesThrottled");function we(De,Ye){var Ue=WB(y||{});Ue&&Ue[Il]&&Ue[Il](De,Ye)}s(we,"_debugExtMsg")})}return s(m,"DiagnosticLogger"),m.__ieDyn=1,m}();function fT(m){return m||new fy}s(fT,"_getLogger");function Mt(m,y,I,b,R,k){k===void 0&&(k=!1),fT(m)[kh](y,I,b,R,k)}s(Mt,"_throwInternal");function KI(m,y){fT(m)[Rp](y)}s(KI,"_warnToConsole");var dy,ld,zB="toGMTString",jB="toUTCString",JI="cookie",Ou="expires",KB="isCookieUseDisabled",XI="disableCookiesUsage",JB="_ckMgr",ZI=null,um=null,e2=null,wl,XB={},ZB={},e8=(dy={cookieCfg:cM((ld={},ld[PI]={fb:"cookieDomain",dfVal:LI},ld.path={fb:"cookiePath",dfVal:LI},ld.enabled=M0,ld.ignoreCookies=M0,ld.blockedCookies=M0,ld)),cookieDomain:M0,cookiePath:M0},dy[XI]=M0,dy);function dT(){!wl&&(wl=Q0(function(){return hp()}))}s(dT,"_getDoc");function hy(m){return m?m.isEnabled():!0}s(hy,"_isMgrEnabled");function hT(m,y){return y&&m&&lt(m.ignoreCookies)?a0(m.ignoreCookies,y)!==-1:!1}s(hT,"_isIgnoredCookie");function pM(m,y){return y&&m&&lt(m.blockedCookies)&&a0(m.blockedCookies,y)!==-1?!0:hT(m,y)}s(pM,"_isBlockedCookie");function AT(m,y){var I=y[Cl];if(re(I)){var b=void 0;W(m[KB])||(b=!m[KB]),W(m[XI])||(b=!m[XI]),I=b}return I}s(AT,"_isCfgEnabled");function mM(m,y){var I,b,R,k,F,V,j,se;m=q0(m||ZB,null,y).cfg,k=Mu(m,function(Te){Te.setDf(Te.cfg,e8),I=Te.ref(Te.cfg,"cookieCfg"),b=I[FI]||"/",R=I[PI],F=AT(m,I)!==!1,V=I.getCookie||gM,j=I.setCookie||fm,se=I.delCookie||fm},y);var ye={isEnabled:s(function(){var Te=AT(m,I)!==!1&&F&&t8(y),Pe=ZB[JB];return Te&&Pe&&ye!==Pe&&(Te=hy(Pe)),Te},"isEnabled"),setEnabled:s(function(Te){F=Te!==!1,I[Cl]=Te},"setEnabled"),set:s(function(Te,Pe,we,De,Ye){var Ue=!1;if(hy(ye)&&!pM(I,Te)){var nt={},At=On(Pe||ln),It=Su(At,";");if(It!==-1&&(At=On(L(Pe,It)),nt=pT(fe(Pe,It+1))),id(nt,PI,De||R,le,W),!re(we)){var Nt=Bc();if(W(nt[Ou])){var Nr=Wf(),An=Nr+we*1e3;if(An>0){var pn=new Date;pn.setTime(An),id(nt,Ou,r8(pn,Nt?zB:jB)||r8(pn,Nt?zB:jB)||ln,le)}}Nt||id(nt,"max-age",ln+we,null,W)}var ai=Jp();ai&&ai.protocol==="https:"&&(id(nt,"secure",null,null,W),um===null&&(um=!yM((Hf()||{})[bI])),um&&id(nt,"SameSite","None",null,W)),id(nt,FI,Ye||b,null,W),j(Te,n8(At,nt)),Ue=!0}return Ue},"set"),get:s(function(Te){var Pe=ln;return hy(ye)&&!hT(I,Te)&&(Pe=V(Te)),Pe},"get"),del:s(function(Te,Pe){var we=!1;return hy(ye)&&(we=ye.purge(Te,Pe)),we},"del"),purge:s(function(Te,Pe){var we,De=!1;if(t8(y)){var Ye=(we={},we[FI]=Pe||"/",we[Ou]="Thu, 01 Jan 1970 00:00:01 GMT",we);Bc()||(Ye["max-age"]="0"),se(Te,n8(ln,Ye)),De=!0}return De},"purge"),unload:s(function(Te){k&&k.rm(),k=null},"unload")};return ye[JB]=ye,ye}s(mM,"createCookieMgr");function t8(m){if(ZI===null){ZI=!1,!wl&&dT();try{var y=wl.v||{};ZI=y[JI]!==void 0}catch(I){Mt(m,2,68,"Cannot access document.cookie - "+ws(I),{exception:Xt(I)})}}return ZI}s(t8,"areCookiesSupported");function pT(m){var y={};if(m&&m[Ur]){var I=On(m)[td](";");Yt(I,function(b){if(b=On(b||ln),b){var R=Su(b,"=");R===-1?y[b]=null:y[On(L(b,R))]=On(fe(b,R+1))}})}return y}s(pT,"_extractParts");function r8(m,y){return Je(m[y])?m[y]():null}s(r8,"_formatDate");function n8(m,y){var I=m||ln;return $e(y,function(b,R){I+="; "+b+(re(R)?ln:"="+R)}),I}s(n8,"_formatCookieValue");function gM(m){var y=ln;if(!wl&&dT(),wl.v){var I=wl.v[JI]||ln;e2!==I&&(XB=pT(I),e2=I),y=On(XB[m]||ln)}return y}s(gM,"_getCookieValue");function fm(m,y){!wl&&dT(),wl.v&&(wl.v[JI]=m+"="+y)}s(fm,"_setCookieValue");function yM(m){return Ae(m)?!!(qs(m,"CPU iPhone OS 12")||qs(m,"iPad; CPU OS 12")||qs(m,"Macintosh; Intel Mac OS X 10_14")&&qs(m,"Version/")&&qs(m,"Safari")||qs(m,"Macintosh; Intel Mac OS X 10_14")&&aB(m,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||qs(m,"Chrome/5")||qs(m,"Chrome/6")||qs(m,"UnrealEngine")&&!qs(m,"Chrome")||qs(m,"UCBrowser/12")||qs(m,"UCBrowser/11")):!1}s(yM,"uaDisallowsSameSiteNone");var mT={perfEvtsSendAll:!1};function CM(m){m.h=null;var y=m.cb;m.cb=[],Yt(y,function(I){he(I.fn,[I.arg])})}s(CM,"_runScheduledListeners");function ud(m,y,I,b){Yt(m,function(R){R&&R[y]&&(I?(I.cb[Un]({fn:b,arg:R}),I.h=I.h||zf(CM,0,I)):he(b,[R]))})}s(ud,"_runListeners");var EM=function(){function m(y){this.listeners=[];var I,b,R=[],k={h:null,cb:[]},F=q0(y,mT);b=F[ku](function(V){I=!!V.cfg.perfEvtsSendAll}),ha(m,this,function(V){Jt(V,"listeners",{g:s(function(){return R},"g")}),V[EI]=function(j){R[Un](j)},V[j1]=function(j){for(var se=a0(R,j);se>-1;)R[kp](se,1),se=a0(R,j)},V[Gp]=function(j){ud(R,Gp,k,function(se){se[Gp](j)})},V[Vp]=function(j,se){ud(R,Vp,k,function(ye){ye[Vp](j,se)})},V[NI]=function(j,se){ud(R,NI,se?k:null,function(ye){ye[NI](j,se)})},V[Mh]=function(j){j&&(I||!j[q5]())&&ud(R,Mh,null,function(se){j.isAsync?zf(function(){return se[Mh](j)},0):se[Mh](j)})},V[$5]=function(j){j&&j[Ur]&&ud(R,$5,k,function(se){se[$5](j)})},V[Y5]=function(j){j&&j[Lp]&&ud(R,Y5,k,function(se){se[Y5](j)})},V[QI]=function(j,se){if(j>0){var ye=se||0;ud(R,QI,k,function(Te){Te[QI](j,ye)})}},V[Dh]=function(j){var se=s(function(){b&&b.rm(),b=null,R=[],k.h&&k.h[Dp](),k.h=null,k.cb=[]},"_finishUnload"),ye;if(ud(R,"unload",null,function(Te){var Pe=Te[Dh](j);Pe&&(ye||(ye=[]),ye[Un](Pe))}),ye)return Up(function(Te){return L0(W5(ye),function(){se(),Te()})});se()}})}return s(m,"NotificationManager"),m.__ieDyn=1,m}(),dm="ctx",gT="ParentContextKey",Ay="ChildrenContextKey",IM=null,t2=function(){function m(y,I,b){var R=this;if(R.start=Wf(),R[Zf]=y,R.isAsync=b,R[q5]=function(){return!1},Je(I)){var k;Jt(R,"payload",{g:s(function(){return!k&&Je(I)&&(k=I(),I=null),k},"g")})}R[nd]=function(F){return F?F===m[gT]||F===m[Ay]?R[F]:(R[dm]||{})[F]:null},R[wc]=function(F,V){if(F)if(F===m[gT])R[F]||(R[q5]=function(){return!0}),R[F]=V;else if(F===m[Ay])R[F]=V;else{var j=R[dm]=R[dm]||{};j[F]=V}},R.complete=function(){var F=0,V=R[nd](m[Ay]);if(lt(V))for(var j=0;j<V[Ur];j++){var se=V[j];se&&(F+=se.time)}R.time=Wf()-R.start,R.exTime=R.time-F,R.complete=function(){}}}return s(m,"PerfEvent"),m.ParentContextKey="parent",m.ChildrenContextKey="childEvts",m}(),xM=function(){function m(y){this.ctx={},ha(m,this,function(I){I.create=function(b,R,k){return new t2(b,R,k)},I.fire=function(b){b&&(b.complete(),y&&Je(y[Mh])&&y[Mh](b))},I[wc]=function(b,R){if(b){var k=I[dm]=I[dm]||{};k[b]=R}},I[nd]=function(b){return(I[dm]||{})[b]}})}return s(m,"PerfManager"),m.__ieDyn=1,m}(),Sl="CoreUtils.doPerf";function hm(m,y,I,b,R){if(m){var k=m;if(k[X1]&&(k=k[X1]()),k){var F=void 0,V=k[nd](Sl);try{if(F=k.create(y(),b,R),F){if(V&&F[wc]&&(F[wc](t2[gT],V),V[nd]&&V[wc])){var j=V[nd](t2[Ay]);j||(j=[],V[wc](t2[Ay],j)),j[Un](F)}return k[wc](Sl,F),I(F)}}catch(se){F&&F[wc]&&F[wc]("exception",se)}finally{F&&k.fire(F),k[wc](Sl,V)}}}return I()}s(hm,"doPerf");function Jo(){return IM}s(Jo,"getGblPerfMgr");var r2="00000000000000000000000000000000",Am="0000000000000000";function n2(m,y,I){return m&&m[Ur]===y&&m!==I?!!m.match(/^[\da-f]*$/i):!1}s(n2,"_isValid");function fd(m){return n2(m,32,r2)}s(fd,"isValidTraceId");function qh(m){return n2(m,16,Am)}s(qh,"isValidSpanId");var py=PB("plugin");function dd(m){return py.get(m,"state",{},!0)}s(dd,"_getPluginState");function yT(m,y){for(var I=[],b=null,R=m[xl](),k;R;){var F=R[Qp]();if(F){b&&b[ed]&&F[O0]&&b[ed](F),k=dd(F);var V=!!k[yl];F[yl]&&(V=F[yl]()),V||I[Un](F),b=F,R=R[xl]()}}Yt(I,function(j){var se=m[Ko]();j[z1](m.getCfg(),se,y,m[xl]()),k=dd(j),!j[Ko]&&!k[Ko]&&(k[Ko]=se),k[yl]=!0,delete k[El]})}s(yT,"initializePlugins");function CT(m){return m.sort(function(y,I){var b=0;if(I){var R=I[O0];y[O0]?b=R?y[qp]-I[qp]:1:R&&(b=-1)}else b=y?1:-1;return b})}s(CT,"sortPlugins");function vM(m){var y={};return{getName:s(function(){return y[Zf]},"getName"),setName:s(function(I){m&&m.setName(I),y[Zf]=I},"setName"),getTraceId:s(function(){return y.traceId},"getTraceId"),setTraceId:s(function(I){m&&m.setTraceId(I),fd(I)&&(y.traceId=I)},"setTraceId"),getSpanId:s(function(){return y.spanId},"getSpanId"),setSpanId:s(function(I){m&&m.setSpanId(I),qh(I)&&(y.spanId=I)},"setSpanId"),getTraceFlags:s(function(){return y[pB]},"getTraceFlags"),setTraceFlags:s(function(I){m&&m.setTraceFlags(I),y[pB]=I},"setTraceFlags")}}s(vM,"createDistributedTraceContext");var bM="TelemetryPluginChain",i8="_hasRun",ET="_getTelCtx",o8=0;function TM(m,y,I){for(;m;){if(m[Qp]()===I)return m;m=m[xl]()}return B([I],y.config||{},y)}s(TM,"_getNextProxyStart");function IT(m,y,I,b){var R=null,k=[];y||(y=q0({},null,I[jo])),b!==null&&(R=b?TM(m,I,b):m);var F={_next:j,ctx:{core:s(function(){return I},"core"),diagLog:s(function(){return uy(I,y.cfg)},"diagLog"),getCfg:s(function(){return y.cfg},"getCfg"),getExtCfg:ye,getConfig:Te,hasNext:s(function(){return!!R},"hasNext"),getNext:s(function(){return R},"getNext"),setNext:s(function(we){R=we},"setNext"),iterate:Pe,onComplete:V}};function V(we,De){for(var Ye=[],Ue=2;Ue<arguments.length;Ue++)Ye[Ue-2]=arguments[Ue];we&&k[Un]({func:we,self:W(De)?F.ctx:De,args:Ye})}s(V,"_addOnComplete");function j(){var we=R;if(R=we?we[xl]():null,!we){var De=k;De&&De[Ur]>0&&(Yt(De,function(Ye){try{Ye.func.call(Ye.self,Ye.args)}catch(Ue){Mt(I[jo],2,73,"Unexpected Exception during onComplete - "+Xt(Ue))}}),k=[])}return we}s(j,"_moveNext");function se(we,De){var Ye=null,Ue=y.cfg;if(Ue&&we){var nt=Ue[Lh];!nt&&De&&(nt={}),Ue[Lh]=nt,nt=y.ref(Ue,Lh),nt&&(Ye=nt[we],!Ye&&De&&(Ye={}),nt[we]=Ye,Ye=y.ref(nt,we))}return Ye}s(se,"_getExtCfg");function ye(we,De){var Ye=se(we,!0);return De&&$e(De,function(Ue,nt){if(re(Ye[Ue])){var At=y.cfg[Ue];(At||!re(At))&&(Ye[Ue]=At)}cT(y,Ye,Ue,nt)}),y.setDf(Ye,De)}s(ye,"_resolveExtCfg");function Te(we,De,Ye){Ye===void 0&&(Ye=!1);var Ue,nt=se(we,!1),At=y.cfg;return nt&&(nt[De]||!re(nt[De]))?Ue=nt[De]:(At[De]||!re(At[De]))&&(Ue=At[De]),Ue||!re(Ue)?Ue:Ye}s(Te,"_getConfig");function Pe(we){for(var De;De=F._next();){var Ye=De[Qp]();Ye&&we(Ye)}}return s(Pe,"_iterateChain"),F}s(IT,"_createInternalContext");function pm(m,y,I,b){var R=q0(y),k=IT(m,R,I,b),F=k.ctx;function V(se){var ye=k._next();return ye&&ye[O0](se,F),!ye}s(V,"_processNext");function j(se,ye){return se===void 0&&(se=null),lt(se)&&(se=B(se,R.cfg,I,ye)),pm(se||F[xl](),R.cfg,I,ye)}return s(j,"_createNew"),F[Hs]=V,F[Nh]=j,F}s(pm,"createProcessTelemetryContext");function x(m,y,I){var b=q0(y.config),R=IT(m,b,y,I),k=R.ctx;function F(j){var se=R._next();return se&&se[Dh](k,j),!se}s(F,"_processNext");function V(j,se){return j===void 0&&(j=null),lt(j)&&(j=B(j,b.cfg,y,se)),x(j||k[xl](),y,se)}return s(V,"_createNew"),k[Hs]=F,k[Nh]=V,k}s(x,"createProcessTelemetryUnloadContext");function T(m,y,I){var b=q0(y.config),R=IT(m,b,y,I),k=R.ctx;function F(j){return k.iterate(function(se){Je(se[Du])&&se[Du](k,j)})}s(F,"_processNext");function V(j,se){return j===void 0&&(j=null),lt(j)&&(j=B(j,b.cfg,y,se)),T(j||k[xl](),y,se)}return s(V,"_createNew"),k[Hs]=F,k[Nh]=V,k}s(T,"createProcessTelemetryUpdateContext");function B(m,y,I,b){var R=null,k=!b;if(lt(m)&&m[Ur]>0){var F=null;Yt(m,function(V){if(!k&&b===V&&(k=!0),k&&V&&Je(V[O0])){var j=Q(V,y,I);R||(R=j),F&&F._setNext(j),F=j}})}return b&&!R?B([b],y,I):R}s(B,"createTelemetryProxyChain");function Q(m,y,I){var b=null,R=Je(m[O0]),k=Je(m[ed]),F;m?F=m[Xf]+"-"+m[qp]+"-"+o8++:F="Unknown-0-"+o8++;var V={getPlugin:s(function(){return m},"getPlugin"),getNext:s(function(){return b},"getNext"),processTelemetry:ye,unload:Te,update:Pe,_id:F,_setNext:s(function(we){b=we},"_setNext")};function j(){var we;return m&&Je(m[ET])&&(we=m[ET]()),we||(we=pm(V,y,I)),we}s(j,"_getTelCtx");function se(we,De,Ye,Ue,nt){var At=!1,It=m?m[Xf]:bM,Nt=we[i8];return Nt||(Nt=we[i8]={}),we.setNext(b),m&&hm(we[Ko](),function(){return It+":"+Ye},function(){Nt[F]=!0;try{var Nr=b?b._id:ln;Nr&&(Nt[Nr]=!1),At=De(we)}catch(pn){var An=b?Nt[b._id]:!0;An&&(At=!0),(!b||!An)&&Mt(we[Il](),1,73,"Plugin ["+It+"] failed during "+Ye+" - "+Xt(pn)+", run flags: "+Xt(Nt))}},Ue,nt),At}s(se,"_processChain");function ye(we,De){De=De||j();function Ye(Ue){if(!m||!R)return!1;var nt=dd(m);return nt[El]||nt[DI]?!1:(k&&m[ed](b),m[O0](we,Ue),!0)}s(Ye,"_callProcessTelemetry"),se(De,Ye,"processTelemetry",function(){return{item:we}},!we.sync)||De[Hs](we)}s(ye,"_processTelemetry");function Te(we,De){function Ye(){var Ue=!1;if(m){var nt=dd(m),At=m[Ko]||nt[Ko];m&&(!At||At===we.core())&&!nt[El]&&(nt[Ko]=null,nt[El]=!0,nt[yl]=!1,m[El]&&m[El](we,De)===!0&&(Ue=!0))}return Ue}s(Ye,"_callTeardown"),se(we,Ye,"unload",function(){},De.isAsync)||we[Hs](De)}s(Te,"_unloadPlugin");function Pe(we,De){function Ye(){var Ue=!1;if(m){var nt=dd(m),At=m[Ko]||nt[Ko];m&&(!At||At===we.core())&&!nt[El]&&m[Du]&&m[Du](we,De)===!0&&(Ue=!0)}return Ue}s(Ye,"_callUpdate"),se(we,Ye,"update",function(){},!1)||we[Hs](De)}return s(Pe,"_updatePlugin"),Tr(V)}s(Q,"createTelemetryPluginProxy");function z(){var m=[];function y(b){b&&m[Un](b)}s(y,"_addHandler");function I(b,R){Yt(m,function(k){try{k(b,R)}catch(F){Mt(b[Il](),2,73,"Unexpected error calling unload handler - "+Xt(F))}}),m=[]}return s(I,"_runHandlers"),{add:y,run:I}}s(z,"createUnloadHandlerContainer");function pe(){var m=[];function y(b){var R=m;m=[],Yt(R,function(k){try{(k.rm||k.remove).call(k)}catch(F){Mt(b,2,73,"Unloading:"+Xt(F))}})}s(y,"_doUnload");function I(b){b&&pp(m,b)}return s(I,"_addHook"),{run:y,add:I}}s(pe,"createUnloadHookContainer");var Ee,Be="getPlugin",Me=(Ee={},Ee[Lh]={isVal:LI,v:{}},Ee),et=function(){function m(){var y=this,I,b,R,k,F;se(),ha(m,y,function(ye){ye[z1]=function(Te,Pe,we,De){j(Te,Pe,De),I=!0},ye[El]=function(Te,Pe){var we=ye[Ko];if(!we||Te&&we!==Te[Ko]())return;var De,Ye=!1,Ue=Te||x(null,we,R&&R[Be]?R[Be]():R),nt=Pe||{reason:0,isAsync:!1};function At(){Ye||(Ye=!0,k.run(Ue,Pe),F.run(Ue[Il]()),De===!0&&Ue[Hs](nt),se())}return s(At,"_unloadCallback"),!ye[vI]||ye[vI](Ue,nt,At)!==!0?At():De=!0,De},ye[Du]=function(Te,Pe){var we=ye[Ko];if(!we||Te&&we!==Te[Ko]())return;var De,Ye=!1,Ue=Te||T(null,we,R&&R[Be]?R[Be]():R),nt=Pe||{reason:0};function At(){Ye||(Ye=!0,j(Ue.getCfg(),Ue.core(),Ue[xl]()))}return s(At,"_updateCallback"),!ye._doUpdate||ye._doUpdate(Ue,nt,At)!==!0?At():De=!0,De},ey(ye,"_addUnloadCb",function(){return k},"add"),ey(ye,"_addHook",function(){return F},"add"),Jt(ye,"_unloadHooks",{g:s(function(){return F},"g")})}),y[Il]=function(ye){return V(ye)[Il]()},y[yl]=function(){return I},y.setInitialized=function(ye){I=ye},y[ed]=function(ye){R=ye},y[Hs]=function(ye,Te){Te?Te[Hs](ye):R&&Je(R[O0])&&R[O0](ye,null)},y._getTelCtx=V;function V(ye){ye===void 0&&(ye=null);var Te=ye;if(!Te){var Pe=b||pm(null,{},y[Ko]);R&&R[Be]?Te=Pe[Nh](null,R[Be]):Te=Pe[Nh](null,R)}return Te}s(V,"_getTelCtx");function j(ye,Te,Pe){q0(ye,Me,uy(Te)),!Pe&&Te&&(Pe=Te[Pp]()[xl]());var we=R;R&&R[Be]&&(we=R[Be]()),y[Ko]=Te,b=pm(Pe,ye,Te,we)}s(j,"_setDefaults");function se(){I=!1,y[Ko]=null,b=null,R=null,F=pe(),k=z()}s(se,"_initDefaults")}return s(m,"BaseTelemetryPlugin"),m.__ieDyn=1,m}();function St(m,y,I){var b={id:y,fn:I};pp(m,b);var R={remove:s(function(){Yt(m,function(k,F){if(k.id===b.id)return m[kp](F,1),-1})},"remove")};return R}s(St,"_addInitializer");function pr(m,y,I){for(var b=!1,R=m[Ur],k=0;k<R;++k){var F=m[k];if(F)try{if(F.fn[CI](null,[y])===!1){b=!0;break}}catch(V){Mt(I,2,64,"Telemetry initializer failed: "+ws(V),{exception:Xt(V)},!0)}}return!b}s(pr,"_runInitializers");var Rr=function(m){Y1(y,m);function y(){var I=m.call(this)||this;I.identifier="TelemetryInitializerPlugin",I.priority=199;var b,R;k(),ha(y,I,function(F,V){F.addTelemetryInitializer=function(j){return St(R,b++,j)},F[O0]=function(j,se){pr(R,j,se?se[Il]():F[Il]())&&F[Hs](j,se)},F[vI]=function(){k()}});function k(){b=0,R=[]}return s(k,"_initDefaults"),I}return s(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(et),Rt,Lt="Plugins must provide initialize method",_r="_notificationManager",mr="SDK is still unloading...",un="SDK is not initialized",Jn=100,vn=5e4,ds=zr((Rt={cookieCfg:{}},Rt[Hp]={rdOnly:!0,ref:!0,v:[]},Rt[Pu]={rdOnly:!0,ref:!0,v:[]},Rt[Lh]={ref:!0,v:{}},Rt[Sc]=M0,Rt.loggingLevelConsole=0,Rt.diagnosticLogInterval=M0,Rt));function mm(m,y){return new xM(y)}s(mm,"_createPerfManager");function my(m,y,I){var b=[],R=[],k={};return Yt(I,function(F){(re(F)||re(F[z1]))&&mo(Lt);var V=F[qp],j=F[Xf];F&&V&&(re(k[V])?k[V]=j:KI(m,"Two extensions have same priority #"+V+" - "+k[V]+", "+j)),!V||V<y?b[Un](F):R[Un](F)}),{core:b,channels:R}}s(my,"_validateExtensions");function xT(m,y){var I=!1;return Yt(y,function(b){if(b===m)return I=!0,-1}),I}s(xT,"_isPluginPresent");function i2(m,y,I,b){I&&$e(I,function(R,k){b&&c0(k)&&c0(y[R])&&i2(m,y[R],k,b),b&&c0(k)&&c0(y[R])?i2(m,y[R],k,b):m.set(y,R,k)})}s(i2,"_deepMergeConfig");function s8(m,y){var I=null,b=-1;return Yt(m,function(R,k){if(R.w===y)return I=R,b=k,-1}),{i:b,l:I}}s(s8,"_findWatcher");function _M(m,y){var I=s8(m,y).l;return I||(I={w:y,rm:s(function(){var b=s8(m,y);b.i!==-1&&m[kp](b.i,1)},"rm")},m[Un](I)),I}s(_M,"_addDelayedCfgListener");function vT(m,y,I){Yt(y,function(b){var R=Mu(m,b.w,I);delete b.w,b.rm=function(){R.rm()}})}s(vT,"_registerDelayedCfgListener");function a8(m,y,I,b){return y.add(m[ku](function(R){var k=R.cfg.disableDbgExt;k===!0&&b&&(I[j1](b),b=null),I&&!b&&k!==!0&&(b=fM(R.cfg),I[EI](b))})),b}s(a8,"_initDebugListener");function c8(m){return Jt({rm:s(function(){m.rm()},"rm")},"toJSON",{v:s(function(){return"aicore::onCfgChange<"+JSON.stringify(m)+">"},"v")})}s(c8,"_createUnloadHook");var ct=function(){function m(){var y,I,b,R,k,F,V,j,se,ye,Te,Pe,we,De,Ye,Ue,nt,At,It,Nt,Nr,An,pn,ai,sr,Wt,mn,so,Ri,pt,$t,Xn;ha(m,this,function(at){Ge(),at._getDbgPlgTargets=function(){return[pn,R]},at[yl]=function(){return I},at.activeStatus=function(){return Wt},at._setPendingStatus=function(){Wt=3},at[z1]=function(je,Dt,Ir,qt){we&&mo(mr),at[yl]()&&mo("Core cannot be initialized more than once"),y=q0(je,ds,Ir||at[jo],!1),je=y.cfg,ma(y[ku](function(Ci){var $i=Ci.cfg,qa=Wt===3;if(!qa){so=$i.initInMemoMaxSize||Jn;var G0=$i.instrumentationKey,qu=$i.endpointUrl;if(re(G0)){Nr=null,Wt=Jf.INACTIVE;var Gu="Please provide instrumentation key";I?(Mt(b,1,100,Gu),Co()):mo(Gu);return}var g2=[];if(br(G0)?(g2[Un](G0),Nr=null):Nr=G0,br(qu)?(g2[Un](qu),mn=null):mn=qu,g2[Ur]){Ri=!1,Wt=3;var GT=LI($i.initTimeOut)?$i.initTimeOut:vn,iO=l0(g2);zf(function(){Ri||gr()},GT),L0(iO,function(wm){try{if(Ri)return;if(!wm.rejected){var Sm=wm[Np];if(Sm&&Sm[Ur]){var D8=Sm[0];if(Nr=D8&&D8[Np],Sm[Ur]>1){var N8=Sm[1];mn=N8&&N8[Np]}}Nr&&(je.instrumentationKey=Nr,je.endpointUrl=mn)}gr()}catch{Ri||gr()}})}else gr();var y2=Ci.ref(Ci.cfg,Lh);$e(y2,function(wm){Ci.ref(y2,wm)})}})),k=qt,It=a8(y,At,k&&at[_c](),It),Tm(),at[jo]=Ir;var xr=je[Hp];if(ye=[],ye[Un].apply(ye,fB(fB([],Dt,!1),xr)),Te=je[Pu],Eo(null),(!Pe||Pe[Ur]===0)&&mo("No "+Pu+" available"),Te&&Te[Ur]>1){var hi=at[Qp]("TeeChannelController");(!hi||!hi.plugin)&&Mt(b,1,28,"TeeChannel required")}vT(je,An,b),An=null,I=!0,Wt===Jf.ACTIVE&&Co()},at.getChannels=function(){var je=[];return Pe&&Yt(Pe,function(Dt){je[Un](Dt)}),Tr(je)},at.track=function(je){hm(at[X1](),function(){return"AppInsightsCore:track"},function(){je===null&&(ao(je),mo("Invalid telemetry item")),!je[Zf]&&re(je[Zf])&&(ao(je),mo("telemetry name required")),je.iKey=je.iKey||Nr,je.time=je.time||Z1(new Date),je.ver=je.ver||"4.0",!we&&at[yl]()&&Wt===Jf.ACTIVE?ps()[Hs](je):Wt!==Jf.INACTIVE&&R[Ur]<=so&&R[Un](je)},function(){return{item:je}},!je.sync)},at[Pp]=ps,at[_c]=function(){return k||(k=new EM(y.cfg),at[_r]=k),k},at[EI]=function(je){at.getNotifyMgr()[EI](je)},at[j1]=function(je){k&&k[j1](je)},at.getCookieMgr=function(){return j||(j=mM(y.cfg,at[jo])),j},at.setCookieMgr=function(je){j!==je&&(am(j,!1),j=je)},at[X1]=function(){return F||V||Jo()},at.setPerfMgr=function(je){F=je},at.eventCnt=function(){return R[Ur]},at.releaseQueue=function(){if(I&&R[Ur]>0){var je=R;R=[],Wt===2?Yt(je,function(Dt){Dt.iKey=Dt.iKey||Nr,ps()[Hs](Dt)}):Mt(b,2,20,"core init status is not active")}},at.pollInternalLogs=function(je){return Ye=je||null,Xn=!1,pt&&pt[Dp](),ci(!0)};function gr(){Ri=!0,re(Nr)?(Wt=Jf.INACTIVE,Mt(b,1,112,"ikey can't be resolved from promises")):Wt=Jf.ACTIVE,Co()}s(gr,"_setStatus");function Co(){I&&(at.releaseQueue(),at.pollInternalLogs())}s(Co,"_releaseQueues");function ci(je){if((!pt||!pt[Cl])&&!Xn){var Dt=je||b&&b.queue[Ur]>0;Dt&&($t||($t=!0,ma(y[ku](function(Ir){var qt=Ir.cfg.diagnosticLogInterval;(!qt||!(qt>0))&&(qt=1e4);var xr=!1;pt&&(xr=pt[Cl],pt[Dp]()),pt=dI(bm,qt),pt.unref(),pt[Cl]=xr}))),pt[Cl]=!0)}return pt}s(ci,"_startLogPoller"),at[dB]=function(){Xn=!0,pt&&pt[Dp](),bm()},j5(at,function(){return De},["addTelemetryInitializer"]),at[Dh]=function(je,Dt,Ir){je===void 0&&(je=!0),I||mo(un),we&&mo(mr);var qt={reason:50,isAsync:je,flushComplete:!1},xr;je&&!Dt&&(xr=Up(function($i){Dt=$i}));var hi=x(Rl(),at);hi[II](function(){At.run(at[jo]),GB([j,k,b],je,function(){Ge(),Dt&&Dt(qt)})},at);function Ci($i){qt.flushComplete=$i,we=!0,nt.run(hi,qt),at[dB](),hi[Hs](qt)}return s(Ci,"_doUnload"),bm(),Uu(je,Ci,6,Ir),xr},at[Qp]=$s,at.addPlugin=function(je,Dt,Ir,qt){if(!je){qt&&qt(!1),_m(Lt);return}var xr=$s(je[Xf]);if(xr&&!Dt){qt&&qt(!1),_m("Plugin ["+je[Xf]+"] is already loaded!");return}var hi={reason:16};function Ci(G0){ye[Un](je),hi.added=[je],Eo(hi),qt&&qt(!0)}if(s(Ci,"_addPlugin"),xr){var $i=[xr.plugin],qa={reason:2,isAsync:!!Ir};d0($i,qa,function(G0){G0?(hi.removed=$i,hi.reason|=32,Ci()):qt&&qt(!1)})}else Ci()},at.updateCfg=function(je,Dt){Dt===void 0&&(Dt=!0);var Ir;if(at[yl]()){Ir={reason:1,cfg:y.cfg,oldCfg:aI({},y.cfg),newConfig:aI({},je),merge:Dt},je=Ir.newConfig;var qt=y.cfg;je[Hp]=qt[Hp],je[Pu]=qt[Pu]}y._block(function(xr){var hi=xr.cfg;i2(xr,hi,je,Dt),Dt||$e(hi,function(Ci){ft(je,Ci)||xr.set(hi,Ci,M0)}),xr.setDf(hi,ds)},!0),y.notify(),Ir&&Hu(Ir)},at.evtNamespace=function(){return Ue},at.flush=Uu,at.getTraceCtx=function(je){return Nt||(Nt=vM()),Nt},at.setTraceCtx=function(je){Nt=je||null},at.addUnloadHook=ma,ey(at,"addUnloadCb",function(){return nt},"add"),at.onCfgChange=function(je){var Dt;return I?Dt=Mu(y.cfg,je,at[jo]):Dt=_M(An,je),c8(Dt)},at.getWParam=function(){return Uf()||y.cfg.enableWParam?0:-1};function Ws(){var je={};ai=[];var Dt=s(function(Ir){Ir&&Yt(Ir,function(qt){if(qt[Xf]&&qt[Fp]&&!je[qt.identifier]){var xr=qt[Xf]+"="+qt[Fp];ai[Un](xr),je[qt.identifier]=qt}})},"_addPluginVersions");Dt(Pe),Te&&Yt(Te,function(Ir){Dt(Ir)}),Dt(ye)}s(Ws,"_setPluginVersions");function Ge(){I=!1,y=q0({},ds,at[jo]),y.cfg[hB]=1,Jt(at,"config",{g:s(function(){return y.cfg},"g"),s:s(function(Dt){at.updateCfg(Dt,!1)},"s")}),Jt(at,"pluginVersionStringArr",{g:s(function(){return ai||Ws(),ai},"g")}),Jt(at,"pluginVersionString",{g:s(function(){return sr||(ai||Ws(),sr=ai.join(";")),sr||ln},"g")}),Jt(at,"logger",{g:s(function(){return b||(b=new fy(y.cfg),y[jo]=b),b},"g"),s:s(function(Dt){y[jo]=Dt,b!==Dt&&(am(b,!1),b=Dt)},"s")}),at[jo]=new fy(y.cfg),pn=[];var je=at.config[Hp]||[];je.splice(0,je[Ur]),pp(je,pn),De=new Rr,R=[],am(k,!1),k=null,F=null,V=null,am(j,!1),j=null,se=null,ye=[],Te=null,Pe=null,we=!1,Ye=null,Ue=Lu("AIBaseCore",!0),nt=z(),Nt=null,Nr=null,At=pe(),An=[],sr=null,ai=null,Xn=!1,pt=null,$t=!1,Wt=0,mn=null,so=null,Ri=!1}s(Ge,"_initDefaults");function ps(){var je=pm(Rl(),y.cfg,at);return je[II](ci),je}s(ps,"_createTelCtx");function Eo(je){var Dt=my(at[jo],sM,ye);se=null,sr=null,ai=null,Pe=(Te||[])[0]||[],Pe=CT(pp(Pe,Dt[Pu]));var Ir=pp(CT(Dt[Ko]),Pe);pn=Tr(Ir);var qt=at.config[Hp]||[];qt.splice(0,qt[Ur]),pp(qt,pn);var xr=ps();Pe&&Pe[Ur]>0&&yT(xr[Nh](Pe),Ir),yT(xr,Ir),je&&Hu(je)}s(Eo,"_initPluginChain");function $s(je){var Dt=null,Ir=null,qt=[];return Yt(pn,function(xr){if(xr[Xf]===je&&xr!==De)return Ir=xr,-1;xr.getChannel&&qt[Un](xr)}),!Ir&&qt[Ur]>0&&Yt(qt,function(xr){if(Ir=xr.getChannel(je),!Ir)return-1}),Ir&&(Dt={plugin:Ir,setEnabled:s(function(xr){dd(Ir)[DI]=!xr},"setEnabled"),isEnabled:s(function(){var xr=dd(Ir);return!xr[El]&&!xr[DI]},"isEnabled"),remove:s(function(xr,hi){xr===void 0&&(xr=!0);var Ci=[Ir],$i={reason:1,isAsync:xr};d0(Ci,$i,function(qa){qa&&Eo({reason:32,removed:Ci}),hi&&hi(qa)})},"remove")}),Dt}s($s,"_getPlugin");function Rl(){if(!se){var je=(pn||[]).slice();a0(je,De)===-1&&je[Un](De),se=B(CT(je),y.cfg,at)}return se}s(Rl,"_getPluginChain");function d0(je,Dt,Ir){if(je&&je[Ur]>0){var qt=B(je,y.cfg,at),xr=x(qt,at);xr[II](function(){var hi=!1,Ci=[];Yt(ye,function(qa,G0){xT(qa,je)?hi=!0:Ci[Un](qa)}),ye=Ci,sr=null,ai=null;var $i=[];Te&&(Yt(Te,function(qa,G0){var qu=[];Yt(qa,function(Gu){xT(Gu,je)?hi=!0:qu[Un](Gu)}),$i[Un](qu)}),Te=$i),Ir&&Ir(hi),ci()}),xr[Hs](Dt)}else Ir(!1)}s(d0,"_removePlugins");function bm(){if(b&&b.queue){var je=b.queue.slice(0);b.queue[Ur]=0,Yt(je,function(Dt){var Ir={name:Ye||"InternalMessageId: "+Dt[xI],iKey:Nr,time:Z1(new Date),baseType:jI.dataType,baseData:{message:Dt[Qh]}};at.track(Ir)})}}s(bm,"_flushInternalLogs");function Uu(je,Dt,Ir,qt){var xr=1,hi=!1,Ci=null;qt=qt||5e3;function $i(){xr--,hi&&xr===0&&(Ci&&Ci[Dp](),Ci=null,Dt&&Dt(hi),Dt=null)}if(s($i,"doCallback"),Pe&&Pe[Ur]>0){var qa=ps()[Nh](Pe);qa.iterate(function(G0){if(G0.flush){xr++;var qu=!1;G0.flush(je,function(){qu=!0,$i()},Ir)||qu||(je&&Ci==null?Ci=zf(function(){Ci=null,$i()},qt):$i())}})}return hi=!0,$i(),!0}s(Uu,"_flushChannels");function Tm(){var je;ma(y[ku](function(Dt){var Ir=Dt.cfg.enablePerfMgr;if(Ir){var qt=Dt.cfg[Sc];(je!==qt||!je)&&(qt||(qt=mm),_B(Dt.cfg,Sc,qt),je=qt,V=null),!F&&!V&&Je(qt)&&(V=qt(at,at[_c]()))}else V=null,je=null}))}s(Tm,"_initPerfManager");function Hu(je){var Dt=T(Rl(),at);Dt[II](ci),(!at._updateHook||at._updateHook(Dt,je)!==!0)&&Dt[Hs](je)}s(Hu,"_doUpdate");function _m(je){var Dt=at[jo];Dt?(Mt(Dt,2,73,je),ci()):mo(je)}s(_m,"_logOrThrowError");function ao(je){var Dt=at[_c]();Dt&&Dt[Vp]([je],2)}s(ao,"_notifyInvalidEvent");function ma(je){At.add(je)}s(ma,"_addUnloadHook")})}return s(m,"AppInsightsCore"),m.__ieDyn=1,m}();function Ht(m,y){try{if(m&&m!==""){var I=u0().parse(m);if(I&&I[AB]&&I[AB]>=I.itemsAccepted&&I.itemsReceived-I.itemsAccepted===I.errors[Ur])return I}}catch(b){Mt(y,1,43,"Cannot parse the response. "+(b[Zf]||Xt(b)),{response:m})}return null}s(Ht,"parseResponse");var rr="",_i="NoResponseBody",hs="&"+_i+"=true",yo="POST",As=function(){function m(){var y=0,I,b,R,k,F,V,j,se,ye,Te,Pe,we,De,Ye;ha(m,this,function(Ue,nt){var At=!0;Ri(),Ue[z1]=function(pt,$t){R=$t,b&&Mt(R,1,28,"Sender is already initialized"),Ue.SetConfig(pt),b=!0},Ue._getDbgPlgTargets=function(){return[b,k,V,I]},Ue.SetConfig=function(pt){try{if(F=pt.senderOnCompleteCallBack||{},V=!!pt.disableCredentials,j=pt.fetchCredentials,k=!!pt.isOneDs,I=!!pt.enableSendPromise,ye=!!pt.disableXhr,Te=!!pt.disableBeacon,Pe=!!pt.disableBeaconSync,Ye=pt.timeWrapper,De=!!pt.addNoResponse,we=!!pt.disableFetchKeepAlive,se={sendPOST:Wt},k||(At=!1),V){var $t=Jp();$t&&$t.protocol&&$t.protocol[Bp]()==="file:"&&(At=!1)}return!0}catch{}return!1},Ue.getSyncFetchPayload=function(){return y},Ue.getSenderInst=function(pt,$t){return pt&&pt[Ur]?An(pt,$t):null},Ue.getFallbackInst=function(){return se},Ue[vI]=function(pt,$t){Ri()};function It(pt,$t){pn($t,200,{},pt)}s(It,"_onSuccess");function Nt(pt,$t){Mt(R,2,26,"Failed to send telemetry.",{message:pt}),pn($t,400,{})}s(Nt,"_onError");function Nr(pt){Nt("No endpoint url is provided for the batch",pt)}s(Nr,"_onNoPayloadUrl");function An(pt,$t){for(var Xn=0,at=null,gr=0;at==null&&gr<pt[Ur];)Xn=pt[gr],!ye&&Xn===1?rT()?at=so:nT()&&(at=Wt):Xn===2&&oy($t)&&(!$t||!we)?at=mn:Xn===3&&sd()&&($t?!Pe:!Te)&&(at=sr),gr++;return at?{_transport:Xn,_isSync:$t,sendPOST:at}:null}s(An,"_getSenderInterface");function pn(pt,$t,Xn,at){try{pt&&pt($t,Xn,at)}catch{}}s(pn,"_doOnComplete");function ai(pt,$t){var Xn=Hf(),at=pt[Nu];if(!at)return Nr($t),!0;at=pt[Nu]+(De?hs:rr);var gr=pt[Lp],Co=k?gr:new Blob([gr],{type:"text/plain;charset=UTF-8"}),ci=Xn.sendBeacon(at,Co);return ci}s(ai,"_doBeaconSend");function sr(pt,$t,Xn){var at=pt[Lp];try{if(at)if(ai(pt,$t))It(rr,$t);else{var gr=F&&F.beaconOnRetry;gr&&Je(gr)?gr(pt,$t,ai):(se&&se.sendPOST(pt,$t,!0),Mt(R,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Co){k&&KI(R,"Failed to send telemetry using sendBeacon API. Ex:"+Xt(Co)),pn($t,k?0:400,{},rr)}}s(sr,"_beaconSender");function Wt(pt,$t,Xn){var at,gr,Co,ci=pt[G5]||{};!Xn&&I&&(at=Up(function(Eo,$s){gr=Eo,Co=$s})),k&&Xn&&pt.disableXhrSync&&(Xn=!1);var Ws=pt[Nu];if(!Ws){Nr($t),gr&&gr(!1);return}var Ge=X5(yo,Ws,At,!0,Xn,pt[Qu]);k||Ge.setRequestHeader("Content-type","application/json"),Yt(vt(ci),function(Eo){Ge.setRequestHeader(Eo,ci[Eo])}),Ge.onreadystatechange=function(){k||(ps(Ge),Ge.readyState===4&&gr&&gr(!0))},Ge.onload=function(){k&&ps(Ge)};function ps(Eo){var $s=F&&F.xhrOnComplete,Rl=$s&&Je($s);if(Rl)$s(Eo,$t,pt);else{var d0=MI(Eo);pn($t,Eo[K1],Uh(Eo,k),d0)}}return s(ps,"_doOnReadyFunc"),Ge.onerror=function(Eo){pn($t,k?Ge[K1]:400,Uh(Ge,k),k?rr:OI(Ge)),Co&&Co(Eo)},Ge.ontimeout=function(){pn($t,k?Ge[K1]:500,Uh(Ge,k),k?rr:OI(Ge)),gr&&gr(!1)},Ge.send(pt[Lp]),at}s(Wt,"_xhrSender");function mn(pt,$t,Xn){var at,gr=pt[Nu],Co=pt[Lp],ci=k?Co:new Blob([Co],{type:"application/json"}),Ws,Ge,ps,Eo=new Headers,$s=Co[Ur],Rl=!1,d0=!1,bm=pt[G5]||{},Uu=(at={method:yo,body:ci},at[VB]=!0,at);pt.headers&&vt(pt.headers)[Ur]>0&&(Yt(vt(bm),function(ao){Eo.append(ao,bm[ao])}),Uu[G5]=Eo),j?Uu.credentials=j:At&&k&&(Uu.credentials="include"),Xn&&(Uu.keepalive=!0,y+=$s,k?pt._sendReason===2&&(Rl=!0,De&&(gr+=hs)):Rl=!0);var Tm=new Request(gr,Uu);try{Tm[VB]=!0}catch{}if(!Xn&&I&&(Ws=Up(function(ao,ma){Ge=ao,ps=ma})),!gr){Nr($t),Ge&&Ge(!1);return}function Hu(ao){pn($t,k?0:400,{},k?rr:ao)}s(Hu,"_handleError");function _m(ao,ma,je){var Dt=ao[K1],Ir=F.fetchOnComplete;Ir&&Je(Ir)?Ir(ao,$t,je||rr,ma):pn($t,Dt,{},je||rr)}s(_m,"_onFetchComplete");try{L0(fetch(k?gr:Tm,k?Uu:null),function(ao){if(Xn&&(y-=$s,$s=0),!d0)if(d0=!0,ao.rejected)Hu(ao.reason&&ao.reason[Qh]),ps&&ps(ao.reason);else{var ma=ao[Np];try{!k&&!ma.ok?(Hu(ma.statusText),Ge&&Ge(!1)):k&&!ma.body?(_m(ma,null,rr),Ge&&Ge(!0)):L0(ma.text(),function(je){_m(ma,pt,je[Np]),Ge&&Ge(!0)})}catch(je){Hu(Xt(je)),ps&&ps(je)}}})}catch(ao){d0||(Hu(Xt(ao)),ps&&ps(ao))}return Rl&&!d0&&(d0=!0,pn($t,200,{}),Ge&&Ge(!0)),k&&!d0&&pt[Qu]>0&&Ye&&Ye.set(function(){d0||(d0=!0,pn($t,500,{}),Ge&&Ge(!0))},pt[Qu]),Ws}s(mn,"_doFetchSender");function so(pt,$t,Xn){var at=wu(),gr=new XDomainRequest,Co=pt[Lp];gr.onload=function(){var Eo=MI(gr),$s=F&&F.xdrOnComplete;$s&&Je($s)?$s(gr,$t,pt):pn($t,200,{},Eo)},gr.onerror=function(){pn($t,400,{},k?rr:SB(gr))},gr.ontimeout=function(){pn($t,500,{})},gr.onprogress=function(){};var ci=at&&at.location&&at.location.protocol||"",Ws=pt[Nu];if(!Ws){Nr($t);return}if(!k&&Ws.lastIndexOf(ci,0)!==0){var Ge="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Mt(R,2,40,". "+Ge),Nt(Ge,$t);return}var ps=k?Ws:Ws[rd](/^(https?:)/,"");gr.open(yo,ps),pt[Qu]&&(gr[Qu]=pt[Qu]),gr.send(Co),k&&Xn?Ye&&Ye.set(function(){gr.send(Co)},0):gr.send(Co)}s(so,"_xdrSender");function Ri(){y=0,b=!1,I=!1,R=null,k=null,F=null,V=null,j=null,se=null,ye=!1,Te=!1,Pe=!1,we=!1,De=!1,Ye=null}s(Ri,"_initDefaults")})}return s(m,"SenderPostManager"),m.__ieDyn=1,m}(),Gh="on",hd="attachEvent",gm="addEventListener",l8="detachEvent",u8="removeEventListener",o2="events";Lu("aiEvtPageHide"),Lu("aiEvtPageShow");var wM=/\.[\.]+/g,hee=/[\.]+$/,DSe=1,f8=PB("events"),NSe=/^([^.]*)(?:\.(.+)|)/;function Aee(m){return m&&m[rd]?m[rd](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ln):m}s(Aee,"_normalizeNamespace");function SM(m,y){if(y){var I=ln;lt(y)?(I=ln,Yt(y,function(R){R=Aee(R),R&&(R[0]!=="."&&(R="."+R),I+=R)})):I=Aee(y),I&&(I[0]!=="."&&(I="."+I),m=(m||ln)+I)}var b=NSe.exec(m||ln)||[];return{type:b[1],ns:(b[2]||ln).replace(wM,".").replace(hee,ln)[td](".").sort().join(".")}}s(SM,"_getEvtNamespace");function pee(m,y,I){I===void 0&&(I=!0);var b=f8.get(m,o2,{},I),R=b[y];return R||(R=b[y]=[]),R}s(pee,"_getRegisteredEvents");function mee(m,y,I,b){m&&y&&y[Aa]&&(m[u8]?m[u8](y[Aa],I,b):m[l8]&&m[l8](Gh+y[Aa],I))}s(mee,"_doDetach");function QSe(m,y,I,b){var R=!1;return m&&y&&y[Aa]&&I&&(m[gm]?(m[gm](y[Aa],I,b),R=!0):m[hd]&&(m[hd](Gh+y[Aa],I),R=!0)),R}s(QSe,"_doAttach");function gee(m,y,I,b){for(var R=y[Ur];R--;){var k=y[R];k&&(!I.ns||I.ns===k[U5].ns)&&(!b||b(k))&&(mee(m,k[U5],k.handler,k.capture),y[kp](R,1))}}s(gee,"_doUnregister");function PSe(m,y,I){if(y[Aa])gee(m,pee(m,y[Aa]),y,I);else{var b=f8.get(m,o2,{});$e(b,function(R,k){gee(m,k,y,I)}),vt(b)[Ur]===0&&f8.kill(m,o2)}}s(PSe,"_unregisterEvents");function yee(m,y){var I;return y?(lt(y)?I=[m].concat(y):I=[m,y],I=SM("xx",I).ns[td](".")):I=m,I}s(yee,"mergeEvtNamespace");function Cee(m,y,I,b,R){R===void 0&&(R=!1);var k=!1;if(m)try{var F=SM(y,b);if(k=QSe(m,F,I,R),k&&f8.accept(m)){var V={guid:DSe++,evtName:F,handler:I,capture:R};pee(m,F.type)[Un](V)}}catch{}return k}s(Cee,"eventOn");function FSe(m,y,I,b,R){if(R===void 0&&(R=!1),m)try{var k=SM(y,b),F=!1;PSe(m,k,function(V){return k.ns&&!I||V.handler===I?(F=!0,!0):!1}),F||mee(m,k,I,R)}catch{}}s(FSe,"eventOff");var Eee="sampleRate",BM="ProcessLegacy",Iee="http.method",RM="https://dc.services.visualstudio.com",s2="/v2/track",ym="not_specified",xee=GL({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),d8="split",nn="length",kM="toLowerCase",gy="ingestionendpoint",bT="toString",vee="removeItem",h8="message",LSe="count",DM="stringify",NM="pathname",TT="match",Cm="name",Ad="properties",Vh="measurements",A8="sizeInBytes",p8="typeName",_T="exceptions",wT="severityLevel",QM="problemGroup",a2="parsedStack",m8="hasFullStack",g8="assembly",Wh="fileName",c2="line",y8="aiDataContract",C8="duration";function bee(m,y,I){var b=y[nn],R=MSe(m,y);if(R[nn]!==b){for(var k=0,F=R;I[F]!==void 0;)k++,F=fe(R,0,147)+HSe(k);R=F}return R}s(bee,"dataSanitizeKeyAndAddUniqueness");function MSe(m,y){var I;return y&&(y=On(Mn(y)),y[nn]>150&&(I=fe(y,0,150),Mt(m,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),I||y}s(MSe,"dataSanitizeKey");function Ua(m,y,I){I===void 0&&(I=1024);var b;return y&&(I=I||1024,y=On(Mn(y)),y[nn]>I&&(b=fe(y,0,I),Mt(m,2,61,"string value is too long. It has been truncated to "+I+" characters.",{value:y},!0))),b||y}s(Ua,"dataSanitizeString");function PM(m,y){return _ee(m,y,2048,66)}s(PM,"dataSanitizeUrl");function Tee(m,y){var I;return y&&y[nn]>32768&&(I=fe(y,0,32768),Mt(m,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),I||y}s(Tee,"dataSanitizeMessage");function OSe(m,y){var I;if(y){var b=""+y;b[nn]>32768&&(I=fe(b,0,32768),Mt(m,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return I||y}s(OSe,"dataSanitizeException");function yy(m,y){if(y){var I={};$e(y,function(b,R){if(rt(R)&&Xp())try{R=u0()[DM](R)}catch(k){Mt(m,2,49,"custom property is not valid",{exception:k},!0)}R=Ua(m,R,8192),b=bee(m,b,I),I[b]=R}),y=I}return y}s(yy,"dataSanitizeProperties");function Cy(m,y){if(y){var I={};$e(y,function(b,R){b=bee(m,b,I),I[b]=R}),y=I}return y}s(Cy,"dataSanitizeMeasurements");function USe(m,y){return y&&_ee(m,y,128,69)[bT]()}s(USe,"dataSanitizeId");function _ee(m,y,I,b){var R;return y&&(y=On(Mn(y)),y[nn]>I&&(R=fe(y,0,I),Mt(m,2,b,"input is too long, it has been truncated to "+I+" characters.",{data:y},!0))),R||y}s(_ee,"dataSanitizeInput");function HSe(m){var y="00"+m;return Ce(y,y[nn]-3)}s(HSe,"dsPadNumber");var wee=hp()||{},See=0,qSe=[null,null,null,null,null];function GSe(m){var y=See,I=qSe,b=I[y];return wee.createElement?I[y]||(b=I[y]=wee.createElement("a")):b={host:VSe(m,!0)},b.href=m,y++,y>=I[nn]&&(y=0),See=y,b}s(GSe,"urlParseUrl");function VSe(m,y){var I=WSe(m,y)||"";if(I){var b=I[TT](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[nn]>3&&Ae(b[2])&&b[2][nn]>0)return b[2]+(b[3]||"")}return I}s(VSe,"urlParseHost");function WSe(m,y){var I=null;if(m){var b=m[TT](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(b!=null&&b[nn]>2&&Ae(b[2])&&b[2][nn]>0&&(I=b[2]||"",y&&b[nn]>2)){var R=(b[1]||"")[kM](),k=b[3]||"";(R==="http"&&k===":80"||R==="https"&&k===":443")&&(k=""),I+=k}}return I}s(WSe,"urlParseFullHost");var $Se=[RM+s2,"https://breeze.aimon.applicationinsights.io"+s2,"https://dc-int.services.visualstudio.com"+s2];function Bee(m){return a0($Se,m[kM]())!==-1}s(Bee,"isInternalApplicationInsightsEndpoint");function YSe(m,y,I,b){var R,k=b,F=b;if(y&&y[nn]>0){var V=GSe(y);if(R=V.host,!k)if(V[NM]!=null){var j=V.pathname[nn]===0?"/":V[NM];j.charAt(0)!=="/"&&(j="/"+j),F=V[NM],k=Ua(m,I?I+" "+j:j)}else k=Ua(m,y)}else R=b,k=b;return{target:R,name:k,data:F}}s(YSe,"AjaxHelperParseDependencyPath");var FM=yI({LocalStorage:0,SessionStorage:1}),l2=void 0,Ree="";function kee(m){try{if(re(ml()))return null;var y=new Date()[bT](),I=No(m===FM.LocalStorage?"localStorage":"sessionStorage"),b=Ree+y;I.setItem(b,y);var R=I.getItem(b)!==y;if(I[vee](b),!R)return I}catch{}return null}s(kee,"_getVerifiedStorageObject");function LM(){return Dee()?kee(FM.SessionStorage):null}s(LM,"_getSessionStorageObject");function zSe(m){Ree=m||""}s(zSe,"utlSetStoragePrefix");function Dee(m){return(m||l2===void 0)&&(l2=!!kee(FM.SessionStorage)),l2}s(Dee,"utlCanUseSessionStorage");function jSe(m,y){var I=LM();if(I!==null)try{return I.getItem(y)}catch(b){l2=!1,Mt(m,2,2,"Browser failed read of session storage. "+ws(b),{exception:Xt(b)})}return null}s(jSe,"utlGetSessionStorage");function KSe(m,y,I){var b=LM();if(b!==null)try{return b.setItem(y,I),!0}catch(R){l2=!1,Mt(m,2,4,"Browser failed write to session storage. "+ws(R),{exception:Xt(R)})}return!1}s(KSe,"utlSetSessionStorage");function JSe(m,y){var I=LM();if(I!==null)try{return I[vee](y),!0}catch(b){l2=!1,Mt(m,2,6,"Browser failed removal of session storage item. "+ws(b),{exception:Xt(b)})}return!1}s(JSe,"utlRemoveSessionStorage");var XSe=";",ZSe="=";function MM(m){if(!m)return{};var y=m[d8](XSe),I=kL(y,function(R,k){var F=k[d8](ZSe);if(F[nn]===2){var V=F[0][kM](),j=F[1];R[V]=j}return R},{});if(vt(I)[nn]>0){if(I.endpointsuffix){var b=I.location?I.location+".":"";I[gy]=I[gy]||"https://"+b+"dc."+I.endpointsuffix}I[gy]=I[gy]||RM,aB(I[gy],"/")&&(I[gy]=I[gy].slice(0,-1))}return I}s(MM,"parseConnectionString");var eBe=function(){function m(y,I,b){var R=this,k=this;k.ver=1,k.sampleRate=100,k.tags={},k[Cm]=Ua(y,b)||ym,k.data=I,k.time=Z1(new Date),k[y8]={time:1,iKey:1,name:1,sampleRate:s(function(){return R.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(m,"Envelope"),m}(),u2=function(){function m(y,I,b,R){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var k=this;k.ver=2,k[Cm]=Ua(y,I)||ym,k[Ad]=yy(y,b),k[Vh]=Cy(y,R)}return s(m,"Event"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Event",m.dataType="EventData",m}(),tBe=58,rBe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,nBe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,iBe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,oBe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,sBe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,aBe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,cBe=/([^\(\s\n]+):([0-9]+)$/,Nee="<no_method>",f2="error",Bl="stack",OM="stackDetails",Qee="errorSrc",UM="message",Pee="description",Fee=[{re:nBe,len:5,m:1,fn:2,ln:3,col:4},{chk:uBe,pre:lBe,re:iBe,len:4,m:1,fn:2,ln:3},{re:oBe,len:3,m:1,fn:2,hdl:qee},{re:sBe,len:2,fn:1,hdl:qee}];function lBe(m){return m.replace(/(\(anonymous\))/,"<anonymous>")}s(lBe,"_scrubAnonymous");function uBe(m){return Su(m,"[native")<0}s(uBe,"_ignoreNative");function HM(m,y){var I=m;return I&&!Ae(I)&&(JSON&&JSON[DM]?(I=JSON[DM](m),y&&(!I||I==="{}")&&(Je(m[bT])?I=m[bT]():I=""+m)):I=""+m+" - (Missing JSON.stringify)"),I||""}s(HM,"_stringify");function Lee(m,y){var I=m;return m&&(I&&!Ae(I)&&(I=m[UM]||m[Pee]||I),I&&!Ae(I)&&(I=HM(I,!0)),m.filename&&(I=I+" @"+(m.filename||"")+":"+(m.lineno||"?")+":"+(m.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Su(I||"",y)===-1&&(I=y+": "+I),I||""}s(Lee,"_formatMessage");function fBe(m){try{if(rt(m))return"hasFullStack"in m&&"typeName"in m}catch{}return!1}s(fBe,"_isExceptionDetailsInternal");function dBe(m){try{if(rt(m))return"ver"in m&&"exceptions"in m&&"properties"in m}catch{}return!1}s(dBe,"_isExceptionInternal");function Mee(m){return m&&m.src&&Ae(m.src)&&m.obj&&lt(m.obj)}s(Mee,"_isStackDetails");function Ey(m){var y=m||"";Ae(y)||(Ae(y[Bl])?y=y[Bl]:y=""+y);var I=y[d8](`
`);return{src:y,obj:I}}s(Ey,"_convertStackObj");function hBe(m){for(var y=[],I=m[d8](`
`),b=0;b<I[nn];b++){var R=I[b];I[b+1]&&(R+="@"+I[b+1],b++),y.push(R)}return{src:m,obj:y}}s(hBe,"_getOperaStack");function Oee(m){var y=null;if(m)try{if(m[Bl])y=Ey(m[Bl]);else if(m[f2]&&m[f2][Bl])y=Ey(m[f2][Bl]);else if(m.exception&&m.exception[Bl])y=Ey(m.exception[Bl]);else if(Mee(m))y=m;else if(Mee(m[OM]))y=m[OM];else if(wu()&&wu().opera&&m[UM])y=hBe(m[h8]);else if(m.reason&&m.reason[Bl])y=Ey(m.reason[Bl]);else if(Ae(m))y=Ey(m);else{var I=m[UM]||m[Pee]||"";Ae(m[Qee])&&(I&&(I+=`
`),I+=" from "+m[Qee]),I&&(y=Ey(I))}}catch(b){y=Ey(b)}return y||{src:"",obj:null}}s(Oee,"_getStackFromErrorObj");function ABe(m){var y="";return m&&(m.obj?y=m.obj.join(`
`):y=m.src||""),y}s(ABe,"_formatStackTrace");function pBe(m){var y,I=m.obj;if(I&&I[nn]>0){y=[];var b=0,R=!1,k=0;Yt(I,function(Ye){if(R||CBe(Ye)){var Ue=Mn(Ye);R=!0;var nt=EBe(Ue,b);nt&&(k+=nt[A8],y.push(nt),b++)}});var F=32*1024;if(k>F)for(var V=0,j=y[nn]-1,se=0,ye=V,Te=j;V<j;){var Pe=y[V][A8],we=y[j][A8];if(se+=Pe+we,se>F){var De=Te-ye+1;y.splice(ye,De);break}ye=V,Te=j,V++,j--}}return y}s(pBe,"_parseStack");function E8(m){var y="";if(m&&(y=m.typeName||m[Cm]||"",!y))try{var I=/function (.{1,200})\(/,b=I.exec(m.constructor[bT]());y=b&&b[nn]>1?b[1]:""}catch{}return y}s(E8,"_getErrorType");function qM(m){if(m)try{if(!Ae(m)){var y=E8(m),I=HM(m,!1);return(!I||I==="{}")&&(m[f2]&&(m=m[f2],y=E8(m)),I=HM(m,!0)),Su(I,y)!==0&&y!=="String"?y+":"+I:I}}catch{}return""+(m||"")}s(qM,"_formatErrorCode");var I8=function(){function m(y,I,b,R,k,F){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var V=this;V.ver=2,dBe(I)?(V[_T]=I[_T]||[],V[Ad]=I[Ad],V[Vh]=I[Vh],I[wT]&&(V[wT]=I[wT]),I.id&&(V.id=I.id,I[Ad].id=I.id),I[QM]&&(V[QM]=I[QM]),re(I.isManual)||(V.isManual=I.isManual)):(b||(b={}),F&&(b.id=F),V[_T]=[Uee(y,I,b)],V[Ad]=yy(y,b),V[Vh]=Cy(y,R),k&&(V[wT]=k),F&&(V.id=F))}return s(m,"Exception"),m.CreateAutoException=function(y,I,b,R,k,F,V,j){var se=E8(k||F||y);return{message:Lee(y,se),url:I,lineNumber:b,columnNumber:R,error:qM(k||F||y),evt:qM(F||y),typeName:se,stackDetails:Oee(V||k||F),errorSrc:j}},m.CreateFromInterface=function(y,I,b,R){var k=I[_T]&&bh(I[_T],function(V){return yBe(y,V)}),F=new m(y,Ru(Ru({},I),{exceptions:k}),b,R);return F},m.prototype.toInterface=function(){var y=this,I=y.exceptions,b=y.properties,R=y.measurements,k=y.severityLevel,F=y.problemGroup,V=y.id,j=y.isManual,se=I instanceof Array&&bh(I,function(ye){return ye.toInterface()})||void 0;return{ver:"4.0",exceptions:se,severityLevel:k,properties:b,measurements:R,problemGroup:F,id:V,isManual:j}},m.CreateSimpleException=function(y,I,b,R,k,F){var V;return{exceptions:[(V={},V[m8]=!0,V.message=y,V.stack=k,V.typeName=I,V)]}},m.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",m.dataType="ExceptionData",m.formatError=qM,m}(),mBe=Tr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function gBe(){var m=this,y=lt(m[a2])&&bh(m[a2],function(b){return xBe(b)}),I={id:m.id,outerId:m.outerId,typeName:m[p8],message:m[h8],hasFullStack:m[m8],stack:m[Bl],parsedStack:y||void 0};return I}s(gBe,"_toInterface");function Uee(m,y,I){var b,R,k,F,V,j,se,ye;if(fBe(y))F=y[p8],V=y[h8],se=y[Bl],ye=y[a2]||[],j=y[m8];else{var Te=y,Pe=Te&&Te.evt;Dn(Te)||(Te=Te[f2]||Pe||Te),F=Ua(m,E8(Te))||ym,V=Tee(m,Lee(y||Te,F))||ym;var we=y[OM]||Oee(y);ye=pBe(we),lt(ye)&&bh(ye,function(De){De[g8]=Ua(m,De[g8]),De[Wh]=Ua(m,De[Wh])}),se=OSe(m,ABe(we)),j=lt(ye)&&ye[nn]>0,I&&(I[p8]=I[p8]||F)}return b={},b[y8]=mBe,b.id=R,b.outerId=k,b.typeName=F,b.message=V,b[m8]=j,b.stack=se,b.parsedStack=ye,b.toInterface=gBe,b}s(Uee,"_createExceptionDetails");function yBe(m,y){var I=lt(y[a2])&&bh(y[a2],function(R){return IBe(R)})||y[a2],b=Uee(m,Ru(Ru({},y),{parsedStack:I}));return b}s(yBe,"_createExDetailsFromInterface");function Hee(m,y){var I=y[TT](aBe);if(I&&I[nn]>=4)m[Wh]=I[1],m[c2]=parseInt(I[2]);else{var b=y[TT](cBe);b&&b[nn]>=3?(m[Wh]=b[1],m[c2]=parseInt(b[2])):m[Wh]=y}}s(Hee,"_parseFilename");function qee(m,y,I){var b=m[Wh];y.fn&&I&&I[nn]>y.fn&&(y.ln&&I[nn]>y.ln?(b=On(I[y.fn]||""),m[c2]=parseInt(On(I[y.ln]||""))||0):b=On(I[y.fn]||"")),b&&Hee(m,b)}s(qee,"_handleFilename");function CBe(m){var y=!1;if(m&&Ae(m)){var I=On(m);I&&(y=rBe.test(I))}return y}s(CBe,"_isStackFrame");var Gee=Tr({level:1,method:1,assembly:0,fileName:0,line:0});function EBe(m,y){var I,b;if(m&&Ae(m)&&On(m)){b=(I={},I[y8]=Gee,I.level=y,I.assembly=On(m),I.method=Nee,I.fileName="",I.line=0,I.sizeInBytes=0,I);for(var R=0;R<Fee[nn];){var k=Fee[R];if(k.chk&&!k.chk(m))break;k.pre&&(m=k.pre(m));var F=m[TT](k.re);if(F&&F[nn]>=k.len){k.m&&(b.method=On(F[k.m]||Nee)),k.hdl?k.hdl(b,k,F):k.fn&&(k.ln?(b[Wh]=On(F[k.fn]||""),b[c2]=parseInt(On(F[k.ln]||""))||0):Hee(b,F[k.fn]||""));break}R++}}return Vee(b)}s(EBe,"_extractStackFrame");function IBe(m){var y,I=(y={},y[y8]=Gee,y.level=m.level,y.method=m.method,y.assembly=m[g8],y.fileName=m[Wh],y.line=m[c2],y.sizeInBytes=0,y);return Vee(I)}s(IBe,"_stackFrameFromInterface");function Vee(m){var y=tBe;return m&&(y+=m.method[nn],y+=m.assembly[nn],y+=m.fileName[nn],y+=m.level.toString()[nn],y+=m.line.toString()[nn],m[A8]=y),m}s(Vee,"_populateFrameSizeInBytes");function xBe(m){return{level:m.level,method:m.method,assembly:m[g8],fileName:m[Wh],line:m[c2]}}s(xBe,"_parsedFrameToInterface");var vBe=function(){function m(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(m,"DataPoint"),m}(),ST=function(){function m(y,I,b,R,k,F,V,j,se){this.aiDataContract={ver:1,metrics:1,properties:0};var ye=this;ye.ver=2;var Te=new vBe;Te[LSe]=R>0?R:void 0,Te.max=isNaN(F)||F===null?void 0:F,Te.min=isNaN(k)||k===null?void 0:k,Te[Cm]=Ua(y,I)||ym,Te.value=b,Te.stdDev=isNaN(V)||V===null?void 0:V,ye.metrics=[Te],ye[Ad]=yy(y,j),ye[Vh]=Cy(y,se)}return s(m,"Metric"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",m.dataType="MetricData",m}(),BT="";function Wee(m){(isNaN(m)||m<0)&&(m=0),m=FL(m);var y=BT+m%1e3,I=BT+Th(m/1e3)%60,b=BT+Th(m/(1e3*60))%60,R=BT+Th(m/(1e3*60*60))%24,k=Th(m/(1e3*60*60*24));return y=y[nn]===1?"00"+y:y[nn]===2?"0"+y:y,I=I[nn]<2?"0"+I:I,b=b[nn]<2?"0"+b:b,R=R[nn]<2?"0"+R:R,(k>0?k+".":BT)+R+":"+b+":"+I+"."+y}s(Wee,"msToTimeSpan");var x8=function(){function m(y,I,b,R,k,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var j=this;j.ver=2,j.id=USe(y,V),j.url=PM(y,b),j[Cm]=Ua(y,I)||ym,isNaN(R)||(j[C8]=Wee(R)),j[Ad]=yy(y,k),j[Vh]=Cy(y,F)}return s(m,"PageView"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",m.dataType="PageviewData",m}(),v8=function(){function m(y,I,b,R,k,F,V,j,se,ye,Te,Pe){se===void 0&&(se="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var we=this;we.ver=2,we.id=I,we[C8]=Wee(k),we.success=F,we.resultCode=V+"",we.type=Ua(y,se);var De=YSe(y,b,j,R);we.data=PM(y,R)||De.data,we.target=Ua(y,De.target),ye&&(we.target="".concat(we.target," | ").concat(ye)),we[Cm]=Ua(y,De[Cm]),we[Ad]=yy(y,Te),we[Vh]=Cy(y,Pe)}return s(m,"RemoteDependencyData"),m.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",m.dataType="RemoteDependencyData",m}(),b8=function(){function m(y,I,b,R,k){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var F=this;F.ver=2,I=I||ym,F[h8]=Tee(y,I),F[Ad]=yy(y,R),F[Vh]=Cy(y,k),b&&(F[wT]=b)}return s(m,"Trace"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Message",m.dataType="MessageData",m}(),T8=function(){function m(y,I,b,R,k,F,V){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var j=this;j.ver=2,j.url=PM(y,b),j[Cm]=Ua(y,I)||ym,j[Ad]=yy(y,k),j[Vh]=Cy(y,F),V&&(j.domProcessing=V.domProcessing,j[C8]=V[C8],j.networkConnect=V.networkConnect,j.perfTotal=V.perfTotal,j.receivedResponse=V.receivedResponse,j.sentRequest=V.sentRequest)}return s(m,"PageViewPerformance"),m.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",m.dataType="PageviewPerformanceData",m}(),Iy=function(){function m(y,I){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=I}return s(m,"Data"),m}(),bBe=yI({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Em(m){var y="ai."+m+".";return function(I){return y+I}}s(Em,"_aiNameFunc");var RT=Em("application"),Bs=Em("device"),_8=Em("location"),d2=Em("operation"),GM=Em("session"),Im=Em("user"),xy=Em("cloud"),kT=Em("internal"),$ee=function(m){Y1(y,m);function y(){return m.call(this)||this}return s(y,"ContextTagKeys"),y}(XL({applicationVersion:RT("ver"),applicationBuild:RT("build"),applicationTypeId:RT("typeId"),applicationId:RT("applicationId"),applicationLayer:RT("layer"),deviceId:Bs("id"),deviceIp:Bs("ip"),deviceLanguage:Bs("language"),deviceLocale:Bs("locale"),deviceModel:Bs("model"),deviceFriendlyName:Bs("friendlyName"),deviceNetwork:Bs("network"),deviceNetworkName:Bs("networkName"),deviceOEMName:Bs("oemName"),deviceOS:Bs("os"),deviceOSVersion:Bs("osVersion"),deviceRoleInstance:Bs("roleInstance"),deviceRoleName:Bs("roleName"),deviceScreenResolution:Bs("screenResolution"),deviceType:Bs("type"),deviceMachineName:Bs("machineName"),deviceVMName:Bs("vmName"),deviceBrowser:Bs("browser"),deviceBrowserVersion:Bs("browserVersion"),locationIp:_8("ip"),locationCountry:_8("country"),locationProvince:_8("province"),locationCity:_8("city"),operationId:d2("id"),operationName:d2("name"),operationParentId:d2("parentId"),operationRootId:d2("rootId"),operationSyntheticSource:d2("syntheticSource"),operationCorrelationVector:d2("correlationVector"),sessionId:GM("id"),sessionIsFirst:GM("isFirst"),sessionIsNew:GM("isNew"),userAccountAcquisitionDate:Im("accountAcquisitionDate"),userAccountId:Im("accountId"),userAgent:Im("userAgent"),userId:Im("id"),userStoreRegion:Im("storeRegion"),userAuthUserId:Im("authUserId"),userAnonymousUserAcquisitionDate:Im("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Im("authUserAcquisitionDate"),cloudName:xy("name"),cloudRole:xy("role"),cloudRoleVer:xy("roleVer"),cloudRoleInstance:xy("roleInstance"),cloudEnvironment:xy("environment"),cloudLocation:xy("location"),cloudDeploymentUnit:xy("deploymentUnit"),internalNodeName:kT("nodeName"),internalSdkVersion:kT("sdkVersion"),internalAgentVersion:kT("agentVersion"),internalSnippet:kT("snippet"),internalSdkSrc:kT("sdkSrc")})),Gs=new $ee;function Yee(m,y){FSe(m,null,null,y)}s(Yee,"_disableEvents");function TBe(m){var y=hp(),I=Hf(),b=!1,R=[],k=1;I&&!re(I.onLine)&&!I.onLine&&(k=2);var F=0,V=Pe(),j=yee(Lu("OfflineListener"),m);try{if(ye(wu())&&(b=!0),y){var se=y.body||y;se.ononline&&ye(se)&&(b=!0)}}catch{b=!1}function ye(It){var Nt=!1;return It&&(Nt=Cee(It,"online",Ye,j),Nt&&Cee(It,"offline",Ue,j)),Nt}s(ye,"_enableEvents");function Te(){return V}s(Te,"_isOnline");function Pe(){return!(F===2||k===2)}s(Pe,"calCurrentState");function we(){var It=Pe();V!==It&&(V=It,Yt(R,function(Nt){var Nr={isOnline:V,rState:k,uState:F};try{Nt(Nr)}catch{}}))}s(we,"listnerNoticeCheck");function De(It){F=It,we()}s(De,"setOnlineState");function Ye(){k=1,we()}s(Ye,"_setOnline");function Ue(){k=2,we()}s(Ue,"_setOffline");function nt(){var It=wu();if(It&&b){if(Yee(It,j),y){var Nt=y.body||y;W(Nt.ononline)||Yee(Nt,j)}b=!1}}s(nt,"_unload");function At(It){return R.push(It),{rm:s(function(){var Nt=R.indexOf(It);if(Nt>-1)return R.splice(Nt,1)},"rm")}}return s(At,"addListener"),{isOnline:Te,isListening:s(function(){return b},"isListening"),unload:nt,addListener:At,setOnlineState:De}}s(TBe,"createOfflineListener");var _Be="AppInsightsChannelPlugin",vy="duration",pa="tags",VM="deviceType",kc="data",$h="name",DT="traceID",fn="length",NT="stringify",by="measurements",pd="dataType",Ty="envelopeType",_y="toString",wy="enqueue",Sy="count",Yh="push",WM="emitLineDelimitedJson",h2="clear",w8="markAsSent",QT="clearSent",$M="bufferOverride",PT="BUFFER_KEY",xm="SENT_BUFFER_KEY",A2="concat",FT="MAX_BUFFER_SIZE",LT="triggerSend",Ha="diagLog",YM="initialize",MT="_sender",OT="endpointUrl",UT="instrumentationKey",zM="customHeaders",zee="maxBatchSizeInBytes",jM="onunloadDisableBeacon",KM="isBeaconApiDisabled",jee="alwaysUseXhrOverride",Kee="enableSessionStorageBuffer",md="_buffer",Jee="onunloadDisableFetch",Xee="disableSendBeaconSplit",S8="getSenderInst",By="_onError",JM="_onPartialSuccess",B8="_onSuccess",XM="itemsReceived",ZM="itemsAccepted",eO="baseType",R8="sampleRate",wBe="getHashCodeScore",tO="baseType",oo="baseData",Vs="properties",Zee="true";function Xo(m,y,I){return id(m,y,I,le)}s(Xo,"_setValueIf");function SBe(m,y,I){var b=I[pa]=I[pa]||{},R=y.ext=y.ext||{},k=y[pa]=y[pa]||[],F=R.user;F&&(Xo(b,Gs.userAuthUserId,F.authId),Xo(b,Gs.userId,F.id||F.localId));var V=R.app;V&&Xo(b,Gs.sessionId,V.sesId);var j=R.device;j&&(Xo(b,Gs.deviceId,j.id||j.localId),Xo(b,Gs[VM],j.deviceClass),Xo(b,Gs.deviceIp,j.ip),Xo(b,Gs.deviceModel,j.model),Xo(b,Gs[VM],j[VM]));var se=y.ext.web;if(se){Xo(b,Gs.deviceLanguage,se.browserLang),Xo(b,Gs.deviceBrowserVersion,se.browserVer),Xo(b,Gs.deviceBrowser,se.browser);var ye=I[kc]=I[kc]||{},Te=ye[oo]=ye[oo]||{},Pe=Te[Vs]=Te[Vs]||{};Xo(Pe,"domain",se.domain),Xo(Pe,"isManual",se.isManual?Zee:null),Xo(Pe,"screenRes",se.screenRes),Xo(Pe,"userConsent",se.userConsent?Zee:null)}var we=R.os;we&&(Xo(b,Gs.deviceOS,we[$h]),Xo(b,Gs.deviceOSVersion,we.osVer));var De=R.trace;De&&(Xo(b,Gs.operationParentId,De.parentID),Xo(b,Gs.operationName,Ua(m,De[$h])),Xo(b,Gs.operationId,De[DT]));for(var Ye={},Ue=k[fn]-1;Ue>=0;Ue--){var nt=k[Ue];$e(nt,function(It,Nt){Ye[It]=Nt}),k.splice(Ue,1)}$e(k,function(It,Nt){Ye[It]=Nt});var At=Ru(Ru({},b),Ye);At[Gs.internalSdkVersion]||(At[Gs.internalSdkVersion]=Ua(m,"javascript:".concat(BBe.Version),64)),I[pa]=K5(At)}s(SBe,"_extractPartAExtensions");function vm(m,y,I){re(m)||$e(m,function(b,R){Vt(R)?I[b]=R:Ae(R)?y[b]=R:Xp()&&(y[b]=u0()[NT](R))})}s(vm,"_extractPropsAndMeasurements");function Ry(m,y){re(m)||$e(m,function(I,b){m[I]=b||y})}s(Ry,"_convertPropsUndefinedToCustomDefinedValue");function ky(m,y,I,b){var R=new eBe(m,b,y);Xo(R,"sampleRate",I[Eee]),(I[oo]||{}).startTime&&(R.time=Z1(I[oo].startTime)),R.iKey=I.iKey;var k=I.iKey.replace(/-/g,"");return R[$h]=R[$h].replace("{0}",k),SBe(m,I,R),I[pa]=I[pa]||[],K5(R)}s(ky,"_createEnvelope");function Dy(m,y){re(y[oo])&&Mt(m,1,46,"telemetryItem.baseData cannot be null.")}s(Dy,"EnvelopeCreatorInit");var BBe={Version:"3.3.6"};function RBe(m,y,I){Dy(m,y);var b=y[oo][by]||{},R=y[oo][Vs]||{};vm(y[kc],R,b),re(I)||Ry(R,I);var k=y[oo];if(re(k))return KI(m,"Invalid input for dependency data"),null;var F=k[Vs]&&k[Vs][Iee]?k[Vs][Iee]:"GET",V=new v8(m,k.id,k.target,k[$h],k[vy],k.success,k.responseCode,F,k.type,k.correlationContext,R,b),j=new Iy(v8[pd],V);return ky(m,v8[Ty],y,j)}s(RBe,"DependencyEnvelopeCreator");function ete(m,y,I){Dy(m,y);var b={},R={};y[tO]!==u2[pd]&&(b.baseTypeSource=y[tO]),y[tO]===u2[pd]?(b=y[oo][Vs]||{},R=y[oo][by]||{}):y[oo]&&vm(y[oo],b,R),vm(y[kc],b,R),re(I)||Ry(b,I);var k=y[oo][$h],F=new u2(m,k,b,R),V=new Iy(u2[pd],F);return ky(m,u2[Ty],y,V)}s(ete,"EventEnvelopeCreator");function kBe(m,y,I){Dy(m,y);var b=y[oo][by]||{},R=y[oo][Vs]||{};vm(y[kc],R,b),re(I)||Ry(R,I);var k=y[oo],F=I8.CreateFromInterface(m,k,R,b),V=new Iy(I8[pd],F);return ky(m,I8[Ty],y,V)}s(kBe,"ExceptionEnvelopeCreator");function DBe(m,y,I){Dy(m,y);var b=y[oo],R=b[Vs]||{},k=b[by]||{};vm(y[kc],R,k),re(I)||Ry(R,I);var F=new ST(m,b[$h],b.average,b.sampleCount,b.min,b.max,b.stdDev,R,k),V=new Iy(ST[pd],F);return ky(m,ST[Ty],y,V)}s(DBe,"MetricEnvelopeCreator");function NBe(m,y,I){Dy(m,y);var b,R=y[oo];!re(R)&&!re(R[Vs])&&!re(R[Vs][vy])?(b=R[Vs][vy],delete R[Vs][vy]):!re(y[kc])&&!re(y[kc][vy])&&(b=y[kc][vy],delete y[kc][vy]);var k=y[oo],F;((y.ext||{}).trace||{})[DT]&&(F=y.ext.trace[DT]);var V=k.id||F,j=k[$h],se=k.uri,ye=k[Vs]||{},Te=k[by]||{};if(re(k.refUri)||(ye.refUri=k.refUri),re(k.pageType)||(ye.pageType=k.pageType),re(k.isLoggedIn)||(ye.isLoggedIn=k.isLoggedIn[_y]()),!re(k[Vs])){var Pe=k[Vs];$e(Pe,function(Ye,Ue){ye[Ye]=Ue})}vm(y[kc],ye,Te),re(I)||Ry(ye,I);var we=new x8(m,j,se,b,ye,Te,V),De=new Iy(x8[pd],we);return ky(m,x8[Ty],y,De)}s(NBe,"PageViewEnvelopeCreator");function QBe(m,y,I){Dy(m,y);var b=y[oo],R=b[$h],k=b.uri||b.url,F=b[Vs]||{},V=b[by]||{};vm(y[kc],F,V),re(I)||Ry(F,I);var j=new T8(m,R,k,void 0,F,V,b),se=new Iy(T8[pd],j);return ky(m,T8[Ty],y,se)}s(QBe,"PageViewPerformanceEnvelopeCreator");function PBe(m,y,I){Dy(m,y);var b=y[oo].message,R=y[oo].severityLevel,k=y[oo][Vs]||{},F=y[oo][by]||{};vm(y[kc],k,F),re(I)||Ry(k,I);var V=new b8(m,b,R,k,F),j=new Iy(b8[pd],V);return ky(m,b8[Ty],y,j)}s(PBe,"TraceEnvelopeCreator");var tte=function(){function m(y,I){var b=[],R=!1,k=I.maxRetryCnt;this._get=function(){return b},this._set=function(F){return b=F,b},ha(m,this,function(F){F[wy]=function(V){if(F[Sy]()>=I.eventsLimitInMem){R||(Mt(y,2,105,"Maximum in-memory buffer size reached: "+F[Sy](),!0),R=!0);return}V.cnt=V.cnt||0,!(!re(k)&&V.cnt>k)&&b[Yh](V)},F[Sy]=function(){return b[fn]},F.size=function(){for(var V=b[fn],j=0;j<b[fn];j++)V+=b[j].item[fn];return I[WM]||(V+=2),V},F[h2]=function(){b=[],R=!1},F.getItems=function(){return b.slice(0)},F.batchPayloads=function(V){if(V&&V[fn]>0){var j=[];Yt(V,function(ye){j[Yh](ye.item)});var se=I[WM]?j.join(`
`):"["+j.join(",")+"]";return se}return null},F.createNew=function(V,j,se){var ye=b.slice(0);V=V||y,j=j||{};var Te=se?new rte(V,j):new rO(V,j);return Yt(ye,function(Pe){Te[wy](Pe)}),Te}})}return s(m,"BaseSendBuffer"),m.__ieDyn=1,m}(),rO=function(m){Y1(y,m);function y(I,b){var R=m.call(this,I,b)||this;return ha(y,R,function(k,F){k[w8]=function(V){F[h2]()},k[QT]=function(V){}}),R}return s(y,"ArraySendBuffer"),y.__ieDyn=1,y}(tte),FBe=["AI_buffer","AI_sentBuffer"],rte=function(m){Y1(y,m);function y(b,R){var k=m.call(this,b,R)||this,F=!1,V=R?.namePrefix,j=R[$M]||{getItem:jSe,setItem:KSe},se=j.getItem,ye=j.setItem,Te=R.maxRetryCnt;return ha(y,k,function(Pe,we){var De=Nt(y[PT]),Ye=Nt(y[xm]),Ue=pn(),nt=Ye[A2](Ue),At=Pe._set(De[A2](nt));At[fn]>y[FT]&&(At[fn]=y[FT]),An(y[xm],[]),An(y[PT],At),Pe[wy]=function(sr){if(Pe[Sy]()>=y[FT]){F||(Mt(b,2,67,"Maximum buffer size reached: "+Pe[Sy](),!0),F=!0);return}sr.cnt=sr.cnt||0,!(!re(Te)&&sr.cnt>Te)&&(we[wy](sr),An(y[PT],Pe._get()))},Pe[h2]=function(){we[h2](),An(y[PT],Pe._get()),An(y[xm],[]),F=!1},Pe[w8]=function(sr){An(y[PT],Pe._set(It(sr,Pe._get())));var Wt=Nt(y[xm]);Wt instanceof Array&&sr instanceof Array&&(Wt=Wt[A2](sr),Wt[fn]>y[FT]&&(Mt(b,1,67,"Sent buffer reached its maximum size: "+Wt[fn],!0),Wt[fn]=y[FT]),An(y[xm],Wt))},Pe[QT]=function(sr){var Wt=Nt(y[xm]);Wt=It(sr,Wt),An(y[xm],Wt)},Pe.createNew=function(sr,Wt,mn){mn=!!mn;var so=Pe._get().slice(0),Ri=Nt(y[xm]).slice(0);sr=sr||b,Wt=Wt||{},Pe[h2]();var pt=mn?new y(sr,Wt):new rO(sr,Wt);return Yt(so,function($t){pt[wy]($t)}),mn&&pt[w8](Ri),pt};function It(sr,Wt){var mn=[],so=[];return Yt(sr,function(Ri){so[Yh](Ri.item)}),Yt(Wt,function(Ri){!Je(Ri)&&a0(so,Ri.item)===-1&&mn[Yh](Ri)}),mn}s(It,"_removePayloadsFromBuffer");function Nt(sr){var Wt=sr;return Wt=V?V+"_"+Wt:Wt,Nr(Wt)}s(Nt,"_getBuffer");function Nr(sr){try{var Wt=se(b,sr);if(Wt){var mn=u0().parse(Wt);if(Ae(mn)&&(mn=u0().parse(mn)),mn&&lt(mn))return mn}}catch(so){Mt(b,1,42," storage key: "+sr+", "+ws(so),{exception:Xt(so)})}return[]}s(Nr,"_getBufferBase");function An(sr,Wt){var mn=sr;try{mn=V?V+"_"+mn:mn;var so=JSON[NT](Wt);ye(b,mn,so)}catch(Ri){ye(b,mn,JSON[NT]([])),Mt(b,2,41," storage key: "+mn+", "+ws(Ri)+". Buffer cleared",{exception:Xt(Ri)})}}s(An,"_setBuffer");function pn(){var sr=[];try{return Yt(FBe,function(Wt){var mn=ai(Wt);if(sr=sr[A2](mn),V){var so=V+"_"+Wt,Ri=ai(so);sr=sr[A2](Ri)}}),sr}catch(Wt){Mt(b,2,41,"Transfer events from previous buffers: "+ws(Wt)+". previous Buffer items can not be removed",{exception:Xt(Wt)})}return[]}s(pn,"_getPreviousEvents");function ai(sr){try{var Wt=Nr(sr),mn=[];return Yt(Wt,function(so){var Ri={item:so,cnt:0};mn[Yh](Ri)}),JSe(b,sr),mn}catch{}return[]}s(ai,"_getItemsFromPreviousKey")}),k}s(y,"SessionStorageSendBuffer");var I;return I=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+I.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+I.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(tte),LBe=function(){function m(y){ha(m,this,function(I){I.serialize=function(F){var V=b(F,"root");try{return u0()[NT](V)}catch(j){Mt(y,1,48,j&&Je(j[_y])?j[_y]():"Error serializing object",null,!0)}};function b(F,V){var j="__aiCircularRefCheck",se={};if(!F)return Mt(y,1,48,"cannot serialize object because it is null or undefined",{name:V},!0),se;if(F[j])return Mt(y,2,50,"Circular reference detected while serializing object",{name:V},!0),se;if(!F.aiDataContract){if(V==="measurements")se=k(F,"number",V);else if(V==="properties")se=k(F,"string",V);else if(V==="tags")se=k(F,"string",V);else if(lt(F))se=R(F,V);else{Mt(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:V},!0);try{u0()[NT](F),se=F}catch(ye){Mt(y,1,48,ye&&Je(ye[_y])?ye[_y]():"Error serializing object",null,!0)}}return se}return F[j]=!0,$e(F.aiDataContract,function(ye,Te){var Pe=Je(Te)?Te()&1:Te&1,we=Je(Te)?Te()&4:Te&4,De=Te&2,Ye=F[ye]!==void 0,Ue=rt(F[ye])&&F[ye]!==null;if(Pe&&!Ye&&!De)Mt(y,1,24,"Missing required field specification. The field is required but not present on source",{field:ye,name:V});else if(!we){var nt=void 0;Ue?De?nt=R(F[ye],ye):nt=b(F[ye],ye):nt=F[ye],nt!==void 0&&(se[ye]=nt)}}),delete F[j],se}s(b,"_serializeObject");function R(F,V){var j;if(F)if(!lt(F))Mt(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:V},!0);else{j=[];for(var se=0;se<F[fn];se++){var ye=F[se],Te=b(ye,V+"["+se+"]");j[Yh](Te)}}return j}s(R,"_serializeArray");function k(F,V,j){var se;return F&&(se={},$e(F,function(ye,Te){if(V==="string")Te===void 0?se[ye]="undefined":Te===null?se[ye]="null":Te[_y]?se[ye]=Te[_y]():se[ye]="invalid field: toString() is not defined.";else if(V==="number")if(Te===void 0)se[ye]="undefined";else if(Te===null)se[ye]="null";else{var Pe=parseFloat(Te);se[ye]=Pe}else se[ye]="invalid field: "+j+" is of unknown type.",Mt(y,1,se[ye],null,!0)})),se}s(k,"_serializeStringMap")})}return s(m,"Serializer"),m.__ieDyn=1,m}(),MBe=8,OBe=function(){function m(){}return s(m,"HashCodeScoreGenerator"),m.prototype.getHashCodeScore=function(y){var I=this.getHashCode(y)/m.INT_MAX_VALUE;return I*100},m.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[fn]<MBe;)y=y[A2](y);for(var I=5381,b=0;b<y[fn];++b)I=(I<<5)+I+y.charCodeAt(b),I=I&I;return Math.abs(I)},m.INT_MAX_VALUE=2147483647,m}(),UBe=function(){function m(){var y=this,I=new OBe,b=new $ee;y.getSamplingScore=function(R){var k=0;return R[pa]&&R[pa][b.userId]?k=I.getHashCodeScore(R[pa][b.userId]):R.ext&&R.ext.user&&R.ext.user.id?k=I[wBe](R.ext.user.id):R[pa]&&R[pa][b.operationId]?k=I.getHashCodeScore(R[pa][b.operationId]):R.ext&&R.ext.telemetryTrace&&R.ext.telemetryTrace[DT]?k=I.getHashCodeScore(R.ext.telemetryTrace[DT]):k=Math.random()*100,k}}return s(m,"SamplingScoreGenerator"),m}(),HBe=function(){function m(y,I){this.INT_MAX_VALUE=2147483647;var b=I||uy(null);(y>100||y<0)&&(b.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[R8]=y,this.samplingScoreGenerator=new UBe}return s(m,"Sample"),m.prototype.isSampledIn=function(y){var I=this[R8],b=!1;return I==null||I>=100||y.baseType===ST[pd]?!0:(b=this.samplingScoreGenerator.getSamplingScore(y)<I,b)},m}(),Wi,zh,gd=void 0,nte="",qBe=65e3;function ite(m){try{return m.responseText}catch{}return null}s(ite,"_getResponseText");function GBe(m){return m&&m.sendPOST}s(GBe,"isOverrideFn");var ote=zr((Wi={endpointUrl:uT(le,RM+s2)},Wi[WM]=_l(),Wi.maxBatchInterval=15e3,Wi[zee]=102400,Wi.disableTelemetry=_l(),Wi[Kee]=_l(!0),Wi.isRetryDisabled=_l(),Wi[KM]=_l(!0),Wi[Xee]=_l(!0),Wi.disableXhr=_l(),Wi[Jee]=_l(),Wi[jM]=_l(),Wi[UT]=gd,Wi.namePrefix=gd,Wi.samplingPercentage=uT(VBe,100),Wi[zM]=gd,Wi.convertUndefined=gd,Wi.eventsLimitInMem=1e4,Wi[$M]=!1,Wi.httpXHROverride={isVal:GBe,v:gd},Wi[jee]=_l(),Wi.transports=gd,Wi.retryCodes=gd,Wi.maxRetryCnt={isVal:Vt,v:10},Wi));function VBe(m){return!isNaN(m)&&m>0&&m<=100}s(VBe,"_chkSampling");var WBe=(zh={},zh[u2.dataType]=ete,zh[b8.dataType]=PBe,zh[x8.dataType]=NBe,zh[T8.dataType]=QBe,zh[I8.dataType]=kBe,zh[ST.dataType]=DBe,zh[v8.dataType]=RBe,zh),ste=function(m){Y1(y,m);function y(){var I=m.call(this)||this;I.priority=1001,I.identifier=_Be;var b,R,k,F,V,j,se,ye=0,Te,Pe,we,De,Ye,Ue,nt,At,It,Nt,Nr,An,pn,ai,sr,Wt,mn,so,Ri,pt,$t,Xn,at,gr,Co,ci,Ws;return ha(y,I,function(Ge,ps){cte(),Ge.pause=function(){wm(),k=!0},Ge.resume=function(){k&&(k=!1,R=null,Ci(),y2())},Ge.flush=function(Re,tt,bt){if(Re===void 0&&(Re=!0),!k){wm();try{return Ge[LT](Re,null,bt||1)}catch(Ut){Mt(Ge[Ha](),1,22,"flush failed, telemetry will not be collected: "+ws(Ut),{exception:Xt(Ut)})}}},Ge.onunloadFlush=function(){if(!k)if(nt||pt)try{return Ge[LT](!0,G0,2)}catch(Re){Mt(Ge[Ha](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ws(Re),{exception:Xt(Re)})}else Ge.flush(!1)},Ge.addHeader=function(Re,tt){se[Re]=tt},Ge[YM]=function(Re,tt,bt,Ut){Ge.isInitialized()&&Mt(Ge[Ha](),1,28,"Sender is already initialized"),ps[YM](Re,tt,bt,Ut);var vr=Ge.identifier;V=new LBe(tt.logger),b=0,R=null,Ge[MT]=null,j=0;var ar=Ge[Ha]();we=yee(Lu("Sender"),tt.evtNamespace&&tt.evtNamespace()),Pe=TBe(we),Ge._addHook(Mu(Re,function(Hn){var Zo=Hn.cfg;Zo.storagePrefix&&zSe(Zo.storagePrefix);var Dc=pm(null,Zo,tt),en=Dc.getExtCfg(vr,ote),lte=en[OT];if(De&&lte===De){var oO=Zo[OT];oO&&oO!==lte&&(en[OT]=oO)}br(en[UT])&&(en[UT]=Zo[UT]),Jt(Ge,"_senderConfig",{g:s(function(){return en},"g")}),Ye!==en[OT]&&(De=Ye=en[OT]),tt.activeStatus()===Jf.PENDING?Ge.pause():tt.activeStatus()===Jf.ACTIVE&&Ge.resume(),Nt&&Nt!==en[zM]&&Yt(Nt,function(ga){delete se[ga.header]}),Ue=en[zee],nt=(en[jM]===!1||en[KM]===!1)&&sd(),At=en[jM]===!1&&sd(),It=en[KM]===!1&&sd(),pt=en[jee],$t=!!en.disableXhr,Ws=en.retryCodes;var sO=en[$M],C2=!!en[Kee]&&(!!sO||Dee()),ute=en.namePrefix,jBe=C2!==Wt||C2&&so!==ute||C2&&mn!==sO;if(Ge[md]){if(jBe)try{Ge[md]=Ge[md].createNew(ar,en,C2)}catch(ga){Mt(Ge[Ha](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+ws(ga),{exception:Xt(ga)})}Ci()}else Ge[md]=C2?new rte(ar,en):new rO(ar,en);so=ute,Wt=C2,mn=sO,Xn=!en[Jee]&&oy(!0),Co=!!en[Xee],Ge._sample=new HBe(en.samplingPercentage,ar),An=en[UT],!br(An)&&!ate(An,Zo)&&Mt(ar,1,100,"Invalid Instrumentation key "+An),Nt=en[zM],Ae(De)&&!Bee(De)&&Nt&&Nt[fn]>0?Yt(Nt,function(ga){I.addHeader(ga.header,ga.value)}):Nt=null,Ri=en.enableSendPromise;var fte=$s();ci?ci.SetConfig(fte):(ci=new As,ci[YM](fte,ar));var Q8=en.httpXHROverride,P8=null,VT=null,KBe=BB([3,1,2],en.transports);P8=ci&&ci[S8](KBe,!1);var aO=ci&&ci.getFallbackInst();at=s(function(ga,Ny){return qt(aO,ga,Ny)},"_xhrSend"),gr=s(function(ga,Ny){return qt(aO,ga,Ny,!1)},"_fallbackSend"),P8=pt?Q8:P8||Q8||aO,Ge[MT]=function(ga,Ny){return qt(P8,ga,Ny)},Xn&&(Te=g2);var cO=BB([3,1],en.unloadTransports);Xn||(cO=cO.filter(function(ga){return ga!==2})),VT=ci&&ci[S8](cO,!0),VT=pt?Q8:VT||Q8,(pt||en.unloadTransports||!Te)&&VT&&(Te=s(function(ga,Ny){return qt(VT,ga,Ny)},"_syncUnloadSender")),Te||(Te=at),Nr=en.disableTelemetry,pn=en.convertUndefined||gd,ai=en.isRetryDisabled,sr=en.maxBatchInterval}))},Ge.processTelemetry=function(Re,tt){tt=Ge._getTelCtx(tt);var bt=tt[Ha]();try{var Ut=Hu(Re,bt);if(!Ut)return;var vr=_m(Re,bt);if(!vr)return;var ar=V.serialize(vr),Hn=Ge[md];Ci(ar);var Zo={item:ar,cnt:0};Hn[wy](Zo),y2()}catch(Dc){Mt(bt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ws(Dc),{exception:Xt(Dc)})}Ge.processNext(Re,tt)},Ge.isCompletelyIdle=function(){return!k&&ye===0&&Ge._buffer[Sy]()===0},Ge.getOfflineListener=function(){return Pe},Ge._xhrReadyStateChange=function(Re,tt,bt){if(!Gu(tt))return Rl(Re,tt,bt)},Ge[LT]=function(Re,tt,bt){Re===void 0&&(Re=!0);var Ut;if(!k)try{var vr=Ge[md];if(Nr)vr[h2]();else if(vr[Sy]()>0){var ar=vr.getItems();N8(bt||0,Re),tt?Ut=tt.call(Ge,ar,Re):Ut=Ge[MT](ar,Re)}wm()}catch(Zo){var Hn=Zp();(!Hn||Hn>9)&&Mt(Ge[Ha](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ws(Zo),{exception:Xt(Zo)})}return Ut},Ge.getOfflineSupport=function(){return{getUrl:s(function(){return De},"getUrl"),createPayload:je,serialize:ao,batch:ma,shouldProcess:s(function(Re){return!!Hu(Re)},"shouldProcess")}},Ge._doTeardown=function(Re,tt){Ge.onunloadFlush(),am(Pe,!1),cte()},Ge[By]=function(Re,tt,bt){if(!Gu(Re))return d0(Re,tt)},Ge[JM]=function(Re,tt){if(!Gu(Re))return bm(Re,tt)},Ge[B8]=function(Re,tt){if(!Gu(Re))return Uu(Re)},Ge._xdrOnLoad=function(Re,tt){if(!Gu(tt))return Eo(Re,tt)};function Eo(Re,tt){var bt=ite(Re);if(Re&&(bt+""=="200"||bt===""))b=0,Ge[B8](tt,0);else{var Ut=Ht(bt);Ut&&Ut[XM]&&Ut[XM]>Ut[ZM]&&!ai?Ge[JM](tt,Ut):Ge[By](tt,SB(Re))}}s(Eo,"_xdrOnLoad");function $s(){try{var Re={xdrOnComplete:s(function(bt,Ut,vr){var ar=Tm(vr);if(ar)return Eo(bt,ar)},"xdrOnComplete"),fetchOnComplete:s(function(bt,Ut,vr,ar){var Hn=Tm(ar);if(Hn)return $i(bt.status,Hn,bt.url,Hn[fn],bt.statusText,vr||"")},"fetchOnComplete"),xhrOnComplete:s(function(bt,Ut,vr){var ar=Tm(vr);if(ar)return Rl(bt,ar,ar[fn])},"xhrOnComplete"),beaconOnRetry:s(function(bt,Ut,vr){return qu(bt,Ut,vr)},"beaconOnRetry")},tt={enableSendPromise:Ri,isOneDs:!1,disableCredentials:!1,disableXhr:$t,disableBeacon:!It,disableBeaconSync:!At,senderOnCompleteCallBack:Re};return tt}catch{}return null}s($s,"_getSendPostMgrConfig");function Rl(Re,tt,bt){Re.readyState===4&&$i(Re.status,tt,Re.responseURL,bt,OI(Re),ite(Re)||Re.response)}s(Rl,"_xhrReadyStateChange");function d0(Re,tt,bt){Mt(Ge[Ha](),2,26,"Failed to send telemetry.",{message:tt}),Ge._buffer&&Ge._buffer[QT](Re)}s(d0,"_onError");function bm(Re,tt){for(var bt=[],Ut=[],vr=tt.errors.reverse(),ar=0,Hn=vr;ar<Hn.length;ar++){var Zo=Hn[ar],Dc=Re.splice(Zo.index,1)[0];Sm(Zo.statusCode)?Ut[Yh](Dc):bt[Yh](Dc)}Re[fn]>0&&Ge[B8](Re,tt[ZM]),bt[fn]>0&&Ge[By](bt,OI(null,["partial success",tt[ZM],"of",tt.itemsReceived].join(" "))),Ut[fn]>0&&(GT(Ut),Mt(Ge[Ha](),2,40,"Partial success. Delivered: "+Re[fn]+", Failed: "+bt[fn]+". Will retry to send "+Ut[fn]+" our of "+tt[XM]+" items"))}s(bm,"_onPartialSuccess");function Uu(Re,tt){Ge._buffer&&Ge._buffer[QT](Re)}s(Uu,"_onSuccess");function Tm(Re){try{if(Re){var tt=Re,bt=tt.oriPayload;return bt&&bt[fn]?bt:null}}catch{}return null}s(Tm,"_getPayloadArr");function Hu(Re,tt){if(Nr)return!1;if(!Re)return tt&&Mt(tt,1,7,"Cannot send empty telemetry"),!1;if(Re.baseData&&!Re[eO])return tt&&Mt(tt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(Re[eO]||(Re[eO]="EventData"),!Ge[MT])return tt&&Mt(tt,1,28,"Sender was not initialized"),!1;if(Dt(Re))Re[Eee]=Ge._sample[R8];else return tt&&Mt(tt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Ge._sample[R8]}),!1;return!0}s(Hu,"_validate");function _m(Re,tt){var bt=Re.iKey||An,Ut=y.constructEnvelope(Re,bt,tt,pn);if(!Ut){Mt(tt,1,47,"Unable to create an AppInsights envelope");return}var vr=!1;if(Re[pa]&&Re[pa][BM]&&(Yt(Re[pa][BM],function(ar){try{ar&&ar(Ut)===!1&&(vr=!0,KI(tt,"Telemetry processor check returns false"))}catch(Hn){Mt(tt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ws(Hn),{exception:Xt(Hn)},!0)}}),delete Re[pa][BM]),!vr)return Ut}s(_m,"_getEnvelope");function ao(Re){var tt=nte,bt=Ge[Ha]();try{var Ut=Hu(Re,bt),vr=null;Ut&&(vr=_m(Re,bt)),vr&&(tt=V.serialize(vr))}catch{}return tt}s(ao,"_serialize");function ma(Re){var tt=nte;return Re&&Re[fn]&&(tt="["+Re.join(",")+"]"),tt}s(ma,"_batch");function je(Re){var tt=hi();return{urlString:De,data:Re,headers:tt}}s(je,"_createPayload");function Dt(Re){return Ge._sample.isSampledIn(Re)}s(Dt,"_isSampledIn");function Ir(Re,tt,bt,Ut){tt===200&&Re?Ge._onSuccess(Re,Re[fn]):Ut&&Ge[By](Re,Ut)}s(Ir,"_getOnComplete");function qt(Re,tt,bt,Ut){Ut===void 0&&(Ut=!0);var vr=s(function(Zo,Dc,en){return Ir(tt,Zo,Dc,en)},"onComplete"),ar=xr(tt),Hn=Re&&Re.sendPOST;return Hn&&ar?(Ut&&Ge._buffer[w8](tt),Hn(ar,vr,!bt)):null}s(qt,"_doSend");function xr(Re){if(lt(Re)&&Re[fn]>0){var tt=Ge[md].batchPayloads(Re),bt=hi(),Ut={data:tt,urlString:De,headers:bt,disableXhrSync:$t,disableFetchKeepAlive:!Xn,oriPayload:Re};return Ut}return null}s(xr,"_getPayload");function hi(){try{var Re=se||{};return Bee(De)&&(Re[xee[6]]=xee[7]),Re}catch{}return null}s(hi,"_getHeaders");function Ci(Re){var tt=Re?Re[fn]:0;return Ge[md].size()+tt>Ue?((!Pe||Pe.isOnline())&&Ge[LT](!0,null,10),!0):!1}s(Ci,"_checkMaxSize");function $i(Re,tt,bt,Ut,vr,ar){var Hn=null;if(Ge._appId||(Hn=Ht(ar),Hn&&Hn.appId&&(Ge._appId=Hn.appId)),(Re<200||Re>=300)&&Re!==0){if((Re===301||Re===307||Re===308)&&!qa(bt)){Ge[By](tt,vr);return}if(Pe&&!Pe.isOnline()){if(!ai){var Zo=10;GT(tt,Zo),Mt(Ge[Ha](),2,40,". Offline - Response Code: ".concat(Re,". Offline status: ").concat(!Pe.isOnline(),". Will retry to send ").concat(tt.length," items."))}return}!ai&&Sm(Re)?(GT(tt),Mt(Ge[Ha](),2,40,". Response code "+Re+". Will retry to send "+tt[fn]+" items.")):Ge[By](tt,vr)}else qa(bt),Re===206?(Hn||(Hn=Ht(ar)),Hn&&!ai?Ge[JM](tt,Hn):Ge[By](tt,vr)):(b=0,Ge[B8](tt,Ut))}s($i,"_checkResponsStatus");function qa(Re){return j>=10?!1:!re(Re)&&Re!==""&&Re!==De?(De=Re,++j,!0):!1}s(qa,"_checkAndUpdateEndPointUrl");function G0(Re,tt){if(Te)Te(Re,!1);else{var bt=ci&&ci[S8]([3],!0);return qt(bt,Re,tt)}}s(G0,"_doUnloadSend");function qu(Re,tt,bt){var Ut=Re,vr=Ut&&Ut.oriPayload;if(Co)gr&&gr(vr,!0),Mt(Ge[Ha](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ar=[],Hn=0;Hn<vr[fn];Hn++){var Zo=vr[Hn],Dc=[Zo],en=xr(Dc);bt(en,tt)?Ge._onSuccess(Dc,Dc[fn]):ar[Yh](Zo)}ar[fn]>0&&(gr&&gr(ar,!0),Mt(Ge[Ha](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(qu,"_onBeaconRetry");function Gu(Re){try{if(Re&&Re[fn])return Ae(Re[0])}catch{}return null}s(Gu,"_isStringArr");function g2(Re,tt){var bt=null;if(lt(Re)){for(var Ut=Re[fn],vr=0;vr<Re[fn];vr++)Ut+=Re[vr].item[fn];var ar=ci.getSyncFetchPayload();ar+Ut<=qBe?bt=2:sd()?bt=3:(bt=1,Mt(Ge[Ha](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Hn=ci&&ci[S8]([bt],!0);return qt(Hn,Re,tt)}return null}s(g2,"_fetchKeepAliveSender");function GT(Re,tt){if(tt===void 0&&(tt=1),!(!Re||Re[fn]===0)){var bt=Ge[md];bt[QT](Re),b++;for(var Ut=0,vr=Re;Ut<vr.length;Ut++){var ar=vr[Ut];ar.cnt=ar.cnt||0,ar.cnt++,bt[wy](ar)}iO(tt),y2()}}s(GT,"_resendPayload");function iO(Re){var tt=10,bt;if(b<=1)bt=tt;else{var Ut=(Math.pow(2,b)-1)/2,vr=Th(Math.random()*Ut*tt)+1;vr=Re*vr,bt=_e(bu(vr,3600),tt)}var ar=Wf()+bt*1e3;R=ar}s(iO,"_setRetryTime");function y2(){if(!F&&!k){var Re=R?_e(0,R-Wf()):0,tt=_e(sr,Re);F=zf(function(){F=null,Ge[LT](!0,null,1)},tt)}}s(y2,"_setupTimer");function wm(){F&&F.cancel(),F=null,R=null}s(wm,"_clearScheduledTimer");function Sm(Re){return re(Ws)?Re===401||Re===408||Re===429||Re===500||Re===502||Re===503||Re===504:Ws[fn]&&Ws.indexOf(Re)>-1}s(Sm,"_isRetriable");function D8(){var Re="getNotifyMgr";return Ge.core[Re]?Ge.core[Re]():Ge.core._notificationManager}s(D8,"_getNotifyMgr");function N8(Re,tt){var bt=D8();if(bt&&bt.eventsSendRequest)try{bt.eventsSendRequest(Re,tt)}catch(Ut){Mt(Ge[Ha](),1,74,"send request notification failed: "+ws(Ut),{exception:Xt(Ut)})}}s(N8,"_notifySendRequest");function ate(Re,tt){var bt=tt.disableInstrumentationKeyValidation,Ut=re(bt)?!1:bt;if(Ut)return!0;var vr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ar=new RegExp(vr);return ar.test(Re)}s(ate,"_validateInstrumentationKey");function cte(){Ge[MT]=null,Ge[md]=null,Ge._appId=null,Ge._sample=null,se={},Pe=null,b=0,R=null,k=!1,F=null,V=null,j=0,ye=0,Te=null,we=null,De=null,Ye=null,Ue=0,nt=!1,Nt=null,Nr=!1,An=null,pn=gd,ai=!1,Wt=null,so=gd,$t=!1,Xn=!1,Co=!1,at=null,gr=null,ci=null,Jt(Ge,"_senderConfig",{g:s(function(){return wB({},ote)},"g")})}s(cte,"_initDefaults")}),I}return s(y,"Sender"),y.constructEnvelope=function(I,b,R,k){var F;b!==I.iKey&&!re(b)?F=Ru(Ru({},I),{iKey:b}):F=I;var V=WBe[F.baseType]||ete;return V(R,F,k)},y}(et),p2="instrumentationKey",k8="connectionString",HT="endpointUrl",qT="userOverrideEndpointUrl",m2,nO=void 0,$Be=(m2={diagnosticLogInterval:uT(YBe,1e4)},m2[k8]=nO,m2.endpointUrl=nO,m2[p2]=nO,m2.extensionConfig={},m2);function YBe(m){return m&&m>0}s(YBe,"_chkDiagLevel");var zBe=function(){function m(y){var I=new ct,b;(re(y)||re(y[p2])&&re(y[k8]))&&mo("Invalid input configuration"),ha(m,this,function(k){Jt(k,"config",{g:s(function(){return b},"g")}),F(),k.initialize=F,k.track=R,j5(k,I,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function F(){var V=q0(y||{},$Be);b=V.cfg,I.addUnloadHook(Mu(V,function(){var j=b[k8];if(br(j)){var se=RI(function(we,De){L0(j,function(Ye){var Ue=Ye.value,nt=b[p2];if(!Ye.rejected&&Ue){b[k8]=Ue;var At=MM(Ue);nt=At.instrumentationkey||nt}we(nt)})}),ye=RI(function(we,De){L0(j,function(Ye){var Ue=Ye.value,nt=b[HT];if(!Ye.rejected&&Ue){var At=MM(Ue),It=At.ingestionendpoint;nt=It?It+s2:nt}we(nt)})});b[p2]=se,b[HT]=b[qT]||ye}if(Ae(j)){var Te=MM(j),Pe=Te.ingestionendpoint;b[HT]=b[qT]?b[qT]:Pe+s2,b[p2]=Te.instrumentationkey||b[p2]}b[HT]=b[qT]?b[qT]:b[HT]})),I.initialize(b,[new ste])}s(F,"_initialize")});function R(k){k&&(k.baseData=k.baseData||{},k.baseType=k.baseType||"EventData"),I.track(k)}s(R,"_track")}return s(m,"ApplicationInsights"),m.__ieDyn=1,m}();t.AppInsightsCore=ct,t.ApplicationInsights=zBe,t.Sender=ste,t.SeverityLevel=bBe,t.arrForEach=Yt,t.isNullOrUndefined=re,t.proxyFunctions=j5,t.throwError=mo})});var _2=q(Va=>{"use strict";f();Object.defineProperty(Va,"__esModule",{value:!0});Va.stringArray=Va.array=Va.func=Va.error=Va.number=Va.string=Va.boolean=void 0;function y8e(t){return t===!0||t===!1}s(y8e,"boolean");Va.boolean=y8e;function Xre(t){return typeof t=="string"||t instanceof String}s(Xre,"string");Va.string=Xre;function C8e(t){return typeof t=="number"||t instanceof Number}s(C8e,"number");Va.number=C8e;function E8e(t){return t instanceof Error}s(E8e,"error");Va.error=E8e;function I8e(t){return typeof t=="function"}s(I8e,"func");Va.func=I8e;function Zre(t){return Array.isArray(t)}s(Zre,"array");Va.array=Zre;function x8e(t){return Zre(t)&&t.every(e=>Xre(e))}s(x8e,"stringArray");Va.stringArray=x8e});var $O=q(jt=>{"use strict";f();Object.defineProperty(jt,"__esModule",{value:!0});jt.Message=jt.NotificationType9=jt.NotificationType8=jt.NotificationType7=jt.NotificationType6=jt.NotificationType5=jt.NotificationType4=jt.NotificationType3=jt.NotificationType2=jt.NotificationType1=jt.NotificationType0=jt.NotificationType=jt.RequestType9=jt.RequestType8=jt.RequestType7=jt.RequestType6=jt.RequestType5=jt.RequestType4=jt.RequestType3=jt.RequestType2=jt.RequestType1=jt.RequestType=jt.RequestType0=jt.AbstractMessageSignature=jt.ParameterStructures=jt.ResponseError=jt.ErrorCodes=void 0;var Uy=_2(),xO;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(xO||(jt.ErrorCodes=xO={}));var vO=class t extends Error{static{s(this,"ResponseError")}constructor(e,r,n){super(r),this.code=Uy.number(e)?e:xO.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};jt.ResponseError=vO;var $0=class t{static{s(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};jt.ParameterStructures=$0;$0.auto=new $0("auto");$0.byPosition=new $0("byPosition");$0.byName=new $0("byName");var Yi=class{static{s(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return $0.auto}};jt.AbstractMessageSignature=Yi;var bO=class extends Yi{static{s(this,"RequestType0")}constructor(e){super(e,0)}};jt.RequestType0=bO;var TO=class extends Yi{static{s(this,"RequestType")}constructor(e,r=$0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.RequestType=TO;var _O=class extends Yi{static{s(this,"RequestType1")}constructor(e,r=$0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.RequestType1=_O;var wO=class extends Yi{static{s(this,"RequestType2")}constructor(e){super(e,2)}};jt.RequestType2=wO;var SO=class extends Yi{static{s(this,"RequestType3")}constructor(e){super(e,3)}};jt.RequestType3=SO;var BO=class extends Yi{static{s(this,"RequestType4")}constructor(e){super(e,4)}};jt.RequestType4=BO;var RO=class extends Yi{static{s(this,"RequestType5")}constructor(e){super(e,5)}};jt.RequestType5=RO;var kO=class extends Yi{static{s(this,"RequestType6")}constructor(e){super(e,6)}};jt.RequestType6=kO;var DO=class extends Yi{static{s(this,"RequestType7")}constructor(e){super(e,7)}};jt.RequestType7=DO;var NO=class extends Yi{static{s(this,"RequestType8")}constructor(e){super(e,8)}};jt.RequestType8=NO;var QO=class extends Yi{static{s(this,"RequestType9")}constructor(e){super(e,9)}};jt.RequestType9=QO;var PO=class extends Yi{static{s(this,"NotificationType")}constructor(e,r=$0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.NotificationType=PO;var FO=class extends Yi{static{s(this,"NotificationType0")}constructor(e){super(e,0)}};jt.NotificationType0=FO;var LO=class extends Yi{static{s(this,"NotificationType1")}constructor(e,r=$0.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};jt.NotificationType1=LO;var MO=class extends Yi{static{s(this,"NotificationType2")}constructor(e){super(e,2)}};jt.NotificationType2=MO;var OO=class extends Yi{static{s(this,"NotificationType3")}constructor(e){super(e,3)}};jt.NotificationType3=OO;var UO=class extends Yi{static{s(this,"NotificationType4")}constructor(e){super(e,4)}};jt.NotificationType4=UO;var HO=class extends Yi{static{s(this,"NotificationType5")}constructor(e){super(e,5)}};jt.NotificationType5=HO;var qO=class extends Yi{static{s(this,"NotificationType6")}constructor(e){super(e,6)}};jt.NotificationType6=qO;var GO=class extends Yi{static{s(this,"NotificationType7")}constructor(e){super(e,7)}};jt.NotificationType7=GO;var VO=class extends Yi{static{s(this,"NotificationType8")}constructor(e){super(e,8)}};jt.NotificationType8=VO;var WO=class extends Yi{static{s(this,"NotificationType9")}constructor(e){super(e,9)}};jt.NotificationType9=WO;var ene;(function(t){function e(o){let a=o;return a&&Uy.string(a.method)&&(Uy.string(a.id)||Uy.number(a.id))}s(e,"isRequest"),t.isRequest=e;function r(o){let a=o;return a&&Uy.string(a.method)&&o.id===void 0}s(r,"isNotification"),t.isNotification=r;function n(o){let a=o;return a&&(a.result!==void 0||!!a.error)&&(Uy.string(a.id)||Uy.number(a.id)||a.id===null)}s(n,"isResponse"),t.isResponse=n})(ene||(jt.Message=ene={}))});var zO=q(Om=>{"use strict";f();var tne;Object.defineProperty(Om,"__esModule",{value:!0});Om.LRUCache=Om.LinkedMap=Om.Touch=void 0;var Wa;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Wa||(Om.Touch=Wa={}));var Q6=class{static{s(this,"LinkedMap")}constructor(){this[tne]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=Wa.None){let n=this._map.get(e);if(n)return r!==Wa.None&&this.touch(n,r),n.value}set(e,r,n=Wa.None){let o=this._map.get(e);if(o)o.value=r,n!==Wa.None&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case Wa.None:this.addItemLast(o);break;case Wa.First:this.addItemFirst(o);break;case Wa.Last:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.key,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:r.value,done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let o={value:[r.key,r.value],done:!1};return r=r.next,o}else return{value:void 0,done:!0}},"next")};return n}[(tne=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Wa.First&&r!==Wa.Last)){if(r===Wa.First){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Wa.Last){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};Om.LinkedMap=Q6;var YO=class extends Q6{static{s(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Wa.AsNew){return super.get(e,r)}peek(e){return super.get(e,Wa.None)}set(e,r){return super.set(e,r,Wa.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Om.LRUCache=YO});var nne=q(P6=>{"use strict";f();Object.defineProperty(P6,"__esModule",{value:!0});P6.Disposable=void 0;var rne;(function(t){function e(r){return{dispose:r}}s(e,"create"),t.create=e})(rne||(P6.Disposable=rne={}))});var Um=q(JO=>{"use strict";f();Object.defineProperty(JO,"__esModule",{value:!0});var jO;function KO(){if(jO===void 0)throw new Error("No runtime abstraction layer installed");return jO}s(KO,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");jO=r}s(e,"install"),t.install=e})(KO||(KO={}));JO.default=KO});var S2=q(w2=>{"use strict";f();Object.defineProperty(w2,"__esModule",{value:!0});w2.Emitter=w2.Event=void 0;var v8e=Um(),ine;(function(t){let e={dispose(){}};t.None=function(){return e}})(ine||(w2.Event=ine={}));var XO=class{static{s(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let o=0,a=this._callbacks.length;o<a;o++)if(this._callbacks[o]===e)if(this._contexts[o]===r){this._callbacks.splice(o,1),this._contexts.splice(o,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let a=0,c=n.length;a<c;a++)try{r.push(n[a].apply(o[a],e))}catch(l){(0,v8e.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},F6=class t{static{s(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new XO),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let o={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(e,r),o.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(o),o}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};w2.Emitter=F6;F6._noop=function(){}});var O6=q(B2=>{"use strict";f();Object.defineProperty(B2,"__esModule",{value:!0});B2.CancellationTokenSource=B2.CancellationToken=void 0;var b8e=Um(),T8e=_2(),ZO=S2(),L6;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ZO.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ZO.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||T8e.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(e,"is"),t.is=e})(L6||(B2.CancellationToken=L6={}));var _8e=Object.freeze(function(t,e){let r=(0,b8e.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),M6=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_8e:(this._emitter||(this._emitter=new ZO.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},eU=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new M6),this._token}cancel(){this._token?this._token.cancel():this._token=L6.Cancelled}dispose(){this._token?this._token instanceof M6&&this._token.dispose():this._token=L6.None}};B2.CancellationTokenSource=eU});var one=q(R2=>{"use strict";f();Object.defineProperty(R2,"__esModule",{value:!0});R2.SharedArrayReceiverStrategy=R2.SharedArraySenderStrategy=void 0;var w8e=O6(),t_;(function(t){t.Continue=0,t.Cancelled=1})(t_||(t_={}));var tU=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=t_.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let o=new Int32Array(n,0,1);Atomics.store(o,0,t_.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};R2.SharedArraySenderStrategy=tU;var rU=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t_.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},nU=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new rU(e)}cancel(){}dispose(){}},iU=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new w8e.CancellationTokenSource:new nU(r)}};R2.SharedArrayReceiverStrategy=iU});var sU=q(U6=>{"use strict";f();Object.defineProperty(U6,"__esModule",{value:!0});U6.Semaphore=void 0;var S8e=Um(),oU=class{static{s(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,S8e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};U6.Semaphore=oU});var ane=q(Hm=>{"use strict";f();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.ReadableStreamMessageReader=Hm.AbstractMessageReader=Hm.MessageReader=void 0;var cU=Um(),k2=_2(),aU=S2(),B8e=sU(),sne;(function(t){function e(r){let n=r;return n&&k2.func(n.listen)&&k2.func(n.dispose)&&k2.func(n.onError)&&k2.func(n.onClose)&&k2.func(n.onPartialMessage)}s(e,"is"),t.is=e})(sne||(Hm.MessageReader=sne={}));var H6=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new aU.Emitter,this.closeEmitter=new aU.Emitter,this.partialMessageEmitter=new aU.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${k2.string(e.message)?e.message:"unknown"}`)}};Hm.AbstractMessageReader=H6;var lU;(function(t){function e(r){let n,o,a,c=new Map,l,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(a=r.contentDecoder,c.set(a.name,a)),r.contentDecoders!==void 0)for(let d of r.contentDecoders)c.set(d.name,d);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,u.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let d of r.contentTypeDecoders)u.set(d.name,d)}return l===void 0&&(l=(0,cU.default)().applicationJson.decoder,u.set(l.name,l)),{charset:n,contentDecoder:a,contentDecoders:c,contentTypeDecoder:l,contentTypeDecoders:u}}s(e,"fromOptions"),t.fromOptions=e})(lU||(lU={}));var uU=class extends H6{static{s(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=lU.fromOptions(r),this.buffer=(0,cU.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new B8e.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let o=n.get("content-length");if(!o){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let a=parseInt(o);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));return}this.nextMessageLength=a}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,o=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(o)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,cU.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Hm.ReadableStreamMessageReader=uU});var dne=q(qm=>{"use strict";f();Object.defineProperty(qm,"__esModule",{value:!0});qm.WriteableStreamMessageWriter=qm.AbstractMessageWriter=qm.MessageWriter=void 0;var cne=Um(),r_=_2(),R8e=sU(),lne=S2(),k8e="Content-Length: ",une=`\r
`,fne;(function(t){function e(r){let n=r;return n&&r_.func(n.dispose)&&r_.func(n.onClose)&&r_.func(n.onError)&&r_.func(n.write)}s(e,"is"),t.is=e})(fne||(qm.MessageWriter=fne={}));var q6=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new lne.Emitter,this.closeEmitter=new lne.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${r_.string(e.message)?e.message:"unknown"}`)}};qm.AbstractMessageWriter=q6;var fU;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,cne.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,cne.default)().applicationJson.encoder}}s(e,"fromOptions"),t.fromOptions=e})(fU||(fU={}));var dU=class extends q6{static{s(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=fU.fromOptions(r),this.errorCount=0,this.writeSemaphore=new R8e.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let o=[];return o.push(k8e,n.byteLength.toString(),une),o.push(une),this.doWrite(e,o,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(o){return this.handleError(o,e),Promise.reject(o)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};qm.WriteableStreamMessageWriter=dU});var hne=q(G6=>{"use strict";f();Object.defineProperty(G6,"__esModule",{value:!0});G6.AbstractMessageBuffer=void 0;var D8e=13,N8e=10,Q8e=`\r
`,hU=class{static{s(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,o=0,a=0;e:for(;n<this._chunks.length;){let d=this._chunks[n];for(o=0;o<d.length;){switch(d[o]){case D8e:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case N8e:switch(r){case 1:r=2;break;case 3:r=4,o++;break e;default:r=0}break;default:r=0}o++}a+=d.byteLength,n++}if(r!==4)return;let c=this._read(a+o),l=new Map,u=this.toString(c,"ascii").split(Q8e);if(u.length<2)return l;for(let d=0;d<u.length-2;d++){let h=u[d],A=h.indexOf(":");if(A===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);let p=h.substr(0,A),g=h.substr(A+1).trim();l.set(e?p.toLowerCase():p,g)}return l}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],c=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,c}let r=this.allocNative(e),n=0,o=0;for(;e>0;){let a=this._chunks[o];if(a.byteLength>e){let c=a.slice(0,e);r.set(c,n),n+=e,this._chunks[o]=a.slice(e),this._totalLength-=e,e-=e}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return r}};G6.AbstractMessageBuffer=hU});var yne=q(Wr=>{"use strict";f();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.createMessageConnection=Wr.ConnectionOptions=Wr.MessageStrategy=Wr.CancellationStrategy=Wr.CancellationSenderStrategy=Wr.CancellationReceiverStrategy=Wr.RequestCancellationReceiverStrategy=Wr.IdCancellationReceiverStrategy=Wr.ConnectionStrategy=Wr.ConnectionError=Wr.ConnectionErrors=Wr.LogTraceNotification=Wr.SetTraceNotification=Wr.TraceFormat=Wr.TraceValues=Wr.Trace=Wr.NullLogger=Wr.ProgressType=Wr.ProgressToken=void 0;var Ane=Um(),xo=_2(),yr=$O(),pne=zO(),n_=S2(),AU=O6(),s_;(function(t){t.type=new yr.NotificationType("$/cancelRequest")})(s_||(s_={}));var pU;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}s(e,"is"),t.is=e})(pU||(Wr.ProgressToken=pU={}));var i_;(function(t){t.type=new yr.NotificationType("$/progress")})(i_||(i_={}));var mU=class{static{s(this,"ProgressType")}constructor(){}};Wr.ProgressType=mU;var gU;(function(t){function e(r){return xo.func(r)}s(e,"is"),t.is=e})(gU||(gU={}));Wr.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var li;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(li||(Wr.Trace=li={}));var mne;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(mne||(Wr.TraceValues=mne={}));(function(t){function e(n){if(!xo.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}s(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}s(r,"toString"),t.toString=r})(li||(Wr.Trace=li={}));var Pc;(function(t){t.Text="text",t.JSON="json"})(Pc||(Wr.TraceFormat=Pc={}));(function(t){function e(r){return xo.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}s(e,"fromString"),t.fromString=e})(Pc||(Wr.TraceFormat=Pc={}));var yU;(function(t){t.type=new yr.NotificationType("$/setTrace")})(yU||(Wr.SetTraceNotification=yU={}));var V6;(function(t){t.type=new yr.NotificationType("$/logTrace")})(V6||(Wr.LogTraceNotification=V6={}));var o_;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(o_||(Wr.ConnectionErrors=o_={}));var D2=class t extends Error{static{s(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Wr.ConnectionError=D2;var CU;(function(t){function e(r){let n=r;return n&&xo.func(n.cancelUndispatched)}s(e,"is"),t.is=e})(CU||(Wr.ConnectionStrategy=CU={}));var W6;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&xo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xo.func(n.dispose))}s(e,"is"),t.is=e})(W6||(Wr.IdCancellationReceiverStrategy=W6={}));var EU;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&xo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xo.func(n.dispose))}s(e,"is"),t.is=e})(EU||(Wr.RequestCancellationReceiverStrategy=EU={}));var $6;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new AU.CancellationTokenSource}});function e(r){return W6.is(r)||EU.is(r)}s(e,"is"),t.is=e})($6||(Wr.CancellationReceiverStrategy=$6={}));var Y6;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(s_.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&xo.func(n.sendCancellation)&&xo.func(n.cleanup)}s(e,"is"),t.is=e})(Y6||(Wr.CancellationSenderStrategy=Y6={}));var z6;(function(t){t.Message=Object.freeze({receiver:$6.Message,sender:Y6.Message});function e(r){let n=r;return n&&$6.is(n.receiver)&&Y6.is(n.sender)}s(e,"is"),t.is=e})(z6||(Wr.CancellationStrategy=z6={}));var j6;(function(t){function e(r){let n=r;return n&&xo.func(n.handleMessage)}s(e,"is"),t.is=e})(j6||(Wr.MessageStrategy=j6={}));var gne;(function(t){function e(r){let n=r;return n&&(z6.is(n.cancellationStrategy)||CU.is(n.connectionStrategy)||j6.is(n.messageStrategy))}s(e,"is"),t.is=e})(gne||(Wr.ConnectionOptions=gne={}));var Wu;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Wu||(Wu={}));function P8e(t,e,r,n){let o=r!==void 0?r:Wr.NullLogger,a=0,c=0,l=0,u="2.0",d,h=new Map,A,p=new Map,g=new Map,E,v=new pne.LinkedMap,w=new Map,_=new Set,S=new Map,D=li.Off,N=Pc.Text,P,O=Wu.New,Y=new n_.Emitter,ne=new n_.Emitter,oe=new n_.Emitter,he=new n_.Emitter,$=new n_.Emitter,K=n&&n.cancellationStrategy?n.cancellationStrategy:z6.Message;function xe(de){if(de===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+de.toString()}s(xe,"createRequestQueueKey");function ce(de){return de===null?"res-unknown-"+(++l).toString():"res-"+de.toString()}s(ce,"createResponseQueueKey");function J(){return"not-"+(++c).toString()}s(J,"createNotificationQueueKey");function W(de,Ve){yr.Message.isRequest(Ve)?de.set(xe(Ve.id),Ve):yr.Message.isResponse(Ve)?de.set(ce(Ve.id),Ve):de.set(J(),Ve)}s(W,"addMessageToQueue");function Z(de){}s(Z,"cancelUndispatched");function re(){return O===Wu.Listening}s(re,"isListening");function te(){return O===Wu.Closed}s(te,"isClosed");function ie(){return O===Wu.Disposed}s(ie,"isDisposed");function ue(){(O===Wu.New||O===Wu.Listening)&&(O=Wu.Closed,ne.fire(void 0))}s(ue,"closeHandler");function Ae(de){Y.fire([de,void 0,void 0])}s(Ae,"readErrorHandler");function Je(de){Y.fire(de)}s(Je,"writeErrorHandler"),t.onClose(ue),t.onError(Ae),e.onClose(ue),e.onError(Je);function rt(){E||v.size===0||(E=(0,Ane.default)().timer.setImmediate(()=>{E=void 0,Ct()}))}s(rt,"triggerMessageQueue");function lt(de){yr.Message.isRequest(de)?Hr(de):yr.Message.isNotification(de)?br(de):yr.Message.isResponse(de)?Dn(de):le(de)}s(lt,"handleMessage");function Ct(){if(v.size===0)return;let de=v.shift();try{let Ve=n?.messageStrategy;j6.is(Ve)?Ve.handleMessage(de,lt):lt(de)}finally{rt()}}s(Ct,"processMessageQueue");let Vt=s(de=>{try{if(yr.Message.isNotification(de)&&de.method===s_.type.method){let Ve=de.params.id,ht=xe(Ve),vt=v.get(ht);if(yr.Message.isRequest(vt)){let Tr=n?.connectionStrategy,Kn=Tr&&Tr.cancelUndispatched?Tr.cancelUndispatched(vt,Z):void 0;if(Kn&&(Kn.error!==void 0||Kn.result!==void 0)){v.delete(ht),S.delete(Ve),Kn.id=vt.id,st(Kn,de.method,Date.now()),e.write(Kn).catch(()=>o.error("Sending response for canceled message failed."));return}}let zr=S.get(Ve);if(zr!==void 0){zr.cancel(),Mr(de);return}else _.add(Ve)}W(v,de)}finally{rt()}},"callback");function Hr(de){if(ie())return;function Ve(Or,Kr,Gr){let di={jsonrpc:u,id:de.id};Or instanceof yr.ResponseError?di.error=Or.toJson():di.result=Or===void 0?null:Or,st(di,Kr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(Ve,"reply");function ht(Or,Kr,Gr){let di={jsonrpc:u,id:de.id,error:Or.toJson()};st(di,Kr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(ht,"replyError");function vt(Or,Kr,Gr){Or===void 0&&(Or=null);let di={jsonrpc:u,id:de.id,result:Or};st(di,Kr,Gr),e.write(di).catch(()=>o.error("Sending response failed."))}s(vt,"replySuccess"),$e(de);let zr=h.get(de.method),Tr,Kn;zr&&(Tr=zr.type,Kn=zr.handler);let oi=Date.now();if(Kn||d){let Or=de.id??String(Date.now()),Kr=W6.is(K.receiver)?K.receiver.createCancellationTokenSource(Or):K.receiver.createCancellationTokenSource(de);de.id!==null&&_.has(de.id)&&Kr.cancel(),de.id!==null&&S.set(Or,Kr);try{let Gr;if(Kn)if(de.params===void 0){if(Tr!==void 0&&Tr.numberOfParams!==0){ht(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines ${Tr.numberOfParams} params but received none.`),de.method,oi);return}Gr=Kn(Kr.token)}else if(Array.isArray(de.params)){if(Tr!==void 0&&Tr.parameterStructures===yr.ParameterStructures.byName){ht(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines parameters by name but received parameters by position`),de.method,oi);return}Gr=Kn(...de.params,Kr.token)}else{if(Tr!==void 0&&Tr.parameterStructures===yr.ParameterStructures.byPosition){ht(new yr.ResponseError(yr.ErrorCodes.InvalidParams,`Request ${de.method} defines parameters by position but received parameters by name`),de.method,oi);return}Gr=Kn(de.params,Kr.token)}else d&&(Gr=d(de.method,de.params,Kr.token));let di=Gr;Gr?di.then?di.then(Vi=>{S.delete(Or),Ve(Vi,de.method,oi)},Vi=>{S.delete(Or),Vi instanceof yr.ResponseError?ht(Vi,de.method,oi):Vi&&xo.string(Vi.message)?ht(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed with message: ${Vi.message}`),de.method,oi):ht(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed unexpectedly without providing any details.`),de.method,oi)}):(S.delete(Or),Ve(Gr,de.method,oi)):(S.delete(Or),vt(Gr,de.method,oi))}catch(Gr){S.delete(Or),Gr instanceof yr.ResponseError?Ve(Gr,de.method,oi):Gr&&xo.string(Gr.message)?ht(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed with message: ${Gr.message}`),de.method,oi):ht(new yr.ResponseError(yr.ErrorCodes.InternalError,`Request ${de.method} failed unexpectedly without providing any details.`),de.method,oi)}}else ht(new yr.ResponseError(yr.ErrorCodes.MethodNotFound,`Unhandled method ${de.method}`),de.method,oi)}s(Hr,"handleRequest");function Dn(de){if(!ie())if(de.id===null)de.error?o.error(`Received response message without id: Error is: 
${JSON.stringify(de.error,void 0,4)}`):o.error("Received response message without id. No further error information provided.");else{let Ve=de.id,ht=w.get(Ve);if(xn(de,ht),ht!==void 0){w.delete(Ve);try{if(de.error){let vt=de.error;ht.reject(new yr.ResponseError(vt.code,vt.message,vt.data))}else if(de.result!==void 0)ht.resolve(de.result);else throw new Error("Should never happen.")}catch(vt){vt.message?o.error(`Response handler '${ht.method}' failed with message: ${vt.message}`):o.error(`Response handler '${ht.method}' failed unexpectedly.`)}}}}s(Dn,"handleResponse");function br(de){if(ie())return;let Ve,ht;if(de.method===s_.type.method){let vt=de.params.id;_.delete(vt),Mr(de);return}else{let vt=p.get(de.method);vt&&(ht=vt.handler,Ve=vt.type)}if(ht||A)try{if(Mr(de),ht)if(de.params===void 0)Ve!==void 0&&Ve.numberOfParams!==0&&Ve.parameterStructures!==yr.ParameterStructures.byName&&o.error(`Notification ${de.method} defines ${Ve.numberOfParams} params but received none.`),ht();else if(Array.isArray(de.params)){let vt=de.params;de.method===i_.type.method&&vt.length===2&&pU.is(vt[0])?ht({token:vt[0],value:vt[1]}):(Ve!==void 0&&(Ve.parameterStructures===yr.ParameterStructures.byName&&o.error(`Notification ${de.method} defines parameters by name but received parameters by position`),Ve.numberOfParams!==de.params.length&&o.error(`Notification ${de.method} defines ${Ve.numberOfParams} params but received ${vt.length} arguments`)),ht(...vt))}else Ve!==void 0&&Ve.parameterStructures===yr.ParameterStructures.byPosition&&o.error(`Notification ${de.method} defines parameters by position but received parameters by name`),ht(de.params);else A&&A(de.method,de.params)}catch(vt){vt.message?o.error(`Notification handler '${de.method}' failed with message: ${vt.message}`):o.error(`Notification handler '${de.method}' failed unexpectedly.`)}else oe.fire(de)}s(br,"handleNotification");function le(de){if(!de){o.error("Received empty message.");return}o.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(de,null,4)}`);let Ve=de;if(xo.string(Ve.id)||xo.number(Ve.id)){let ht=Ve.id,vt=w.get(ht);vt&&vt.reject(new Error("The received response has neither a result nor an error property."))}}s(le,"handleInvalidMessage");function Xe(de){if(de!=null)switch(D){case li.Verbose:return JSON.stringify(de,null,4);case li.Compact:return JSON.stringify(de);default:return}}s(Xe,"stringifyTrace");function ge(de){if(!(D===li.Off||!P))if(N===Pc.Text){let Ve;(D===li.Verbose||D===li.Compact)&&de.params&&(Ve=`Params: ${Xe(de.params)}

`),P.log(`Sending request '${de.method} - (${de.id})'.`,Ve)}else qr("send-request",de)}s(ge,"traceSendingRequest");function ft(de){if(!(D===li.Off||!P))if(N===Pc.Text){let Ve;(D===li.Verbose||D===li.Compact)&&(de.params?Ve=`Params: ${Xe(de.params)}

`:Ve=`No parameters provided.

`),P.log(`Sending notification '${de.method}'.`,Ve)}else qr("send-notification",de)}s(ft,"traceSendingNotification");function st(de,Ve,ht){if(!(D===li.Off||!P))if(N===Pc.Text){let vt;(D===li.Verbose||D===li.Compact)&&(de.error&&de.error.data?vt=`Error data: ${Xe(de.error.data)}

`:de.result?vt=`Result: ${Xe(de.result)}

`:de.error===void 0&&(vt=`No result returned.

`)),P.log(`Sending response '${Ve} - (${de.id})'. Processing request took ${Date.now()-ht}ms`,vt)}else qr("send-response",de)}s(st,"traceSendingResponse");function $e(de){if(!(D===li.Off||!P))if(N===Pc.Text){let Ve;(D===li.Verbose||D===li.Compact)&&de.params&&(Ve=`Params: ${Xe(de.params)}

`),P.log(`Received request '${de.method} - (${de.id})'.`,Ve)}else qr("receive-request",de)}s($e,"traceReceivedRequest");function Mr(de){if(!(D===li.Off||!P||de.method===V6.type.method))if(N===Pc.Text){let Ve;(D===li.Verbose||D===li.Compact)&&(de.params?Ve=`Params: ${Xe(de.params)}

`:Ve=`No parameters provided.

`),P.log(`Received notification '${de.method}'.`,Ve)}else qr("receive-notification",de)}s(Mr,"traceReceivedNotification");function xn(de,Ve){if(!(D===li.Off||!P))if(N===Pc.Text){let ht;if((D===li.Verbose||D===li.Compact)&&(de.error&&de.error.data?ht=`Error data: ${Xe(de.error.data)}

`:de.result?ht=`Result: ${Xe(de.result)}

`:de.error===void 0&&(ht=`No result returned.

`)),Ve){let vt=de.error?` Request failed: ${de.error.message} (${de.error.code}).`:"";P.log(`Received response '${Ve.method} - (${de.id})' in ${Date.now()-Ve.timerStart}ms.${vt}`,ht)}else P.log(`Received response ${de.id} without active response promise.`,ht)}else qr("receive-response",de)}s(xn,"traceReceivedResponse");function qr(de,Ve){if(!P||D===li.Off)return;let ht={isLSPMessage:!0,type:de,message:Ve,timestamp:Date.now()};P.log(ht)}s(qr,"logLSPMessage");function Jt(){if(te())throw new D2(o_.Closed,"Connection is closed.");if(ie())throw new D2(o_.Disposed,"Connection is disposed.")}s(Jt,"throwIfClosedOrDisposed");function gi(){if(re())throw new D2(o_.AlreadyListening,"Connection is already listening")}s(gi,"throwIfListening");function Yo(){if(!re())throw new Error("Call listen() first.")}s(Yo,"throwIfNotListening");function Mn(de){return de===void 0?null:de}s(Mn,"undefinedToNull");function zo(de){if(de!==null)return de}s(zo,"nullToUndefined");function Xt(de){return de!=null&&!Array.isArray(de)&&typeof de=="object"}s(Xt,"isNamedParam");function mo(de,Ve){switch(de){case yr.ParameterStructures.auto:return Xt(Ve)?zo(Ve):[Mn(Ve)];case yr.ParameterStructures.byName:if(!Xt(Ve))throw new Error("Received parameters by name but param is not an object literal.");return zo(Ve);case yr.ParameterStructures.byPosition:return[Mn(Ve)];default:throw new Error(`Unknown parameter structure ${de.toString()}`)}}s(mo,"computeSingleParam");function ko(de,Ve){let ht,vt=de.numberOfParams;switch(vt){case 0:ht=void 0;break;case 1:ht=mo(de.parameterStructures,Ve[0]);break;default:ht=[];for(let zr=0;zr<Ve.length&&zr<vt;zr++)ht.push(Mn(Ve[zr]));if(Ve.length<vt)for(let zr=Ve.length;zr<vt;zr++)ht.push(null);break}return ht}s(ko,"computeMessageParams");let fa={sendNotification:s((de,...Ve)=>{Jt();let ht,vt;if(xo.string(de)){ht=de;let Tr=Ve[0],Kn=0,oi=yr.ParameterStructures.auto;yr.ParameterStructures.is(Tr)&&(Kn=1,oi=Tr);let Or=Ve.length,Kr=Or-Kn;switch(Kr){case 0:vt=void 0;break;case 1:vt=mo(oi,Ve[Kn]);break;default:if(oi===yr.ParameterStructures.byName)throw new Error(`Received ${Kr} parameters for 'by Name' notification parameter structure.`);vt=Ve.slice(Kn,Or).map(Gr=>Mn(Gr));break}}else{let Tr=Ve;ht=de.method,vt=ko(de,Tr)}let zr={jsonrpc:u,method:ht,params:vt};return ft(zr),e.write(zr).catch(Tr=>{throw o.error("Sending notification failed."),Tr})},"sendNotification"),onNotification:s((de,Ve)=>{Jt();let ht;return xo.func(de)?A=de:Ve&&(xo.string(de)?(ht=de,p.set(de,{type:void 0,handler:Ve})):(ht=de.method,p.set(de.method,{type:de,handler:Ve}))),{dispose:s(()=>{ht!==void 0?p.delete(ht):A=void 0},"dispose")}},"onNotification"),onProgress:s((de,Ve,ht)=>{if(g.has(Ve))throw new Error(`Progress handler for token ${Ve} already registered`);return g.set(Ve,ht),{dispose:s(()=>{g.delete(Ve)},"dispose")}},"onProgress"),sendProgress:s((de,Ve,ht)=>fa.sendNotification(i_.type,{token:Ve,value:ht}),"sendProgress"),onUnhandledProgress:he.event,sendRequest:s((de,...Ve)=>{Jt(),Yo();let ht,vt,zr;if(xo.string(de)){ht=de;let Or=Ve[0],Kr=Ve[Ve.length-1],Gr=0,di=yr.ParameterStructures.auto;yr.ParameterStructures.is(Or)&&(Gr=1,di=Or);let Vi=Ve.length;AU.CancellationToken.is(Kr)&&(Vi=Vi-1,zr=Kr);let Do=Vi-Gr;switch(Do){case 0:vt=void 0;break;case 1:vt=mo(di,Ve[Gr]);break;default:if(di===yr.ParameterStructures.byName)throw new Error(`Received ${Do} parameters for 'by Name' request parameter structure.`);vt=Ve.slice(Gr,Vi).map(Tc=>Mn(Tc));break}}else{let Or=Ve;ht=de.method,vt=ko(de,Or);let Kr=de.numberOfParams;zr=AU.CancellationToken.is(Or[Kr])?Or[Kr]:void 0}let Tr=a++,Kn;zr&&(Kn=zr.onCancellationRequested(()=>{let Or=K.sender.sendCancellation(fa,Tr);return Or===void 0?(o.log(`Received no promise from cancellation strategy when cancelling id ${Tr}`),Promise.resolve()):Or.catch(()=>{o.log(`Sending cancellation messages for id ${Tr} failed`)})}));let oi={jsonrpc:u,id:Tr,method:ht,params:vt};return ge(oi),typeof K.sender.enableCancellation=="function"&&K.sender.enableCancellation(oi),new Promise(async(Or,Kr)=>{let Gr=s(Do=>{Or(Do),K.sender.cleanup(Tr),Kn?.dispose()},"resolveWithCleanup"),di=s(Do=>{Kr(Do),K.sender.cleanup(Tr),Kn?.dispose()},"rejectWithCleanup"),Vi={method:ht,timerStart:Date.now(),resolve:Gr,reject:di};try{await e.write(oi),w.set(Tr,Vi)}catch(Do){throw o.error("Sending request failed."),Vi.reject(new yr.ResponseError(yr.ErrorCodes.MessageWriteError,Do.message?Do.message:"Unknown reason")),Do}})},"sendRequest"),onRequest:s((de,Ve)=>{Jt();let ht=null;return gU.is(de)?(ht=void 0,d=de):xo.string(de)?(ht=null,Ve!==void 0&&(ht=de,h.set(de,{handler:Ve,type:void 0}))):Ve!==void 0&&(ht=de.method,h.set(de.method,{type:de,handler:Ve})),{dispose:s(()=>{ht!==null&&(ht!==void 0?h.delete(ht):d=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>w.size>0,"hasPendingResponse"),trace:s(async(de,Ve,ht)=>{let vt=!1,zr=Pc.Text;ht!==void 0&&(xo.boolean(ht)?vt=ht:(vt=ht.sendNotification||!1,zr=ht.traceFormat||Pc.Text)),D=de,N=zr,D===li.Off?P=void 0:P=Ve,vt&&!te()&&!ie()&&await fa.sendNotification(yU.type,{value:li.toString(de)})},"trace"),onError:Y.event,onClose:ne.event,onUnhandledNotification:oe.event,onDispose:$.event,end:s(()=>{e.end()},"end"),dispose:s(()=>{if(ie())return;O=Wu.Disposed,$.fire(void 0);let de=new yr.ResponseError(yr.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Ve of w.values())Ve.reject(de);w=new Map,S=new Map,_=new Set,v=new pne.LinkedMap,xo.func(e.dispose)&&e.dispose(),xo.func(t.dispose)&&t.dispose()},"dispose"),listen:s(()=>{Jt(),gi(),O=Wu.Listening,t.listen(Vt)},"listen"),inspect:s(()=>{(0,Ane.default)().console.log("inspect")},"inspect")};return fa.onNotification(V6.type,de=>{if(D===li.Off||!P)return;let Ve=D===li.Verbose||D===li.Compact;P.log(de.message,Ve?de.verbose:void 0)}),fa.onNotification(i_.type,de=>{let Ve=g.get(de.token);Ve?Ve(de.value):he.fire(de)}),fa}s(P8e,"createMessageConnection");Wr.createMessageConnection=P8e});var K6=q(ze=>{"use strict";f();Object.defineProperty(ze,"__esModule",{value:!0});ze.ProgressType=ze.ProgressToken=ze.createMessageConnection=ze.NullLogger=ze.ConnectionOptions=ze.ConnectionStrategy=ze.AbstractMessageBuffer=ze.WriteableStreamMessageWriter=ze.AbstractMessageWriter=ze.MessageWriter=ze.ReadableStreamMessageReader=ze.AbstractMessageReader=ze.MessageReader=ze.SharedArrayReceiverStrategy=ze.SharedArraySenderStrategy=ze.CancellationToken=ze.CancellationTokenSource=ze.Emitter=ze.Event=ze.Disposable=ze.LRUCache=ze.Touch=ze.LinkedMap=ze.ParameterStructures=ze.NotificationType9=ze.NotificationType8=ze.NotificationType7=ze.NotificationType6=ze.NotificationType5=ze.NotificationType4=ze.NotificationType3=ze.NotificationType2=ze.NotificationType1=ze.NotificationType0=ze.NotificationType=ze.ErrorCodes=ze.ResponseError=ze.RequestType9=ze.RequestType8=ze.RequestType7=ze.RequestType6=ze.RequestType5=ze.RequestType4=ze.RequestType3=ze.RequestType2=ze.RequestType1=ze.RequestType0=ze.RequestType=ze.Message=ze.RAL=void 0;ze.MessageStrategy=ze.CancellationStrategy=ze.CancellationSenderStrategy=ze.CancellationReceiverStrategy=ze.ConnectionError=ze.ConnectionErrors=ze.LogTraceNotification=ze.SetTraceNotification=ze.TraceFormat=ze.TraceValues=ze.Trace=void 0;var Pi=$O();Object.defineProperty(ze,"Message",{enumerable:!0,get:s(function(){return Pi.Message},"get")});Object.defineProperty(ze,"RequestType",{enumerable:!0,get:s(function(){return Pi.RequestType},"get")});Object.defineProperty(ze,"RequestType0",{enumerable:!0,get:s(function(){return Pi.RequestType0},"get")});Object.defineProperty(ze,"RequestType1",{enumerable:!0,get:s(function(){return Pi.RequestType1},"get")});Object.defineProperty(ze,"RequestType2",{enumerable:!0,get:s(function(){return Pi.RequestType2},"get")});Object.defineProperty(ze,"RequestType3",{enumerable:!0,get:s(function(){return Pi.RequestType3},"get")});Object.defineProperty(ze,"RequestType4",{enumerable:!0,get:s(function(){return Pi.RequestType4},"get")});Object.defineProperty(ze,"RequestType5",{enumerable:!0,get:s(function(){return Pi.RequestType5},"get")});Object.defineProperty(ze,"RequestType6",{enumerable:!0,get:s(function(){return Pi.RequestType6},"get")});Object.defineProperty(ze,"RequestType7",{enumerable:!0,get:s(function(){return Pi.RequestType7},"get")});Object.defineProperty(ze,"RequestType8",{enumerable:!0,get:s(function(){return Pi.RequestType8},"get")});Object.defineProperty(ze,"RequestType9",{enumerable:!0,get:s(function(){return Pi.RequestType9},"get")});Object.defineProperty(ze,"ResponseError",{enumerable:!0,get:s(function(){return Pi.ResponseError},"get")});Object.defineProperty(ze,"ErrorCodes",{enumerable:!0,get:s(function(){return Pi.ErrorCodes},"get")});Object.defineProperty(ze,"NotificationType",{enumerable:!0,get:s(function(){return Pi.NotificationType},"get")});Object.defineProperty(ze,"NotificationType0",{enumerable:!0,get:s(function(){return Pi.NotificationType0},"get")});Object.defineProperty(ze,"NotificationType1",{enumerable:!0,get:s(function(){return Pi.NotificationType1},"get")});Object.defineProperty(ze,"NotificationType2",{enumerable:!0,get:s(function(){return Pi.NotificationType2},"get")});Object.defineProperty(ze,"NotificationType3",{enumerable:!0,get:s(function(){return Pi.NotificationType3},"get")});Object.defineProperty(ze,"NotificationType4",{enumerable:!0,get:s(function(){return Pi.NotificationType4},"get")});Object.defineProperty(ze,"NotificationType5",{enumerable:!0,get:s(function(){return Pi.NotificationType5},"get")});Object.defineProperty(ze,"NotificationType6",{enumerable:!0,get:s(function(){return Pi.NotificationType6},"get")});Object.defineProperty(ze,"NotificationType7",{enumerable:!0,get:s(function(){return Pi.NotificationType7},"get")});Object.defineProperty(ze,"NotificationType8",{enumerable:!0,get:s(function(){return Pi.NotificationType8},"get")});Object.defineProperty(ze,"NotificationType9",{enumerable:!0,get:s(function(){return Pi.NotificationType9},"get")});Object.defineProperty(ze,"ParameterStructures",{enumerable:!0,get:s(function(){return Pi.ParameterStructures},"get")});var IU=zO();Object.defineProperty(ze,"LinkedMap",{enumerable:!0,get:s(function(){return IU.LinkedMap},"get")});Object.defineProperty(ze,"LRUCache",{enumerable:!0,get:s(function(){return IU.LRUCache},"get")});Object.defineProperty(ze,"Touch",{enumerable:!0,get:s(function(){return IU.Touch},"get")});var F8e=nne();Object.defineProperty(ze,"Disposable",{enumerable:!0,get:s(function(){return F8e.Disposable},"get")});var Cne=S2();Object.defineProperty(ze,"Event",{enumerable:!0,get:s(function(){return Cne.Event},"get")});Object.defineProperty(ze,"Emitter",{enumerable:!0,get:s(function(){return Cne.Emitter},"get")});var Ene=O6();Object.defineProperty(ze,"CancellationTokenSource",{enumerable:!0,get:s(function(){return Ene.CancellationTokenSource},"get")});Object.defineProperty(ze,"CancellationToken",{enumerable:!0,get:s(function(){return Ene.CancellationToken},"get")});var Ine=one();Object.defineProperty(ze,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return Ine.SharedArraySenderStrategy},"get")});Object.defineProperty(ze,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return Ine.SharedArrayReceiverStrategy},"get")});var xU=ane();Object.defineProperty(ze,"MessageReader",{enumerable:!0,get:s(function(){return xU.MessageReader},"get")});Object.defineProperty(ze,"AbstractMessageReader",{enumerable:!0,get:s(function(){return xU.AbstractMessageReader},"get")});Object.defineProperty(ze,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return xU.ReadableStreamMessageReader},"get")});var vU=dne();Object.defineProperty(ze,"MessageWriter",{enumerable:!0,get:s(function(){return vU.MessageWriter},"get")});Object.defineProperty(ze,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return vU.AbstractMessageWriter},"get")});Object.defineProperty(ze,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return vU.WriteableStreamMessageWriter},"get")});var L8e=hne();Object.defineProperty(ze,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return L8e.AbstractMessageBuffer},"get")});var ya=yne();Object.defineProperty(ze,"ConnectionStrategy",{enumerable:!0,get:s(function(){return ya.ConnectionStrategy},"get")});Object.defineProperty(ze,"ConnectionOptions",{enumerable:!0,get:s(function(){return ya.ConnectionOptions},"get")});Object.defineProperty(ze,"NullLogger",{enumerable:!0,get:s(function(){return ya.NullLogger},"get")});Object.defineProperty(ze,"createMessageConnection",{enumerable:!0,get:s(function(){return ya.createMessageConnection},"get")});Object.defineProperty(ze,"ProgressToken",{enumerable:!0,get:s(function(){return ya.ProgressToken},"get")});Object.defineProperty(ze,"ProgressType",{enumerable:!0,get:s(function(){return ya.ProgressType},"get")});Object.defineProperty(ze,"Trace",{enumerable:!0,get:s(function(){return ya.Trace},"get")});Object.defineProperty(ze,"TraceValues",{enumerable:!0,get:s(function(){return ya.TraceValues},"get")});Object.defineProperty(ze,"TraceFormat",{enumerable:!0,get:s(function(){return ya.TraceFormat},"get")});Object.defineProperty(ze,"SetTraceNotification",{enumerable:!0,get:s(function(){return ya.SetTraceNotification},"get")});Object.defineProperty(ze,"LogTraceNotification",{enumerable:!0,get:s(function(){return ya.LogTraceNotification},"get")});Object.defineProperty(ze,"ConnectionErrors",{enumerable:!0,get:s(function(){return ya.ConnectionErrors},"get")});Object.defineProperty(ze,"ConnectionError",{enumerable:!0,get:s(function(){return ya.ConnectionError},"get")});Object.defineProperty(ze,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return ya.CancellationReceiverStrategy},"get")});Object.defineProperty(ze,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return ya.CancellationSenderStrategy},"get")});Object.defineProperty(ze,"CancellationStrategy",{enumerable:!0,get:s(function(){return ya.CancellationStrategy},"get")});Object.defineProperty(ze,"MessageStrategy",{enumerable:!0,get:s(function(){return ya.MessageStrategy},"get")});var M8e=Um();ze.RAL=M8e.default});var bne=q(wU=>{"use strict";f();Object.defineProperty(wU,"__esModule",{value:!0});var xne=require("util"),eA=K6(),J6=class t extends eA.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new xne.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};J6.emptyBuffer=Buffer.allocUnsafe(0);var bU=class{static{s(this,"ReadableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),eA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),eA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),eA.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),eA.Disposable.create(()=>this.stream.off("data",e))}},TU=class{static{s(this,"WritableStreamWrapper")}constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),eA.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),eA.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),eA.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,o)=>{let a=s(c=>{c==null?n():o(c)},"callback");typeof e=="string"?this.stream.write(e,r,a):this.stream.write(e,a)})}end(){this.stream.end()}},vne=Object.freeze({messageBuffer:Object.freeze({create:s(t=>new J6(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new xne.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:s(t=>new bU(t),"asReadableStream"),asWritableStream:s(t=>new TU(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:s(()=>clearImmediate(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function _U(){return vne}s(_U,"RIL");(function(t){function e(){eA.RAL.install(vne)}s(e,"install"),t.install=e})(_U||(_U={}));wU.default=_U});var Gy=q(Qn=>{"use strict";f();var O8e=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U8e=Qn&&Qn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O8e(e,t,r)};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.createMessageConnection=Qn.createServerSocketTransport=Qn.createClientSocketTransport=Qn.createServerPipeTransport=Qn.createClientPipeTransport=Qn.generateRandomPipeName=Qn.StreamMessageWriter=Qn.StreamMessageReader=Qn.SocketMessageWriter=Qn.SocketMessageReader=Qn.PortMessageWriter=Qn.PortMessageReader=Qn.IPCMessageWriter=Qn.IPCMessageReader=void 0;var N2=bne();N2.default.install();var Tne=require("path"),H8e=require("os"),q8e=require("crypto"),eR=require("net"),Fc=K6();U8e(K6(),Qn);var SU=class extends Fc.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Fc.Disposable.create(()=>this.process.off("message",e))}};Qn.IPCMessageReader=SU;var BU=class extends Fc.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Qn.IPCMessageWriter=BU;var RU=class extends Fc.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(e){super(),this.onData=new Fc.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};Qn.PortMessageReader=RU;var kU=class extends Fc.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Qn.PortMessageWriter=kU;var Hy=class extends Fc.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(e,r="utf-8"){super((0,N2.default)().stream.asReadableStream(e),r)}};Qn.SocketMessageReader=Hy;var qy=class extends Fc.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(e,r){super((0,N2.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Qn.SocketMessageWriter=qy;var X6=class extends Fc.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(e,r){super((0,N2.default)().stream.asReadableStream(e),r)}};Qn.StreamMessageReader=X6;var Z6=class extends Fc.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(e,r){super((0,N2.default)().stream.asWritableStream(e),r)}};Qn.StreamMessageWriter=Z6;var _ne=process.env.XDG_RUNTIME_DIR,G8e=new Map([["linux",107],["darwin",103]]);function V8e(){let t=(0,q8e.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;_ne?e=Tne.join(_ne,`vscode-ipc-${t}.sock`):e=Tne.join(H8e.tmpdir(),`vscode-${t}.sock`);let r=G8e.get(process.platform);return r!==void 0&&e.length>r&&(0,N2.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}s(V8e,"generateRandomPipeName");Qn.generateRandomPipeName=V8e;function W8e(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,eR.createServer)(l=>{c.close(),r([new Hy(l,e),new qy(l,e)])});c.on("error",a),c.listen(t,()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(W8e,"createClientPipeTransport");Qn.createClientPipeTransport=W8e;function $8e(t,e="utf-8"){let r=(0,eR.createConnection)(t);return[new Hy(r,e),new qy(r,e)]}s($8e,"createServerPipeTransport");Qn.createServerPipeTransport=$8e;function Y8e(t,e="utf-8"){let r,n=new Promise((o,a)=>{r=o});return new Promise((o,a)=>{let c=(0,eR.createServer)(l=>{c.close(),r([new Hy(l,e),new qy(l,e)])});c.on("error",a),c.listen(t,"127.0.0.1",()=>{c.removeListener("error",a),o({onConnected:s(()=>n,"onConnected")})})})}s(Y8e,"createClientSocketTransport");Qn.createClientSocketTransport=Y8e;function z8e(t,e="utf-8"){let r=(0,eR.createConnection)(t,"127.0.0.1");return[new Hy(r,e),new qy(r,e)]}s(z8e,"createServerSocketTransport");Qn.createServerSocketTransport=z8e;function j8e(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}s(j8e,"isReadableStream");function K8e(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}s(K8e,"isWritableStream");function J8e(t,e,r,n){r||(r=Fc.NullLogger);let o=j8e(t)?new X6(t):t,a=K8e(e)?new Z6(e):e;return Fc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Fc.createMessageConnection)(o,a,r,n)}s(J8e,"createMessageConnection");Qn.createMessageConnection=J8e});var DU=q((Oxt,wne)=>{"use strict";f();wne.exports=Gy()});var rR=q((Sne,tR)=>{f();(function(t){if(typeof tR=="object"&&typeof tR.exports=="object"){var e=t(require,Sne);e!==void 0&&(tR.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(M){function fe(Ce){return typeof Ce=="string"}s(fe,"is"),M.is=fe})(r||(e.DocumentUri=r={}));var n;(function(M){function fe(Ce){return typeof Ce=="string"}s(fe,"is"),M.is=fe})(n||(e.URI=n={}));var o;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function fe(Ce){return typeof Ce=="number"&&M.MIN_VALUE<=Ce&&Ce<=M.MAX_VALUE}s(fe,"is"),M.is=fe})(o||(e.integer=o={}));var a;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function fe(Ce){return typeof Ce=="number"&&M.MIN_VALUE<=Ce&&Ce<=M.MAX_VALUE}s(fe,"is"),M.is=fe})(a||(e.uinteger=a={}));var c;(function(M){function fe(X,L){return X===Number.MAX_VALUE&&(X=a.MAX_VALUE),L===Number.MAX_VALUE&&(L=a.MAX_VALUE),{line:X,character:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.uinteger(L.line)&&_e.uinteger(L.character)}s(Ce,"is"),M.is=Ce})(c||(e.Position=c={}));var l;(function(M){function fe(X,L,Se,Ze){if(_e.uinteger(X)&&_e.uinteger(L)&&_e.uinteger(Se)&&_e.uinteger(Ze))return{start:c.create(X,L),end:c.create(Se,Ze)};if(c.is(X)&&c.is(L))return{start:X,end:L};throw new Error("Range#create called with invalid arguments[".concat(X,", ").concat(L,", ").concat(Se,", ").concat(Ze,"]"))}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&c.is(L.start)&&c.is(L.end)}s(Ce,"is"),M.is=Ce})(l||(e.Range=l={}));var u;(function(M){function fe(X,L){return{uri:X,range:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&(_e.string(L.uri)||_e.undefined(L.uri))}s(Ce,"is"),M.is=Ce})(u||(e.Location=u={}));var d;(function(M){function fe(X,L,Se,Ze){return{targetUri:X,targetRange:L,targetSelectionRange:Se,originSelectionRange:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.targetRange)&&_e.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||_e.undefined(L.originSelectionRange))}s(Ce,"is"),M.is=Ce})(d||(e.LocationLink=d={}));var h;(function(M){function fe(X,L,Se,Ze){return{red:X,green:L,blue:Se,alpha:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.numberRange(L.red,0,1)&&_e.numberRange(L.green,0,1)&&_e.numberRange(L.blue,0,1)&&_e.numberRange(L.alpha,0,1)}s(Ce,"is"),M.is=Ce})(h||(e.Color=h={}));var A;(function(M){function fe(X,L){return{range:X,color:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&h.is(L.color)}s(Ce,"is"),M.is=Ce})(A||(e.ColorInformation=A={}));var p;(function(M){function fe(X,L,Se){return{label:X,textEdit:L,additionalTextEdits:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.string(L.label)&&(_e.undefined(L.textEdit)||P.is(L))&&(_e.undefined(L.additionalTextEdits)||_e.typedArray(L.additionalTextEdits,P.is))}s(Ce,"is"),M.is=Ce})(p||(e.ColorPresentation=p={}));var g;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(g||(e.FoldingRangeKind=g={}));var E;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={startLine:X,endLine:L};return _e.defined(Se)&&(Nn.startCharacter=Se),_e.defined(Ze)&&(Nn.endCharacter=Ze),_e.defined(nr)&&(Nn.kind=nr),_e.defined(yi)&&(Nn.collapsedText=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.uinteger(L.startLine)&&_e.uinteger(L.startLine)&&(_e.undefined(L.startCharacter)||_e.uinteger(L.startCharacter))&&(_e.undefined(L.endCharacter)||_e.uinteger(L.endCharacter))&&(_e.undefined(L.kind)||_e.string(L.kind))}s(Ce,"is"),M.is=Ce})(E||(e.FoldingRange=E={}));var v;(function(M){function fe(X,L){return{location:X,message:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&u.is(L.location)&&_e.string(L.message)}s(Ce,"is"),M.is=Ce})(v||(e.DiagnosticRelatedInformation=v={}));var w;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(w||(e.DiagnosticSeverity=w={}));var _;(function(M){M.Unnecessary=1,M.Deprecated=2})(_||(e.DiagnosticTag=_={}));var S;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&_e.string(X.href)}s(fe,"is"),M.is=fe})(S||(e.CodeDescription=S={}));var D;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={range:X,message:L};return _e.defined(Se)&&(Nn.severity=Se),_e.defined(Ze)&&(Nn.code=Ze),_e.defined(nr)&&(Nn.source=nr),_e.defined(yi)&&(Nn.relatedInformation=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L,Se=X;return _e.defined(Se)&&l.is(Se.range)&&_e.string(Se.message)&&(_e.number(Se.severity)||_e.undefined(Se.severity))&&(_e.integer(Se.code)||_e.string(Se.code)||_e.undefined(Se.code))&&(_e.undefined(Se.codeDescription)||_e.string((L=Se.codeDescription)===null||L===void 0?void 0:L.href))&&(_e.string(Se.source)||_e.undefined(Se.source))&&(_e.undefined(Se.relatedInformation)||_e.typedArray(Se.relatedInformation,v.is))}s(Ce,"is"),M.is=Ce})(D||(e.Diagnostic=D={}));var N;(function(M){function fe(X,L){for(var Se=[],Ze=2;Ze<arguments.length;Ze++)Se[Ze-2]=arguments[Ze];var nr={title:X,command:L};return _e.defined(Se)&&Se.length>0&&(nr.arguments=Se),nr}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.title)&&_e.string(L.command)}s(Ce,"is"),M.is=Ce})(N||(e.Command=N={}));var P;(function(M){function fe(Se,Ze){return{range:Se,newText:Ze}}s(fe,"replace"),M.replace=fe;function Ce(Se,Ze){return{range:{start:Se,end:Se},newText:Ze}}s(Ce,"insert"),M.insert=Ce;function X(Se){return{range:Se,newText:""}}s(X,"del"),M.del=X;function L(Se){var Ze=Se;return _e.objectLiteral(Ze)&&_e.string(Ze.newText)&&l.is(Ze.range)}s(L,"is"),M.is=L})(P||(e.TextEdit=P={}));var O;(function(M){function fe(X,L,Se){var Ze={label:X};return L!==void 0&&(Ze.needsConfirmation=L),Se!==void 0&&(Ze.description=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&_e.string(L.label)&&(_e.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(_e.string(L.description)||L.description===void 0)}s(Ce,"is"),M.is=Ce})(O||(e.ChangeAnnotation=O={}));var Y;(function(M){function fe(Ce){var X=Ce;return _e.string(X)}s(fe,"is"),M.is=fe})(Y||(e.ChangeAnnotationIdentifier=Y={}));var ne;(function(M){function fe(Se,Ze,nr){return{range:Se,newText:Ze,annotationId:nr}}s(fe,"replace"),M.replace=fe;function Ce(Se,Ze,nr){return{range:{start:Se,end:Se},newText:Ze,annotationId:nr}}s(Ce,"insert"),M.insert=Ce;function X(Se,Ze){return{range:Se,newText:"",annotationId:Ze}}s(X,"del"),M.del=X;function L(Se){var Ze=Se;return P.is(Ze)&&(O.is(Ze.annotationId)||Y.is(Ze.annotationId))}s(L,"is"),M.is=L})(ne||(e.AnnotatedTextEdit=ne={}));var oe;(function(M){function fe(X,L){return{textDocument:X,edits:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&te.is(L.textDocument)&&Array.isArray(L.edits)}s(Ce,"is"),M.is=Ce})(oe||(e.TextDocumentEdit=oe={}));var he;(function(M){function fe(X,L,Se){var Ze={kind:"create",uri:X};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Ze.options=L),Se!==void 0&&(Ze.annotationId=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="create"&&_e.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||_e.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||_e.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||Y.is(L.annotationId))}s(Ce,"is"),M.is=Ce})(he||(e.CreateFile=he={}));var $;(function(M){function fe(X,L,Se,Ze){var nr={kind:"rename",oldUri:X,newUri:L};return Se!==void 0&&(Se.overwrite!==void 0||Se.ignoreIfExists!==void 0)&&(nr.options=Se),Ze!==void 0&&(nr.annotationId=Ze),nr}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="rename"&&_e.string(L.oldUri)&&_e.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||_e.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||_e.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||Y.is(L.annotationId))}s(Ce,"is"),M.is=Ce})($||(e.RenameFile=$={}));var K;(function(M){function fe(X,L,Se){var Ze={kind:"delete",uri:X};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Ze.options=L),Se!==void 0&&(Ze.annotationId=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&L.kind==="delete"&&_e.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||_e.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||_e.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||Y.is(L.annotationId))}s(Ce,"is"),M.is=Ce})(K||(e.DeleteFile=K={}));var xe;(function(M){function fe(Ce){var X=Ce;return X&&(X.changes!==void 0||X.documentChanges!==void 0)&&(X.documentChanges===void 0||X.documentChanges.every(function(L){return _e.string(L.kind)?he.is(L)||$.is(L)||K.is(L):oe.is(L)}))}s(fe,"is"),M.is=fe})(xe||(e.WorkspaceEdit=xe={}));var ce=function(){function M(fe,Ce){this.edits=fe,this.changeAnnotations=Ce}return s(M,"TextEditChangeImpl"),M.prototype.insert=function(fe,Ce,X){var L,Se;if(X===void 0?L=P.insert(fe,Ce):Y.is(X)?(Se=X,L=ne.insert(fe,Ce,X)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(X),L=ne.insert(fe,Ce,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.replace=function(fe,Ce,X){var L,Se;if(X===void 0?L=P.replace(fe,Ce):Y.is(X)?(Se=X,L=ne.replace(fe,Ce,X)):(this.assertChangeAnnotations(this.changeAnnotations),Se=this.changeAnnotations.manage(X),L=ne.replace(fe,Ce,Se)),this.edits.push(L),Se!==void 0)return Se},M.prototype.delete=function(fe,Ce){var X,L;if(Ce===void 0?X=P.del(fe):Y.is(Ce)?(L=Ce,X=ne.del(fe,Ce)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(Ce),X=ne.del(fe,L)),this.edits.push(X),L!==void 0)return L},M.prototype.add=function(fe){this.edits.push(fe)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(fe){if(fe===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),J=function(){function M(fe){this._annotations=fe===void 0?Object.create(null):fe,this._counter=0,this._size=0}return s(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(fe,Ce){var X;if(Y.is(fe)?X=fe:(X=this.nextId(),Ce=fe),this._annotations[X]!==void 0)throw new Error("Id ".concat(X," is already in use."));if(Ce===void 0)throw new Error("No annotation provided for id ".concat(X));return this._annotations[X]=Ce,this._size++,X},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),W=function(){function M(fe){var Ce=this;this._textEditChanges=Object.create(null),fe!==void 0?(this._workspaceEdit=fe,fe.documentChanges?(this._changeAnnotations=new J(fe.changeAnnotations),fe.changeAnnotations=this._changeAnnotations.all(),fe.documentChanges.forEach(function(X){if(oe.is(X)){var L=new ce(X.edits,Ce._changeAnnotations);Ce._textEditChanges[X.textDocument.uri]=L}})):fe.changes&&Object.keys(fe.changes).forEach(function(X){var L=new ce(fe.changes[X]);Ce._textEditChanges[X]=L})):this._workspaceEdit={}}return s(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(fe){if(te.is(fe)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ce={uri:fe.uri,version:fe.version},X=this._textEditChanges[Ce.uri];if(!X){var L=[],Se={textDocument:Ce,edits:L};this._workspaceEdit.documentChanges.push(Se),X=new ce(L,this._changeAnnotations),this._textEditChanges[Ce.uri]=X}return X}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var X=this._textEditChanges[fe];if(!X){var L=[];this._workspaceEdit.changes[fe]=L,X=new ce(L),this._textEditChanges[fe]=X}return X}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new J,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(fe,Ce,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;O.is(Ce)||Y.is(Ce)?L=Ce:X=Ce;var Se,Ze;if(L===void 0?Se=he.create(fe,X):(Ze=Y.is(L)?L:this._changeAnnotations.manage(L),Se=he.create(fe,X,Ze)),this._workspaceEdit.documentChanges.push(Se),Ze!==void 0)return Ze},M.prototype.renameFile=function(fe,Ce,X,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Se;O.is(X)||Y.is(X)?Se=X:L=X;var Ze,nr;if(Se===void 0?Ze=$.create(fe,Ce,L):(nr=Y.is(Se)?Se:this._changeAnnotations.manage(Se),Ze=$.create(fe,Ce,L,nr)),this._workspaceEdit.documentChanges.push(Ze),nr!==void 0)return nr},M.prototype.deleteFile=function(fe,Ce,X){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;O.is(Ce)||Y.is(Ce)?L=Ce:X=Ce;var Se,Ze;if(L===void 0?Se=K.create(fe,X):(Ze=Y.is(L)?L:this._changeAnnotations.manage(L),Se=K.create(fe,X,Ze)),this._workspaceEdit.documentChanges.push(Se),Ze!==void 0)return Ze},M}();e.WorkspaceChange=W;var Z;(function(M){function fe(X){return{uri:X}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)}s(Ce,"is"),M.is=Ce})(Z||(e.TextDocumentIdentifier=Z={}));var re;(function(M){function fe(X,L){return{uri:X,version:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&_e.integer(L.version)}s(Ce,"is"),M.is=Ce})(re||(e.VersionedTextDocumentIdentifier=re={}));var te;(function(M){function fe(X,L){return{uri:X,version:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&(L.version===null||_e.integer(L.version))}s(Ce,"is"),M.is=Ce})(te||(e.OptionalVersionedTextDocumentIdentifier=te={}));var ie;(function(M){function fe(X,L,Se,Ze){return{uri:X,languageId:L,version:Se,text:Ze}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.string(L.uri)&&_e.string(L.languageId)&&_e.integer(L.version)&&_e.string(L.text)}s(Ce,"is"),M.is=Ce})(ie||(e.TextDocumentItem=ie={}));var ue;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function fe(Ce){var X=Ce;return X===M.PlainText||X===M.Markdown}s(fe,"is"),M.is=fe})(ue||(e.MarkupKind=ue={}));var Ae;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(Ce)&&ue.is(X.kind)&&_e.string(X.value)}s(fe,"is"),M.is=fe})(Ae||(e.MarkupContent=Ae={}));var Je;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Je||(e.CompletionItemKind=Je={}));var rt;(function(M){M.PlainText=1,M.Snippet=2})(rt||(e.InsertTextFormat=rt={}));var lt;(function(M){M.Deprecated=1})(lt||(e.CompletionItemTag=lt={}));var Ct;(function(M){function fe(X,L,Se){return{newText:X,insert:L,replace:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}s(Ce,"is"),M.is=Ce})(Ct||(e.InsertReplaceEdit=Ct={}));var Vt;(function(M){M.asIs=1,M.adjustIndentation=2})(Vt||(e.InsertTextMode=Vt={}));var Hr;(function(M){function fe(Ce){var X=Ce;return X&&(_e.string(X.detail)||X.detail===void 0)&&(_e.string(X.description)||X.description===void 0)}s(fe,"is"),M.is=fe})(Hr||(e.CompletionItemLabelDetails=Hr={}));var Dn;(function(M){function fe(Ce){return{label:Ce}}s(fe,"create"),M.create=fe})(Dn||(e.CompletionItem=Dn={}));var br;(function(M){function fe(Ce,X){return{items:Ce||[],isIncomplete:!!X}}s(fe,"create"),M.create=fe})(br||(e.CompletionList=br={}));var le;(function(M){function fe(X){return X.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(fe,"fromPlainText"),M.fromPlainText=fe;function Ce(X){var L=X;return _e.string(L)||_e.objectLiteral(L)&&_e.string(L.language)&&_e.string(L.value)}s(Ce,"is"),M.is=Ce})(le||(e.MarkedString=le={}));var Xe;(function(M){function fe(Ce){var X=Ce;return!!X&&_e.objectLiteral(X)&&(Ae.is(X.contents)||le.is(X.contents)||_e.typedArray(X.contents,le.is))&&(Ce.range===void 0||l.is(Ce.range))}s(fe,"is"),M.is=fe})(Xe||(e.Hover=Xe={}));var ge;(function(M){function fe(Ce,X){return X?{label:Ce,documentation:X}:{label:Ce}}s(fe,"create"),M.create=fe})(ge||(e.ParameterInformation=ge={}));var ft;(function(M){function fe(Ce,X){for(var L=[],Se=2;Se<arguments.length;Se++)L[Se-2]=arguments[Se];var Ze={label:Ce};return _e.defined(X)&&(Ze.documentation=X),_e.defined(L)?Ze.parameters=L:Ze.parameters=[],Ze}s(fe,"create"),M.create=fe})(ft||(e.SignatureInformation=ft={}));var st;(function(M){M.Text=1,M.Read=2,M.Write=3})(st||(e.DocumentHighlightKind=st={}));var $e;(function(M){function fe(Ce,X){var L={range:Ce};return _e.number(X)&&(L.kind=X),L}s(fe,"create"),M.create=fe})($e||(e.DocumentHighlight=$e={}));var Mr;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Mr||(e.SymbolKind=Mr={}));var xn;(function(M){M.Deprecated=1})(xn||(e.SymbolTag=xn={}));var qr;(function(M){function fe(Ce,X,L,Se,Ze){var nr={name:Ce,kind:X,location:{uri:Se,range:L}};return Ze&&(nr.containerName=Ze),nr}s(fe,"create"),M.create=fe})(qr||(e.SymbolInformation=qr={}));var Jt;(function(M){function fe(Ce,X,L,Se){return Se!==void 0?{name:Ce,kind:X,location:{uri:L,range:Se}}:{name:Ce,kind:X,location:{uri:L}}}s(fe,"create"),M.create=fe})(Jt||(e.WorkspaceSymbol=Jt={}));var gi;(function(M){function fe(X,L,Se,Ze,nr,yi){var Nn={name:X,detail:L,kind:Se,range:Ze,selectionRange:nr};return yi!==void 0&&(Nn.children=yi),Nn}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.name)&&_e.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||_e.string(L.detail))&&(L.deprecated===void 0||_e.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}s(Ce,"is"),M.is=Ce})(gi||(e.DocumentSymbol=gi={}));var Yo;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Yo||(e.CodeActionKind=Yo={}));var Mn;(function(M){M.Invoked=1,M.Automatic=2})(Mn||(e.CodeActionTriggerKind=Mn={}));var zo;(function(M){function fe(X,L,Se){var Ze={diagnostics:X};return L!=null&&(Ze.only=L),Se!=null&&(Ze.triggerKind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.typedArray(L.diagnostics,D.is)&&(L.only===void 0||_e.typedArray(L.only,_e.string))&&(L.triggerKind===void 0||L.triggerKind===Mn.Invoked||L.triggerKind===Mn.Automatic)}s(Ce,"is"),M.is=Ce})(zo||(e.CodeActionContext=zo={}));var Xt;(function(M){function fe(X,L,Se){var Ze={title:X},nr=!0;return typeof L=="string"?(nr=!1,Ze.kind=L):N.is(L)?Ze.command=L:Ze.edit=L,nr&&Se!==void 0&&(Ze.kind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L&&_e.string(L.title)&&(L.diagnostics===void 0||_e.typedArray(L.diagnostics,D.is))&&(L.kind===void 0||_e.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||N.is(L.command))&&(L.isPreferred===void 0||_e.boolean(L.isPreferred))&&(L.edit===void 0||xe.is(L.edit))}s(Ce,"is"),M.is=Ce})(Xt||(e.CodeAction=Xt={}));var mo;(function(M){function fe(X,L){var Se={range:X};return _e.defined(L)&&(Se.data=L),Se}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(L.range)&&(_e.undefined(L.command)||N.is(L.command))}s(Ce,"is"),M.is=Ce})(mo||(e.CodeLens=mo={}));var ko;(function(M){function fe(X,L){return{tabSize:X,insertSpaces:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&_e.uinteger(L.tabSize)&&_e.boolean(L.insertSpaces)}s(Ce,"is"),M.is=Ce})(ko||(e.FormattingOptions=ko={}));var fa;(function(M){function fe(X,L,Se){return{range:X,target:L,data:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(L.range)&&(_e.undefined(L.target)||_e.string(L.target))}s(Ce,"is"),M.is=Ce})(fa||(e.DocumentLink=fa={}));var de;(function(M){function fe(X,L){return{range:X,parent:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}s(Ce,"is"),M.is=Ce})(de||(e.SelectionRange=de={}));var Ve;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Ve||(e.SemanticTokenTypes=Ve={}));var ht;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(ht||(e.SemanticTokenModifiers=ht={}));var vt;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&(X.resultId===void 0||typeof X.resultId=="string")&&Array.isArray(X.data)&&(X.data.length===0||typeof X.data[0]=="number")}s(fe,"is"),M.is=fe})(vt||(e.SemanticTokens=vt={}));var zr;(function(M){function fe(X,L){return{range:X,text:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&_e.string(L.text)}s(Ce,"is"),M.is=Ce})(zr||(e.InlineValueText=zr={}));var Tr;(function(M){function fe(X,L,Se){return{range:X,variableName:L,caseSensitiveLookup:Se}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&_e.boolean(L.caseSensitiveLookup)&&(_e.string(L.variableName)||L.variableName===void 0)}s(Ce,"is"),M.is=Ce})(Tr||(e.InlineValueVariableLookup=Tr={}));var Kn;(function(M){function fe(X,L){return{range:X,expression:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return L!=null&&l.is(L.range)&&(_e.string(L.expression)||L.expression===void 0)}s(Ce,"is"),M.is=Ce})(Kn||(e.InlineValueEvaluatableExpression=Kn={}));var oi;(function(M){function fe(X,L){return{frameId:X,stoppedLocation:L}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.defined(L)&&l.is(X.stoppedLocation)}s(Ce,"is"),M.is=Ce})(oi||(e.InlineValueContext=oi={}));var Or;(function(M){M.Type=1,M.Parameter=2;function fe(Ce){return Ce===1||Ce===2}s(fe,"is"),M.is=fe})(Or||(e.InlayHintKind=Or={}));var Kr;(function(M){function fe(X){return{value:X}}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&(L.tooltip===void 0||_e.string(L.tooltip)||Ae.is(L.tooltip))&&(L.location===void 0||u.is(L.location))&&(L.command===void 0||N.is(L.command))}s(Ce,"is"),M.is=Ce})(Kr||(e.InlayHintLabelPart=Kr={}));var Gr;(function(M){function fe(X,L,Se){var Ze={position:X,label:L};return Se!==void 0&&(Ze.kind=Se),Ze}s(fe,"create"),M.create=fe;function Ce(X){var L=X;return _e.objectLiteral(L)&&c.is(L.position)&&(_e.string(L.label)||_e.typedArray(L.label,Kr.is))&&(L.kind===void 0||Or.is(L.kind))&&L.textEdits===void 0||_e.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||_e.string(L.tooltip)||Ae.is(L.tooltip))&&(L.paddingLeft===void 0||_e.boolean(L.paddingLeft))&&(L.paddingRight===void 0||_e.boolean(L.paddingRight))}s(Ce,"is"),M.is=Ce})(Gr||(e.InlayHint=Gr={}));var di;(function(M){function fe(Ce){return{kind:"snippet",value:Ce}}s(fe,"createSnippet"),M.createSnippet=fe})(di||(e.StringValue=di={}));var Vi;(function(M){function fe(Ce,X,L,Se){return{insertText:Ce,filterText:X,range:L,command:Se}}s(fe,"create"),M.create=fe})(Vi||(e.InlineCompletionItem=Vi={}));var Do;(function(M){function fe(Ce){return{items:Ce}}s(fe,"create"),M.create=fe})(Do||(e.InlineCompletionList=Do={}));var Tc;(function(M){M.Invoked=0,M.Automatic=1})(Tc||(e.InlineCompletionTriggerKind=Tc={}));var Of;(function(M){function fe(Ce,X){return{range:Ce,text:X}}s(fe,"create"),M.create=fe})(Of||(e.SelectedCompletionInfo=Of={}));var N0;(function(M){function fe(Ce,X){return{triggerKind:Ce,selectedCompletionInfo:X}}s(fe,"create"),M.create=fe})(N0||(e.InlineCompletionContext=N0={}));var vu;(function(M){function fe(Ce){var X=Ce;return _e.objectLiteral(X)&&n.is(X.uri)&&_e.string(X.name)}s(fe,"is"),M.is=fe})(vu||(e.WorkspaceFolder=vu={})),e.EOL=[`
`,`\r
`,"\r"];var cs;(function(M){function fe(Se,Ze,nr,yi){return new bu(Se,Ze,nr,yi)}s(fe,"create"),M.create=fe;function Ce(Se){var Ze=Se;return!!(_e.defined(Ze)&&_e.string(Ze.uri)&&(_e.undefined(Ze.languageId)||_e.string(Ze.languageId))&&_e.uinteger(Ze.lineCount)&&_e.func(Ze.getText)&&_e.func(Ze.positionAt)&&_e.func(Ze.offsetAt))}s(Ce,"is"),M.is=Ce;function X(Se,Ze){for(var nr=Se.getText(),yi=L(Ze,function(Q0,ls){var Tu=Q0.range.start.line-ls.range.start.line;return Tu===0?Q0.range.start.character-ls.range.start.character:Tu}),Nn=nr.length,Os=yi.length-1;Os>=0;Os--){var da=yi[Os],si=Se.offsetAt(da.range.start),Dr=Se.offsetAt(da.range.end);if(Dr<=Nn)nr=nr.substring(0,si)+da.newText+nr.substring(Dr,nr.length);else throw new Error("Overlapping edit");Nn=si}return nr}s(X,"applyEdits"),M.applyEdits=X;function L(Se,Ze){if(Se.length<=1)return Se;var nr=Se.length/2|0,yi=Se.slice(0,nr),Nn=Se.slice(nr);L(yi,Ze),L(Nn,Ze);for(var Os=0,da=0,si=0;Os<yi.length&&da<Nn.length;){var Dr=Ze(yi[Os],Nn[da]);Dr<=0?Se[si++]=yi[Os++]:Se[si++]=Nn[da++]}for(;Os<yi.length;)Se[si++]=yi[Os++];for(;da<Nn.length;)Se[si++]=Nn[da++];return Se}s(L,"mergeSort")})(cs||(e.TextDocument=cs={}));var bu=function(){function M(fe,Ce,X,L){this._uri=fe,this._languageId=Ce,this._version=X,this._content=L,this._lineOffsets=void 0}return s(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(fe){if(fe){var Ce=this.offsetAt(fe.start),X=this.offsetAt(fe.end);return this._content.substring(Ce,X)}return this._content},M.prototype.update=function(fe,Ce){this._content=fe.text,this._version=Ce,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var fe=[],Ce=this._content,X=!0,L=0;L<Ce.length;L++){X&&(fe.push(L),X=!1);var Se=Ce.charAt(L);X=Se==="\r"||Se===`
`,Se==="\r"&&L+1<Ce.length&&Ce.charAt(L+1)===`
`&&L++}X&&Ce.length>0&&fe.push(Ce.length),this._lineOffsets=fe}return this._lineOffsets},M.prototype.positionAt=function(fe){fe=Math.max(Math.min(fe,this._content.length),0);var Ce=this.getLineOffsets(),X=0,L=Ce.length;if(L===0)return c.create(0,fe);for(;X<L;){var Se=Math.floor((X+L)/2);Ce[Se]>fe?L=Se:X=Se+1}var Ze=X-1;return c.create(Ze,fe-Ce[Ze])},M.prototype.offsetAt=function(fe){var Ce=this.getLineOffsets();if(fe.line>=Ce.length)return this._content.length;if(fe.line<0)return 0;var X=Ce[fe.line],L=fe.line+1<Ce.length?Ce[fe.line+1]:this._content.length;return Math.max(Math.min(X+fe.character,L),X)},Object.defineProperty(M.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),_e;(function(M){var fe=Object.prototype.toString;function Ce(Dr){return typeof Dr<"u"}s(Ce,"defined"),M.defined=Ce;function X(Dr){return typeof Dr>"u"}s(X,"undefined"),M.undefined=X;function L(Dr){return Dr===!0||Dr===!1}s(L,"boolean"),M.boolean=L;function Se(Dr){return fe.call(Dr)==="[object String]"}s(Se,"string"),M.string=Se;function Ze(Dr){return fe.call(Dr)==="[object Number]"}s(Ze,"number"),M.number=Ze;function nr(Dr,Q0,ls){return fe.call(Dr)==="[object Number]"&&Q0<=Dr&&Dr<=ls}s(nr,"numberRange"),M.numberRange=nr;function yi(Dr){return fe.call(Dr)==="[object Number]"&&-2147483648<=Dr&&Dr<=2147483647}s(yi,"integer"),M.integer=yi;function Nn(Dr){return fe.call(Dr)==="[object Number]"&&0<=Dr&&Dr<=2147483647}s(Nn,"uinteger"),M.uinteger=Nn;function Os(Dr){return fe.call(Dr)==="[object Function]"}s(Os,"func"),M.func=Os;function da(Dr){return Dr!==null&&typeof Dr=="object"}s(da,"objectLiteral"),M.objectLiteral=da;function si(Dr,Q0){return Array.isArray(Dr)&&Dr.every(Q0)}s(si,"typedArray"),M.typedArray=si})(_e||(_e={}))})});var co=q(Y0=>{"use strict";f();Object.defineProperty(Y0,"__esModule",{value:!0});Y0.ProtocolNotificationType=Y0.ProtocolNotificationType0=Y0.ProtocolRequestType=Y0.ProtocolRequestType0=Y0.RegistrationType=Y0.MessageDirection=void 0;var Q2=Gy(),Bne;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Bne||(Y0.MessageDirection=Bne={}));var NU=class{static{s(this,"RegistrationType")}constructor(e){this.method=e}};Y0.RegistrationType=NU;var QU=class extends Q2.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(e){super(e)}};Y0.ProtocolRequestType0=QU;var PU=class extends Q2.RequestType{static{s(this,"ProtocolRequestType")}constructor(e){super(e,Q2.ParameterStructures.byName)}};Y0.ProtocolRequestType=PU;var FU=class extends Q2.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(e){super(e)}};Y0.ProtocolNotificationType0=FU;var LU=class extends Q2.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(e){super(e,Q2.ParameterStructures.byName)}};Y0.ProtocolNotificationType=LU});var nR=q(gs=>{"use strict";f();Object.defineProperty(gs,"__esModule",{value:!0});gs.objectLiteral=gs.typedArray=gs.stringArray=gs.array=gs.func=gs.error=gs.number=gs.string=gs.boolean=void 0;function X8e(t){return t===!0||t===!1}s(X8e,"boolean");gs.boolean=X8e;function Rne(t){return typeof t=="string"||t instanceof String}s(Rne,"string");gs.string=Rne;function Z8e(t){return typeof t=="number"||t instanceof Number}s(Z8e,"number");gs.number=Z8e;function e6e(t){return t instanceof Error}s(e6e,"error");gs.error=e6e;function t6e(t){return typeof t=="function"}s(t6e,"func");gs.func=t6e;function kne(t){return Array.isArray(t)}s(kne,"array");gs.array=kne;function r6e(t){return kne(t)&&t.every(e=>Rne(e))}s(r6e,"stringArray");gs.stringArray=r6e;function n6e(t,e){return Array.isArray(t)&&t.every(e)}s(n6e,"typedArray");gs.typedArray=n6e;function i6e(t){return t!==null&&typeof t=="object"}s(i6e,"objectLiteral");gs.objectLiteral=i6e});var Qne=q(iR=>{"use strict";f();Object.defineProperty(iR,"__esModule",{value:!0});iR.ImplementationRequest=void 0;var Dne=co(),Nne;(function(t){t.method="textDocument/implementation",t.messageDirection=Dne.MessageDirection.clientToServer,t.type=new Dne.ProtocolRequestType(t.method)})(Nne||(iR.ImplementationRequest=Nne={}))});var Lne=q(oR=>{"use strict";f();Object.defineProperty(oR,"__esModule",{value:!0});oR.TypeDefinitionRequest=void 0;var Pne=co(),Fne;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Pne.MessageDirection.clientToServer,t.type=new Pne.ProtocolRequestType(t.method)})(Fne||(oR.TypeDefinitionRequest=Fne={}))});var Une=q(P2=>{"use strict";f();Object.defineProperty(P2,"__esModule",{value:!0});P2.DidChangeWorkspaceFoldersNotification=P2.WorkspaceFoldersRequest=void 0;var sR=co(),Mne;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=sR.MessageDirection.serverToClient,t.type=new sR.ProtocolRequestType0(t.method)})(Mne||(P2.WorkspaceFoldersRequest=Mne={}));var One;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=sR.MessageDirection.clientToServer,t.type=new sR.ProtocolNotificationType(t.method)})(One||(P2.DidChangeWorkspaceFoldersNotification=One={}))});var Gne=q(aR=>{"use strict";f();Object.defineProperty(aR,"__esModule",{value:!0});aR.ConfigurationRequest=void 0;var Hne=co(),qne;(function(t){t.method="workspace/configuration",t.messageDirection=Hne.MessageDirection.serverToClient,t.type=new Hne.ProtocolRequestType(t.method)})(qne||(aR.ConfigurationRequest=qne={}))});var $ne=q(F2=>{"use strict";f();Object.defineProperty(F2,"__esModule",{value:!0});F2.ColorPresentationRequest=F2.DocumentColorRequest=void 0;var cR=co(),Vne;(function(t){t.method="textDocument/documentColor",t.messageDirection=cR.MessageDirection.clientToServer,t.type=new cR.ProtocolRequestType(t.method)})(Vne||(F2.DocumentColorRequest=Vne={}));var Wne;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=cR.MessageDirection.clientToServer,t.type=new cR.ProtocolRequestType(t.method)})(Wne||(F2.ColorPresentationRequest=Wne={}))});var jne=q(L2=>{"use strict";f();Object.defineProperty(L2,"__esModule",{value:!0});L2.FoldingRangeRefreshRequest=L2.FoldingRangeRequest=void 0;var lR=co(),Yne;(function(t){t.method="textDocument/foldingRange",t.messageDirection=lR.MessageDirection.clientToServer,t.type=new lR.ProtocolRequestType(t.method)})(Yne||(L2.FoldingRangeRequest=Yne={}));var zne;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=lR.MessageDirection.serverToClient,t.type=new lR.ProtocolRequestType0(t.method)})(zne||(L2.FoldingRangeRefreshRequest=zne={}))});var Xne=q(uR=>{"use strict";f();Object.defineProperty(uR,"__esModule",{value:!0});uR.DeclarationRequest=void 0;var Kne=co(),Jne;(function(t){t.method="textDocument/declaration",t.messageDirection=Kne.MessageDirection.clientToServer,t.type=new Kne.ProtocolRequestType(t.method)})(Jne||(uR.DeclarationRequest=Jne={}))});var tie=q(fR=>{"use strict";f();Object.defineProperty(fR,"__esModule",{value:!0});fR.SelectionRangeRequest=void 0;var Zne=co(),eie;(function(t){t.method="textDocument/selectionRange",t.messageDirection=Zne.MessageDirection.clientToServer,t.type=new Zne.ProtocolRequestType(t.method)})(eie||(fR.SelectionRangeRequest=eie={}))});var oie=q(Gm=>{"use strict";f();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.WorkDoneProgressCancelNotification=Gm.WorkDoneProgressCreateRequest=Gm.WorkDoneProgress=void 0;var o6e=Gy(),dR=co(),rie;(function(t){t.type=new o6e.ProgressType;function e(r){return r===t.type}s(e,"is"),t.is=e})(rie||(Gm.WorkDoneProgress=rie={}));var nie;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=dR.MessageDirection.serverToClient,t.type=new dR.ProtocolRequestType(t.method)})(nie||(Gm.WorkDoneProgressCreateRequest=nie={}));var iie;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=dR.MessageDirection.clientToServer,t.type=new dR.ProtocolNotificationType(t.method)})(iie||(Gm.WorkDoneProgressCancelNotification=iie={}))});var lie=q(Vm=>{"use strict";f();Object.defineProperty(Vm,"__esModule",{value:!0});Vm.CallHierarchyOutgoingCallsRequest=Vm.CallHierarchyIncomingCallsRequest=Vm.CallHierarchyPrepareRequest=void 0;var M2=co(),sie;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=M2.MessageDirection.clientToServer,t.type=new M2.ProtocolRequestType(t.method)})(sie||(Vm.CallHierarchyPrepareRequest=sie={}));var aie;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=M2.MessageDirection.clientToServer,t.type=new M2.ProtocolRequestType(t.method)})(aie||(Vm.CallHierarchyIncomingCallsRequest=aie={}));var cie;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=M2.MessageDirection.clientToServer,t.type=new M2.ProtocolRequestType(t.method)})(cie||(Vm.CallHierarchyOutgoingCallsRequest=cie={}))});var pie=q(z0=>{"use strict";f();Object.defineProperty(z0,"__esModule",{value:!0});z0.SemanticTokensRefreshRequest=z0.SemanticTokensRangeRequest=z0.SemanticTokensDeltaRequest=z0.SemanticTokensRequest=z0.SemanticTokensRegistrationType=z0.TokenFormat=void 0;var tA=co(),uie;(function(t){t.Relative="relative"})(uie||(z0.TokenFormat=uie={}));var a_;(function(t){t.method="textDocument/semanticTokens",t.type=new tA.RegistrationType(t.method)})(a_||(z0.SemanticTokensRegistrationType=a_={}));var fie;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=tA.MessageDirection.clientToServer,t.type=new tA.ProtocolRequestType(t.method),t.registrationMethod=a_.method})(fie||(z0.SemanticTokensRequest=fie={}));var die;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=tA.MessageDirection.clientToServer,t.type=new tA.ProtocolRequestType(t.method),t.registrationMethod=a_.method})(die||(z0.SemanticTokensDeltaRequest=die={}));var hie;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=tA.MessageDirection.clientToServer,t.type=new tA.ProtocolRequestType(t.method),t.registrationMethod=a_.method})(hie||(z0.SemanticTokensRangeRequest=hie={}));var Aie;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=tA.MessageDirection.serverToClient,t.type=new tA.ProtocolRequestType0(t.method)})(Aie||(z0.SemanticTokensRefreshRequest=Aie={}))});var yie=q(hR=>{"use strict";f();Object.defineProperty(hR,"__esModule",{value:!0});hR.ShowDocumentRequest=void 0;var mie=co(),gie;(function(t){t.method="window/showDocument",t.messageDirection=mie.MessageDirection.serverToClient,t.type=new mie.ProtocolRequestType(t.method)})(gie||(hR.ShowDocumentRequest=gie={}))});var Iie=q(AR=>{"use strict";f();Object.defineProperty(AR,"__esModule",{value:!0});AR.LinkedEditingRangeRequest=void 0;var Cie=co(),Eie;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Cie.MessageDirection.clientToServer,t.type=new Cie.ProtocolRequestType(t.method)})(Eie||(AR.LinkedEditingRangeRequest=Eie={}))});var Bie=q($a=>{"use strict";f();Object.defineProperty($a,"__esModule",{value:!0});$a.WillDeleteFilesRequest=$a.DidDeleteFilesNotification=$a.DidRenameFilesNotification=$a.WillRenameFilesRequest=$a.DidCreateFilesNotification=$a.WillCreateFilesRequest=$a.FileOperationPatternKind=void 0;var Dl=co(),xie;(function(t){t.file="file",t.folder="folder"})(xie||($a.FileOperationPatternKind=xie={}));var vie;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(vie||($a.WillCreateFilesRequest=vie={}));var bie;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(bie||($a.DidCreateFilesNotification=bie={}));var Tie;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(Tie||($a.WillRenameFilesRequest=Tie={}));var _ie;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(_ie||($a.DidRenameFilesNotification=_ie={}));var wie;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(wie||($a.DidDeleteFilesNotification=wie={}));var Sie;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolRequestType(t.method)})(Sie||($a.WillDeleteFilesRequest=Sie={}))});var Qie=q(Wm=>{"use strict";f();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.MonikerRequest=Wm.MonikerKind=Wm.UniquenessLevel=void 0;var Rie=co(),kie;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(kie||(Wm.UniquenessLevel=kie={}));var Die;(function(t){t.$import="import",t.$export="export",t.local="local"})(Die||(Wm.MonikerKind=Die={}));var Nie;(function(t){t.method="textDocument/moniker",t.messageDirection=Rie.MessageDirection.clientToServer,t.type=new Rie.ProtocolRequestType(t.method)})(Nie||(Wm.MonikerRequest=Nie={}))});var Mie=q($m=>{"use strict";f();Object.defineProperty($m,"__esModule",{value:!0});$m.TypeHierarchySubtypesRequest=$m.TypeHierarchySupertypesRequest=$m.TypeHierarchyPrepareRequest=void 0;var O2=co(),Pie;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=O2.MessageDirection.clientToServer,t.type=new O2.ProtocolRequestType(t.method)})(Pie||($m.TypeHierarchyPrepareRequest=Pie={}));var Fie;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=O2.MessageDirection.clientToServer,t.type=new O2.ProtocolRequestType(t.method)})(Fie||($m.TypeHierarchySupertypesRequest=Fie={}));var Lie;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=O2.MessageDirection.clientToServer,t.type=new O2.ProtocolRequestType(t.method)})(Lie||($m.TypeHierarchySubtypesRequest=Lie={}))});var Hie=q(U2=>{"use strict";f();Object.defineProperty(U2,"__esModule",{value:!0});U2.InlineValueRefreshRequest=U2.InlineValueRequest=void 0;var pR=co(),Oie;(function(t){t.method="textDocument/inlineValue",t.messageDirection=pR.MessageDirection.clientToServer,t.type=new pR.ProtocolRequestType(t.method)})(Oie||(U2.InlineValueRequest=Oie={}));var Uie;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=pR.MessageDirection.serverToClient,t.type=new pR.ProtocolRequestType0(t.method)})(Uie||(U2.InlineValueRefreshRequest=Uie={}))});var Wie=q(Ym=>{"use strict";f();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.InlayHintRefreshRequest=Ym.InlayHintResolveRequest=Ym.InlayHintRequest=void 0;var H2=co(),qie;(function(t){t.method="textDocument/inlayHint",t.messageDirection=H2.MessageDirection.clientToServer,t.type=new H2.ProtocolRequestType(t.method)})(qie||(Ym.InlayHintRequest=qie={}));var Gie;(function(t){t.method="inlayHint/resolve",t.messageDirection=H2.MessageDirection.clientToServer,t.type=new H2.ProtocolRequestType(t.method)})(Gie||(Ym.InlayHintResolveRequest=Gie={}));var Vie;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=H2.MessageDirection.serverToClient,t.type=new H2.ProtocolRequestType0(t.method)})(Vie||(Ym.InlayHintRefreshRequest=Vie={}))});var Xie=q(Nl=>{"use strict";f();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.DiagnosticRefreshRequest=Nl.WorkspaceDiagnosticRequest=Nl.DocumentDiagnosticRequest=Nl.DocumentDiagnosticReportKind=Nl.DiagnosticServerCancellationData=void 0;var Jie=Gy(),s6e=nR(),q2=co(),$ie;(function(t){function e(r){let n=r;return n&&s6e.boolean(n.retriggerRequest)}s(e,"is"),t.is=e})($ie||(Nl.DiagnosticServerCancellationData=$ie={}));var Yie;(function(t){t.Full="full",t.Unchanged="unchanged"})(Yie||(Nl.DocumentDiagnosticReportKind=Yie={}));var zie;(function(t){t.method="textDocument/diagnostic",t.messageDirection=q2.MessageDirection.clientToServer,t.type=new q2.ProtocolRequestType(t.method),t.partialResult=new Jie.ProgressType})(zie||(Nl.DocumentDiagnosticRequest=zie={}));var jie;(function(t){t.method="workspace/diagnostic",t.messageDirection=q2.MessageDirection.clientToServer,t.type=new q2.ProtocolRequestType(t.method),t.partialResult=new Jie.ProgressType})(jie||(Nl.WorkspaceDiagnosticRequest=jie={}));var Kie;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=q2.MessageDirection.serverToClient,t.type=new q2.ProtocolRequestType0(t.method)})(Kie||(Nl.DiagnosticRefreshRequest=Kie={}))});var ooe=q(Po=>{"use strict";f();Object.defineProperty(Po,"__esModule",{value:!0});Po.DidCloseNotebookDocumentNotification=Po.DidSaveNotebookDocumentNotification=Po.DidChangeNotebookDocumentNotification=Po.NotebookCellArrayChange=Po.DidOpenNotebookDocumentNotification=Po.NotebookDocumentSyncRegistrationType=Po.NotebookDocument=Po.NotebookCell=Po.ExecutionSummary=Po.NotebookCellKind=void 0;var c_=rR(),$u=nR(),Cd=co(),MU;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(MU||(Po.NotebookCellKind=MU={}));var OU;(function(t){function e(o,a){let c={executionOrder:o};return(a===!0||a===!1)&&(c.success=a),c}s(e,"create"),t.create=e;function r(o){let a=o;return $u.objectLiteral(a)&&c_.uinteger.is(a.executionOrder)&&(a.success===void 0||$u.boolean(a.success))}s(r,"is"),t.is=r;function n(o,a){return o===a?!0:o==null||a===null||a===void 0?!1:o.executionOrder===a.executionOrder&&o.success===a.success}s(n,"equals"),t.equals=n})(OU||(Po.ExecutionSummary=OU={}));var mR;(function(t){function e(a,c){return{kind:a,document:c}}s(e,"create"),t.create=e;function r(a){let c=a;return $u.objectLiteral(c)&&MU.is(c.kind)&&c_.DocumentUri.is(c.document)&&(c.metadata===void 0||$u.objectLiteral(c.metadata))}s(r,"is"),t.is=r;function n(a,c){let l=new Set;return a.document!==c.document&&l.add("document"),a.kind!==c.kind&&l.add("kind"),a.executionSummary!==c.executionSummary&&l.add("executionSummary"),(a.metadata!==void 0||c.metadata!==void 0)&&!o(a.metadata,c.metadata)&&l.add("metadata"),(a.executionSummary!==void 0||c.executionSummary!==void 0)&&!OU.equals(a.executionSummary,c.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),t.diff=n;function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let l=Array.isArray(a),u=Array.isArray(c);if(l!==u)return!1;if(l&&u){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if($u.objectLiteral(a)&&$u.objectLiteral(c)){let d=Object.keys(a),h=Object.keys(c);if(d.length!==h.length||(d.sort(),h.sort(),!o(d,h)))return!1;for(let A=0;A<d.length;A++){let p=d[A];if(!o(a[p],c[p]))return!1}}return!0}s(o,"equalsMetadata")})(mR||(Po.NotebookCell=mR={}));var Zie;(function(t){function e(n,o,a,c){return{uri:n,notebookType:o,version:a,cells:c}}s(e,"create"),t.create=e;function r(n){let o=n;return $u.objectLiteral(o)&&$u.string(o.uri)&&c_.integer.is(o.version)&&$u.typedArray(o.cells,mR.is)}s(r,"is"),t.is=r})(Zie||(Po.NotebookDocument=Zie={}));var G2;(function(t){t.method="notebookDocument/sync",t.messageDirection=Cd.MessageDirection.clientToServer,t.type=new Cd.RegistrationType(t.method)})(G2||(Po.NotebookDocumentSyncRegistrationType=G2={}));var eoe;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Cd.MessageDirection.clientToServer,t.type=new Cd.ProtocolNotificationType(t.method),t.registrationMethod=G2.method})(eoe||(Po.DidOpenNotebookDocumentNotification=eoe={}));var toe;(function(t){function e(n){let o=n;return $u.objectLiteral(o)&&c_.uinteger.is(o.start)&&c_.uinteger.is(o.deleteCount)&&(o.cells===void 0||$u.typedArray(o.cells,mR.is))}s(e,"is"),t.is=e;function r(n,o,a){let c={start:n,deleteCount:o};return a!==void 0&&(c.cells=a),c}s(r,"create"),t.create=r})(toe||(Po.NotebookCellArrayChange=toe={}));var roe;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Cd.MessageDirection.clientToServer,t.type=new Cd.ProtocolNotificationType(t.method),t.registrationMethod=G2.method})(roe||(Po.DidChangeNotebookDocumentNotification=roe={}));var noe;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Cd.MessageDirection.clientToServer,t.type=new Cd.ProtocolNotificationType(t.method),t.registrationMethod=G2.method})(noe||(Po.DidSaveNotebookDocumentNotification=noe={}));var ioe;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Cd.MessageDirection.clientToServer,t.type=new Cd.ProtocolNotificationType(t.method),t.registrationMethod=G2.method})(ioe||(Po.DidCloseNotebookDocumentNotification=ioe={}))});var coe=q(gR=>{"use strict";f();Object.defineProperty(gR,"__esModule",{value:!0});gR.InlineCompletionRequest=void 0;var soe=co(),aoe;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=soe.MessageDirection.clientToServer,t.type=new soe.ProtocolRequestType(t.method)})(aoe||(gR.InlineCompletionRequest=aoe={}))});var Ise=q(ae=>{"use strict";f();Object.defineProperty(ae,"__esModule",{value:!0});ae.WorkspaceSymbolRequest=ae.CodeActionResolveRequest=ae.CodeActionRequest=ae.DocumentSymbolRequest=ae.DocumentHighlightRequest=ae.ReferencesRequest=ae.DefinitionRequest=ae.SignatureHelpRequest=ae.SignatureHelpTriggerKind=ae.HoverRequest=ae.CompletionResolveRequest=ae.CompletionRequest=ae.CompletionTriggerKind=ae.PublishDiagnosticsNotification=ae.WatchKind=ae.RelativePattern=ae.FileChangeType=ae.DidChangeWatchedFilesNotification=ae.WillSaveTextDocumentWaitUntilRequest=ae.WillSaveTextDocumentNotification=ae.TextDocumentSaveReason=ae.DidSaveTextDocumentNotification=ae.DidCloseTextDocumentNotification=ae.DidChangeTextDocumentNotification=ae.TextDocumentContentChangeEvent=ae.DidOpenTextDocumentNotification=ae.TextDocumentSyncKind=ae.TelemetryEventNotification=ae.LogMessageNotification=ae.ShowMessageRequest=ae.ShowMessageNotification=ae.MessageType=ae.DidChangeConfigurationNotification=ae.ExitNotification=ae.ShutdownRequest=ae.InitializedNotification=ae.InitializeErrorCodes=ae.InitializeRequest=ae.WorkDoneProgressOptions=ae.TextDocumentRegistrationOptions=ae.StaticRegistrationOptions=ae.PositionEncodingKind=ae.FailureHandlingKind=ae.ResourceOperationKind=ae.UnregistrationRequest=ae.RegistrationRequest=ae.DocumentSelector=ae.NotebookCellTextDocumentFilter=ae.NotebookDocumentFilter=ae.TextDocumentFilter=void 0;ae.MonikerRequest=ae.MonikerKind=ae.UniquenessLevel=ae.WillDeleteFilesRequest=ae.DidDeleteFilesNotification=ae.WillRenameFilesRequest=ae.DidRenameFilesNotification=ae.WillCreateFilesRequest=ae.DidCreateFilesNotification=ae.FileOperationPatternKind=ae.LinkedEditingRangeRequest=ae.ShowDocumentRequest=ae.SemanticTokensRegistrationType=ae.SemanticTokensRefreshRequest=ae.SemanticTokensRangeRequest=ae.SemanticTokensDeltaRequest=ae.SemanticTokensRequest=ae.TokenFormat=ae.CallHierarchyPrepareRequest=ae.CallHierarchyOutgoingCallsRequest=ae.CallHierarchyIncomingCallsRequest=ae.WorkDoneProgressCancelNotification=ae.WorkDoneProgressCreateRequest=ae.WorkDoneProgress=ae.SelectionRangeRequest=ae.DeclarationRequest=ae.FoldingRangeRefreshRequest=ae.FoldingRangeRequest=ae.ColorPresentationRequest=ae.DocumentColorRequest=ae.ConfigurationRequest=ae.DidChangeWorkspaceFoldersNotification=ae.WorkspaceFoldersRequest=ae.TypeDefinitionRequest=ae.ImplementationRequest=ae.ApplyWorkspaceEditRequest=ae.ExecuteCommandRequest=ae.PrepareRenameRequest=ae.RenameRequest=ae.PrepareSupportDefaultBehavior=ae.DocumentOnTypeFormattingRequest=ae.DocumentRangesFormattingRequest=ae.DocumentRangeFormattingRequest=ae.DocumentFormattingRequest=ae.DocumentLinkResolveRequest=ae.DocumentLinkRequest=ae.CodeLensRefreshRequest=ae.CodeLensResolveRequest=ae.CodeLensRequest=ae.WorkspaceSymbolResolveRequest=void 0;ae.InlineCompletionRequest=ae.DidCloseNotebookDocumentNotification=ae.DidSaveNotebookDocumentNotification=ae.DidChangeNotebookDocumentNotification=ae.NotebookCellArrayChange=ae.DidOpenNotebookDocumentNotification=ae.NotebookDocumentSyncRegistrationType=ae.NotebookDocument=ae.NotebookCell=ae.ExecutionSummary=ae.NotebookCellKind=ae.DiagnosticRefreshRequest=ae.WorkspaceDiagnosticRequest=ae.DocumentDiagnosticRequest=ae.DocumentDiagnosticReportKind=ae.DiagnosticServerCancellationData=ae.InlayHintRefreshRequest=ae.InlayHintResolveRequest=ae.InlayHintRequest=ae.InlineValueRefreshRequest=ae.InlineValueRequest=ae.TypeHierarchySupertypesRequest=ae.TypeHierarchySubtypesRequest=ae.TypeHierarchyPrepareRequest=void 0;var mt=co(),loe=rR(),Js=nR(),a6e=Qne();Object.defineProperty(ae,"ImplementationRequest",{enumerable:!0,get:s(function(){return a6e.ImplementationRequest},"get")});var c6e=Lne();Object.defineProperty(ae,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return c6e.TypeDefinitionRequest},"get")});var gse=Une();Object.defineProperty(ae,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return gse.WorkspaceFoldersRequest},"get")});Object.defineProperty(ae,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return gse.DidChangeWorkspaceFoldersNotification},"get")});var l6e=Gne();Object.defineProperty(ae,"ConfigurationRequest",{enumerable:!0,get:s(function(){return l6e.ConfigurationRequest},"get")});var yse=$ne();Object.defineProperty(ae,"DocumentColorRequest",{enumerable:!0,get:s(function(){return yse.DocumentColorRequest},"get")});Object.defineProperty(ae,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return yse.ColorPresentationRequest},"get")});var Cse=jne();Object.defineProperty(ae,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return Cse.FoldingRangeRequest},"get")});Object.defineProperty(ae,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return Cse.FoldingRangeRefreshRequest},"get")});var u6e=Xne();Object.defineProperty(ae,"DeclarationRequest",{enumerable:!0,get:s(function(){return u6e.DeclarationRequest},"get")});var f6e=tie();Object.defineProperty(ae,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return f6e.SelectionRangeRequest},"get")});var VU=oie();Object.defineProperty(ae,"WorkDoneProgress",{enumerable:!0,get:s(function(){return VU.WorkDoneProgress},"get")});Object.defineProperty(ae,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return VU.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(ae,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return VU.WorkDoneProgressCancelNotification},"get")});var WU=lie();Object.defineProperty(ae,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return WU.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(ae,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return WU.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(ae,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return WU.CallHierarchyPrepareRequest},"get")});var V2=pie();Object.defineProperty(ae,"TokenFormat",{enumerable:!0,get:s(function(){return V2.TokenFormat},"get")});Object.defineProperty(ae,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return V2.SemanticTokensRequest},"get")});Object.defineProperty(ae,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return V2.SemanticTokensDeltaRequest},"get")});Object.defineProperty(ae,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return V2.SemanticTokensRangeRequest},"get")});Object.defineProperty(ae,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return V2.SemanticTokensRefreshRequest},"get")});Object.defineProperty(ae,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return V2.SemanticTokensRegistrationType},"get")});var d6e=yie();Object.defineProperty(ae,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return d6e.ShowDocumentRequest},"get")});var h6e=Iie();Object.defineProperty(ae,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return h6e.LinkedEditingRangeRequest},"get")});var Vy=Bie();Object.defineProperty(ae,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return Vy.FileOperationPatternKind},"get")});Object.defineProperty(ae,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return Vy.DidCreateFilesNotification},"get")});Object.defineProperty(ae,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return Vy.WillCreateFilesRequest},"get")});Object.defineProperty(ae,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return Vy.DidRenameFilesNotification},"get")});Object.defineProperty(ae,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return Vy.WillRenameFilesRequest},"get")});Object.defineProperty(ae,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return Vy.DidDeleteFilesNotification},"get")});Object.defineProperty(ae,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return Vy.WillDeleteFilesRequest},"get")});var $U=Qie();Object.defineProperty(ae,"UniquenessLevel",{enumerable:!0,get:s(function(){return $U.UniquenessLevel},"get")});Object.defineProperty(ae,"MonikerKind",{enumerable:!0,get:s(function(){return $U.MonikerKind},"get")});Object.defineProperty(ae,"MonikerRequest",{enumerable:!0,get:s(function(){return $U.MonikerRequest},"get")});var YU=Mie();Object.defineProperty(ae,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return YU.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(ae,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return YU.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(ae,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return YU.TypeHierarchySupertypesRequest},"get")});var Ese=Hie();Object.defineProperty(ae,"InlineValueRequest",{enumerable:!0,get:s(function(){return Ese.InlineValueRequest},"get")});Object.defineProperty(ae,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return Ese.InlineValueRefreshRequest},"get")});var zU=Wie();Object.defineProperty(ae,"InlayHintRequest",{enumerable:!0,get:s(function(){return zU.InlayHintRequest},"get")});Object.defineProperty(ae,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return zU.InlayHintResolveRequest},"get")});Object.defineProperty(ae,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return zU.InlayHintRefreshRequest},"get")});var l_=Xie();Object.defineProperty(ae,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return l_.DiagnosticServerCancellationData},"get")});Object.defineProperty(ae,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return l_.DocumentDiagnosticReportKind},"get")});Object.defineProperty(ae,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return l_.DocumentDiagnosticRequest},"get")});Object.defineProperty(ae,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return l_.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(ae,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return l_.DiagnosticRefreshRequest},"get")});var Ed=ooe();Object.defineProperty(ae,"NotebookCellKind",{enumerable:!0,get:s(function(){return Ed.NotebookCellKind},"get")});Object.defineProperty(ae,"ExecutionSummary",{enumerable:!0,get:s(function(){return Ed.ExecutionSummary},"get")});Object.defineProperty(ae,"NotebookCell",{enumerable:!0,get:s(function(){return Ed.NotebookCell},"get")});Object.defineProperty(ae,"NotebookDocument",{enumerable:!0,get:s(function(){return Ed.NotebookDocument},"get")});Object.defineProperty(ae,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return Ed.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(ae,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Ed.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(ae,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return Ed.NotebookCellArrayChange},"get")});Object.defineProperty(ae,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Ed.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(ae,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Ed.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(ae,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Ed.DidCloseNotebookDocumentNotification},"get")});var A6e=coe();Object.defineProperty(ae,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return A6e.InlineCompletionRequest},"get")});var UU;(function(t){function e(r){let n=r;return Js.string(n)||Js.string(n.language)||Js.string(n.scheme)||Js.string(n.pattern)}s(e,"is"),t.is=e})(UU||(ae.TextDocumentFilter=UU={}));var HU;(function(t){function e(r){let n=r;return Js.objectLiteral(n)&&(Js.string(n.notebookType)||Js.string(n.scheme)||Js.string(n.pattern))}s(e,"is"),t.is=e})(HU||(ae.NotebookDocumentFilter=HU={}));var qU;(function(t){function e(r){let n=r;return Js.objectLiteral(n)&&(Js.string(n.notebook)||HU.is(n.notebook))&&(n.language===void 0||Js.string(n.language))}s(e,"is"),t.is=e})(qU||(ae.NotebookCellTextDocumentFilter=qU={}));var GU;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Js.string(n)&&!UU.is(n)&&!qU.is(n))return!1;return!0}s(e,"is"),t.is=e})(GU||(ae.DocumentSelector=GU={}));var uoe;(function(t){t.method="client/registerCapability",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(uoe||(ae.RegistrationRequest=uoe={}));var foe;(function(t){t.method="client/unregisterCapability",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(foe||(ae.UnregistrationRequest=foe={}));var doe;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(doe||(ae.ResourceOperationKind=doe={}));var hoe;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(hoe||(ae.FailureHandlingKind=hoe={}));var Aoe;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Aoe||(ae.PositionEncodingKind=Aoe={}));var poe;(function(t){function e(r){let n=r;return n&&Js.string(n.id)&&n.id.length>0}s(e,"hasId"),t.hasId=e})(poe||(ae.StaticRegistrationOptions=poe={}));var moe;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||GU.is(n.documentSelector))}s(e,"is"),t.is=e})(moe||(ae.TextDocumentRegistrationOptions=moe={}));var goe;(function(t){function e(n){let o=n;return Js.objectLiteral(o)&&(o.workDoneProgress===void 0||Js.boolean(o.workDoneProgress))}s(e,"is"),t.is=e;function r(n){let o=n;return o&&Js.boolean(o.workDoneProgress)}s(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(goe||(ae.WorkDoneProgressOptions=goe={}));var yoe;(function(t){t.method="initialize",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(yoe||(ae.InitializeRequest=yoe={}));var Coe;(function(t){t.unknownProtocolVersion=1})(Coe||(ae.InitializeErrorCodes=Coe={}));var Eoe;(function(t){t.method="initialized",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Eoe||(ae.InitializedNotification=Eoe={}));var Ioe;(function(t){t.method="shutdown",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType0(t.method)})(Ioe||(ae.ShutdownRequest=Ioe={}));var xoe;(function(t){t.method="exit",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType0(t.method)})(xoe||(ae.ExitNotification=xoe={}));var voe;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(voe||(ae.DidChangeConfigurationNotification=voe={}));var boe;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(boe||(ae.MessageType=boe={}));var Toe;(function(t){t.method="window/showMessage",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(Toe||(ae.ShowMessageNotification=Toe={}));var _oe;(function(t){t.method="window/showMessageRequest",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType(t.method)})(_oe||(ae.ShowMessageRequest=_oe={}));var woe;(function(t){t.method="window/logMessage",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(woe||(ae.LogMessageNotification=woe={}));var Soe;(function(t){t.method="telemetry/event",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(Soe||(ae.TelemetryEventNotification=Soe={}));var Boe;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Boe||(ae.TextDocumentSyncKind=Boe={}));var Roe;(function(t){t.method="textDocument/didOpen",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Roe||(ae.DidOpenTextDocumentNotification=Roe={}));var koe;(function(t){function e(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range!==void 0&&(o.rangeLength===void 0||typeof o.rangeLength=="number")}s(e,"isIncremental"),t.isIncremental=e;function r(n){let o=n;return o!=null&&typeof o.text=="string"&&o.range===void 0&&o.rangeLength===void 0}s(r,"isFull"),t.isFull=r})(koe||(ae.TextDocumentContentChangeEvent=koe={}));var Doe;(function(t){t.method="textDocument/didChange",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Doe||(ae.DidChangeTextDocumentNotification=Doe={}));var Noe;(function(t){t.method="textDocument/didClose",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Noe||(ae.DidCloseTextDocumentNotification=Noe={}));var Qoe;(function(t){t.method="textDocument/didSave",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Qoe||(ae.DidSaveTextDocumentNotification=Qoe={}));var Poe;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Poe||(ae.TextDocumentSaveReason=Poe={}));var Foe;(function(t){t.method="textDocument/willSave",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Foe||(ae.WillSaveTextDocumentNotification=Foe={}));var Loe;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Loe||(ae.WillSaveTextDocumentWaitUntilRequest=Loe={}));var Moe;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolNotificationType(t.method)})(Moe||(ae.DidChangeWatchedFilesNotification=Moe={}));var Ooe;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(Ooe||(ae.FileChangeType=Ooe={}));var Uoe;(function(t){function e(r){let n=r;return Js.objectLiteral(n)&&(loe.URI.is(n.baseUri)||loe.WorkspaceFolder.is(n.baseUri))&&Js.string(n.pattern)}s(e,"is"),t.is=e})(Uoe||(ae.RelativePattern=Uoe={}));var Hoe;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Hoe||(ae.WatchKind=Hoe={}));var qoe;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolNotificationType(t.method)})(qoe||(ae.PublishDiagnosticsNotification=qoe={}));var Goe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Goe||(ae.CompletionTriggerKind=Goe={}));var Voe;(function(t){t.method="textDocument/completion",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Voe||(ae.CompletionRequest=Voe={}));var Woe;(function(t){t.method="completionItem/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Woe||(ae.CompletionResolveRequest=Woe={}));var $oe;(function(t){t.method="textDocument/hover",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})($oe||(ae.HoverRequest=$oe={}));var Yoe;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(Yoe||(ae.SignatureHelpTriggerKind=Yoe={}));var zoe;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(zoe||(ae.SignatureHelpRequest=zoe={}));var joe;(function(t){t.method="textDocument/definition",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(joe||(ae.DefinitionRequest=joe={}));var Koe;(function(t){t.method="textDocument/references",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Koe||(ae.ReferencesRequest=Koe={}));var Joe;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Joe||(ae.DocumentHighlightRequest=Joe={}));var Xoe;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Xoe||(ae.DocumentSymbolRequest=Xoe={}));var Zoe;(function(t){t.method="textDocument/codeAction",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Zoe||(ae.CodeActionRequest=Zoe={}));var ese;(function(t){t.method="codeAction/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(ese||(ae.CodeActionResolveRequest=ese={}));var tse;(function(t){t.method="workspace/symbol",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(tse||(ae.WorkspaceSymbolRequest=tse={}));var rse;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(rse||(ae.WorkspaceSymbolResolveRequest=rse={}));var nse;(function(t){t.method="textDocument/codeLens",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(nse||(ae.CodeLensRequest=nse={}));var ise;(function(t){t.method="codeLens/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(ise||(ae.CodeLensResolveRequest=ise={}));var ose;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType0(t.method)})(ose||(ae.CodeLensRefreshRequest=ose={}));var sse;(function(t){t.method="textDocument/documentLink",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(sse||(ae.DocumentLinkRequest=sse={}));var ase;(function(t){t.method="documentLink/resolve",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(ase||(ae.DocumentLinkResolveRequest=ase={}));var cse;(function(t){t.method="textDocument/formatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(cse||(ae.DocumentFormattingRequest=cse={}));var lse;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(lse||(ae.DocumentRangeFormattingRequest=lse={}));var use;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(use||(ae.DocumentRangesFormattingRequest=use={}));var fse;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(fse||(ae.DocumentOnTypeFormattingRequest=fse={}));var dse;(function(t){t.Identifier=1})(dse||(ae.PrepareSupportDefaultBehavior=dse={}));var hse;(function(t){t.method="textDocument/rename",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(hse||(ae.RenameRequest=hse={}));var Ase;(function(t){t.method="textDocument/prepareRename",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(Ase||(ae.PrepareRenameRequest=Ase={}));var pse;(function(t){t.method="workspace/executeCommand",t.messageDirection=mt.MessageDirection.clientToServer,t.type=new mt.ProtocolRequestType(t.method)})(pse||(ae.ExecuteCommandRequest=pse={}));var mse;(function(t){t.method="workspace/applyEdit",t.messageDirection=mt.MessageDirection.serverToClient,t.type=new mt.ProtocolRequestType("workspace/applyEdit")})(mse||(ae.ApplyWorkspaceEditRequest=mse={}))});var vse=q(yR=>{"use strict";f();Object.defineProperty(yR,"__esModule",{value:!0});yR.createProtocolConnection=void 0;var xse=Gy();function p6e(t,e,r,n){return xse.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,xse.createMessageConnection)(t,e,r,n)}s(p6e,"createProtocolConnection");yR.createProtocolConnection=p6e});var Tse=q(j0=>{"use strict";f();var m6e=j0&&j0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CR=j0&&j0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&m6e(e,t,r)};Object.defineProperty(j0,"__esModule",{value:!0});j0.LSPErrorCodes=j0.createProtocolConnection=void 0;CR(Gy(),j0);CR(rR(),j0);CR(co(),j0);CR(Ise(),j0);var g6e=vse();Object.defineProperty(j0,"createProtocolConnection",{enumerable:!0,get:s(function(){return g6e.createProtocolConnection},"get")});var bse;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(bse||(j0.LSPErrorCodes=bse={}))});var Ca=q(Id=>{"use strict";f();var y6e=Id&&Id.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_se=Id&&Id.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&y6e(e,t,r)};Object.defineProperty(Id,"__esModule",{value:!0});Id.createProtocolConnection=void 0;var C6e=DU();_se(DU(),Id);_se(Tse(),Id);function E6e(t,e,r,n){return(0,C6e.createMessageConnection)(t,e,r,n)}s(E6e,"createProtocolConnection");Id.createProtocolConnection=E6e});var aae=q(PR=>{"use strict";f();Object.defineProperty(PR,"__esModule",{value:!0});PR.state=void 0;PR.state={instrumenterImplementation:void 0}});var fx=q((kq,Xae)=>{f();var S9=require("buffer"),Rd=S9.Buffer;function Jae(t,e){for(var r in t)e[r]=t[r]}s(Jae,"copyProps");Rd.from&&Rd.alloc&&Rd.allocUnsafe&&Rd.allocUnsafeSlow?Xae.exports=S9:(Jae(S9,kq),kq.Buffer=FC);function FC(t,e,r){return Rd(t,e,r)}s(FC,"SafeBuffer");FC.prototype=Object.create(Rd.prototype);Jae(Rd,FC);FC.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Rd(t,e,r)};FC.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Rd(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};FC.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Rd(t)};FC.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return S9.SlowBuffer(t)}});var Dq=q((NRt,Zae)=>{f();var B9=fx().Buffer,jRe=require("stream"),KRe=require("util");function R9(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=B9.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=B9.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}s(R9,"DataStream");KRe.inherits(R9,jRe);R9.prototype.write=s(function(e){this.buffer=B9.concat([this.buffer,B9.from(e)]),this.emit("data",e)},"write");R9.prototype.end=s(function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},"end");Zae.exports=R9});var t0e=q((FRt,e0e)=>{"use strict";f();function Nq(t){var e=(t/8|0)+(t%8===0?0:1);return e}s(Nq,"getParamSize");var JRe={ES256:Nq(256),ES384:Nq(384),ES512:Nq(521)};function XRe(t){var e=JRe[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}s(XRe,"getParamBytesForAlg");e0e.exports=XRe});var c0e=q((ORt,a0e)=>{"use strict";f();var k9=fx().Buffer,n0e=t0e(),D9=128,i0e=0,ZRe=32,e9e=16,t9e=2,o0e=e9e|ZRe|i0e<<6,N9=t9e|i0e<<6;function r9e(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(r9e,"base64Url");function s0e(t){if(k9.isBuffer(t))return t;if(typeof t=="string")return k9.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}s(s0e,"signatureAsBuffer");function n9e(t,e){t=s0e(t);var r=n0e(e),n=r+1,o=t.length,a=0;if(t[a++]!==o0e)throw new Error('Could not find expected "seq"');var c=t[a++];if(c===(D9|1)&&(c=t[a++]),o-a<c)throw new Error('"seq" specified length of "'+c+'", only "'+(o-a)+'" remaining');if(t[a++]!==N9)throw new Error('Could not find expected "int" for "r"');var l=t[a++];if(o-a-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(o-a-2)+'" available');if(n<l)throw new Error('"r" specified length of "'+l+'", max of "'+n+'" is acceptable');var u=a;if(a+=l,t[a++]!==N9)throw new Error('Could not find expected "int" for "s"');var d=t[a++];if(o-a!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(o-a)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var h=a;if(a+=d,a!==o)throw new Error('Expected to consume entire buffer, but "'+(o-a)+'" bytes remain');var A=r-l,p=r-d,g=k9.allocUnsafe(A+l+p+d);for(a=0;a<A;++a)g[a]=0;t.copy(g,a,u+Math.max(-A,0),u+l),a=r;for(var E=a;a<E+p;++a)g[a]=0;return t.copy(g,a,h+Math.max(-p,0),h+d),g=g.toString("base64"),g=r9e(g),g}s(n9e,"derToJose");function r0e(t,e,r){for(var n=0;e+n<r&&t[e+n]===0;)++n;var o=t[e+n]>=D9;return o&&--n,n}s(r0e,"countPadding");function i9e(t,e){t=s0e(t);var r=n0e(e),n=t.length;if(n!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var o=r0e(t,0,r),a=r0e(t,r,t.length),c=r-o,l=r-a,u=2+c+1+1+l,d=u<D9,h=k9.allocUnsafe((d?2:3)+u),A=0;return h[A++]=o0e,d?h[A++]=u:(h[A++]=D9|1,h[A++]=u&255),h[A++]=N9,h[A++]=c,o<0?(h[A++]=0,A+=t.copy(h,A,0,r)):A+=t.copy(h,A,o,r),h[A++]=N9,h[A++]=l,a<0?(h[A++]=0,t.copy(h,A,r)):t.copy(h,A,r+a),h}s(i9e,"joseToDer");a0e.exports={derToJose:n9e,joseToDer:i9e}});var u0e=q((qRt,l0e)=>{"use strict";f();var C4=require("buffer").Buffer,Qq=require("buffer").SlowBuffer;l0e.exports=Q9;function Q9(t,e){if(!C4.isBuffer(t)||!C4.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}s(Q9,"bufferEq");Q9.install=function(){C4.prototype.equal=Qq.prototype.equal=s(function(e){return Q9(this,e)},"equal")};var o9e=C4.prototype.equal,s9e=Qq.prototype.equal;Q9.restore=function(){C4.prototype.equal=o9e,Qq.prototype.equal=s9e}});var Mq=q((WRt,C0e)=>{f();var hx=fx().Buffer,Ml=require("crypto"),d0e=c0e(),f0e=require("util"),a9e=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,E4="secret must be a string or buffer",dx="key must be a string or a buffer",c9e="key must be a string, a buffer or an object",Fq=typeof Ml.createPublicKey=="function";Fq&&(dx+=" or a KeyObject",E4+="or a KeyObject");function h0e(t){if(!hx.isBuffer(t)&&typeof t!="string"&&(!Fq||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw Ku(dx)}s(h0e,"checkIsPublicKey");function A0e(t){if(!hx.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw Ku(c9e)}s(A0e,"checkIsPrivateKey");function l9e(t){if(!hx.isBuffer(t)){if(typeof t=="string")return t;if(!Fq||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw Ku(E4)}}s(l9e,"checkIsSecretKey");function Lq(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(Lq,"fromBase64");function p0e(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}s(p0e,"toBase64");function Ku(t){var e=[].slice.call(arguments,1),r=f0e.format.bind(f0e,t).apply(null,e);return new TypeError(r)}s(Ku,"typeError");function u9e(t){return hx.isBuffer(t)||typeof t=="string"}s(u9e,"bufferOrString");function I4(t){return u9e(t)||(t=JSON.stringify(t)),t}s(I4,"normalizeInput");function m0e(t){return s(function(r,n){l9e(n),r=I4(r);var o=Ml.createHmac("sha"+t,n),a=(o.update(r),o.digest("base64"));return Lq(a)},"sign")}s(m0e,"createHmacSigner");var Pq,f9e="timingSafeEqual"in Ml?s(function(e,r){return e.byteLength!==r.byteLength?!1:Ml.timingSafeEqual(e,r)},"timingSafeEqual"):s(function(e,r){return Pq||(Pq=u0e()),Pq(e,r)},"timingSafeEqual");function d9e(t){return s(function(r,n,o){var a=m0e(t)(r,o);return f9e(hx.from(n),hx.from(a))},"verify")}s(d9e,"createHmacVerifier");function g0e(t){return s(function(r,n){A0e(n),r=I4(r);var o=Ml.createSign("RSA-SHA"+t),a=(o.update(r),o.sign(n,"base64"));return Lq(a)},"sign")}s(g0e,"createKeySigner");function y0e(t){return s(function(r,n,o){h0e(o),r=I4(r),n=p0e(n);var a=Ml.createVerify("RSA-SHA"+t);return a.update(r),a.verify(o,n,"base64")},"verify")}s(y0e,"createKeyVerifier");function h9e(t){return s(function(r,n){A0e(n),r=I4(r);var o=Ml.createSign("RSA-SHA"+t),a=(o.update(r),o.sign({key:n,padding:Ml.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ml.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return Lq(a)},"sign")}s(h9e,"createPSSKeySigner");function A9e(t){return s(function(r,n,o){h0e(o),r=I4(r),n=p0e(n);var a=Ml.createVerify("RSA-SHA"+t);return a.update(r),a.verify({key:o,padding:Ml.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ml.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")},"verify")}s(A9e,"createPSSKeyVerifier");function p9e(t){var e=g0e(t);return s(function(){var n=e.apply(null,arguments);return n=d0e.derToJose(n,"ES"+t),n},"sign")}s(p9e,"createECDSASigner");function m9e(t){var e=y0e(t);return s(function(n,o,a){o=d0e.joseToDer(o,"ES"+t).toString("base64");var c=e(n,o,a);return c},"verify")}s(m9e,"createECDSAVerifer");function g9e(){return s(function(){return""},"sign")}s(g9e,"createNoneSigner");function y9e(){return s(function(e,r){return r===""},"verify")}s(y9e,"createNoneVerifier");C0e.exports=s(function(e){var r={hs:m0e,rs:g0e,ps:h9e,es:p9e,none:g9e},n={hs:d9e,rs:y0e,ps:A9e,es:m9e,none:y9e},o=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!o)throw Ku(a9e,e);var a=(o[1]||o[3]).toLowerCase(),c=o[2];return{sign:r[a](c),verify:n[a](c)}},"jwa")});var Oq=q((zRt,E0e)=>{f();var C9e=require("buffer").Buffer;E0e.exports=s(function(e){return typeof e=="string"?e:typeof e=="number"||C9e.isBuffer(e)?e.toString():JSON.stringify(e)},"toString")});var _0e=q((JRt,T0e)=>{f();var E9e=fx().Buffer,I0e=Dq(),I9e=Mq(),x9e=require("stream"),x0e=Oq(),Uq=require("util");function v0e(t,e){return E9e.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}s(v0e,"base64url");function v9e(t,e,r){r=r||"utf8";var n=v0e(x0e(t),"binary"),o=v0e(x0e(e),r);return Uq.format("%s.%s",n,o)}s(v9e,"jwsSecuredInput");function b0e(t){var e=t.header,r=t.payload,n=t.secret||t.privateKey,o=t.encoding,a=I9e(e.alg),c=v9e(e,r,o),l=a.sign(c,n);return Uq.format("%s.%s",c,l)}s(b0e,"jwsSign");function P9(t){var e=t.secret||t.privateKey||t.key,r=new I0e(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new I0e(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s(P9,"SignStream");Uq.inherits(P9,x9e);P9.prototype.sign=s(function(){try{var e=b0e({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}},"sign");P9.sign=b0e;T0e.exports=P9});var F0e=q((e9t,P0e)=>{f();var S0e=fx().Buffer,w0e=Dq(),b9e=Mq(),T9e=require("stream"),B0e=Oq(),_9e=require("util"),w9e=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function S9e(t){return Object.prototype.toString.call(t)==="[object Object]"}s(S9e,"isObject");function B9e(t){if(S9e(t))return t;try{return JSON.parse(t)}catch{return}}s(B9e,"safeJsonParse");function R0e(t){var e=t.split(".",1)[0];return B9e(S0e.from(e,"base64").toString("binary"))}s(R0e,"headerFromJWS");function R9e(t){return t.split(".",2).join(".")}s(R9e,"securedInputFromJWS");function k0e(t){return t.split(".")[2]}s(k0e,"signatureFromJWS");function k9e(t,e){e=e||"utf8";var r=t.split(".")[1];return S0e.from(r,"base64").toString(e)}s(k9e,"payloadFromJWS");function D0e(t){return w9e.test(t)&&!!R0e(t)}s(D0e,"isValidJws");function N0e(t,e,r){if(!e){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}t=B0e(t);var o=k0e(t),a=R9e(t),c=b9e(e);return c.verify(a,o,r)}s(N0e,"jwsVerify");function Q0e(t,e){if(e=e||{},t=B0e(t),!D0e(t))return null;var r=R0e(t);if(!r)return null;var n=k9e(t);return(r.typ==="JWT"||e.json)&&(n=JSON.parse(n,e.encoding)),{header:r,payload:n,signature:k0e(t)}}s(Q0e,"jwsDecode");function Ax(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new w0e(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new w0e(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s(Ax,"VerifyStream");_9e.inherits(Ax,T9e);Ax.prototype.verify=s(function(){try{var e=N0e(this.signature.buffer,this.algorithm,this.key.buffer),r=Q0e(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},"verify");Ax.decode=Q0e;Ax.isValid=D0e;Ax.verify=N0e;P0e.exports=Ax});var L9=q(mg=>{f();var L0e=_0e(),F9=F0e(),D9e=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];mg.ALGORITHMS=D9e;mg.sign=L0e.sign;mg.verify=F9.verify;mg.decode=F9.decode;mg.isValid=F9.isValid;mg.createSign=s(function(e){return new L0e(e)},"createSign");mg.createVerify=s(function(e){return new F9(e)},"createVerify")});var Hq=q((s9t,M0e)=>{f();var N9e=L9();M0e.exports=function(t,e){e=e||{};var r=N9e.decode(t,e);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var o=JSON.parse(n);o!==null&&typeof o=="object"&&(n=o)}catch{}return e.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var x4=q((c9t,O0e)=>{f();var M9=s(function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)},"JsonWebTokenError");M9.prototype=Object.create(Error.prototype);M9.prototype.constructor=M9;O0e.exports=M9});var qq=q((f9t,H0e)=>{f();var U0e=x4(),O9=s(function(t,e){U0e.call(this,t),this.name="NotBeforeError",this.date=e},"NotBeforeError");O9.prototype=Object.create(U0e.prototype);O9.prototype.constructor=O9;H0e.exports=O9});var Gq=q((A9t,G0e)=>{f();var q0e=x4(),U9=s(function(t,e){q0e.call(this,t),this.name="TokenExpiredError",this.expiredAt=e},"TokenExpiredError");U9.prototype=Object.create(q0e.prototype);U9.prototype.constructor=U9;G0e.exports=U9});var Vq=q((g9t,V0e)=>{f();var px=1e3,mx=px*60,gx=mx*60,LC=gx*24,Q9e=LC*7,P9e=LC*365.25;V0e.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return F9e(t);if(r==="number"&&isFinite(t))return e.long?M9e(t):L9e(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function F9e(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*P9e;case"weeks":case"week":case"w":return r*Q9e;case"days":case"day":case"d":return r*LC;case"hours":case"hour":case"hrs":case"hr":case"h":return r*gx;case"minutes":case"minute":case"mins":case"min":case"m":return r*mx;case"seconds":case"second":case"secs":case"sec":case"s":return r*px;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(F9e,"parse");function L9e(t){var e=Math.abs(t);return e>=LC?Math.round(t/LC)+"d":e>=gx?Math.round(t/gx)+"h":e>=mx?Math.round(t/mx)+"m":e>=px?Math.round(t/px)+"s":t+"ms"}s(L9e,"fmtShort");function M9e(t){var e=Math.abs(t);return e>=LC?H9(t,e,LC,"day"):e>=gx?H9(t,e,gx,"hour"):e>=mx?H9(t,e,mx,"minute"):e>=px?H9(t,e,px,"second"):t+" ms"}s(M9e,"fmtLong");function H9(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}s(H9,"plural")});var Wq=q((E9t,W0e)=>{f();var O9e=Vq();W0e.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var n=O9e(t);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof t=="number"?r+t:void 0}});var v4=q((x9t,$0e)=>{"use strict";f();var U9e="2.0.0",H9e=Number.MAX_SAFE_INTEGER||9007199254740991,q9e=16,G9e=250,V9e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];$0e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:q9e,MAX_SAFE_BUILD_LENGTH:G9e,MAX_SAFE_INTEGER:H9e,RELEASE_TYPES:V9e,SEMVER_SPEC_VERSION:U9e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var b4=q((b9t,Y0e)=>{"use strict";f();var W9e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Y0e.exports=W9e});var yx=q((kd,z0e)=>{"use strict";f();var{MAX_SAFE_COMPONENT_LENGTH:$q,MAX_SAFE_BUILD_LENGTH:$9e,MAX_LENGTH:Y9e}=v4(),z9e=b4();kd=z0e.exports={};var j9e=kd.re=[],K9e=kd.safeRe=[],Qt=kd.src=[],J9e=kd.safeSrc=[],Pt=kd.t={},X9e=0,Yq="[a-zA-Z0-9-]",Z9e=[["\\s",1],["\\d",Y9e],[Yq,$9e]],e7e=s(t=>{for(let[e,r]of Z9e)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},"makeSafeRegex"),$r=s((t,e,r)=>{let n=e7e(e),o=X9e++;z9e(t,o,e),Pt[t]=o,Qt[o]=e,J9e[o]=n,j9e[o]=new RegExp(e,r?"g":void 0),K9e[o]=new RegExp(n,r?"g":void 0)},"createToken");$r("NUMERICIDENTIFIER","0|[1-9]\\d*");$r("NUMERICIDENTIFIERLOOSE","\\d+");$r("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Yq}*`);$r("MAINVERSION",`(${Qt[Pt.NUMERICIDENTIFIER]})\\.(${Qt[Pt.NUMERICIDENTIFIER]})\\.(${Qt[Pt.NUMERICIDENTIFIER]})`);$r("MAINVERSIONLOOSE",`(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})\\.(${Qt[Pt.NUMERICIDENTIFIERLOOSE]})`);$r("PRERELEASEIDENTIFIER",`(?:${Qt[Pt.NONNUMERICIDENTIFIER]}|${Qt[Pt.NUMERICIDENTIFIER]})`);$r("PRERELEASEIDENTIFIERLOOSE",`(?:${Qt[Pt.NONNUMERICIDENTIFIER]}|${Qt[Pt.NUMERICIDENTIFIERLOOSE]})`);$r("PRERELEASE",`(?:-(${Qt[Pt.PRERELEASEIDENTIFIER]}(?:\\.${Qt[Pt.PRERELEASEIDENTIFIER]})*))`);$r("PRERELEASELOOSE",`(?:-?(${Qt[Pt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Qt[Pt.PRERELEASEIDENTIFIERLOOSE]})*))`);$r("BUILDIDENTIFIER",`${Yq}+`);$r("BUILD",`(?:\\+(${Qt[Pt.BUILDIDENTIFIER]}(?:\\.${Qt[Pt.BUILDIDENTIFIER]})*))`);$r("FULLPLAIN",`v?${Qt[Pt.MAINVERSION]}${Qt[Pt.PRERELEASE]}?${Qt[Pt.BUILD]}?`);$r("FULL",`^${Qt[Pt.FULLPLAIN]}$`);$r("LOOSEPLAIN",`[v=\\s]*${Qt[Pt.MAINVERSIONLOOSE]}${Qt[Pt.PRERELEASELOOSE]}?${Qt[Pt.BUILD]}?`);$r("LOOSE",`^${Qt[Pt.LOOSEPLAIN]}$`);$r("GTLT","((?:<|>)?=?)");$r("XRANGEIDENTIFIERLOOSE",`${Qt[Pt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);$r("XRANGEIDENTIFIER",`${Qt[Pt.NUMERICIDENTIFIER]}|x|X|\\*`);$r("XRANGEPLAIN",`[v=\\s]*(${Qt[Pt.XRANGEIDENTIFIER]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIER]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIER]})(?:${Qt[Pt.PRERELEASE]})?${Qt[Pt.BUILD]}?)?)?`);$r("XRANGEPLAINLOOSE",`[v=\\s]*(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Qt[Pt.XRANGEIDENTIFIERLOOSE]})(?:${Qt[Pt.PRERELEASELOOSE]})?${Qt[Pt.BUILD]}?)?)?`);$r("XRANGE",`^${Qt[Pt.GTLT]}\\s*${Qt[Pt.XRANGEPLAIN]}$`);$r("XRANGELOOSE",`^${Qt[Pt.GTLT]}\\s*${Qt[Pt.XRANGEPLAINLOOSE]}$`);$r("COERCEPLAIN",`(^|[^\\d])(\\d{1,${$q}})(?:\\.(\\d{1,${$q}}))?(?:\\.(\\d{1,${$q}}))?`);$r("COERCE",`${Qt[Pt.COERCEPLAIN]}(?:$|[^\\d])`);$r("COERCEFULL",Qt[Pt.COERCEPLAIN]+`(?:${Qt[Pt.PRERELEASE]})?(?:${Qt[Pt.BUILD]})?(?:$|[^\\d])`);$r("COERCERTL",Qt[Pt.COERCE],!0);$r("COERCERTLFULL",Qt[Pt.COERCEFULL],!0);$r("LONETILDE","(?:~>?)");$r("TILDETRIM",`(\\s*)${Qt[Pt.LONETILDE]}\\s+`,!0);kd.tildeTrimReplace="$1~";$r("TILDE",`^${Qt[Pt.LONETILDE]}${Qt[Pt.XRANGEPLAIN]}$`);$r("TILDELOOSE",`^${Qt[Pt.LONETILDE]}${Qt[Pt.XRANGEPLAINLOOSE]}$`);$r("LONECARET","(?:\\^)");$r("CARETTRIM",`(\\s*)${Qt[Pt.LONECARET]}\\s+`,!0);kd.caretTrimReplace="$1^";$r("CARET",`^${Qt[Pt.LONECARET]}${Qt[Pt.XRANGEPLAIN]}$`);$r("CARETLOOSE",`^${Qt[Pt.LONECARET]}${Qt[Pt.XRANGEPLAINLOOSE]}$`);$r("COMPARATORLOOSE",`^${Qt[Pt.GTLT]}\\s*(${Qt[Pt.LOOSEPLAIN]})$|^$`);$r("COMPARATOR",`^${Qt[Pt.GTLT]}\\s*(${Qt[Pt.FULLPLAIN]})$|^$`);$r("COMPARATORTRIM",`(\\s*)${Qt[Pt.GTLT]}\\s*(${Qt[Pt.LOOSEPLAIN]}|${Qt[Pt.XRANGEPLAIN]})`,!0);kd.comparatorTrimReplace="$1$2$3";$r("HYPHENRANGE",`^\\s*(${Qt[Pt.XRANGEPLAIN]})\\s+-\\s+(${Qt[Pt.XRANGEPLAIN]})\\s*$`);$r("HYPHENRANGELOOSE",`^\\s*(${Qt[Pt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Qt[Pt.XRANGEPLAINLOOSE]})\\s*$`);$r("STAR","(<|>)?=?\\s*\\*");$r("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");$r("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var q9=q((S9t,j0e)=>{"use strict";f();var t7e=Object.freeze({loose:!0}),r7e=Object.freeze({}),n7e=s(t=>t?typeof t!="object"?t7e:t:r7e,"parseOptions");j0e.exports=n7e});var zq=q((k9t,X0e)=>{"use strict";f();var K0e=/^[0-9]+$/,J0e=s((t,e)=>{let r=K0e.test(t),n=K0e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},"compareIdentifiers"),i7e=s((t,e)=>J0e(e,t),"rcompareIdentifiers");X0e.exports={compareIdentifiers:J0e,rcompareIdentifiers:i7e}});var za=q((Q9t,ece)=>{"use strict";f();var G9=b4(),{MAX_LENGTH:Z0e,MAX_SAFE_INTEGER:V9}=v4(),{safeRe:W9,t:$9}=yx(),o7e=q9(),{compareIdentifiers:Cx}=zq(),jq=class t{static{s(this,"SemVer")}constructor(e,r){if(r=o7e(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Z0e)throw new TypeError(`version is longer than ${Z0e} characters`);G9("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?W9[$9.LOOSE]:W9[$9.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>V9||this.major<0)throw new TypeError("Invalid major version");if(this.minor>V9||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>V9||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<V9)return a}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(G9("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Cx(this.major,e.major)||Cx(this.minor,e.minor)||Cx(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(G9("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Cx(n,o)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(G9("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Cx(n,o)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let o=`-${r}`.match(this.options.loose?W9[$9.PRERELEASELOOSE]:W9[$9.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let a=[r,o];n===!1&&(a=[r]),Cx(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};ece.exports=jq});var MC=q((L9t,rce)=>{"use strict";f();var tce=za(),s7e=s((t,e,r=!1)=>{if(t instanceof tce)return t;try{return new tce(t,e)}catch(n){if(!r)return null;throw n}},"parse");rce.exports=s7e});var ice=q((U9t,nce)=>{"use strict";f();var a7e=MC(),c7e=s((t,e)=>{let r=a7e(t,e);return r?r.version:null},"valid");nce.exports=c7e});var sce=q((G9t,oce)=>{"use strict";f();var l7e=MC(),u7e=s((t,e)=>{let r=l7e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},"clean");oce.exports=u7e});var lce=q(($9t,cce)=>{"use strict";f();var ace=za(),f7e=s((t,e,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new ace(t instanceof ace?t.version:t,r).inc(e,n,o).version}catch{return null}},"inc");cce.exports=f7e});var dce=q((j9t,fce)=>{"use strict";f();var uce=MC(),d7e=s((t,e)=>{let r=uce(t,null,!0),n=uce(e,null,!0),o=r.compare(n);if(o===0)return null;let a=o>0,c=a?r:n,l=a?n:r,u=!!c.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(c)===0)return l.minor&&!l.patch?"minor":"patch"}let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"},"diff");fce.exports=d7e});var Ace=q((X9t,hce)=>{"use strict";f();var h7e=za(),A7e=s((t,e)=>new h7e(t,e).major,"major");hce.exports=A7e});var mce=q((t7t,pce)=>{"use strict";f();var p7e=za(),m7e=s((t,e)=>new p7e(t,e).minor,"minor");pce.exports=m7e});var yce=q((i7t,gce)=>{"use strict";f();var g7e=za(),y7e=s((t,e)=>new g7e(t,e).patch,"patch");gce.exports=y7e});var Ece=q((a7t,Cce)=>{"use strict";f();var C7e=MC(),E7e=s((t,e)=>{let r=C7e(t,e);return r&&r.prerelease.length?r.prerelease:null},"prerelease");Cce.exports=E7e});var Ol=q((u7t,xce)=>{"use strict";f();var Ice=za(),I7e=s((t,e,r)=>new Ice(t,r).compare(new Ice(e,r)),"compare");xce.exports=I7e});var bce=q((h7t,vce)=>{"use strict";f();var x7e=Ol(),v7e=s((t,e,r)=>x7e(e,t,r),"rcompare");vce.exports=v7e});var _ce=q((m7t,Tce)=>{"use strict";f();var b7e=Ol(),T7e=s((t,e)=>b7e(t,e,!0),"compareLoose");Tce.exports=T7e});var Y9=q((C7t,Sce)=>{"use strict";f();var wce=za(),_7e=s((t,e,r)=>{let n=new wce(t,r),o=new wce(e,r);return n.compare(o)||n.compareBuild(o)},"compareBuild");Sce.exports=_7e});var Rce=q((x7t,Bce)=>{"use strict";f();var w7e=Y9(),S7e=s((t,e)=>t.sort((r,n)=>w7e(r,n,e)),"sort");Bce.exports=S7e});var Dce=q((T7t,kce)=>{"use strict";f();var B7e=Y9(),R7e=s((t,e)=>t.sort((r,n)=>B7e(n,r,e)),"rsort");kce.exports=R7e});var T4=q((S7t,Nce)=>{"use strict";f();var k7e=Ol(),D7e=s((t,e,r)=>k7e(t,e,r)>0,"gt");Nce.exports=D7e});var z9=q((k7t,Qce)=>{"use strict";f();var N7e=Ol(),Q7e=s((t,e,r)=>N7e(t,e,r)<0,"lt");Qce.exports=Q7e});var Kq=q((Q7t,Pce)=>{"use strict";f();var P7e=Ol(),F7e=s((t,e,r)=>P7e(t,e,r)===0,"eq");Pce.exports=F7e});var Jq=q((L7t,Fce)=>{"use strict";f();var L7e=Ol(),M7e=s((t,e,r)=>L7e(t,e,r)!==0,"neq");Fce.exports=M7e});var j9=q((U7t,Lce)=>{"use strict";f();var O7e=Ol(),U7e=s((t,e,r)=>O7e(t,e,r)>=0,"gte");Lce.exports=U7e});var K9=q((G7t,Mce)=>{"use strict";f();var H7e=Ol(),q7e=s((t,e,r)=>H7e(t,e,r)<=0,"lte");Mce.exports=q7e});var Xq=q(($7t,Oce)=>{"use strict";f();var G7e=Kq(),V7e=Jq(),W7e=T4(),$7e=j9(),Y7e=z9(),z7e=K9(),j7e=s((t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return G7e(t,r,n);case"!=":return V7e(t,r,n);case">":return W7e(t,r,n);case">=":return $7e(t,r,n);case"<":return Y7e(t,r,n);case"<=":return z7e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");Oce.exports=j7e});var Hce=q((j7t,Uce)=>{"use strict";f();var K7e=za(),J7e=MC(),{safeRe:J9,t:X9}=yx(),X7e=s((t,e)=>{if(t instanceof K7e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?J9[X9.COERCEFULL]:J9[X9.COERCE]);else{let u=e.includePrerelease?J9[X9.COERCERTLFULL]:J9[X9.COERCERTL],d;for(;(d=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),u.lastIndex=d.index+d[1].length+d[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],o=r[3]||"0",a=r[4]||"0",c=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return J7e(`${n}.${o}.${a}${c}${l}`,e)},"coerce");Uce.exports=X7e});var Gce=q((X7t,qce)=>{"use strict";f();var Zq=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,r)}return this}};qce.exports=Zq});var Ul=q((tkt,Yce)=>{"use strict";f();var Z7e=/\s+/g,eG=class t{static{s(this,"Range")}constructor(e,r){if(r=tke(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof tG)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(Z7e," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Wce(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&cke(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&ske)|(this.options.loose&&ake))+":"+e,o=Vce.get(n);if(o)return o;let a=this.options.loose,c=a?tc[y0.HYPHENRANGELOOSE]:tc[y0.HYPHENRANGE];e=e.replace(c,yke(this.options.includePrerelease)),Ki("hyphen replace",e),e=e.replace(tc[y0.COMPARATORTRIM],nke),Ki("comparator trim",e),e=e.replace(tc[y0.TILDETRIM],ike),Ki("tilde trim",e),e=e.replace(tc[y0.CARETTRIM],oke),Ki("caret trim",e);let l=e.split(" ").map(A=>lke(A,this.options)).join(" ").split(/\s+/).map(A=>gke(A,this.options));a&&(l=l.filter(A=>(Ki("loose invalid filter",A,this.options),!!A.match(tc[y0.COMPARATORLOOSE])))),Ki("range list",l);let u=new Map,d=l.map(A=>new tG(A,this.options));for(let A of d){if(Wce(A))return[A];u.set(A.value,A)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Vce.set(n,h),h}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>$ce(n,r)&&e.set.some(o=>$ce(o,r)&&n.every(a=>o.every(c=>a.intersects(c,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new rke(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Cke(this.set[r],e,this.options))return!0;return!1}};Yce.exports=eG;var eke=Gce(),Vce=new eke,tke=q9(),tG=_4(),Ki=b4(),rke=za(),{safeRe:tc,t:y0,comparatorTrimReplace:nke,tildeTrimReplace:ike,caretTrimReplace:oke}=yx(),{FLAG_INCLUDE_PRERELEASE:ske,FLAG_LOOSE:ake}=v4(),Wce=s(t=>t.value==="<0.0.0-0","isNullSet"),cke=s(t=>t.value==="","isAny"),$ce=s((t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(a=>o.intersects(a,e)),o=n.pop();return r},"isSatisfiable"),lke=s((t,e)=>(Ki("comp",t,e),t=dke(t,e),Ki("caret",t),t=uke(t,e),Ki("tildes",t),t=Ake(t,e),Ki("xrange",t),t=mke(t,e),Ki("stars",t),t),"parseComparator"),C0=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),uke=s((t,e)=>t.trim().split(/\s+/).map(r=>fke(r,e)).join(" "),"replaceTildes"),fke=s((t,e)=>{let r=e.loose?tc[y0.TILDELOOSE]:tc[y0.TILDE];return t.replace(r,(n,o,a,c,l)=>{Ki("tilde",t,n,o,a,c,l);let u;return C0(o)?u="":C0(a)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:C0(c)?u=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:l?(Ki("replaceTilde pr",l),u=`>=${o}.${a}.${c}-${l} <${o}.${+a+1}.0-0`):u=`>=${o}.${a}.${c} <${o}.${+a+1}.0-0`,Ki("tilde return",u),u})},"replaceTilde"),dke=s((t,e)=>t.trim().split(/\s+/).map(r=>hke(r,e)).join(" "),"replaceCarets"),hke=s((t,e)=>{Ki("caret",t,e);let r=e.loose?tc[y0.CARETLOOSE]:tc[y0.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,a,c,l,u)=>{Ki("caret",t,o,a,c,l,u);let d;return C0(a)?d="":C0(c)?d=`>=${a}.0.0${n} <${+a+1}.0.0-0`:C0(l)?a==="0"?d=`>=${a}.${c}.0${n} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.0${n} <${+a+1}.0.0-0`:u?(Ki("replaceCaret pr",u),a==="0"?c==="0"?d=`>=${a}.${c}.${l}-${u} <${a}.${c}.${+l+1}-0`:d=`>=${a}.${c}.${l}-${u} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.${l}-${u} <${+a+1}.0.0-0`):(Ki("no pr"),a==="0"?c==="0"?d=`>=${a}.${c}.${l}${n} <${a}.${c}.${+l+1}-0`:d=`>=${a}.${c}.${l}${n} <${a}.${+c+1}.0-0`:d=`>=${a}.${c}.${l} <${+a+1}.0.0-0`),Ki("caret return",d),d})},"replaceCaret"),Ake=s((t,e)=>(Ki("replaceXRanges",t,e),t.split(/\s+/).map(r=>pke(r,e)).join(" ")),"replaceXRanges"),pke=s((t,e)=>{t=t.trim();let r=e.loose?tc[y0.XRANGELOOSE]:tc[y0.XRANGE];return t.replace(r,(n,o,a,c,l,u)=>{Ki("xRange",t,n,o,a,c,l,u);let d=C0(a),h=d||C0(c),A=h||C0(l),p=A;return o==="="&&p&&(o=""),u=e.includePrerelease?"-0":"",d?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&p?(h&&(c=0),l=0,o===">"?(o=">=",h?(a=+a+1,c=0,l=0):(c=+c+1,l=0)):o==="<="&&(o="<",h?a=+a+1:c=+c+1),o==="<"&&(u="-0"),n=`${o+a}.${c}.${l}${u}`):h?n=`>=${a}.0.0${u} <${+a+1}.0.0-0`:A&&(n=`>=${a}.${c}.0${u} <${a}.${+c+1}.0-0`),Ki("xRange return",n),n})},"replaceXRange"),mke=s((t,e)=>(Ki("replaceStars",t,e),t.trim().replace(tc[y0.STAR],"")),"replaceStars"),gke=s((t,e)=>(Ki("replaceGTE0",t,e),t.trim().replace(tc[e.includePrerelease?y0.GTE0PRE:y0.GTE0],"")),"replaceGTE0"),yke=s(t=>(e,r,n,o,a,c,l,u,d,h,A,p)=>(C0(n)?r="":C0(o)?r=`>=${n}.0.0${t?"-0":""}`:C0(a)?r=`>=${n}.${o}.0${t?"-0":""}`:c?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,C0(d)?u="":C0(h)?u=`<${+d+1}.0.0-0`:C0(A)?u=`<${d}.${+h+1}.0-0`:p?u=`<=${d}.${h}.${A}-${p}`:t?u=`<${d}.${h}.${+A+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),"hyphenReplace"),Cke=s((t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Ki(t[n].semver),t[n].semver!==tG.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0},"testSet")});var _4=q((ikt,Zce)=>{"use strict";f();var w4=Symbol("SemVer ANY"),iG=class t{static{s(this,"Comparator")}static get ANY(){return w4}constructor(e,r){if(r=zce(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),nG("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===w4?this.value="":this.value=this.operator+this.semver.version,nG("comp",this)}parse(e){let r=this.options.loose?jce[Kce.COMPARATORLOOSE]:jce[Kce.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Jce(n[2],this.options.loose):this.semver=w4}toString(){return this.value}test(e){if(nG("Comparator.test",e,this.options.loose),this.semver===w4||e===w4)return!0;if(typeof e=="string")try{e=new Jce(e,this.options)}catch{return!1}return rG(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Xce(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Xce(this.value,r).test(e.semver):(r=zce(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||rG(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||rG(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Zce.exports=iG;var zce=q9(),{safeRe:jce,t:Kce}=yx(),rG=Xq(),nG=b4(),Jce=za(),Xce=Ul()});var S4=q((akt,ele)=>{"use strict";f();var Eke=Ul(),Ike=s((t,e,r)=>{try{e=new Eke(e,r)}catch{return!1}return e.test(t)},"satisfies");ele.exports=Ike});var rle=q((ukt,tle)=>{"use strict";f();var xke=Ul(),vke=s((t,e)=>new xke(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");tle.exports=vke});var ile=q((hkt,nle)=>{"use strict";f();var bke=za(),Tke=Ul(),_ke=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new Tke(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new bke(n,r))}),n},"maxSatisfying");nle.exports=_ke});var sle=q((mkt,ole)=>{"use strict";f();var wke=za(),Ske=Ul(),Bke=s((t,e,r)=>{let n=null,o=null,a=null;try{a=new Ske(e,r)}catch{return null}return t.forEach(c=>{a.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new wke(n,r))}),n},"minSatisfying");ole.exports=Bke});var lle=q((Ckt,cle)=>{"use strict";f();var oG=za(),Rke=Ul(),ale=T4(),kke=s((t,e)=>{t=new Rke(t,e);let r=new oG("0.0.0");if(t.test(r)||(r=new oG("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],a=null;o.forEach(c=>{let l=new oG(c.semver.version);switch(c.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!a||ale(l,a))&&(a=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),a&&(!r||ale(r,a))&&(r=a)}return r&&t.test(r)?r:null},"minVersion");cle.exports=kke});var fle=q((xkt,ule)=>{"use strict";f();var Dke=Ul(),Nke=s((t,e)=>{try{return new Dke(t,e).range||"*"}catch{return null}},"validRange");ule.exports=Nke});var Z9=q((Tkt,ple)=>{"use strict";f();var Qke=za(),Ale=_4(),{ANY:Pke}=Ale,Fke=Ul(),Lke=S4(),dle=T4(),hle=z9(),Mke=K9(),Oke=j9(),Uke=s((t,e,r,n)=>{t=new Qke(t,n),e=new Fke(e,n);let o,a,c,l,u;switch(r){case">":o=dle,a=Mke,c=hle,l=">",u=">=";break;case"<":o=hle,a=Oke,c=dle,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Lke(t,e,n))return!1;for(let d=0;d<e.set.length;++d){let h=e.set[d],A=null,p=null;if(h.forEach(g=>{g.semver===Pke&&(g=new Ale(">=0.0.0")),A=A||g,p=p||g,o(g.semver,A.semver,n)?A=g:c(g.semver,p.semver,n)&&(p=g)}),A.operator===l||A.operator===u||(!p.operator||p.operator===l)&&a(t,p.semver))return!1;if(p.operator===u&&c(t,p.semver))return!1}return!0},"outside");ple.exports=Uke});var gle=q((Skt,mle)=>{"use strict";f();var Hke=Z9(),qke=s((t,e,r)=>Hke(t,e,">",r),"gtr");mle.exports=qke});var Cle=q((kkt,yle)=>{"use strict";f();var Gke=Z9(),Vke=s((t,e,r)=>Gke(t,e,"<",r),"ltr");yle.exports=Vke});var xle=q((Qkt,Ile)=>{"use strict";f();var Ele=Ul(),Wke=s((t,e,r)=>(t=new Ele(t,r),e=new Ele(e,r),t.intersects(e,r)),"intersects");Ile.exports=Wke});var ble=q((Lkt,vle)=>{"use strict";f();var $ke=S4(),Yke=Ol();vle.exports=(t,e,r)=>{let n=[],o=null,a=null,c=t.sort((h,A)=>Yke(h,A,r));for(let h of c)$ke(h,e,r)?(a=h,o||(o=h)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);let l=[];for(let[h,A]of n)h===A?l.push(h):!A&&h===c[0]?l.push("*"):A?h===c[0]?l.push(`<=${A}`):l.push(`${h} - ${A}`):l.push(`>=${h}`);let u=l.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return u.length<d.length?u:e}});var Rle=q((Okt,Ble)=>{"use strict";f();var Tle=Ul(),aG=_4(),{ANY:sG}=aG,B4=S4(),cG=Ol(),zke=s((t,e,r={})=>{if(t===e)return!0;t=new Tle(t,r),e=new Tle(e,r);let n=!1;e:for(let o of t.set){for(let a of e.set){let c=Kke(o,a,r);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},"subset"),jke=[new aG(">=0.0.0-0")],_le=[new aG(">=0.0.0")],Kke=s((t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===sG){if(e.length===1&&e[0].semver===sG)return!0;r.includePrerelease?t=jke:t=_le}if(e.length===1&&e[0].semver===sG){if(r.includePrerelease)return!0;e=_le}let n=new Set,o,a;for(let g of t)g.operator===">"||g.operator===">="?o=wle(o,g,r):g.operator==="<"||g.operator==="<="?a=Sle(a,g,r):n.add(g.semver);if(n.size>1)return null;let c;if(o&&a){if(c=cG(o.semver,a.semver,r),c>0)return null;if(c===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let g of n){if(o&&!B4(g,String(o),r)||a&&!B4(g,String(a),r))return null;for(let E of e)if(!B4(g,String(E),r))return!1;return!0}let l,u,d,h,A=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;A&&A.prerelease.length===1&&a.operator==="<"&&A.prerelease[0]===0&&(A=!1);for(let g of e){if(h=h||g.operator===">"||g.operator===">=",d=d||g.operator==="<"||g.operator==="<=",o){if(p&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===p.major&&g.semver.minor===p.minor&&g.semver.patch===p.patch&&(p=!1),g.operator===">"||g.operator===">="){if(l=wle(o,g,r),l===g&&l!==o)return!1}else if(o.operator===">="&&!B4(o.semver,String(g),r))return!1}if(a){if(A&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===A.major&&g.semver.minor===A.minor&&g.semver.patch===A.patch&&(A=!1),g.operator==="<"||g.operator==="<="){if(u=Sle(a,g,r),u===g&&u!==a)return!1}else if(a.operator==="<="&&!B4(a.semver,String(g),r))return!1}if(!g.operator&&(a||o)&&c!==0)return!1}return!(o&&d&&!a&&c!==0||a&&h&&!o&&c!==0||p||A)},"simpleSubset"),wle=s((t,e,r)=>{if(!t)return e;let n=cG(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),Sle=s((t,e,r)=>{if(!t)return e;let n=cG(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");Ble.exports=zke});var e7=q((qkt,Nle)=>{"use strict";f();var lG=yx(),kle=v4(),Jke=za(),Dle=zq(),Xke=MC(),Zke=ice(),eDe=sce(),tDe=lce(),rDe=dce(),nDe=Ace(),iDe=mce(),oDe=yce(),sDe=Ece(),aDe=Ol(),cDe=bce(),lDe=_ce(),uDe=Y9(),fDe=Rce(),dDe=Dce(),hDe=T4(),ADe=z9(),pDe=Kq(),mDe=Jq(),gDe=j9(),yDe=K9(),CDe=Xq(),EDe=Hce(),IDe=_4(),xDe=Ul(),vDe=S4(),bDe=rle(),TDe=ile(),_De=sle(),wDe=lle(),SDe=fle(),BDe=Z9(),RDe=gle(),kDe=Cle(),DDe=xle(),NDe=ble(),QDe=Rle();Nle.exports={parse:Xke,valid:Zke,clean:eDe,inc:tDe,diff:rDe,major:nDe,minor:iDe,patch:oDe,prerelease:sDe,compare:aDe,rcompare:cDe,compareLoose:lDe,compareBuild:uDe,sort:fDe,rsort:dDe,gt:hDe,lt:ADe,eq:pDe,neq:mDe,gte:gDe,lte:yDe,cmp:CDe,coerce:EDe,Comparator:IDe,Range:xDe,satisfies:vDe,toComparators:bDe,maxSatisfying:TDe,minSatisfying:_De,minVersion:wDe,validRange:SDe,outside:BDe,gtr:RDe,ltr:kDe,intersects:DDe,simplifyRange:NDe,subset:QDe,SemVer:Jke,re:lG.re,src:lG.src,tokens:lG.t,SEMVER_SPEC_VERSION:kle.SEMVER_SPEC_VERSION,RELEASE_TYPES:kle.RELEASE_TYPES,compareIdentifiers:Dle.compareIdentifiers,rcompareIdentifiers:Dle.rcompareIdentifiers}});var Ple=q((Vkt,Qle)=>{f();var PDe=e7();Qle.exports=PDe.satisfies(process.version,">=15.7.0")});var Lle=q(($kt,Fle)=>{f();var FDe=e7();Fle.exports=FDe.satisfies(process.version,">=16.9.0")});var uG=q((zkt,Mle)=>{f();var LDe=Ple(),MDe=Lle(),ODe={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},UDe={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};Mle.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let n=ODe[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(LDe)switch(r){case"ec":let o=e.asymmetricKeyDetails.namedCurve,a=UDe[t];if(o!==a)throw new Error(`"alg" parameter "${t}" requires curve "${a}".`);break;case"rsa-pss":if(MDe){let c=parseInt(t.slice(-3),10),{hashAlgorithm:l,mgf1HashAlgorithm:u,saltLength:d}=e.asymmetricKeyDetails;if(l!==`sha${c}`||u!==l)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(d!==void 0&&d>c>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var fG=q((Kkt,Ole)=>{f();var HDe=e7();Ole.exports=HDe.satisfies(process.version,"^6.12.0 || >=8.0.0")});var qle=q((Xkt,Hle)=>{f();var Li=x4(),qDe=qq(),Ule=Gq(),GDe=Hq(),VDe=Wq(),WDe=uG(),$De=fG(),YDe=L9(),{KeyObject:zDe,createSecretKey:jDe,createPublicKey:KDe}=require("crypto"),dG=["RS256","RS384","RS512"],JDe=["ES256","ES384","ES512"],hG=["RS256","RS384","RS512"],XDe=["HS256","HS384","HS512"];$De&&(dG.splice(dG.length,0,"PS256","PS384","PS512"),hG.splice(hG.length,0,"PS256","PS384","PS512"));Hle.exports=function(t,e,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let o;if(n?o=n:o=s(function(h,A){if(h)throw h;return A},"done"),r.clockTimestamp&&typeof r.clockTimestamp!="number")return o(new Li("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return o(new Li("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return o(new Li("allowInvalidAsymmetricKeyTypes must be a boolean"));let a=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return o(new Li("jwt must be provided"));if(typeof t!="string")return o(new Li("jwt must be a string"));let c=t.split(".");if(c.length!==3)return o(new Li("jwt malformed"));let l;try{l=GDe(t,{complete:!0})}catch(h){return o(h)}if(!l)return o(new Li("invalid token"));let u=l.header,d;if(typeof e=="function"){if(!n)return o(new Li("verify must be called asynchronous if secret or public key is provided as a callback"));d=e}else d=s(function(h,A){return A(null,e)},"getSecret");return d(u,function(h,A){if(h)return o(new Li("error in secret or public key callback: "+h.message));let p=c[2].trim()!=="";if(!p&&A)return o(new Li("jwt signature is required"));if(p&&!A)return o(new Li("secret or public key must be provided"));if(!p&&!r.algorithms)return o(new Li('please specify "none" in "algorithms" to verify unsigned tokens'));if(A!=null&&!(A instanceof zDe))try{A=KDe(A)}catch{try{A=jDe(typeof A=="string"?Buffer.from(A):A)}catch{return o(new Li("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(A.type==="secret"?r.algorithms=XDe:["rsa","rsa-pss"].includes(A.asymmetricKeyType)?r.algorithms=hG:A.asymmetricKeyType==="ec"?r.algorithms=JDe:r.algorithms=dG),r.algorithms.indexOf(l.header.alg)===-1)return o(new Li("invalid algorithm"));if(u.alg.startsWith("HS")&&A.type!=="secret")return o(new Li(`secretOrPublicKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)&&A.type!=="public")return o(new Li(`secretOrPublicKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{WDe(u.alg,A)}catch(v){return o(v)}let g;try{g=YDe.verify(t,l.header.alg,A)}catch(v){return o(v)}if(!g)return o(new Li("invalid signature"));let E=l.payload;if(typeof E.nbf<"u"&&!r.ignoreNotBefore){if(typeof E.nbf!="number")return o(new Li("invalid nbf value"));if(E.nbf>a+(r.clockTolerance||0))return o(new qDe("jwt not active",new Date(E.nbf*1e3)))}if(typeof E.exp<"u"&&!r.ignoreExpiration){if(typeof E.exp!="number")return o(new Li("invalid exp value"));if(a>=E.exp+(r.clockTolerance||0))return o(new Ule("jwt expired",new Date(E.exp*1e3)))}if(r.audience){let v=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(E.aud)?E.aud:[E.aud]).some(function(S){return v.some(function(D){return D instanceof RegExp?D.test(S):D===S})}))return o(new Li("jwt audience invalid. expected: "+v.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&E.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(E.iss)===-1))return o(new Li("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&E.sub!==r.subject)return o(new Li("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&E.jti!==r.jwtid)return o(new Li("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&E.nonce!==r.nonce)return o(new Li("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof E.iat!="number")return o(new Li("iat required when maxAge is specified"));let v=VDe(r.maxAge,E.iat);if(typeof v>"u")return o(new Li('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(a>=v+(r.clockTolerance||0))return o(new Ule("maxAge exceeded",new Date(v*1e3)))}if(r.complete===!0){let v=l.signature;return o(null,{header:u,payload:E,signature:v})}return o(null,E)})}});var zle=q((tDt,Yle)=>{f();var Gle=1/0,Wle=9007199254740991,ZDe=17976931348623157e292,Vle=NaN,eNe="[object Arguments]",tNe="[object Function]",rNe="[object GeneratorFunction]",nNe="[object String]",iNe="[object Symbol]",oNe=/^\s+|\s+$/g,sNe=/^[-+]0x[0-9a-f]+$/i,aNe=/^0b[01]+$/i,cNe=/^0o[0-7]+$/i,lNe=/^(?:0|[1-9]\d*)$/,uNe=parseInt;function fNe(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}s(fNe,"arrayMap");function dNe(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}s(dNe,"baseFindIndex");function hNe(t,e,r){if(e!==e)return dNe(t,ANe,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}s(hNe,"baseIndexOf");function ANe(t){return t!==t}s(ANe,"baseIsNaN");function pNe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}s(pNe,"baseTimes");function mNe(t,e){return fNe(e,function(r){return t[r]})}s(mNe,"baseValues");function gNe(t,e){return function(r){return t(e(r))}}s(gNe,"overArg");var t7=Object.prototype,pG=t7.hasOwnProperty,r7=t7.toString,yNe=t7.propertyIsEnumerable,CNe=gNe(Object.keys,Object),ENe=Math.max;function INe(t,e){var r=$le(t)||_Ne(t)?pNe(t.length,String):[],n=r.length,o=!!n;for(var a in t)(e||pG.call(t,a))&&!(o&&(a=="length"||vNe(a,n)))&&r.push(a);return r}s(INe,"arrayLikeKeys");function xNe(t){if(!bNe(t))return CNe(t);var e=[];for(var r in Object(t))pG.call(t,r)&&r!="constructor"&&e.push(r);return e}s(xNe,"baseKeys");function vNe(t,e){return e=e??Wle,!!e&&(typeof t=="number"||lNe.test(t))&&t>-1&&t%1==0&&t<e}s(vNe,"isIndex");function bNe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||t7;return t===r}s(bNe,"isPrototype");function TNe(t,e,r,n){t=mG(t)?t:FNe(t),r=r&&!n?NNe(r):0;var o=t.length;return r<0&&(r=ENe(o+r,0)),RNe(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&hNe(t,e,r)>-1}s(TNe,"includes");function _Ne(t){return wNe(t)&&pG.call(t,"callee")&&(!yNe.call(t,"callee")||r7.call(t)==eNe)}s(_Ne,"isArguments");var $le=Array.isArray;function mG(t){return t!=null&&BNe(t.length)&&!SNe(t)}s(mG,"isArrayLike");function wNe(t){return gG(t)&&mG(t)}s(wNe,"isArrayLikeObject");function SNe(t){var e=AG(t)?r7.call(t):"";return e==tNe||e==rNe}s(SNe,"isFunction");function BNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wle}s(BNe,"isLength");function AG(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(AG,"isObject");function gG(t){return!!t&&typeof t=="object"}s(gG,"isObjectLike");function RNe(t){return typeof t=="string"||!$le(t)&&gG(t)&&r7.call(t)==nNe}s(RNe,"isString");function kNe(t){return typeof t=="symbol"||gG(t)&&r7.call(t)==iNe}s(kNe,"isSymbol");function DNe(t){if(!t)return t===0?t:0;if(t=QNe(t),t===Gle||t===-Gle){var e=t<0?-1:1;return e*ZDe}return t===t?t:0}s(DNe,"toFinite");function NNe(t){var e=DNe(t),r=e%1;return e===e?r?e-r:e:0}s(NNe,"toInteger");function QNe(t){if(typeof t=="number")return t;if(kNe(t))return Vle;if(AG(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=AG(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(oNe,"");var r=aNe.test(t);return r||cNe.test(t)?uNe(t.slice(2),r?2:8):sNe.test(t)?Vle:+t}s(QNe,"toNumber");function PNe(t){return mG(t)?INe(t):xNe(t)}s(PNe,"keys");function FNe(t){return t?mNe(t,PNe(t)):[]}s(FNe,"values");Yle.exports=TNe});var Kle=q((iDt,jle)=>{f();var LNe="[object Boolean]",MNe=Object.prototype,ONe=MNe.toString;function UNe(t){return t===!0||t===!1||HNe(t)&&ONe.call(t)==LNe}s(UNe,"isBoolean");function HNe(t){return!!t&&typeof t=="object"}s(HNe,"isObjectLike");jle.exports=UNe});var tue=q((aDt,eue)=>{f();var Jle=1/0,qNe=17976931348623157e292,Xle=NaN,GNe="[object Symbol]",VNe=/^\s+|\s+$/g,WNe=/^[-+]0x[0-9a-f]+$/i,$Ne=/^0b[01]+$/i,YNe=/^0o[0-7]+$/i,zNe=parseInt,jNe=Object.prototype,KNe=jNe.toString;function JNe(t){return typeof t=="number"&&t==tQe(t)}s(JNe,"isInteger");function Zle(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(Zle,"isObject");function XNe(t){return!!t&&typeof t=="object"}s(XNe,"isObjectLike");function ZNe(t){return typeof t=="symbol"||XNe(t)&&KNe.call(t)==GNe}s(ZNe,"isSymbol");function eQe(t){if(!t)return t===0?t:0;if(t=rQe(t),t===Jle||t===-Jle){var e=t<0?-1:1;return e*qNe}return t===t?t:0}s(eQe,"toFinite");function tQe(t){var e=eQe(t),r=e%1;return e===e?r?e-r:e:0}s(tQe,"toInteger");function rQe(t){if(typeof t=="number")return t;if(ZNe(t))return Xle;if(Zle(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Zle(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(VNe,"");var r=$Ne.test(t);return r||YNe.test(t)?zNe(t.slice(2),r?2:8):WNe.test(t)?Xle:+t}s(rQe,"toNumber");eue.exports=JNe});var nue=q((uDt,rue)=>{f();var nQe="[object Number]",iQe=Object.prototype,oQe=iQe.toString;function sQe(t){return!!t&&typeof t=="object"}s(sQe,"isObjectLike");function aQe(t){return typeof t=="number"||sQe(t)&&oQe.call(t)==nQe}s(aQe,"isNumber");rue.exports=aQe});var aue=q((hDt,sue)=>{f();var cQe="[object Object]";function lQe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}s(lQe,"isHostObject");function uQe(t,e){return function(r){return t(e(r))}}s(uQe,"overArg");var fQe=Function.prototype,iue=Object.prototype,oue=fQe.toString,dQe=iue.hasOwnProperty,hQe=oue.call(Object),AQe=iue.toString,pQe=uQe(Object.getPrototypeOf,Object);function mQe(t){return!!t&&typeof t=="object"}s(mQe,"isObjectLike");function gQe(t){if(!mQe(t)||AQe.call(t)!=cQe||lQe(t))return!1;var e=pQe(t);if(e===null)return!0;var r=dQe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&oue.call(r)==hQe}s(gQe,"isPlainObject");sue.exports=gQe});var lue=q((mDt,cue)=>{f();var yQe="[object String]",CQe=Object.prototype,EQe=CQe.toString,IQe=Array.isArray;function xQe(t){return!!t&&typeof t=="object"}s(xQe,"isObjectLike");function vQe(t){return typeof t=="string"||!IQe(t)&&xQe(t)&&EQe.call(t)==yQe}s(vQe,"isString");cue.exports=vQe});var Aue=q((CDt,hue)=>{f();var bQe="Expected a function",uue=1/0,TQe=17976931348623157e292,fue=NaN,_Qe="[object Symbol]",wQe=/^\s+|\s+$/g,SQe=/^[-+]0x[0-9a-f]+$/i,BQe=/^0b[01]+$/i,RQe=/^0o[0-7]+$/i,kQe=parseInt,DQe=Object.prototype,NQe=DQe.toString;function QQe(t,e){var r;if(typeof e!="function")throw new TypeError(bQe);return t=OQe(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}s(QQe,"before");function PQe(t){return QQe(2,t)}s(PQe,"once");function due(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}s(due,"isObject");function FQe(t){return!!t&&typeof t=="object"}s(FQe,"isObjectLike");function LQe(t){return typeof t=="symbol"||FQe(t)&&NQe.call(t)==_Qe}s(LQe,"isSymbol");function MQe(t){if(!t)return t===0?t:0;if(t=UQe(t),t===uue||t===-uue){var e=t<0?-1:1;return e*TQe}return t===t?t:0}s(MQe,"toFinite");function OQe(t){var e=MQe(t),r=e%1;return e===e?r?e-r:e:0}s(OQe,"toInteger");function UQe(t){if(typeof t=="number")return t;if(LQe(t))return fue;if(due(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=due(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wQe,"");var r=BQe.test(t);return r||RQe.test(t)?kQe(t.slice(2),r?2:8):SQe.test(t)?fue:+t}s(UQe,"toNumber");hue.exports=PQe});var vue=q((xDt,xue)=>{f();var pue=Wq(),HQe=fG(),qQe=uG(),mue=L9(),GQe=zle(),n7=Kle(),gue=tue(),yG=nue(),Cue=aue(),gg=lue(),VQe=Aue(),{KeyObject:WQe,createSecretKey:$Qe,createPrivateKey:YQe}=require("crypto"),Eue=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];HQe&&Eue.splice(3,0,"PS256","PS384","PS512");var zQe={expiresIn:{isValid:s(function(t){return gue(t)||gg(t)&&t},"isValid"),message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:s(function(t){return gue(t)||gg(t)&&t},"isValid"),message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:s(function(t){return gg(t)||Array.isArray(t)},"isValid"),message:'"audience" must be a string or array'},algorithm:{isValid:GQe.bind(null,Eue),message:'"algorithm" must be a valid string enum value'},header:{isValid:Cue,message:'"header" must be an object'},encoding:{isValid:gg,message:'"encoding" must be a string'},issuer:{isValid:gg,message:'"issuer" must be a string'},subject:{isValid:gg,message:'"subject" must be a string'},jwtid:{isValid:gg,message:'"jwtid" must be a string'},noTimestamp:{isValid:n7,message:'"noTimestamp" must be a boolean'},keyid:{isValid:gg,message:'"keyid" must be a string'},mutatePayload:{isValid:n7,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:n7,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:n7,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},jQe={iat:{isValid:yG,message:'"iat" should be a number of seconds'},exp:{isValid:yG,message:'"exp" should be a number of seconds'},nbf:{isValid:yG,message:'"nbf" should be a number of seconds'}};function Iue(t,e,r,n){if(!Cue(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(o){let a=t[o];if(!a){if(!e)throw new Error('"'+o+'" is not allowed in "'+n+'"');return}if(!a.isValid(r[o]))throw new Error(a.message)})}s(Iue,"validate");function KQe(t){return Iue(zQe,!1,t,"options")}s(KQe,"validateOptions");function JQe(t){return Iue(jQe,!0,t,"payload")}s(JQe,"validatePayload");var yue={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},XQe=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];xue.exports=function(t,e,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let o=typeof t=="object"&&!Buffer.isBuffer(t),a=Object.assign({alg:r.algorithm||"HS256",typ:o?"JWT":void 0,kid:r.keyid},r.header);function c(d){if(n)return n(d);throw d}if(s(c,"failure"),!e&&r.algorithm!=="none")return c(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof WQe))try{e=YQe(e)}catch{try{e=$Qe(typeof e=="string"?Buffer.from(e):e)}catch{return c(new Error("secretOrPrivateKey is not valid key material"))}}if(a.alg.startsWith("HS")&&e.type!=="secret")return c(new Error(`secretOrPrivateKey must be a symmetric key when using ${a.alg}`));if(/^(?:RS|PS|ES)/.test(a.alg)){if(e.type!=="private")return c(new Error(`secretOrPrivateKey must be an asymmetric key when using ${a.alg}`));if(!r.allowInsecureKeySizes&&!a.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return c(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`))}if(typeof t>"u")return c(new Error("payload is required"));if(o){try{JQe(t)}catch(d){return c(d)}r.mutatePayload||(t=Object.assign({},t))}else{let d=XQe.filter(function(h){return typeof r[h]<"u"});if(d.length>0)return c(new Error("invalid "+d.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{KQe(r)}catch(d){return c(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{qQe(a.alg,e)}catch(d){return c(d)}let l=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:o&&(t.iat=l),typeof r.notBefore<"u"){try{t.nbf=pue(r.notBefore,l)}catch(d){return c(d)}if(typeof t.nbf>"u")return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=pue(r.expiresIn,l)}catch(d){return c(d)}if(typeof t.exp>"u")return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(yue).forEach(function(d){let h=yue[d];if(typeof r[d]<"u"){if(typeof t[h]<"u")return c(new Error('Bad "options.'+d+'" option. The payload already has an "'+h+'" property.'));t[h]=r[d]}});let u=r.encoding||"utf8";if(typeof n=="function")n=n&&VQe(n),mue.createSign({header:a,privateKey:e,payload:t,encoding:u}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`));n(null,d)});else{let d=mue.sign({header:a,payload:t,secret:e,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`);return d}}});var Tue=q((TDt,bue)=>{f();bue.exports={decode:Hq(),verify:qle(),sign:vue(),JsonWebTokenError:x4(),NotBeforeError:qq(),TokenExpiredError:Gq()}});var zG=q((oUt,Cfe)=>{f();function XPe(t){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=o,r.enabled=c,r.humanize=Vq(),r.destroy=d,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let A=0;for(let p=0;p<h.length;p++)A=(A<<5)-A+h.charCodeAt(p),A|=0;return r.colors[Math.abs(A)%r.colors.length]}s(e,"selectColor"),r.selectColor=e;function r(h){let A,p=null,g,E;function v(...w){if(!v.enabled)return;let _=v,S=Number(new Date),D=S-(A||S);_.diff=D,_.prev=A,_.curr=S,A=S,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let N=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(O,Y)=>{if(O==="%%")return"%";N++;let ne=r.formatters[Y];if(typeof ne=="function"){let oe=w[N];O=ne.call(_,oe),w.splice(N,1),N--}return O}),r.formatArgs.call(_,w),(_.log||r.log).apply(_,w)}return s(v,"debug"),v.namespace=h,v.useColors=r.useColors(),v.color=r.selectColor(h),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:s(()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,E=r.enabled(h)),E),"get"),set:s(w=>{p=w},"set")}),typeof r.init=="function"&&r.init(v),v}s(r,"createDebug");function n(h,A){let p=r(this.namespace+(typeof A>"u"?":":A)+h);return p.log=this.log,p}s(n,"extend");function o(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let A,p=(typeof h=="string"?h:"").split(/[\s,]+/),g=p.length;for(A=0;A<g;A++)p[A]&&(h=p[A].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}s(o,"enable");function a(){let h=[...r.names.map(l),...r.skips.map(l).map(A=>"-"+A)].join(",");return r.enable(""),h}s(a,"disable");function c(h){if(h[h.length-1]==="*")return!0;let A,p;for(A=0,p=r.skips.length;A<p;A++)if(r.skips[A].test(h))return!1;for(A=0,p=r.names.length;A<p;A++)if(r.names[A].test(h))return!0;return!1}s(c,"enabled");function l(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function u(h){return h instanceof Error?h.stack||h.message:h}s(u,"coerce");function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(d,"destroy"),r.enable(r.load()),r}s(XPe,"setup");Cfe.exports=XPe});var Efe=q((Wc,D7)=>{f();Wc.formatArgs=eFe;Wc.save=tFe;Wc.load=rFe;Wc.useColors=ZPe;Wc.storage=nFe();Wc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ZPe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(ZPe,"useColors");function eFe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+D7.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(n=r))}),t.splice(n,0,e)}s(eFe,"formatArgs");Wc.log=console.debug||console.log||(()=>{});function tFe(t){try{t?Wc.storage.setItem("debug",t):Wc.storage.removeItem("debug")}catch{}}s(tFe,"save");function rFe(){let t;try{t=Wc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(rFe,"load");function nFe(){try{return localStorage}catch{}}s(nFe,"localstorage");D7.exports=zG()(Wc);var{formatters:iFe}=D7.exports;iFe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var xfe=q((uUt,Ife)=>{"use strict";f();Ife.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),o=e.indexOf("--");return n!==-1&&(o===-1||n<o)}});var Tfe=q((dUt,bfe)=>{"use strict";f();var oFe=require("os"),vfe=require("tty"),ql=xfe(),{env:Zs}=process,xg;ql("no-color")||ql("no-colors")||ql("color=false")||ql("color=never")?xg=0:(ql("color")||ql("colors")||ql("color=true")||ql("color=always"))&&(xg=1);"FORCE_COLOR"in Zs&&(Zs.FORCE_COLOR==="true"?xg=1:Zs.FORCE_COLOR==="false"?xg=0:xg=Zs.FORCE_COLOR.length===0?1:Math.min(parseInt(Zs.FORCE_COLOR,10),3));function jG(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(jG,"translateLevel");function KG(t,e){if(xg===0)return 0;if(ql("color=16m")||ql("color=full")||ql("color=truecolor"))return 3;if(ql("color=256"))return 2;if(t&&!e&&xg===void 0)return 0;let r=xg||0;if(Zs.TERM==="dumb")return r;if(process.platform==="win32"){let n=oFe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Zs)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Zs)||Zs.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Zs)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Zs.TEAMCITY_VERSION)?1:0;if(Zs.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Zs){let n=parseInt((Zs.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Zs.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Zs.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Zs.TERM)||"COLORTERM"in Zs?1:r}s(KG,"supportsColor");function sFe(t){let e=KG(t,t&&t.isTTY);return jG(e)}s(sFe,"getSupportLevel");bfe.exports={supportsColor:sFe,stdout:jG(KG(!0,vfe.isatty(1))),stderr:jG(KG(!0,vfe.isatty(2)))}});var wfe=q((_a,Q7)=>{f();var aFe=require("tty"),N7=require("util");_a.init=AFe;_a.log=fFe;_a.formatArgs=lFe;_a.save=dFe;_a.load=hFe;_a.useColors=cFe;_a.destroy=N7.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_a.colors=[6,2,3,4,5,1];try{let t=Tfe();t&&(t.stderr||t).level>=2&&(_a.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_a.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,a)=>a.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function cFe(){return"colors"in _a.inspectOpts?!!_a.inspectOpts.colors:aFe.isatty(process.stderr.fd)}s(cFe,"useColors");function lFe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${o};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(o+"m+"+Q7.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=uFe()+e+" "+t[0]}s(lFe,"formatArgs");function uFe(){return _a.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(uFe,"getDate");function fFe(...t){return process.stderr.write(N7.format(...t)+`
`)}s(fFe,"log");function dFe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(dFe,"save");function hFe(){return process.env.DEBUG}s(hFe,"load");function AFe(t){t.inspectOpts={};let e=Object.keys(_a.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=_a.inspectOpts[e[r]]}s(AFe,"init");Q7.exports=zG()(_a);var{formatters:_fe}=Q7.exports;_fe.o=function(t){return this.inspectOpts.colors=this.useColors,N7.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};_fe.O=function(t){return this.inspectOpts.colors=this.useColors,N7.inspect(t,this.inspectOpts)}});var Qd=q((gUt,JG)=>{f();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?JG.exports=Efe():JG.exports=wfe()});var Rfe=q(ic=>{"use strict";f();var pFe=ic&&ic.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mFe=ic&&ic.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sfe=ic&&ic.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pFe(e,t,r);return mFe(e,t),e};Object.defineProperty(ic,"__esModule",{value:!0});ic.req=ic.json=ic.toBuffer=void 0;var gFe=Sfe(require("http")),yFe=Sfe(require("https"));async function Bfe(t){let e=0,r=[];for await(let n of t)e+=n.length,r.push(n);return Buffer.concat(r,e)}s(Bfe,"toBuffer");ic.toBuffer=Bfe;async function CFe(t){let r=(await Bfe(t)).toString("utf8");try{return JSON.parse(r)}catch(n){let o=n;throw o.message+=` (input: ${r})`,o}}s(CFe,"json");ic.json=CFe;function EFe(t,e={}){let n=((typeof t=="string"?t:t.href).startsWith("https:")?yFe:gFe).request(t,e),o=new Promise((a,c)=>{n.once("response",a).once("error",c).end()});return n.then=o.then.bind(o),n}s(EFe,"req");ic.req=EFe});var ZG=q($c=>{"use strict";f();var Dfe=$c&&$c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IFe=$c&&$c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nfe=$c&&$c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dfe(e,t,r);return IFe(e,t),e},xFe=$c&&$c.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Dfe(e,t,r)};Object.defineProperty($c,"__esModule",{value:!0});$c.Agent=void 0;var vFe=Nfe(require("net")),kfe=Nfe(require("http")),bFe=require("https");xFe(Rfe(),$c);var Pd=Symbol("AgentBaseInternalState"),XG=class extends kfe.Agent{static{s(this,"Agent")}constructor(e){super(e),this[Pd]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let r=new vFe.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;let n=this.sockets[e],o=n.indexOf(r);o!==-1&&(n.splice(o,1),this.totalSocketCount--,n.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?bFe.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,n){let o={...r,secureEndpoint:this.isSecureEndpoint(r)},a=this.getName(o),c=this.incrementSockets(a);Promise.resolve().then(()=>this.connect(e,o)).then(l=>{if(this.decrementSockets(a,c),l instanceof kfe.Agent)return l.addRequest(e,o);this[Pd].currentSocket=l,super.createSocket(e,r,n)},l=>{this.decrementSockets(a,c),n(l)})}createConnection(){let e=this[Pd].currentSocket;if(this[Pd].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Pd].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Pd]&&(this[Pd].defaultPort=e)}get protocol(){return this[Pd].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Pd]&&(this[Pd].protocol=e)}};$c.Agent=XG});var Qfe=q(Nx=>{"use strict";f();var TFe=Nx&&Nx.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.parseProxyResponse=void 0;var _Fe=TFe(Qd()),P7=(0,_Fe.default)("https-proxy-agent:parse-proxy-response");function wFe(t){return new Promise((e,r)=>{let n=0,o=[];function a(){let h=t.read();h?d(h):t.once("readable",a)}s(a,"read");function c(){t.removeListener("end",l),t.removeListener("error",u),t.removeListener("readable",a)}s(c,"cleanup");function l(){c(),P7("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}s(l,"onend");function u(h){c(),P7("onerror %o",h),r(h)}s(u,"onerror");function d(h){o.push(h),n+=h.length;let A=Buffer.concat(o,n),p=A.indexOf(`\r
\r
`);if(p===-1){P7("have not received end of HTTP headers yet..."),a();return}let g=A.slice(0,p).toString("ascii").split(`\r
`),E=g.shift();if(!E)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let v=E.split(" "),w=+v[1],_=v.slice(2).join(" "),S={};for(let D of g){if(!D)continue;let N=D.indexOf(":");if(N===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${D}"`));let P=D.slice(0,N).toLowerCase(),O=D.slice(N+1).trimStart(),Y=S[P];typeof Y=="string"?S[P]=[Y,O]:Array.isArray(Y)?Y.push(O):S[P]=O}P7("got proxy server response: %o %o",E,S),c(),e({connect:{statusCode:w,statusText:_,headers:S},buffered:A})}s(d,"ondata"),t.on("error",u),t.on("end",l),a()})}s(wFe,"parseProxyResponse");Nx.parseProxyResponse=wFe});var Ofe=q(Gl=>{"use strict";f();var SFe=Gl&&Gl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BFe=Gl&&Gl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lfe=Gl&&Gl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SFe(e,t,r);return BFe(e,t),e},Mfe=Gl&&Gl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.HttpsProxyAgent=void 0;var eV=Lfe(require("net")),Pfe=Lfe(require("tls")),RFe=Mfe(require("assert")),kFe=Mfe(Qd()),DFe=ZG(),NFe=require("url"),QFe=Qfe(),q4=(0,kFe.default)("https-proxy-agent"),F7=class extends DFe.Agent{static{s(this,"HttpsProxyAgent")}constructor(e,r){super(r),this.options={path:void 0},this.proxy=typeof e=="string"?new NFe.URL(e):e,this.proxyHeaders=r?.headers??{},q4("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?Ffe(r,"headers"):null,host:n,port:o}}async connect(e,r){let{proxy:n}=this;if(!r.host)throw new TypeError('No "host" provided');let o;if(n.protocol==="https:"){q4("Creating `tls.Socket`: %o",this.connectOpts);let p=this.connectOpts.servername||this.connectOpts.host;o=Pfe.connect({...this.connectOpts,servername:p})}else q4("Creating `net.Socket`: %o",this.connectOpts),o=eV.connect(this.connectOpts);let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},c=eV.isIPv6(r.host)?`[${r.host}]`:r.host,l=`CONNECT ${c}:${r.port} HTTP/1.1\r
`;if(n.username||n.password){let p=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(p).toString("base64")}`}a.Host=`${c}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let p of Object.keys(a))l+=`${p}: ${a[p]}\r
`;let u=(0,QFe.parseProxyResponse)(o);o.write(`${l}\r
`);let{connect:d,buffered:h}=await u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),d.statusCode===200){if(e.once("socket",PFe),r.secureEndpoint){q4("Upgrading socket connection to TLS");let p=r.servername||r.host;return Pfe.connect({...Ffe(r,"host","path","port"),socket:o,servername:p})}return o}o.destroy();let A=new eV.Socket({writable:!1});return A.readable=!0,e.once("socket",p=>{q4("Replaying proxy buffer for failed request"),(0,RFe.default)(p.listenerCount("data")>0),p.push(h),p.push(null)}),A}};F7.protocols=["http","https"];Gl.HttpsProxyAgent=F7;function PFe(t){t.resume()}s(PFe,"resume");function Ffe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(Ffe,"omit")});var qfe=q(Vl=>{"use strict";f();var FFe=Vl&&Vl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LFe=Vl&&Vl.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hfe=Vl&&Vl.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FFe(e,t,r);return LFe(e,t),e},MFe=Vl&&Vl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.HttpProxyAgent=void 0;var OFe=Hfe(require("net")),UFe=Hfe(require("tls")),HFe=MFe(Qd()),qFe=require("events"),GFe=ZG(),Ufe=require("url"),Qx=(0,HFe.default)("http-proxy-agent"),L7=class extends GFe.Agent{static{s(this,"HttpProxyAgent")}constructor(e,r){super(r),this.proxy=typeof e=="string"?new Ufe.URL(e):e,this.proxyHeaders=r?.headers??{},Qx("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...r?VFe(r,"headers"):null,host:n,port:o}}addRequest(e,r){e._header=null,this.setRequestProps(e,r),super.addRequest(e,r)}setRequestProps(e,r){let{proxy:n}=this,o=r.secureEndpoint?"https:":"http:",a=e.getHeader("host")||"localhost",c=`${o}//${a}`,l=new Ufe.URL(e.path,c);r.port!==80&&(l.port=String(r.port)),e.path=String(l);let u=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let d=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;u["Proxy-Authorization"]=`Basic ${Buffer.from(d).toString("base64")}`}u["Proxy-Connection"]||(u["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let d of Object.keys(u)){let h=u[d];h&&e.setHeader(d,h)}}async connect(e,r){e._header=null,e.path.includes("://")||this.setRequestProps(e,r);let n,o;Qx("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(Qx("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,o=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(o),Qx("Output buffer: %o",e.outputData[0].data));let a;return this.proxy.protocol==="https:"?(Qx("Creating `tls.Socket`: %o",this.connectOpts),a=UFe.connect(this.connectOpts)):(Qx("Creating `net.Socket`: %o",this.connectOpts),a=OFe.connect(this.connectOpts)),await(0,qFe.once)(a,"connect"),a}};L7.protocols=["http","https"];Vl.HttpProxyAgent=L7;function VFe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}s(VFe,"omit")});var Ade=q(Z7=>{"use strict";f();Object.defineProperty(Z7,"__esModule",{value:!0});Z7.state=void 0;Z7.state={operationRequestMap:new WeakMap}});function eMe(){try{return kV.default.statSync("/.dockerenv"),!0}catch{return!1}}function tMe(){try{return kV.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}function DV(){return RV===void 0&&(RV=eMe()||tMe()),RV}var kV,RV,Bde=kl(()=>{f();kV=Et(require("node:fs"),1);s(eMe,"hasDockerEnv");s(tMe,"hasDockerCGroup");s(DV,"isDocker")});function Mx(){return NV===void 0&&(NV=rMe()||DV()),NV}var Rde,NV,rMe,QV=kl(()=>{f();Rde=Et(require("node:fs"),1);Bde();rMe=s(()=>{try{return Rde.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");s(Mx,"isInsideContainer")});var PV,Dde,Nde,kde,_g,FV=kl(()=>{f();PV=Et(require("node:process"),1),Dde=Et(require("node:os"),1),Nde=Et(require("node:fs"),1);QV();kde=s(()=>{if(PV.default.platform!=="linux")return!1;if(Dde.default.release().toLowerCase().includes("microsoft"))return!Mx();try{return Nde.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Mx():!1}catch{return!1}},"isWsl"),_g=PV.default.env.__IS_WSL_TEST__?kde:kde()});var LV,z4,nMe,iMe,MV,Qde=kl(()=>{f();LV=Et(require("node:process"),1),z4=Et(require("node:fs/promises"),1);FV();FV();nMe=(()=>{let t="/mnt/",e;return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await z4.default.access(r,z4.constants.F_OK),n=!0}catch{}if(!n)return t;let o=await z4.default.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return a?(e=a.groups.mountPoint.trim(),e=e.endsWith("/")?e:`${e}/`,e):t}})(),iMe=s(async()=>`${await nMe()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"powerShellPathFromWsl"),MV=s(async()=>_g?iMe():`${LV.default.env.SYSTEMROOT||LV.default.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`,"powerShellPath")});function wg(t,e,r){let n=s(o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),"define");return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),t}var Pde=kl(()=>{f();s(wg,"defineLazyProperty")});async function OV(){if(Lde.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await oMe("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(t)?.groups.id??"com.apple.Safari"}var Fde,Lde,Mde,oMe,Ode=kl(()=>{f();Fde=require("node:util"),Lde=Et(require("node:process"),1),Mde=require("node:child_process"),oMe=(0,Fde.promisify)(Mde.execFile);s(OV,"defaultBrowserId")});async function qde(t,{humanReadableOutput:e=!0}={}){if(Ude.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:n}=await sMe("osascript",["-e",t,r]);return n.trim()}var Ude,Hde,UV,sMe,Gde=kl(()=>{f();Ude=Et(require("node:process"),1),Hde=require("node:util"),UV=require("node:child_process"),sMe=(0,Hde.promisify)(UV.execFile);s(qde,"runAppleScript")});async function HV(t){return qde(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var Vde=kl(()=>{f();Gde();s(HV,"bundleName")});async function qV(t=aMe){let{stdout:e}=await t("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!r)throw new tk(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=r.groups,o=cMe[n];if(!o)throw new tk(`Unknown browser ID: ${n}`);return o}var Wde,$de,aMe,cMe,tk,Yde=kl(()=>{f();Wde=require("node:util"),$de=require("node:child_process"),aMe=(0,Wde.promisify)($de.execFile),cMe={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},tk=class extends Error{static{s(this,"UnknownBrowserError")}};s(qV,"defaultBrowser")});async function GV(){if(rk.default.platform==="darwin"){let t=await OV();return{name:await HV(t),id:t}}if(rk.default.platform==="linux"){let{stdout:t}=await lMe("xdg-mime",["query","default","x-scheme-handler/http"]),e=t.trim();return{name:uMe(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(rk.default.platform==="win32")return qV();throw new Error("Only macOS, Linux, and Windows are supported")}var zde,rk,jde,lMe,uMe,Kde=kl(()=>{f();zde=require("node:util"),rk=Et(require("node:process"),1),jde=require("node:child_process");Ode();Vde();Yde();lMe=(0,zde.promisify)(jde.execFile),uMe=s(t=>t.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase()),"titleize");s(GV,"defaultBrowser")});var nhe={};Io(nhe,{apps:()=>Sg,default:()=>pMe,openApp:()=>AMe});async function dMe(){let t=await MV(),e=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,r=$V.Buffer.from(e,"utf16le").toString("base64"),{stdout:n}=await fMe(t,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),o=n.trim(),a={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return a[o]?{id:a[o]}:{}}function ehe(t){if(typeof t=="string"||Array.isArray(t))return t;let{[Xde]:e}=t;if(!e)throw new Error(`${Xde} is not supported`);return e}function ik({[Ox]:t},{wsl:e}){if(e&&_g)return ehe(e);if(!t)throw new Error(`${Ox} is not supported`);return ehe(t)}var WV,$V,YV,the,rhe,zV,nk,fMe,VV,Jde,Ox,Xde,Zde,j4,hMe,AMe,Sg,pMe,ihe=kl(()=>{f();WV=Et(require("node:process"),1),$V=require("node:buffer"),YV=Et(require("node:path"),1),the=require("node:url"),rhe=require("node:util"),zV=Et(require("node:child_process"),1),nk=Et(require("node:fs/promises"),1);Qde();Pde();Kde();QV();fMe=(0,rhe.promisify)(zV.default.execFile),VV=YV.default.dirname((0,the.fileURLToPath)(importMetaUrlShim)),Jde=YV.default.join(VV,"xdg-open"),{platform:Ox,arch:Xde}=WV.default;s(dMe,"getWindowsDefaultBrowserFromWsl");Zde=s(async(t,e)=>{let r;for(let n of t)try{return await e(n)}catch(o){r=o}throw r},"pTryEach"),j4=s(async t=>{if(t={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...t},Array.isArray(t.app))return Zde(t.app,l=>j4({...t,app:l}));let{name:e,arguments:r=[]}=t.app??{};if(r=[...r],Array.isArray(e))return Zde(e,l=>j4({...t,app:{name:l,arguments:r}}));if(e==="browser"||e==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},u={chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"},d=_g?await dMe():await GV();if(d.id in l){let h=l[d.id];return e==="browserPrivate"&&r.push(u[h]),j4({...t,app:{name:Sg[h],arguments:r}})}throw new Error(`${d.name} is not supported as a default browser`)}let n,o=[],a={};if(Ox==="darwin")n="open",t.wait&&o.push("--wait-apps"),t.background&&o.push("--background"),t.newInstance&&o.push("--new"),e&&o.push("-a",e);else if(Ox==="win32"||_g&&!Mx()&&!e){n=await MV(),o.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),_g||(a.windowsVerbatimArguments=!0);let l=["Start"];t.wait&&l.push("-Wait"),e?(l.push(`"\`"${e}\`""`),t.target&&r.push(t.target)):t.target&&l.push(`"${t.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),l.push("-ArgumentList",r.join(","))),t.target=$V.Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(e)n=e;else{let l=!VV||VV==="/",u=!1;try{await nk.default.access(Jde,nk.constants.X_OK),u=!0}catch{}n=WV.default.versions.electron??(Ox==="android"||l||!u)?"xdg-open":Jde}r.length>0&&o.push(...r),t.wait||(a.stdio="ignore",a.detached=!0)}Ox==="darwin"&&r.length>0&&o.push("--args",...r),t.target&&o.push(t.target);let c=zV.default.spawn(n,o,a);return t.wait?new Promise((l,u)=>{c.once("error",u),c.once("close",d=>{if(!t.allowNonzeroExitCode&&d>0){u(new Error(`Exited with code ${d}`));return}l(c)})}):(c.unref(),c)},"baseOpen"),hMe=s((t,e)=>{if(typeof t!="string")throw new TypeError("Expected a `target`");return j4({...e,target:t})},"open"),AMe=s((t,e)=>{if(typeof t!="string"&&!Array.isArray(t))throw new TypeError("Expected a valid `name`");let{arguments:r=[]}=e??{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return j4({...e,app:{name:t,arguments:r}})},"openApp");s(ehe,"detectArchBinary");s(ik,"detectPlatformBinary");Sg={};wg(Sg,"chrome",()=>ik({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));wg(Sg,"brave",()=>ik({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}}));wg(Sg,"firefox",()=>ik({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));wg(Sg,"edge",()=>ik({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));wg(Sg,"browser",()=>"browser");wg(Sg,"browserPrivate",()=>"browserPrivate");pMe=hMe});var Vpe=q(Wd=>{"use strict";f();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.bytePairEncode=Wd.BinaryMap=Wd.binaryMapKey=void 0;var QGe=s((t,e,r)=>{let n=r-e,o=16777215>>>Math.max(0,(3-n)*8),a=(t[e+0]|t[e+1]<<8|t[e+2]<<16)&o,c=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(t[e+3]|t[e+4]<<8|t[e+5]<<16)&c;return a+16777216*l},"binaryMapKey");Wd.binaryMapKey=QGe;var KW=class t{static{s(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(e,r=0,n=e.length){let o=n<6+r,a=(0,Wd.binaryMapKey)(e,r,n);return o?this.final.get(a):this.nested.get(a)?.get(e,6+r,n)}set(e,r){let n=(0,Wd.binaryMapKey)(e,0,e.length);if(e.length<6){this.final.set(n,r);return}let a=this.nested.get(n);if(a instanceof t)a.set(e.subarray(6),r);else{let c=new t;c.set(e.subarray(6),r),this.nested.set(n,c)}}};Wd.BinaryMap=KW;var Vd=new Int32Array(128),T0=new Int32Array(128);function PGe(t,e,r){if(r===1)return[e.get(t)];let n=2147483647,o=-1;for(;Vd.length<r*2;)T0=new Int32Array(T0.length*2),Vd=new Int32Array(Vd.length*2);for(let u=0;u<r-1;u++){let d=e.get(t,u,u+2)??2147483647;d<n&&(n=d,o=u),T0[u]=u,Vd[u]=d}T0[r-1]=r-1,Vd[r-1]=2147483647,T0[r]=r,Vd[r]=2147483647;let a=r+1;function c(u,d=0){if(u+d+2<a){let h=e.get(t,T0[u],T0[u+d+2]);if(h!==void 0)return h}return 2147483647}for(s(c,"getRank");n!==2147483647;){Vd[T0[o]]=c(o,1),o>0&&(Vd[T0[o-1]]=c(o-1,1));for(let u=o+1;u<a-1;u++)T0[u]=T0[u+1];a--,o=-1,n=2147483647;for(let u=0;u<a-1;u++){let d=Vd[T0[u]];Vd[T0[u]]<n&&(n=d,o=u)}}let l=[];for(let u=0;u<a-1;u++)l.push(e.get(t,T0[u],T0[u+1]));return l}s(PGe,"bytePairEncode");Wd.bytePairEncode=PGe});var Wpe=q(Ok=>{"use strict";f();Object.defineProperty(Ok,"__esModule",{value:!0});Ok.makeTextEncoder=void 0;var JW=class{static{s(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(e){let r=this.encoder.encode(e);return this.length=r.length,r}},XW=class{static{s(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(e){for(;;){if(this.length=this.buffer.write(e,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(e)}}},FGe=s(()=>typeof Buffer<"u"?new XW:new JW,"makeTextEncoder");Ok.makeTextEncoder=FGe});var $pe=q(Uk=>{"use strict";f();Object.defineProperty(Uk,"__esModule",{value:!0});Uk.LRUCache=void 0;var ZW=class{static{s(this,"LRUCache")}constructor(e){this.size=e,this.nodes=new Map}get(e){let r=this.nodes.get(e);if(r)return this.moveToHead(r),r.value}set(e,r){let n=this.nodes.get(e);if(n)n.value=r,this.moveToHead(n);else{let o=new e$(e,r);this.nodes.set(e,o),this.addNode(o),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(e){this.removeNode(e),e.next=void 0,e.prev=void 0,this.addNode(e)}addNode(e){this.head&&(this.head.prev=e,e.next=this.head),this.tail||(this.tail=e),this.head=e}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}};Uk.LRUCache=ZW;var e$=class{static{s(this,"Node")}constructor(e,r){this.key=e,this.value=r}}});var r$=q(qk=>{"use strict";f();Object.defineProperty(qk,"__esModule",{value:!0});qk.TikTokenizer=void 0;var Hk=Vpe(),LGe=Wpe(),MGe=$pe();function OGe(t){let e=new Map;try{let o=require("fs").readFileSync(t,"utf-8");return r(o),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let o of n.split(/[\r\n]+/)){if(o.trim()==="")continue;let a=o.split(" ");if(a.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let c=new Uint8Array(Buffer.from(a[0],"base64")),l=parseInt(a[1]);if(!isNaN(l))e.set(c,l);else throw new Error(`Can't parse ${a[1]} to integer`)}}s(r,"processBpeRanks")}s(OGe,"loadTikTokenBpe");function UGe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(UGe,"escapeRegExp");var t$=class{static{s(this,"TikTokenizer")}constructor(e,r,n,o=8192){this.textEncoder=(0,LGe.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new MGe.LRUCache(o);let a=typeof e=="string"?OGe(e):e;this.init(a,r,n)}init(e,r,n){this.encoder=new Hk.BinaryMap;for(let[o,a]of e)this.encoder.set(o,a);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(o=>UGe(o)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[o,a]of e)this.decoder.set(a,o);if(e.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[o,a]of r)this.specialTokensDecoder.set(a,o)}findNextSpecialToken(e,r,n){let o=r,a=null;if(n&&this.specialTokensRegex)for(;a=e.slice(o).match(this.specialTokensRegex),!(!a||n&&n.includes(a[0]));)o+=a.index+1;let c=a?o+a.index:e.length;return[a,c]}encode(e,r){let n=[],o=0;for(;;){let a,c;if([a,c]=this.findNextSpecialToken(e,o,r),c>o&&this.encodeByIndex(e,n,o,c),a){if(o=o+this.encodeSpecialToken(n,a),o>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,o){let a,c=e.substring(n,o);for(this.regex.lastIndex=0;a=this.regex.exec(c);){let l=this.cache.get(a[0]);if(l)for(let u of l)r.push(u);else{let u=this.textEncoder.encode(a[0]),d=this.encoder.get(u,0,this.textEncoder.length);if(d!==void 0)r.push(d),this.cache.set(a[0],[d]);else{let h=(0,Hk.bytePairEncode)(u,this.encoder,this.textEncoder.length);for(let A of h)r.push(A);this.cache.set(a[0],h)}}}}encodeTrimSuffixByIndex(e,r,n,o,a,c,l){let u,d=e.substring(n,o);for(this.regex.lastIndex=0;u=this.regex.exec(d);){let h=u[0],A=this.cache.get(h);if(A)if(c+A.length<=a)c+=A.length,l+=h.length,r.push(...A);else{let p=a-c;c+=p,l+=h.length,r.push(...A.slice(0,p));break}else{let p=this.textEncoder.encode(h),g=this.encoder.get(p,0,p.length);if(g!==void 0)if(this.cache.set(h,[g]),c+1<=a)c++,l+=h.length,r.push(g);else break;else{let E=(0,Hk.bytePairEncode)(p,this.encoder,this.textEncoder.length);if(this.cache.set(h,E),c+E.length<=a){c+=E.length,l+=h.length;for(let v of E)r.push(v)}else{let v=a-c;c+=v,l+=h.length;for(let w=0;w<v;w++)r.push(E[w]);break}}}if(c>=a)break}return{tokenCount:c,encodeLength:l}}encodeTrimSuffix(e,r,n){let o=[],a=0,c=0,l=0;for(;;){let d,h;if([d,h]=this.findNextSpecialToken(e,a,n),h>a){let{tokenCount:A,encodeLength:p}=this.encodeTrimSuffixByIndex(e,o,a,h,r,c,l);if(c=A,l=p,c>=r)break}if(d!==null){if(c++,c<=r&&(a=a+this.encodeSpecialToken(o,d),l+=d[0].length,a>=e.length)||c>=r)break}else break}let u=l===e.length?e:e.slice(0,l);return{tokenIds:o,text:u}}encodeTrimPrefix(e,r,n){let o=[],a=0,c=0,l=0,u=new Map;for(u.set(c,l);;){let p,g;if([p,g]=this.findNextSpecialToken(e,a,n),g>a){let E,v=e.substring(a,g);for(this.regex.lastIndex=0;E=this.regex.exec(v);){let w=E[0],_=this.cache.get(w);if(_)c+=_.length,l+=w.length,o.push(..._),u.set(c,l);else{let S=this.textEncoder.encode(w),D=this.encoder.get(S);if(D!==void 0)this.cache.set(w,[D]),c++,l+=w.length,o.push(D),u.set(c,l);else{let N=(0,Hk.bytePairEncode)(S,this.encoder,this.textEncoder.length);this.cache.set(w,N),c+=N.length,l+=w.length;for(let P of N)o.push(P);u.set(c,l)}}}}if(p!==null){if(a=a+this.encodeSpecialToken(o,p),c++,l+=p[0].length,u.set(c,l),a>=e.length)break}else break}if(c<=r)return{tokenIds:o,text:e};let d=c-r,h=0,A=0;for(let[p,g]of u)if(p>=d){h=p,A=g;break}if(h>r){let p=this.encode(e,n),g=p.slice(p.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:o.slice(h),text:e.slice(A)}}decode(e){let r=[];for(let n of e){let o=[],a=this.decoder?.get(n);if(a!==void 0)o=Array.from(a);else{let c=this.specialTokensDecoder?.get(n);if(c!==void 0){let l=this.textEncoder.encode(c);o=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...o)}return this.textDecoder.decode(new Uint8Array(r))}};qk.TikTokenizer=t$});var rme=q(xs=>{"use strict";f();Object.defineProperty(xs,"__esModule",{value:!0});xs.createTokenizer=xs.createByEncoderName=xs.createByModelName=xs.getRegexByModel=xs.getRegexByEncoder=xs.getSpecialTokensByModel=xs.getSpecialTokensByEncoder=xs.MODEL_TO_ENCODING=void 0;var HGe=r$(),qGe=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);xs.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Gk="<|endoftext|>",Ype="<|fim_prefix|>",zpe="<|fim_middle|>",jpe="<|fim_suffix|>",Kpe="<|endofprompt|>",bw="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Jpe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",GGe=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Xpe=GGe.join("|");function n$(t){let e="";if(xs.MODEL_TO_ENCODING.has(t))e=xs.MODEL_TO_ENCODING.get(t);else for(let[r,n]of qGe)if(t.startsWith(r)){e=n;break}return e}s(n$,"getEncoderFromModelName");async function VGe(t,e){let r=require("fs"),n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${n.status}`);let o=await n.text();r.writeFileSync(e,o)}s(VGe,"fetchAndSaveFile");function i$(t){let e=new Map([[Gk,50256]]);switch(t){case"o200k_base":e=new Map([[Gk,199999],[Kpe,200018]]);break;case"cl100k_base":e=new Map([[Gk,100257],[Ype,100258],[zpe,100259],[jpe,100260],[Kpe,100276]]);break;case"p50k_edit":e=new Map([[Gk,50256],[Ype,50281],[zpe,50282],[jpe,50283]]);break;default:break}return e}s(i$,"getSpecialTokensByEncoder");xs.getSpecialTokensByEncoder=i$;function WGe(t){let e=n$(t);return i$(e)}s(WGe,"getSpecialTokensByModel");xs.getSpecialTokensByModel=WGe;function Zpe(t){switch(t){case"o200k_base":return Xpe;case"cl100k_base":return Jpe;default:break}return bw}s(Zpe,"getRegexByEncoder");xs.getRegexByEncoder=Zpe;function $Ge(t){let e=n$(t);return Zpe(e)}s($Ge,"getRegexByModel");xs.getRegexByModel=$Ge;async function YGe(t,e=null){return eme(n$(t),e)}s(YGe,"createByModelName");xs.createByModelName=YGe;async function eme(t,e=null){let r,n,o=i$(t);switch(t){case"o200k_base":r=Xpe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=Jpe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=bw,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=bw,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(o=new Map([...o,...e]));let a=require("fs"),c=require("path"),l=c.basename(n),u=c.resolve(__dirname,"..","model");a.existsSync(u)||a.mkdirSync(u,{recursive:!0});let d=c.resolve(u,l);return a.existsSync(d)||(console.log(`Downloading file from ${n}`),await VGe(n,d),console.log(`Saved file to ${d}`)),tme(d,o,r)}s(eme,"createByEncoderName");xs.createByEncoderName=eme;function tme(t,e,r,n=8192){return new HGe.TikTokenizer(t,e,r,n)}s(tme,"createTokenizer");xs.createTokenizer=tme});var nme=q(vs=>{"use strict";f();Object.defineProperty(vs,"__esModule",{value:!0});vs.createTokenizer=vs.createByEncoderName=vs.createByModelName=vs.getSpecialTokensByModel=vs.getSpecialTokensByEncoder=vs.getRegexByModel=vs.getRegexByEncoder=vs.MODEL_TO_ENCODING=vs.TikTokenizer=void 0;var zGe=r$();Object.defineProperty(vs,"TikTokenizer",{enumerable:!0,get:s(function(){return zGe.TikTokenizer},"get")});var Mg=rme();Object.defineProperty(vs,"MODEL_TO_ENCODING",{enumerable:!0,get:s(function(){return Mg.MODEL_TO_ENCODING},"get")});Object.defineProperty(vs,"getRegexByEncoder",{enumerable:!0,get:s(function(){return Mg.getRegexByEncoder},"get")});Object.defineProperty(vs,"getRegexByModel",{enumerable:!0,get:s(function(){return Mg.getRegexByModel},"get")});Object.defineProperty(vs,"getSpecialTokensByEncoder",{enumerable:!0,get:s(function(){return Mg.getSpecialTokensByEncoder},"get")});Object.defineProperty(vs,"getSpecialTokensByModel",{enumerable:!0,get:s(function(){return Mg.getSpecialTokensByModel},"get")});Object.defineProperty(vs,"createByModelName",{enumerable:!0,get:s(function(){return Mg.createByModelName},"get")});Object.defineProperty(vs,"createByEncoderName",{enumerable:!0,get:s(function(){return Mg.createByEncoderName},"get")});Object.defineProperty(vs,"createTokenizer",{enumerable:!0,get:s(function(){return Mg.createTokenizer},"get")})});var E$=q((pEr,Bme)=>{"use strict";f();Bme.exports=s(function(e,r){r===!0&&(r=0);var n="";if(typeof e=="string")try{n=new URL(e).protocol}catch{}else e&&e.constructor===URL&&(n=e.protocol);var o=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?o[r]:o},"protocols")});var kme=q((yEr,Rme)=>{"use strict";f();var Hze=E$();function qze(t){var e={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:t,query:{},parse_failed:!1};try{var r=new URL(t);e.protocols=Hze(r),e.protocol=e.protocols[0],e.port=r.port,e.resource=r.hostname,e.host=r.host,e.user=r.username||"",e.password=r.password||"",e.pathname=r.pathname,e.hash=r.hash.slice(1),e.search=r.search.slice(1),e.href=r.href,e.query=Object.fromEntries(r.searchParams)}catch{e.protocols=["file"],e.protocol=e.protocols[0],e.port="",e.resource="",e.user="",e.pathname="",e.hash="",e.search="",e.href=t,e.query={},e.parse_failed=!0}return e}s(qze,"parsePath");Rme.exports=qze});var Lme=q((IEr,Fme)=>{"use strict";f();var Gze=kme();function Vze(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}s(Vze,"_interopDefaultLegacy");var Wze=Vze(Gze);function $ze(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=s(function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var a=Function.bind.apply(e,o);return new a}return e.apply(this,arguments)},"a");r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:s(function(){return t[n]},"get")})}),r}s($ze,"getAugmentedNamespace");var Nme={},Yze="text/plain",zze="us-ascii",Dme=s((t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),"testParameter"),jze=s((t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:o,hash:a}=r.groups,c=n.split(";");a=e?"":a;let l=!1;c[c.length-1]==="base64"&&(c.pop(),l=!0);let u=(c.shift()||"").toLowerCase(),h=[...c.map(A=>{let[p,g=""]=A.split("=").map(E=>E.trim());return p==="charset"&&(g=g.toLowerCase(),g===zze)?"":`${p}${g?`=${g}`:""}`}).filter(Boolean)];return l&&h.push("base64"),(h.length>0||u&&u!==Yze)&&h.unshift(u),`data:${h.join(";")},${l?o.trim():o}${a?`#${a}`:""}`},"normalizeDataURL");function Kze(t,e){if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return jze(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let o=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&o.protocol==="https:"&&(o.protocol="http:"),e.forceHttps&&o.protocol==="http:"&&(o.protocol="https:"),e.stripAuthentication&&(o.username="",o.password=""),e.stripHash?o.hash="":e.stripTextFragment&&(o.hash=o.hash.replace(/#?:~:text.*?$/i,"")),o.pathname){let c=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,u="";for(;;){let h=c.exec(o.pathname);if(!h)break;let A=h[0],p=h.index,g=o.pathname.slice(l,p);u+=g.replace(/\/{2,}/g,"/"),u+=A,l=p+A.length}let d=o.pathname.slice(l,o.pathname.length);u+=d.replace(/\/{2,}/g,"/"),o.pathname=u}if(o.pathname)try{o.pathname=decodeURI(o.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let c=o.pathname.split("/"),l=c[c.length-1];Dme(l,e.removeDirectoryIndex)&&(c=c.slice(0,-1),o.pathname=c.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let c of[...o.searchParams.keys()])Dme(c,e.removeQueryParameters)&&o.searchParams.delete(c);if(e.removeQueryParameters===!0&&(o.search=""),e.sortQueryParameters){o.searchParams.sort();try{o.search=decodeURIComponent(o.search)}catch{}}e.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,""));let a=t;return t=o.toString(),!e.removeSingleSlash&&o.pathname==="/"&&!a.endsWith("/")&&o.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||o.pathname==="/")&&o.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}s(Kze,"normalizeUrl");var Jze=Object.freeze({__proto__:null,default:Kze}),Xze=$ze(Jze);Object.defineProperty(Nme,"__esModule",{value:!0});var Zze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eje=Xze,tje=Qme(eje),rje=Wze.default,nje=Qme(rje);function Qme(t){return t&&t.__esModule?t:{default:t}}s(Qme,"_interopRequireDefault");var Pme=s(function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,o=s(function(u){var d=new Error(u);throw d.subject_url=e,d},"throwErr");(typeof e!="string"||!e.trim())&&o("Invalid url."),e.length>t.MAX_INPUT_LENGTH&&o("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Zze(r))!=="object"&&(r={stripHash:!1}),e=(0,tje.default)(e,r));var a=(0,nje.default)(e);if(a.parse_failed){var c=a.href.match(n);c?(a.protocols=["ssh"],a.protocol="ssh",a.resource=c[2],a.host=c[2],a.user=c[1],a.pathname="/"+c[3],a.parse_failed=!1):o("URL parsing failed.")}return a},"parseUrl");Pme.MAX_INPUT_LENGTH=2048;var ije=Nme.default=Pme;Fme.exports=ije});var Ume=q((bEr,Ome)=>{"use strict";f();var oje=E$();function Mme(t){if(Array.isArray(t))return t.indexOf("ssh")!==-1||t.indexOf("rsync")!==-1;if(typeof t!="string")return!1;var e=oje(t);if(t=t.substring(t.indexOf("://")+3),Mme(e))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(r)&&t.indexOf("@")<t.indexOf(":")}s(Mme,"isSsh");Ome.exports=Mme});var Gme=q((wEr,qme)=>{"use strict";f();var sje=Lme(),Hme=Ume();function aje(t){let e=sje(t);return e.token="",e.password==="x-oauth-basic"?e.token=e.user:e.user==="x-token-auth"&&(e.token=e.password),Hme(e.protocols)||e.protocols.length===0&&Hme(t)?e.protocol="ssh":e.protocols.length?e.protocol=e.protocols[0]:(e.protocol="file",e.protocols=["file"]),e.href=e.href.replace(/\/$/,""),e}s(aje,"gitUp");qme.exports=aje});var Wme=q((REr,Vme)=>{"use strict";f();var cje=Gme();function I$(t,e){if(e=e||[],typeof t!="string")throw new Error("The url must be a string.");if(!e.every(function(S){return typeof S=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(t)&&(t="https://github.com/"+t);var n=cje(t),o=n.resource.split("."),a=null;switch(n.toString=function(S){return I$.stringify(this,S)},n.source=o.length>2?o.slice(1-o.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=o[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3],n.full_name=a[2]+"/"+a[3]);break}else{a=n.name.split("/"),a.length===2?(n.owner=a[1],n.name=a[1],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){a=n.name.split("/"),a.length===4&&(n.organization=a[1],n.owner=a[2],n.name=a[3]);break}else{a=n.name.split("/"),a.length===5?(n.organization=a[0],n.owner=a[1],n.name=a[4],n.full_name="_git/"+n.name):a.length===3?(n.name=a[2],a[0]==="DefaultCollection"?(n.owner=a[2],n.organization=a[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=a[0],n.full_name=n.owner+"/_git/"+n.name)):a.length===4&&(n.organization=a[0],n.owner=a[1],n.name=a[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:a=n.name.split("/");var c=a.length-1;if(a.length>=2){var l=a.indexOf("-",2),u=a.indexOf("blob",2),d=a.indexOf("tree",2),h=a.indexOf("commit",2),A=a.indexOf("issues",2),p=a.indexOf("src",2),g=a.indexOf("raw",2),E=a.indexOf("edit",2);c=l>0?l-1:u>0&&d>0?Math.min(u-1,d-1):u>0?u-1:A>0?A-1:d>0?d-1:h>0?h-1:p>0?p-1:g>0?g-1:E>0?E-1:c,n.owner=a.slice(0,c).join("/"),n.name=a[c],h&&A<0&&(n.commit=a[c+2])}n.ref="",n.filepathtype="",n.filepath="";var v=a.length>c&&a[c+1]==="-"?c+1:c;a.length>v+2&&["raw","src","blob","tree","edit"].indexOf(a[v+1])>=0&&(n.filepathtype=a[v+1],n.ref=a[v+2],a.length>v+3&&(n.filepath=a.slice(v+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var w=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=w.exec(n.pathname);return _!=null&&(n.source="bitbucket-server",_[1]==="users"?n.owner="~"+_[2]:n.owner=_[2],n.organization=n.owner,n.name=_[3],a=_[4].split("/"),a.length>1&&(["raw","browse"].indexOf(a[1])>=0?(n.filepathtype=a[1],a.length>2&&(n.filepath=a.slice(2).join("/"))):a[1]==="commits"&&a.length>2&&(n.commit=a[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),e.length!==0&&n.ref&&(n.ref=fje(n.href,e)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}s(I$,"gitUrlParse");I$.stringify=function(t,e){e=e||(t.protocols&&t.protocols.length?t.protocols.join("+"):t.protocol);var r=t.port?":"+t.port:"",n=t.user||"git",o=t.git_suffix?".git":"";switch(e){case"ssh":return r?"ssh://"+n+"@"+t.resource+r+"/"+t.full_name+o:n+"@"+t.resource+":"+t.full_name+o;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return e+"://"+n+"@"+t.resource+r+"/"+t.full_name+o;case"http":case"https":var a=t.token?lje(t):t.user&&(t.protocols.includes("http")||t.protocols.includes("https"))?t.user+"@":"";return e+"://"+a+t.resource+r+"/"+uje(t)+o;default:return t.href}};function lje(t){switch(t.source){case"bitbucket.org":return"x-token-auth:"+t.token+"@";default:return t.token+"@"}}s(lje,"buildToken");function uje(t){switch(t.source){case"bitbucket-server":return"scm/"+t.full_name;default:var e=t.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return e}}s(uje,"buildPath");function fje(t,e){var r="";return e.forEach(function(n){t.includes(n)&&n.length>r.length&&(r=n)}),r}s(fje,"findLongestMatchingSubstring");Vme.exports=I$});var Jme=q((exports,module)=>{f();var Module=typeof Module<"u"?Module:{},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{s(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((t,e)=>{throw e},"quit_"),scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}s(locateFile,"locateFile");var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=__dirname+"/",readBinary=s(t=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t);var e=fs.readFileSync(t);return e},"readBinary"),readAsync=s((t,e=!0)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),new Promise((r,n)=>{fs.readFile(t,e?void 0:"utf8",(o,a)=>{o?n(o):r(e?a.buffer:a)})})),"readAsync"),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((t,e)=>{throw process.exitCode=t,e},"quit_")}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),ENVIRONMENT_IS_WORKER&&(readBinary=s(t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)},"readBinary")),readAsync=s(t=>isFileURI(t)?new Promise((e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&r(n.response),e(n.status)},n.onerror=e,n.send(null)}):fetch(t,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))),"readAsync"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,HEAP_DATA_VIEW;function updateMemoryViews(){var t=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(t),Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}if(s(updateMemoryViews,"updateMemoryViews"),Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(t){__ATPRERUN__.unshift(t)}s(addOnPreRun,"addOnPreRun");function addOnInit(t){__ATINIT__.unshift(t)}s(addOnInit,"addOnInit");function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}s(getUniqueRunDependency,"getUniqueRunDependency");function addRunDependency(t){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}s(removeRunDependency,"removeRunDependency");function abort(t){Module.onAbort?.(t),t="Aborted("+t+")",err(t),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw e}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=s(t=>t.startsWith(dataURIPrefix),"isDataURI"),isFileURI=s(t=>t.startsWith("file://"),"isFileURI");function findWasmBinary(){var t="tree-sitter.wasm";return isDataURI(t)?t:locateFile(t)}s(findWasmBinary,"findWasmBinary");var wasmBinaryFile;function getBinarySync(t){if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}s(getBinarySync,"getBinarySync");function getBinaryPromise(t){return wasmBinary?Promise.resolve().then(()=>getBinarySync(t)):readAsync(t).then(e=>new Uint8Array(e),()=>getBinarySync(t))}s(getBinaryPromise,"getBinaryPromise");function instantiateArrayBuffer(t,e,r){return getBinaryPromise(t).then(n=>WebAssembly.instantiate(n,e)).then(r,n=>{err(`failed to asynchronously prepare wasm: ${n}`),abort(n)})}s(instantiateArrayBuffer,"instantiateArrayBuffer");function instantiateAsync(t,e,r,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(e)&&!isFileURI(e)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(o=>{var a=WebAssembly.instantiateStreaming(o,r);return a.then(n,function(c){return err(`wasm streaming compile failed: ${c}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(e,r,n)})}):instantiateArrayBuffer(e,r,n)}s(instantiateAsync,"instantiateAsync");function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}s(getWasmImports,"getWasmImports");function createWasm(){var t=getWasmImports();function e(n,o){wasmExports=n.exports,wasmExports=relocateExports(wasmExports,1024);var a=getDylinkMetadata(o);return a.neededDynlibs&&(dynamicLibraries=a.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports,"main"),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate"),wasmExports}s(e,"receiveInstance"),addRunDependency("wasm-instantiate");function r(n){e(n.instance,n.module)}if(s(r,"receiveInstantiationResult"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(n){return err(`Module.instantiateWasm callback failed with error: ${n}`),!1}return wasmBinaryFile||(wasmBinaryFile=findWasmBinary()),instantiateAsync(wasmBinary,wasmBinaryFile,t,r),{}}s(createWasm,"createWasm");var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}s(ExitStatus,"ExitStatus");var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(e)||(r.required=!0),r}},LE_HEAP_LOAD_F32=s(t=>HEAP_DATA_VIEW.getFloat32(t,!0),"LE_HEAP_LOAD_F32"),LE_HEAP_LOAD_F64=s(t=>HEAP_DATA_VIEW.getFloat64(t,!0),"LE_HEAP_LOAD_F64"),LE_HEAP_LOAD_I16=s(t=>HEAP_DATA_VIEW.getInt16(t,!0),"LE_HEAP_LOAD_I16"),LE_HEAP_LOAD_I32=s(t=>HEAP_DATA_VIEW.getInt32(t,!0),"LE_HEAP_LOAD_I32"),LE_HEAP_LOAD_U32=s(t=>HEAP_DATA_VIEW.getUint32(t,!0),"LE_HEAP_LOAD_U32"),LE_HEAP_STORE_F32=s((t,e)=>HEAP_DATA_VIEW.setFloat32(t,e,!0),"LE_HEAP_STORE_F32"),LE_HEAP_STORE_F64=s((t,e)=>HEAP_DATA_VIEW.setFloat64(t,e,!0),"LE_HEAP_STORE_F64"),LE_HEAP_STORE_I16=s((t,e)=>HEAP_DATA_VIEW.setInt16(t,e,!0),"LE_HEAP_STORE_I16"),LE_HEAP_STORE_I32=s((t,e)=>HEAP_DATA_VIEW.setInt32(t,e,!0),"LE_HEAP_STORE_I32"),LE_HEAP_STORE_U32=s((t,e)=>HEAP_DATA_VIEW.setUint32(t,e,!0),"LE_HEAP_STORE_U32"),callRuntimeCallbacks=s(t=>{for(;t.length>0;)t.shift()(Module)},"callRuntimeCallbacks"),UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=s((t,e,r)=>{for(var n=e+r,o=e;t[o]&&!(o>=n);)++o;if(o-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,o));for(var a="";e<o;){var c=t[e++];if(!(c&128)){a+=String.fromCharCode(c);continue}var l=t[e++]&63;if((c&224)==192){a+=String.fromCharCode((c&31)<<6|l);continue}var u=t[e++]&63;if((c&240)==224?c=(c&15)<<12|l<<6|u:c=(c&7)<<18|l<<12|u<<6|t[e++]&63,c<65536)a+=String.fromCharCode(c);else{var d=c-65536;a+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return a},"UTF8ArrayToString"),getDylinkMetadata=s(t=>{var e=0,r=0;function n(){return t[e++]}s(n,"getU8");function o(){for(var xe=0,ce=1;;){var J=t[e++];if(xe+=(J&127)*ce,ce*=128,!(J&128))break}return xe}s(o,"getLEB");function a(){var xe=o();return e+=xe,UTF8ArrayToString(t,e-xe,xe)}s(a,"getString");function c(xe,ce){if(xe)throw new Error(ce)}s(c,"failIf");var l="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,l);u.length===0&&(l="dylink",u=WebAssembly.Module.customSections(t,l)),c(u.length===0,"need dylink section"),t=new Uint8Array(u[0]),r=t.length}else{var d=new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer),h=d[0]==1836278016||d[0]==6386541;c(!h,"need to see wasm magic number"),c(t[8]!==0,"need the dylink section to be first"),e=9;var A=o();r=e+A,l=a()}var p={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(l=="dylink"){p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();for(var g=o(),E=0;E<g;++E){var v=a();p.neededDynlibs.push(v)}}else{c(l!=="dylink.0");for(var w=1,_=2,S=3,D=4,N=256,P=3,O=1;e<r;){var Y=n(),ne=o();if(Y===w)p.memorySize=o(),p.memoryAlign=o(),p.tableSize=o(),p.tableAlign=o();else if(Y===_)for(var g=o(),E=0;E<g;++E)v=a(),p.neededDynlibs.push(v);else if(Y===S)for(var oe=o();oe--;){var he=a(),$=o();$&N&&p.tlsExports.add(he)}else if(Y===D)for(var oe=o();oe--;){var K=a(),he=a(),$=o();($&P)==O&&p.weakImports.add(he)}else e+=ne}}return p},"getDylinkMetadata");function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return HEAP8[t];case"i8":return HEAP8[t];case"i16":return LE_HEAP_LOAD_I16((t>>1)*2);case"i32":return LE_HEAP_LOAD_I32((t>>2)*4);case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return LE_HEAP_LOAD_F32((t>>2)*4);case"double":return LE_HEAP_LOAD_F64((t>>3)*8);case"*":return LE_HEAP_LOAD_U32((t>>2)*4);default:abort(`invalid type for getValue: ${e}`)}}s(getValue,"getValue");var newDSO=s((t,e,r)=>{var n={refcount:1/0,name:t,exports:r,global:!0};return LDSO.loadedLibsByName[t]=n,e!=null&&(LDSO.loadedLibsByHandle[e]=n),n},"newDSO"),LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78112,zeroMemory=s((t,e)=>(HEAPU8.fill(0,t,t+e),t),"zeroMemory"),alignMemory=s((t,e)=>Math.ceil(t/e)*e,"alignMemory"),getMemory=s(t=>{if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+alignMemory(t,16);return ___heap_base=r,GOT.__heap_base.value=r,e},"getMemory"),isInternalSym=s(t=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(t)||t.startsWith("__em_js__"),"isInternalSym"),uleb128Encode=s((t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},"uleb128Encode"),sigToWasmTypes=s(t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r},"sigToWasmTypes"),generateFuncType=s((t,e)=>{var r=t.slice(0,1),n=t.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),uleb128Encode(n.length,e);for(var a=0;a<n.length;++a)e.push(o[n[a]]);r=="v"?e.push(0):e.push(1,o[r])},"generateFuncType"),convertJsFunctionToWasm=s((t,e)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n)),a=new WebAssembly.Instance(o,{e:{f:t}}),c=a.exports.f;return c},"convertJsFunctionToWasm"),wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:"anyfunc"}),getWasmTableEntry=s(t=>{var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e},"getWasmTableEntry"),updateTableMap=s((t,e)=>{if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}},"updateTableMap"),functionsInTableMap,getFunctionAddress=s(t=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(t)||0),"getFunctionAddress"),freeTableIndexes=[],getEmptyTableSlot=s(()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1},"getEmptyTableSlot"),setWasmTableEntry=s((t,e)=>{wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)},"setWasmTableEntry"),addFunction=s((t,e)=>{var r=getFunctionAddress(t);if(r)return r;var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(a){if(!(a instanceof TypeError))throw a;var o=convertJsFunctionToWasm(t,e);setWasmTableEntry(n,o)}return functionsInTableMap.set(t,n),n},"addFunction"),updateGOT=s((t,e)=>{for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||=new WebAssembly.Global({value:"i32",mutable:!0}),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err(`unhandled export type for '${r}': ${typeof n}`))}},"updateGOT"),relocateExports=s((t,e,r)=>{var n={};for(var o in t){var a=t[o];typeof a=="object"&&(a=a.value),typeof a=="number"&&(a+=e),n[o]=a}return updateGOT(n,r),n},"relocateExports"),isSymbolDefined=s(t=>{var e=wasmImports[t];return!(!e||e.stub)},"isSymbolDefined"),dynCallLegacy=s((t,e,r)=>{t=t.replace(/p/g,"i");var n=Module["dynCall_"+t];return n(e,...r)},"dynCallLegacy"),dynCall=s((t,e,r=[])=>{if(t.includes("j"))return dynCallLegacy(t,e,r);var n=getWasmTableEntry(e)(...r);return n},"dynCall"),stackSave=s(()=>_emscripten_stack_get_current(),"stackSave"),stackRestore=s(t=>__emscripten_stack_restore(t),"stackRestore"),createInvokeFunction=s(t=>(e,...r)=>{var n=stackSave();try{return dynCall(t,e,r)}catch(o){if(stackRestore(n),o!==o+0)throw o;_setThrew(1,0)}},"createInvokeFunction"),resolveGlobalSymbol=s((t,e=!1)=>{var r;return e&&"orig$"+t in wasmImports&&(t="orig$"+t),isSymbolDefined(t)?r=wasmImports[t]:t.startsWith("invoke_")&&(r=wasmImports[t]=createInvokeFunction(t.split("_")[1])),{sym:r,name:t}},"resolveGlobalSymbol"),UTF8ToString=s((t,e)=>t?UTF8ArrayToString(HEAPU8,t,e):"","UTF8ToString"),loadWebAssemblyModule=s((binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,LE_HEAP_STORE_U32((handle+12>>2)*4,memoryBase),LE_HEAP_STORE_I32((handle+16>>2)*4,metadata.memorySize),LE_HEAP_STORE_U32((handle+20>>2)*4,tableBase),LE_HEAP_STORE_I32((handle+24>>2)*4,metadata.tableSize))}else memoryBase=LE_HEAP_LOAD_U32((handle+12>>2)*4),tableBase=LE_HEAP_LOAD_U32((handle+20>>2)*4);var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t).sym;return!e&&localScope&&(e=localScope[t]),e||(e=moduleExports[t]),e}s(resolveSymbol,"resolveSymbol");var proxyHandler={get(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in wasmImports&&!wasmImports[e].stub)return wasmImports[e];if(!(e in t)){var r;t[e]=(...n)=>(r||=resolveSymbol(e),r(...n))}return t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}s(addEmJs,"addEmJs");for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(t=>postInstantiation(t.module,t.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return s(loadModule,"loadModule"),flags.loadAsync?metadata.neededDynlibs.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(t=>loadDynamicLibrary(t,flags,localScope)),loadModule())},"loadWebAssemblyModule"),mergeLibSymbols=s((t,e)=>{for(var[r,n]of Object.entries(t)){let o=s(c=>{isSymbolDefined(c)||(wasmImports[c]=n)},"setImport");o(r);let a="__main_argc_argv";r=="main"&&o(a),r==a&&o("main"),r.startsWith("dynCall_")&&!Module.hasOwnProperty(r)&&(Module[r]=n)}},"mergeLibSymbols"),asyncLoad=s((t,e,r,n)=>{var o=n?"":`al ${t}`;readAsync(t).then(a=>{e(new Uint8Array(a)),o&&removeRunDependency(o)},a=>{if(r)r();else throw`Loading data file "${t}" failed.`}),o&&addRunDependency(o)},"asyncLoad");function loadDynamicLibrary(t,e={global:!0,nodelete:!0},r,n){var o=LDSO.loadedLibsByName[t];if(o)return e.global?o.global||(o.global=!0,mergeLibSymbols(o.exports,t)):r&&Object.assign(r,o.exports),e.nodelete&&o.refcount!==1/0&&(o.refcount=1/0),o.refcount++,n&&(LDSO.loadedLibsByHandle[n]=o),e.loadAsync?Promise.resolve(!0):!0;o=newDSO(t,n,"loading"),o.refcount=e.nodelete?1/0:1,o.global=e.global;function a(){if(n){var u=LE_HEAP_LOAD_U32((n+28>>2)*4),d=LE_HEAP_LOAD_U32((n+32>>2)*4);if(u&&d){var h=HEAP8.slice(u,u+d);return e.loadAsync?Promise.resolve(h):h}}var A=locateFile(t);if(e.loadAsync)return new Promise(function(p,g){asyncLoad(A,p,g)});if(!readBinary)throw new Error(`${A}: file not found, and synchronous loading of external files is not available`);return readBinary(A)}s(a,"loadLibData");function c(){return e.loadAsync?a().then(u=>loadWebAssemblyModule(u,e,t,r,n)):loadWebAssemblyModule(a(),e,t,r,n)}s(c,"getExports");function l(u){o.global?mergeLibSymbols(u,t):r&&Object.assign(r,u),o.exports=u}return s(l,"moduleLoaded"),e.loadAsync?c().then(u=>(l(u),!0)):(l(c()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");var reportUndefinedSymbols=s(()=>{for(var[t,e]of Object.entries(GOT))if(e.value==0){var r=resolveGlobalSymbol(t,!0).sym;if(!r&&!e.required)continue;if(typeof r=="function")e.value=addFunction(r,r.sig);else if(typeof r=="number")e.value=r;else throw new Error(`bad export type for '${t}': ${typeof r}`)}},"reportUndefinedSymbols"),loadDylibs=s(()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency("loadDylibs"),dynamicLibraries.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency("loadDylibs")})},"loadDylibs"),noExitRuntime=Module.noExitRuntime||!0;function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":HEAP8[t]=e;break;case"i8":HEAP8[t]=e;break;case"i16":LE_HEAP_STORE_I16((t>>1)*2,e);break;case"i32":LE_HEAP_STORE_I32((t>>2)*4,e);break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":LE_HEAP_STORE_F32((t>>2)*4,e);break;case"double":LE_HEAP_STORE_F64((t>>3)*8,e);break;case"*":LE_HEAP_STORE_U32((t>>2)*4,e);break;default:abort(`invalid type for setValue: ${r}`)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78112),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=s(()=>{abort("")},"__abort_js");__abort_js.sig="v";var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=s(()=>nowIsMonotonic,"__emscripten_get_now_is_monotonic");__emscripten_get_now_is_monotonic.sig="i";var __emscripten_memcpy_js=s((t,e,r)=>HEAPU8.copyWithin(t,e,e+r),"__emscripten_memcpy_js");__emscripten_memcpy_js.sig="vppp";var _emscripten_date_now=s(()=>Date.now(),"_emscripten_date_now");_emscripten_date_now.sig="d";var _emscripten_get_now;_emscripten_get_now=s(()=>performance.now(),"_emscripten_get_now"),_emscripten_get_now.sig="d";var getHeapMax=s(()=>2147483648,"getHeapMax"),growMemory=s(t=>{var e=wasmMemory.buffer,r=(t-e.byteLength+65535)/65536;try{return wasmMemory.grow(r),updateMemoryViews(),1}catch{}},"growMemory"),_emscripten_resize_heap=s(t=>{var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=s((u,d)=>u+(d-u%d)%d,"alignUp"),o=1;o<=4;o*=2){var a=e*(1+.2/o);a=Math.min(a,t+100663296);var c=Math.min(r,n(Math.max(t,a),65536)),l=growMemory(c);if(l)return!0}return!1},"_emscripten_resize_heap");_emscripten_resize_heap.sig="ip";var _fd_close=s(t=>52,"_fd_close");_fd_close.sig="ii";var convertI32PairToI53Checked=s((t,e)=>e+2097152>>>0<4194305-!!t?(t>>>0)+e*4294967296:NaN,"convertI32PairToI53Checked");function _fd_seek(t,e,r,n,o){var a=convertI32PairToI53Checked(e,r);return 70}s(_fd_seek,"_fd_seek"),_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=s((t,e)=>{var r=printCharBuffers[t];e===0||e===10?((t===1?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(e)},"printChar"),_fd_write=s((t,e,r,n)=>{for(var o=0,a=0;a<r;a++){var c=LE_HEAP_LOAD_U32((e>>2)*4),l=LE_HEAP_LOAD_U32((e+4>>2)*4);e+=8;for(var u=0;u<l;u++)printChar(t,HEAPU8[c+u]);o+=l}return LE_HEAP_STORE_U32((n>>2)*4,o),0},"_fd_write");_fd_write.sig="iippp";function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(t,e,r,n,o){let c=currentParseCallback(e,{row:r,column:n});typeof c=="string"?(setValue(o,c.length,"i32"),stringToUTF16(c,t,10240)):setValue(o,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");var runtimeKeepaliveCounter=0,keepRuntimeAlive=s(()=>noExitRuntime||runtimeKeepaliveCounter>0,"keepRuntimeAlive"),_proc_exit=s(t=>{EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit?.(t),ABORT=!0),quit_(t,new ExitStatus(t))},"_proc_exit");_proc_exit.sig="vi";var exitJS=s((t,e)=>{EXITSTATUS=t,_proc_exit(t)},"exitJS"),handleException=s(t=>{if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)},"handleException"),lengthBytesUTF8=s(t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},"lengthBytesUTF8"),stringToUTF8Array=s((t,e,r,n)=>{if(!(n>0))return 0;for(var o=r,a=r+n-1,c=0;c<t.length;++c){var l=t.charCodeAt(c);if(l>=55296&&l<=57343){var u=t.charCodeAt(++c);l=65536+((l&1023)<<10)|u&1023}if(l<=127){if(r>=a)break;e[r++]=l}else if(l<=2047){if(r+1>=a)break;e[r++]=192|l>>6,e[r++]=128|l&63}else if(l<=65535){if(r+2>=a)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|l&63}else{if(r+3>=a)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|l&63}}return e[r]=0,r-o},"stringToUTF8Array"),stringToUTF8=s((t,e,r)=>stringToUTF8Array(t,HEAPU8,e,r),"stringToUTF8"),stackAlloc=s(t=>__emscripten_stack_alloc(t),"stackAlloc"),stringToUTF8OnStack=s(t=>{var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8(t,r,e),r},"stringToUTF8OnStack"),stringToUTF16=s((t,e,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=e,o=r<t.length*2?r/2:t.length,a=0;a<o;++a){var c=t.charCodeAt(a);LE_HEAP_STORE_I16((e>>1)*2,c),e+=2}return LE_HEAP_STORE_I16((e>>1)*2,0),e-n},"stringToUTF16"),AsciiToString=s(t=>{for(var e="";;){var r=HEAPU8[t++];if(!r)return e;e+=String.fromCharCode(r)}},"AsciiToString"),wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),___wasm_call_ctors=s(()=>(___wasm_call_ctors=wasmExports.__wasm_call_ctors)(),"___wasm_call_ctors"),___wasm_apply_data_relocs=s(()=>(___wasm_apply_data_relocs=wasmExports.__wasm_apply_data_relocs)(),"___wasm_apply_data_relocs"),_malloc=Module._malloc=t=>(_malloc=Module._malloc=wasmExports.malloc)(t),_calloc=Module._calloc=(t,e)=>(_calloc=Module._calloc=wasmExports.calloc)(t,e),_realloc=Module._realloc=(t,e)=>(_realloc=Module._realloc=wasmExports.realloc)(t,e),_free=Module._free=t=>(_free=Module._free=wasmExports.free)(t),_ts_language_symbol_count=Module._ts_language_symbol_count=t=>(_ts_language_symbol_count=Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(t),_ts_language_state_count=Module._ts_language_state_count=t=>(_ts_language_state_count=Module._ts_language_state_count=wasmExports.ts_language_state_count)(t),_ts_language_version=Module._ts_language_version=t=>(_ts_language_version=Module._ts_language_version=wasmExports.ts_language_version)(t),_ts_language_field_count=Module._ts_language_field_count=t=>(_ts_language_field_count=Module._ts_language_field_count=wasmExports.ts_language_field_count)(t),_ts_language_next_state=Module._ts_language_next_state=(t,e,r)=>(_ts_language_next_state=Module._ts_language_next_state=wasmExports.ts_language_next_state)(t,e,r),_ts_language_symbol_name=Module._ts_language_symbol_name=(t,e)=>(_ts_language_symbol_name=Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(t,e),_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=(t,e,r,n)=>(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(t,e,r,n),_strncmp=Module._strncmp=(t,e,r)=>(_strncmp=Module._strncmp=wasmExports.strncmp)(t,e,r),_ts_language_symbol_type=Module._ts_language_symbol_type=(t,e)=>(_ts_language_symbol_type=Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(t,e),_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=(t,e)=>(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(t,e),_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=(t,e)=>(_ts_lookahead_iterator_new=Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(t,e),_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=t=>(_ts_lookahead_iterator_delete=Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(t),_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=(t,e)=>(_ts_lookahead_iterator_reset_state=Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(t,e),_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=(t,e,r)=>(_ts_lookahead_iterator_reset=Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(t,e,r),_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=t=>(_ts_lookahead_iterator_next=Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(t),_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=t=>(_ts_lookahead_iterator_current_symbol=Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(t),_memset=Module._memset=(t,e,r)=>(_memset=Module._memset=wasmExports.memset)(t,e,r),_memcpy=Module._memcpy=(t,e,r)=>(_memcpy=Module._memcpy=wasmExports.memcpy)(t,e,r),_ts_parser_delete=Module._ts_parser_delete=t=>(_ts_parser_delete=Module._ts_parser_delete=wasmExports.ts_parser_delete)(t),_ts_parser_reset=Module._ts_parser_reset=t=>(_ts_parser_reset=Module._ts_parser_reset=wasmExports.ts_parser_reset)(t),_ts_parser_set_language=Module._ts_parser_set_language=(t,e)=>(_ts_parser_set_language=Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(t,e),_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=t=>(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(t),_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=(t,e,r)=>(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(t,e,r),_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=(t,e,r)=>(_ts_parser_set_included_ranges=Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(t,e,r),_memmove=Module._memmove=(t,e,r)=>(_memmove=Module._memmove=wasmExports.memmove)(t,e,r),_memcmp=Module._memcmp=(t,e,r)=>(_memcmp=Module._memcmp=wasmExports.memcmp)(t,e,r),_ts_query_new=Module._ts_query_new=(t,e,r,n,o)=>(_ts_query_new=Module._ts_query_new=wasmExports.ts_query_new)(t,e,r,n,o),_ts_query_delete=Module._ts_query_delete=t=>(_ts_query_delete=Module._ts_query_delete=wasmExports.ts_query_delete)(t),_iswspace=Module._iswspace=t=>(_iswspace=Module._iswspace=wasmExports.iswspace)(t),_iswalnum=Module._iswalnum=t=>(_iswalnum=Module._iswalnum=wasmExports.iswalnum)(t),_ts_query_pattern_count=Module._ts_query_pattern_count=t=>(_ts_query_pattern_count=Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(t),_ts_query_capture_count=Module._ts_query_capture_count=t=>(_ts_query_capture_count=Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(t),_ts_query_string_count=Module._ts_query_string_count=t=>(_ts_query_string_count=Module._ts_query_string_count=wasmExports.ts_query_string_count)(t),_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=(t,e,r)=>(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(t,e,r),_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=(t,e,r)=>(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(t,e,r),_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=(t,e,r)=>(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(t,e,r),_ts_query_disable_capture=Module._ts_query_disable_capture=(t,e,r)=>(_ts_query_disable_capture=Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(t,e,r),_ts_tree_copy=Module._ts_tree_copy=t=>(_ts_tree_copy=Module._ts_tree_copy=wasmExports.ts_tree_copy)(t),_ts_tree_delete=Module._ts_tree_delete=t=>(_ts_tree_delete=Module._ts_tree_delete=wasmExports.ts_tree_delete)(t),_ts_init=Module._ts_init=()=>(_ts_init=Module._ts_init=wasmExports.ts_init)(),_ts_parser_new_wasm=Module._ts_parser_new_wasm=()=>(_ts_parser_new_wasm=Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=(t,e)=>(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(t,e),_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=(t,e,r,n,o)=>(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(t,e,r,n,o),_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=t=>(_ts_parser_included_ranges_wasm=Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(t),_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=(t,e)=>(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(t,e),_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=(t,e)=>(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(t,e),_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=t=>(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(t),_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=t=>(_ts_tree_root_node_with_offset_wasm=Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(t),_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=t=>(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(t),_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=t=>(_ts_tree_included_ranges_wasm=Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(t),_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=(t,e)=>(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(t,e),_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=t=>(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(t),_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=t=>(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(t),_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=t=>(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(t),_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=(t,e)=>(_ts_tree_cursor_reset_to_wasm=Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(t,e),_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=t=>(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(t),_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=t=>(_ts_tree_cursor_goto_last_child_wasm=Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(t),_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=t=>(_ts_tree_cursor_goto_first_child_for_index_wasm=Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(t),_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=t=>(_ts_tree_cursor_goto_first_child_for_position_wasm=Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(t),_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=t=>(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(t),_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=t=>(_ts_tree_cursor_goto_previous_sibling_wasm=Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(t),_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=(t,e)=>(_ts_tree_cursor_goto_descendant_wasm=Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(t,e),_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=t=>(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(t),_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=t=>(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(t),_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=t=>(_ts_tree_cursor_current_node_state_id_wasm=Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(t),_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=t=>(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(t),_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=t=>(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(t),_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=t=>(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(t),_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=t=>(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(t),_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=t=>(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(t),_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=t=>(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(t),_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=t=>(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(t),_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=t=>(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(t),_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=t=>(_ts_tree_cursor_current_depth_wasm=Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(t),_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=t=>(_ts_tree_cursor_current_descendant_index_wasm=Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(t),_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=t=>(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(t),_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=t=>(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(t),_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=(t,e)=>(_ts_node_field_name_for_child_wasm=Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(t,e),_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=(t,e)=>(_ts_node_children_by_field_id_wasm=Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(t,e),_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=t=>(_ts_node_first_child_for_byte_wasm=Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(t),_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=t=>(_ts_node_first_named_child_for_byte_wasm=Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(t),_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=t=>(_ts_node_grammar_symbol_wasm=Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(t),_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=t=>(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(t),_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=t=>(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(t),_ts_node_child_wasm=Module._ts_node_child_wasm=(t,e)=>(_ts_node_child_wasm=Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(t,e),_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=(t,e)=>(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(t,e),_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=(t,e)=>(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(t,e),_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=t=>(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(t),_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=t=>(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(t),_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=t=>(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(t),_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=t=>(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(t),_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=t=>(_ts_node_descendant_count_wasm=Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(t),_ts_node_parent_wasm=Module._ts_node_parent_wasm=t=>(_ts_node_parent_wasm=Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(t),_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=t=>(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(t),_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=t=>(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(t),_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=t=>(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(t),_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=t=>(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(t),_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=t=>(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(t),_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=t=>(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(t),_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=t=>(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(t),_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=t=>(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(t),_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=t=>(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(t),_ts_node_children_wasm=Module._ts_node_children_wasm=t=>(_ts_node_children_wasm=Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(t),_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=t=>(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(t),_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=(t,e,r,n,o,a,c)=>(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(t,e,r,n,o,a,c),_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=t=>(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(t),_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=t=>(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(t),_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=t=>(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(t),_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=t=>(_ts_node_is_error_wasm=Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(t),_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=t=>(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(t),_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=t=>(_ts_node_is_extra_wasm=Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(t),_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=t=>(_ts_node_parse_state_wasm=Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(t),_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=t=>(_ts_node_next_parse_state_wasm=Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(t),_ts_query_matches_wasm=Module._ts_query_matches_wasm=(t,e,r,n,o,a,c,l,u,d)=>(_ts_query_matches_wasm=Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(t,e,r,n,o,a,c,l,u,d),_ts_query_captures_wasm=Module._ts_query_captures_wasm=(t,e,r,n,o,a,c,l,u,d)=>(_ts_query_captures_wasm=Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(t,e,r,n,o,a,c,l,u,d),_iswalpha=Module._iswalpha=t=>(_iswalpha=Module._iswalpha=wasmExports.iswalpha)(t),_iswblank=Module._iswblank=t=>(_iswblank=Module._iswblank=wasmExports.iswblank)(t),_iswdigit=Module._iswdigit=t=>(_iswdigit=Module._iswdigit=wasmExports.iswdigit)(t),_iswlower=Module._iswlower=t=>(_iswlower=Module._iswlower=wasmExports.iswlower)(t),_iswupper=Module._iswupper=t=>(_iswupper=Module._iswupper=wasmExports.iswupper)(t),_iswxdigit=Module._iswxdigit=t=>(_iswxdigit=Module._iswxdigit=wasmExports.iswxdigit)(t),_memchr=Module._memchr=(t,e,r)=>(_memchr=Module._memchr=wasmExports.memchr)(t,e,r),_strlen=Module._strlen=t=>(_strlen=Module._strlen=wasmExports.strlen)(t),_strcmp=Module._strcmp=(t,e)=>(_strcmp=Module._strcmp=wasmExports.strcmp)(t,e),_strncat=Module._strncat=(t,e,r)=>(_strncat=Module._strncat=wasmExports.strncat)(t,e,r),_strncpy=Module._strncpy=(t,e,r)=>(_strncpy=Module._strncpy=wasmExports.strncpy)(t,e,r),_towlower=Module._towlower=t=>(_towlower=Module._towlower=wasmExports.towlower)(t),_towupper=Module._towupper=t=>(_towupper=Module._towupper=wasmExports.towupper)(t),_setThrew=s((t,e)=>(_setThrew=wasmExports.setThrew)(t,e),"_setThrew"),__emscripten_stack_restore=s(t=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(t),"__emscripten_stack_restore"),__emscripten_stack_alloc=s(t=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(t),"__emscripten_stack_alloc"),_emscripten_stack_get_current=s(()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)(),"_emscripten_stack_get_current"),dynCall_jiji=Module.dynCall_jiji=(t,e,r,n,o)=>(dynCall_jiji=Module.dynCall_jiji=wasmExports.dynCall_jiji)(t,e,r,n,o),_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=t=>(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(t),_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=(t,e)=>(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(t,e);Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=s(function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)},"runCaller");function callMain(t=[]){var e=resolveGlobalSymbol("main").sym;if(e){t.unshift(thisProgram);var r=t.length,n=stackAlloc((r+1)*4),o=n;t.forEach(c=>{LE_HEAP_STORE_U32((o>>2)*4,stringToUTF8OnStack(c)),o+=4}),LE_HEAP_STORE_U32((o>>2)*4,0);try{var a=e(r,n);return exitJS(a,!0),a}catch(c){return handleException(c)}}}s(callMain,"callMain");function run(t=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(t),postRun()))}s(e,"doRun"),Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/,VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{s(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(!e)r=0,e=null;else if(e.constructor===Language){r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw new Error("Argument must be a Language");return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=s((u,d)=>e.slice(u),"currentParseCallback");else if(typeof e=="function")currentParseCallback=e;else throw new Error("Argument must be a string or a function");this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let o=0,a=0;if(n?.includedRanges){o=n.includedRanges.length,a=C._calloc(o,SIZE_OF_RANGE);let u=a;for(let d=0;d<o;d++)marshalRange(u,n.includedRanges[d]),u+=SIZE_OF_RANGE}let c=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,a,o);if(!c)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,c,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(!e)e=null;else if(typeof e!="function")throw new Error("Logger callback must be a function");return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{static{s(this,"Tree")}constructor(e,r,n,o){assertInternal(e),this[0]=r,this.language=n,this.textCallback=o}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,r){let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),marshalPoint(n+SIZE_OF_INT,r),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalRange(a),a+=SIZE_OF_RANGE;C._free(n)}return o}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let o=r;for(let a=0;a<e;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}}class Node{static{s(this,"Node")}constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1?this.childForFieldId(r):null}fieldNameForChild(e){marshalNode(this);let r=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return r?AsciiToString(r):null}childrenForFieldName(e){let r=this.tree.language.fields.indexOf(e);return r!==-1&&r!==0?this.childrenForFieldId(r):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),o=new Array(r);if(r>0){let a=n;for(let c=0;c<r;c++)o[c]=unmarshalNode(this.tree,a),a+=SIZE_OF_NODE;C._free(n)}return o}firstChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._children[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let o=0;o<e;o++)this._namedChildren[o]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let o=[],a=this.tree.language.types;for(let h=0,A=a.length;h<A;h++)e.includes(a[h])&&o.push(h);let c=C._malloc(SIZE_OF_INT*o.length);for(let h=0,A=o.length;h<A;h++)setValue(c+h*SIZE_OF_INT,o[h],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],c,o.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let h=u;for(let A=0;A<l;A++)d[A]=unmarshalNode(this.tree,h),h+=SIZE_OF_NODE}return C._free(u),C._free(c),d}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{static{s(this,"TreeCursor")}constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoLastChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");let r=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);let r=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoPreviousSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{static{s(this,"Language")}constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,o=this.types.length;n<o;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,o=this.fields.length;n<o;n++){let a=C._ts_language_field_name_for_id(this[0],n);a!==0?this.fields[n]=UTF8ToString(a):this.fields[n]=null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),o=C._malloc(n+1);stringToUTF8(e,o,n+1);let a=C._ts_language_symbol_for_name(this[0],o,n,r);return C._free(o),a||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,r){return C._ts_language_next_state(this[0],e,r)}lookaheadIterator(e){let r=C._ts_lookahead_iterator_new(this[0],e);return r?new LookaheadIterable(INTERNAL,r,this):null}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let o=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!o){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),w=getValue(TRANSFER_BUFFER,"i32"),_=UTF8ToString(n,w).length,S=e.substr(_,100).split(`
`)[0],D=S.match(QUERY_WORD_REGEX)[0],N;switch(v){case 2:N=new RangeError(`Bad node name '${D}'`);break;case 3:N=new RangeError(`Bad field name '${D}'`);break;case 4:N=new RangeError(`Bad capture name @${D}`);break;case 5:N=new TypeError(`Bad pattern structure at offset ${_}: '${S}'...`),D="";break;default:N=new SyntaxError(`Bad syntax at offset ${_}: '${S}'...`),D="";break}throw N.index=_,N.length=D.length,C._free(n),N}let a=C._ts_query_string_count(o),c=C._ts_query_capture_count(o),l=C._ts_query_pattern_count(o),u=new Array(c),d=new Array(a);for(let v=0;v<c;v++){let w=C._ts_query_capture_name_for_id(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");u[v]=UTF8ToString(w,_)}for(let v=0;v<a;v++){let w=C._ts_query_string_value_for_id(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");d[v]=UTF8ToString(w,_)}let h=new Array(l),A=new Array(l),p=new Array(l),g=new Array(l),E=new Array(l);for(let v=0;v<l;v++){let w=C._ts_query_predicates_for_pattern(o,v,TRANSFER_BUFFER),_=getValue(TRANSFER_BUFFER,"i32");g[v]=[],E[v]=[];let S=[],D=w;for(let N=0;N<_;N++){let P=getValue(D,"i32");D+=SIZE_OF_INT;let O=getValue(D,"i32");if(D+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)S.push({type:"capture",name:u[O]});else if(P===PREDICATE_STEP_TYPE_STRING)S.push({type:"string",value:d[O]});else if(S.length>0){if(S[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Y=S[0].value,ne=!0,oe=!0,he;switch(Y){case"any-not-eq?":case"not-eq?":ne=!1;case"any-eq?":case"eq?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#${Y}\` predicate. Expected 2, got ${S.length-1}`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${Y}\` predicate must be a capture. Got "${S[1].value}"`);if(oe=!Y.startsWith("any-"),S[2].type==="capture"){let ce=S[1].name,J=S[2].name;E[v].push(W=>{let Z=[],re=[];for(let ie of W)ie.name===ce&&Z.push(ie.node),ie.name===J&&re.push(ie.node);let te=s((ie,ue,Ae)=>Ae?ie.text===ue.text:ie.text!==ue.text,"compare");return oe?Z.every(ie=>re.some(ue=>te(ie,ue,ne))):Z.some(ie=>re.some(ue=>te(ie,ue,ne)))})}else{he=S[1].name;let ce=S[2].value,J=s(Z=>Z.text===ce,"matches"),W=s(Z=>Z.text!==ce,"doesNotMatch");E[v].push(Z=>{let re=[];for(let ie of Z)ie.name===he&&re.push(ie.node);let te=ne?J:W;return oe?re.every(te):re.some(te)})}break;case"any-not-match?":case"not-match?":ne=!1;case"any-match?":case"match?":if(S.length!==3)throw new Error(`Wrong number of arguments to \`#${Y}\` predicate. Expected 2, got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${Y}\` predicate must be a capture. Got "${S[1].value}".`);if(S[2].type!=="string")throw new Error(`Second argument of \`#${Y}\` predicate must be a string. Got @${S[2].value}.`);he=S[1].name;let $=new RegExp(S[2].value);oe=!Y.startsWith("any-"),E[v].push(ce=>{let J=[];for(let Z of ce)Z.name===he&&J.push(Z.node.text);let W=s((Z,re)=>re?$.test(Z):!$.test(Z),"test");return J.length===0?!ne:oe?J.every(Z=>W(Z,ne)):J.some(Z=>W(Z,ne))});break;case"set!":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(ce=>ce.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');h[v]||(h[v]={}),h[v][S[1].value]=S[2]?S[2].value:null;break;case"is?":case"is-not?":if(S.length<2||S.length>3)throw new Error(`Wrong number of arguments to \`#${Y}\` predicate. Expected 1 or 2. Got ${S.length-1}.`);if(S.some(ce=>ce.type!=="string"))throw new Error(`Arguments to \`#${Y}\` predicate must be a strings.".`);let K=Y==="is?"?A:p;K[v]||(K[v]={}),K[v][S[1].value]=S[2]?S[2].value:null;break;case"not-any-of?":ne=!1;case"any-of?":if(S.length<2)throw new Error(`Wrong number of arguments to \`#${Y}\` predicate. Expected at least 1. Got ${S.length-1}.`);if(S[1].type!=="capture")throw new Error(`First argument of \`#${Y}\` predicate must be a capture. Got "${S[1].value}".`);for(let ce=2;ce<S.length;ce++)if(S[ce].type!=="string")throw new Error(`Arguments to \`#${Y}\` predicate must be a strings.".`);he=S[1].name;let xe=S.slice(2).map(ce=>ce.value);E[v].push(ce=>{let J=[];for(let W of ce)W.name===he&&J.push(W.node.text);return J.length===0?!ne:J.every(W=>xe.includes(W))===ne});break;default:g[v].push({operator:Y,operands:S.slice(1)})}S.length=0}}Object.freeze(h[v]),Object.freeze(A[v]),Object.freeze(p[v])}return C._free(n),new Query(INTERNAL,o,u,E,g,Object.freeze(h),Object.freeze(A),Object.freeze(p))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let n=e;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(n))}else r=fetch(n).then(o=>o.arrayBuffer().then(a=>{if(o.ok)return new Uint8Array(a);{let c=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${o.status}.

${c}`)}}))}return r.then(n=>loadWebAssemblyModule(n,{loadAsync:!0})).then(n=>{let o=Object.keys(n),a=o.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let c=n[a]();return new Language(INTERNAL,c)})}}class LookaheadIterable{static{s(this,"LookaheadIterable")}constructor(e,r,n){assertInternal(e),this[0]=r,this.language=n}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,r){return C._ts_lookahead_iterator_reset(this[0],e[0],r)?(this.language=e,!0):!1}[Symbol.iterator](){let e=this;return{next(){return C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}}class Query{static{s(this,"Query")}constructor(e,r,n,o,a,c,l,u){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=o,this.predicates=a,this.setProperties=c,this.assertedProperties=l,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),A=new Array(u);this.exceededMatchLimit=!!h;let p=0,g=d;for(let E=0;E<u;E++){let v=getValue(g,"i32");g+=SIZE_OF_INT;let w=getValue(g,"i32");g+=SIZE_OF_INT;let _=new Array(w);if(g=unmarshalCaptures(this,e.tree,g,_),this.textPredicates[v].every(S=>S(_))){A[p]={pattern:v,captures:_};let S=this.setProperties[v];S&&(A[p].setProperties=S);let D=this.assertedProperties[v];D&&(A[p].assertedProperties=D);let N=this.refutedProperties[v];N&&(A[p].refutedProperties=N),p++}}return A.length=p,C._free(d),A}captures(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:o=0,endIndex:a=0,matchLimit:c=4294967295,maxStartDepth:l=4294967295}={}){if(typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o,a,c,l);let u=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),A=[];this.exceededMatchLimit=!!h;let p=[],g=d;for(let E=0;E<u;E++){let v=getValue(g,"i32");g+=SIZE_OF_INT;let w=getValue(g,"i32");g+=SIZE_OF_INT;let _=getValue(g,"i32");if(g+=SIZE_OF_INT,p.length=w,g=unmarshalCaptures(this,e.tree,g,p),this.textPredicates[v].every(S=>S(p))){let S=p[_],D=this.setProperties[v];D&&(S.setProperties=D);let N=this.assertedProperties[v];N&&(S.assertedProperties=N);let P=this.refutedProperties[v];P&&(S.refutedProperties=P),A.push(S)}}return C._free(d),A}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1),C._ts_query_disable_capture(this[0],n,r),C._free(n)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,o=t.textCallback(e,null,r);for(e+=o.length;e<r;){let a=t.textCallback(e,null,r);if(a&&a.length>0)e+=a.length,o+=a;else break}return e>r&&(o=o.slice(0,n)),o}s(getText,"getText");function unmarshalCaptures(t,e,r,n){for(let o=0,a=n.length;o<a;o++){let c=getValue(r,"i32");r+=SIZE_OF_INT;let l=unmarshalNode(e,r);r+=SIZE_OF_NODE,n[o]={name:t.captureNames[c],node:l}}return r}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}s(isPoint,"isPoint");function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(e+=SIZE_OF_INT,r===0)return null;let n=getValue(e,"i32");e+=SIZE_OF_INT;let o=getValue(e,"i32");e+=SIZE_OF_INT;let a=getValue(e,"i32");e+=SIZE_OF_INT;let c=getValue(e,"i32"),l=new Node(INTERNAL,t);return l.id=r,l.startIndex=n,l.startPosition={row:o,column:a},l[0]=c,l}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32"),setValue(e+3*SIZE_OF_INT,t[3],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),t[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(t){return{row:getValue(t,"i32")>>>0,column:getValue(t+SIZE_OF_INT,"i32")>>>0}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(t,e){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.endPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.endIndex,"i32"),t+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32")>>>0,t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32")>>>0,e}s(unmarshalRange,"unmarshalRange");function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var fye=q((U5r,uye)=>{"use strict";f();uye.exports=cye;function cye(t,e,r){t instanceof RegExp&&(t=aye(t,r)),e instanceof RegExp&&(e=aye(e,r));var n=lye(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}s(cye,"balanced");function aye(t,e){var r=e.match(t);return r?r[0]:null}s(aye,"maybeMatch");cye.range=lye;function lye(t,e,r){var n,o,a,c,l,u=r.indexOf(t),d=r.indexOf(e,u+1),h=u;if(u>=0&&d>0){if(t===e)return[u,d];for(n=[],a=r.length;h>=0&&!l;)h==u?(n.push(h),u=r.indexOf(t,h+1)):n.length==1?l=[n.pop(),d]:(o=n.pop(),o<a&&(a=o,c=d),d=r.indexOf(e,h+1)),h=u<d&&u>=0?u:d;n.length&&(l=[a,c])}return l}s(lye,"range")});var Cye=q((G5r,yye)=>{f();var dye=fye();yye.exports=iJe;var hye="\0SLASH"+Math.random()+"\0",Aye="\0OPEN"+Math.random()+"\0",RY="\0CLOSE"+Math.random()+"\0",pye="\0COMMA"+Math.random()+"\0",mye="\0PERIOD"+Math.random()+"\0";function BY(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}s(BY,"numeric");function rJe(t){return t.split("\\\\").join(hye).split("\\{").join(Aye).split("\\}").join(RY).split("\\,").join(pye).split("\\.").join(mye)}s(rJe,"escapeBraces");function nJe(t){return t.split(hye).join("\\").split(Aye).join("{").split(RY).join("}").split(pye).join(",").split(mye).join(".")}s(nJe,"unescapeBraces");function gye(t){if(!t)return[""];var e=[],r=dye("{","}",t);if(!r)return t.split(",");var n=r.pre,o=r.body,a=r.post,c=n.split(",");c[c.length-1]+="{"+o+"}";var l=gye(a);return a.length&&(c[c.length-1]+=l.shift(),c.push.apply(c,l)),e.push.apply(e,c),e}s(gye,"parseCommaParts");function iJe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Xw(rJe(t),!0).map(nJe)):[]}s(iJe,"expandTop");function oJe(t){return"{"+t+"}"}s(oJe,"embrace");function sJe(t){return/^-?0\d/.test(t)}s(sJe,"isPadded");function aJe(t,e){return t<=e}s(aJe,"lte");function cJe(t,e){return t>=e}s(cJe,"gte");function Xw(t,e){var r=[],n=dye("{","}",t);if(!n)return[t];var o=n.pre,a=n.post.length?Xw(n.post,!1):[""];if(/\$$/.test(n.pre))for(var c=0;c<a.length;c++){var l=o+"{"+n.body+"}"+a[c];r.push(l)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),h=u||d,A=n.body.indexOf(",")>=0;if(!h&&!A)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+RY+n.post,Xw(t)):[t];var p;if(h)p=n.body.split(/\.\./);else if(p=gye(n.body),p.length===1&&(p=Xw(p[0],!1).map(oJe),p.length===1))return a.map(function(he){return n.pre+p[0]+he});var g;if(h){var E=BY(p[0]),v=BY(p[1]),w=Math.max(p[0].length,p[1].length),_=p.length==3?Math.abs(BY(p[2])):1,S=aJe,D=v<E;D&&(_*=-1,S=cJe);var N=p.some(sJe);g=[];for(var P=E;S(P,v);P+=_){var O;if(d)O=String.fromCharCode(P),O==="\\"&&(O="");else if(O=String(P),N){var Y=w-O.length;if(Y>0){var ne=new Array(Y+1).join("0");P<0?O="-"+ne+O.slice(1):O=ne+O}}g.push(O)}}else{g=[];for(var oe=0;oe<p.length;oe++)g.push.apply(g,Xw(p[oe],!1))}for(var oe=0;oe<g.length;oe++)for(var c=0;c<a.length;c++){var l=o+g[oe]+a[c];(!e||h||l)&&r.push(l)}}return r}s(Xw,"expand")});var Ao=q((aWr,BEe)=>{f();BEe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var ui=q((lWr,REe)=>{"use strict";f();var Bo=class extends Error{static{s(this,"UndiciError")}constructor(e){super(e),this.name="UndiciError",this.code="UND_ERR"}},Zz=class extends Bo{static{s(this,"ConnectTimeoutError")}constructor(e){super(e),this.name="ConnectTimeoutError",this.message=e||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},ej=class extends Bo{static{s(this,"HeadersTimeoutError")}constructor(e){super(e),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},tj=class extends Bo{static{s(this,"HeadersOverflowError")}constructor(e){super(e),this.name="HeadersOverflowError",this.message=e||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},rj=class extends Bo{static{s(this,"BodyTimeoutError")}constructor(e){super(e),this.name="BodyTimeoutError",this.message=e||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},nj=class extends Bo{static{s(this,"ResponseStatusCodeError")}constructor(e,r,n,o){super(e),this.name="ResponseStatusCodeError",this.message=e||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=o,this.status=r,this.statusCode=r,this.headers=n}},ij=class extends Bo{static{s(this,"InvalidArgumentError")}constructor(e){super(e),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},oj=class extends Bo{static{s(this,"InvalidReturnValueError")}constructor(e){super(e),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},wQ=class extends Bo{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError",this.message=e||"The operation was aborted"}},sj=class extends wQ{static{s(this,"RequestAbortedError")}constructor(e){super(e),this.name="AbortError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}},aj=class extends Bo{static{s(this,"InformationalError")}constructor(e){super(e),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}},cj=class extends Bo{static{s(this,"RequestContentLengthMismatchError")}constructor(e){super(e),this.name="RequestContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},lj=class extends Bo{static{s(this,"ResponseContentLengthMismatchError")}constructor(e){super(e),this.name="ResponseContentLengthMismatchError",this.message=e||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},uj=class extends Bo{static{s(this,"ClientDestroyedError")}constructor(e){super(e),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},fj=class extends Bo{static{s(this,"ClientClosedError")}constructor(e){super(e),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}},dj=class extends Bo{static{s(this,"SocketError")}constructor(e,r){super(e),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},hj=class extends Bo{static{s(this,"NotSupportedError")}constructor(e){super(e),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Aj=class extends Bo{static{s(this,"BalancedPoolMissingUpstreamError")}constructor(e){super(e),this.name="MissingUpstreamError",this.message=e||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},pj=class extends Error{static{s(this,"HTTPParserError")}constructor(e,r,n){super(e),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},mj=class extends Bo{static{s(this,"ResponseExceededMaxSizeError")}constructor(e){super(e),this.name="ResponseExceededMaxSizeError",this.message=e||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},gj=class extends Bo{static{s(this,"RequestRetryError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="RequestRetryError",this.message=e||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=o,this.headers=n}},yj=class extends Bo{static{s(this,"ResponseError")}constructor(e,r,{headers:n,data:o}){super(e),this.name="ResponseError",this.message=e||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=o,this.headers=n}},Cj=class extends Bo{static{s(this,"SecureProxyConnectionError")}constructor(e,r,n){super(r,{cause:e,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=e}};REe.exports={AbortError:wQ,HTTPParserError:pj,UndiciError:Bo,HeadersTimeoutError:ej,HeadersOverflowError:tj,BodyTimeoutError:rj,RequestContentLengthMismatchError:cj,ConnectTimeoutError:Zz,ResponseStatusCodeError:nj,InvalidArgumentError:ij,InvalidReturnValueError:oj,RequestAbortedError:sj,ClientDestroyedError:uj,ClientClosedError:fj,InformationalError:aj,SocketError:dj,NotSupportedError:hj,ResponseContentLengthMismatchError:lj,BalancedPoolMissingUpstreamError:Aj,ResponseExceededMaxSizeError:mj,RequestRetryError:gj,ResponseError:yj,SecureProxyConnectionError:Cj}});var BQ=q((dWr,kEe)=>{"use strict";f();var SQ={},Ej=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let t=0;t<Ej.length;++t){let e=Ej[t],r=e.toLowerCase();SQ[e]=SQ[r]=r}Object.setPrototypeOf(SQ,null);kEe.exports={wellknownHeaderNames:Ej,headerNameLowerCasedRecord:SQ}});var PEe=q((AWr,QEe)=>{"use strict";f();var{wellknownHeaderNames:DEe,headerNameLowerCasedRecord:wet}=BQ(),Ij=class t{static{s(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(e,r,n){if(n===void 0||n>=e.length)throw new TypeError("Unreachable");if((this.code=e.charCodeAt(n))>127)throw new TypeError("key must be ascii string");e.length!==++n?this.middle=new t(e,r,n):this.value=r}add(e,r){let n=e.length;if(n===0)throw new TypeError("Unreachable");let o=0,a=this;for(;;){let c=e.charCodeAt(o);if(c>127)throw new TypeError("key must be ascii string");if(a.code===c)if(n===++o){a.value=r;break}else if(a.middle!==null)a=a.middle;else{a.middle=new t(e,r,o);break}else if(a.code<c)if(a.left!==null)a=a.left;else{a.left=new t(e,r,o);break}else if(a.right!==null)a=a.right;else{a.right=new t(e,r,o);break}}}search(e){let r=e.length,n=0,o=this;for(;o!==null&&n<r;){let a=e[n];for(a<=90&&a>=65&&(a|=32);o!==null;){if(a===o.code){if(r===++n)return o;o=o.middle;break}o=o.code<a?o.left:o.right}}return null}},RQ=class{static{s(this,"TernarySearchTree")}node=null;insert(e,r){this.node===null?this.node=new Ij(e,r,0):this.node.add(e,r)}lookup(e){return this.node?.search(e)?.value??null}},NEe=new RQ;for(let t=0;t<DEe.length;++t){let e=wet[DEe[t]];NEe.insert(e,e)}QEe.exports={TernarySearchTree:RQ,tree:NEe}});var hn=q((gWr,JEe)=>{"use strict";f();var R3=require("node:assert"),{kDestroyed:LEe,kBodyUsed:ob,kListeners:xj,kBody:FEe}=Ao(),{IncomingMessage:Bet}=require("node:http"),NQ=require("node:stream"),Ret=require("node:net"),{Blob:ket}=require("node:buffer"),Det=require("node:util"),{stringify:Net}=require("node:querystring"),{EventEmitter:Qet}=require("node:events"),{InvalidArgumentError:oa}=ui(),{headerNameLowerCasedRecord:Pet}=BQ(),{tree:MEe}=PEe(),[Fet,Let]=process.versions.node.split(".").map(t=>Number(t)),DQ=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[FEe]=e,this[ob]=!1}async*[Symbol.asyncIterator](){R3(!this[ob],"disturbed"),this[ob]=!0,yield*this[FEe]}};function Met(t){return QQ(t)?(GEe(t)===0&&t.on("data",function(){R3(!1)}),typeof t.readableDidRead!="boolean"&&(t[ob]=!1,Qet.prototype.on.call(t,"data",function(){this[ob]=!0})),t):t&&typeof t.pipeTo=="function"?new DQ(t):t&&typeof t!="string"&&!ArrayBuffer.isView(t)&&qEe(t)?new DQ(t):t}s(Met,"wrapRequestBody");function Oet(){}s(Oet,"nop");function QQ(t){return t&&typeof t=="object"&&typeof t.pipe=="function"&&typeof t.on=="function"}s(QQ,"isStream");function OEe(t){if(t===null)return!1;if(t instanceof ket)return!0;if(typeof t!="object")return!1;{let e=t[Symbol.toStringTag];return(e==="Blob"||e==="File")&&("stream"in t&&typeof t.stream=="function"||"arrayBuffer"in t&&typeof t.arrayBuffer=="function")}}s(OEe,"isBlobLike");function Uet(t,e){if(t.includes("?")||t.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Net(e);return r&&(t+="?"+r),t}s(Uet,"buildURL");function UEe(t){let e=parseInt(t,10);return e===Number(t)&&e>=0&&e<=65535}s(UEe,"isValidPort");function kQ(t){return t!=null&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&(t[4]===":"||t[4]==="s"&&t[5]===":")}s(kQ,"isHttpOrHttpsPrefixed");function HEe(t){if(typeof t=="string"){if(t=new URL(t),!kQ(t.origin||t.protocol))throw new oa("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}if(!t||typeof t!="object")throw new oa("Invalid URL: The URL argument must be a non-null object.");if(!(t instanceof URL)){if(t.port!=null&&t.port!==""&&UEe(t.port)===!1)throw new oa("Invalid URL: port must be a valid integer or a string representation of an integer.");if(t.path!=null&&typeof t.path!="string")throw new oa("Invalid URL path: the path must be a string or null/undefined.");if(t.pathname!=null&&typeof t.pathname!="string")throw new oa("Invalid URL pathname: the pathname must be a string or null/undefined.");if(t.hostname!=null&&typeof t.hostname!="string")throw new oa("Invalid URL hostname: the hostname must be a string or null/undefined.");if(t.origin!=null&&typeof t.origin!="string")throw new oa("Invalid URL origin: the origin must be a string or null/undefined.");if(!kQ(t.origin||t.protocol))throw new oa("Invalid URL protocol: the URL must start with `http:` or `https:`.");let e=t.port!=null?t.port:t.protocol==="https:"?443:80,r=t.origin!=null?t.origin:`${t.protocol||""}//${t.hostname||""}:${e}`,n=t.path!=null?t.path:`${t.pathname||""}${t.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!kQ(t.origin||t.protocol))throw new oa("Invalid URL protocol: the URL must start with `http:` or `https:`.");return t}s(HEe,"parseURL");function Het(t){if(t=HEe(t),t.pathname!=="/"||t.search||t.hash)throw new oa("invalid url");return t}s(Het,"parseOrigin");function qet(t){if(t[0]==="["){let r=t.indexOf("]");return R3(r!==-1),t.substring(1,r)}let e=t.indexOf(":");return e===-1?t:t.substring(0,e)}s(qet,"getHostname");function Get(t){if(!t)return null;R3(typeof t=="string");let e=qet(t);return Ret.isIP(e)?"":e}s(Get,"getServerName");function Vet(t){return JSON.parse(JSON.stringify(t))}s(Vet,"deepClone");function Wet(t){return t!=null&&typeof t[Symbol.asyncIterator]=="function"}s(Wet,"isAsyncIterable");function qEe(t){return t!=null&&(typeof t[Symbol.iterator]=="function"||typeof t[Symbol.asyncIterator]=="function")}s(qEe,"isIterable");function GEe(t){if(t==null)return 0;if(QQ(t)){let e=t._readableState;return e&&e.objectMode===!1&&e.ended===!0&&Number.isFinite(e.length)?e.length:null}else{if(OEe(t))return t.size!=null?t.size:null;if($Ee(t))return t.byteLength}return null}s(GEe,"bodyLength");function VEe(t){return t&&!!(t.destroyed||t[LEe]||NQ.isDestroyed?.(t))}s(VEe,"isDestroyed");function $et(t,e){t==null||!QQ(t)||VEe(t)||(typeof t.destroy=="function"?(Object.getPrototypeOf(t).constructor===Bet&&(t.socket=null),t.destroy(e)):e&&queueMicrotask(()=>{t.emit("error",e)}),t.destroyed!==!0&&(t[LEe]=!0))}s($et,"destroy");var Yet=/timeout=(\d+)/;function zet(t){let e=t.toString().match(Yet);return e?parseInt(e[1],10)*1e3:null}s(zet,"parseKeepAliveTimeout");function WEe(t){return typeof t=="string"?Pet[t]??t.toLowerCase():MEe.lookup(t)??t.toString("latin1").toLowerCase()}s(WEe,"headerNameToString");function jet(t){return MEe.lookup(t)??t.toString("latin1").toLowerCase()}s(jet,"bufferToLowerCasedHeaderName");function Ket(t,e){e===void 0&&(e={});for(let r=0;r<t.length;r+=2){let n=WEe(t[r]),o=e[n];if(o)typeof o=="string"&&(o=[o],e[n]=o),o.push(t[r+1].toString("utf8"));else{let a=t[r+1];typeof a=="string"?e[n]=a:e[n]=Array.isArray(a)?a.map(c=>c.toString("utf8")):a.toString("utf8")}}return"content-length"in e&&"content-disposition"in e&&(e["content-disposition"]=Buffer.from(e["content-disposition"]).toString("latin1")),e}s(Ket,"parseHeaders");function Jet(t){let e=t.length,r=new Array(e),n=!1,o=-1,a,c,l=0;for(let u=0;u<t.length;u+=2)a=t[u],c=t[u+1],typeof a!="string"&&(a=a.toString()),typeof c!="string"&&(c=c.toString("utf8")),l=a.length,l===14&&a[7]==="-"&&(a==="content-length"||a.toLowerCase()==="content-length")?n=!0:l===19&&a[7]==="-"&&(a==="content-disposition"||a.toLowerCase()==="content-disposition")&&(o=u+1),r[u]=a,r[u+1]=c;return n&&o!==-1&&(r[o]=Buffer.from(r[o]).toString("latin1")),r}s(Jet,"parseRawHeaders");function $Ee(t){return t instanceof Uint8Array||Buffer.isBuffer(t)}s($Ee,"isBuffer");function Xet(t,e,r){if(!t||typeof t!="object")throw new oa("handler must be an object");if(typeof t.onConnect!="function")throw new oa("invalid onConnect method");if(typeof t.onError!="function")throw new oa("invalid onError method");if(typeof t.onBodySent!="function"&&t.onBodySent!==void 0)throw new oa("invalid onBodySent method");if(r||e==="CONNECT"){if(typeof t.onUpgrade!="function")throw new oa("invalid onUpgrade method")}else{if(typeof t.onHeaders!="function")throw new oa("invalid onHeaders method");if(typeof t.onData!="function")throw new oa("invalid onData method");if(typeof t.onComplete!="function")throw new oa("invalid onComplete method")}}s(Xet,"validateHandler");function Zet(t){return!!(t&&(NQ.isDisturbed(t)||t[ob]))}s(Zet,"isDisturbed");function ett(t){return!!(t&&NQ.isErrored(t))}s(ett,"isErrored");function ttt(t){return!!(t&&NQ.isReadable(t))}s(ttt,"isReadable");function rtt(t){return{localAddress:t.localAddress,localPort:t.localPort,remoteAddress:t.remoteAddress,remotePort:t.remotePort,remoteFamily:t.remoteFamily,timeout:t.timeout,bytesWritten:t.bytesWritten,bytesRead:t.bytesRead}}s(rtt,"getSocketInfo");function ntt(t){let e;return new ReadableStream({async start(){e=t[Symbol.asyncIterator]()},async pull(r){let{done:n,value:o}=await e.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let a=Buffer.isBuffer(o)?o:Buffer.from(o);a.byteLength&&r.enqueue(new Uint8Array(a))}return r.desiredSize>0},async cancel(r){await e.return()},type:"bytes"})}s(ntt,"ReadableStreamFrom");function itt(t){return t&&typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&t[Symbol.toStringTag]==="FormData"}s(itt,"isFormDataLike");function ott(t,e){return"addEventListener"in t?(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)):(t.addListener("abort",e),()=>t.removeListener("abort",e))}s(ott,"addAbortListener");var stt=typeof String.prototype.toWellFormed=="function",att=typeof String.prototype.isWellFormed=="function";function YEe(t){return stt?`${t}`.toWellFormed():Det.toUSVString(t)}s(YEe,"toUSVString");function ctt(t){return att?`${t}`.isWellFormed():YEe(t)===`${t}`}s(ctt,"isUSVString");function zEe(t){switch(t){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return t>=33&&t<=126}}s(zEe,"isTokenCharCode");function ltt(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e)if(!zEe(t.charCodeAt(e)))return!1;return!0}s(ltt,"isValidHTTPToken");var utt=/[^\t\x20-\x7e\x80-\xff]/;function ftt(t){return!utt.test(t)}s(ftt,"isValidHeaderValue");function dtt(t){if(t==null||t==="")return{start:0,end:null,size:null};let e=t?t.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return e?{start:parseInt(e[1]),end:e[2]?parseInt(e[2]):null,size:e[3]?parseInt(e[3]):null}:null}s(dtt,"parseRangeHeader");function htt(t,e,r){return(t[xj]??=[]).push([e,r]),t.on(e,r),t}s(htt,"addListener");function Att(t){for(let[e,r]of t[xj]??[])t.removeListener(e,r);t[xj]=null}s(Att,"removeAllListeners");function ptt(t,e,r){try{e.onError(r),R3(e.aborted)}catch(n){t.emit("error",n)}}s(ptt,"errorRequest");var jEe=Object.create(null);jEe.enumerable=!0;var vj={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},KEe={...vj,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(vj,null);Object.setPrototypeOf(KEe,null);JEe.exports={kEnumerableProperty:jEe,nop:Oet,isDisturbed:Zet,isErrored:ett,isReadable:ttt,toUSVString:YEe,isUSVString:ctt,isBlobLike:OEe,parseOrigin:Het,parseURL:HEe,getServerName:Get,isStream:QQ,isIterable:qEe,isAsyncIterable:Wet,isDestroyed:VEe,headerNameToString:WEe,bufferToLowerCasedHeaderName:jet,addListener:htt,removeAllListeners:Att,errorRequest:ptt,parseRawHeaders:Jet,parseHeaders:Ket,parseKeepAliveTimeout:zet,destroy:$et,bodyLength:GEe,deepClone:Vet,ReadableStreamFrom:ntt,isBuffer:$Ee,validateHandler:Xet,getSocketInfo:rtt,isFormDataLike:itt,buildURL:Uet,addAbortListener:ott,isValidHTTPToken:ltt,isValidHeaderValue:ftt,isTokenCharCode:zEe,parseRangeHeader:dtt,normalizedMethodRecordsBase:vj,normalizedMethodRecords:KEe,isValidPort:UEe,isHttpOrHttpsPrefixed:kQ,nodeMajor:Fet,nodeMinor:Let,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Met}});var sb=q((EWr,ZEe)=>{"use strict";f();var pi=require("node:diagnostics_channel"),Tj=require("node:util"),PQ=Tj.debuglog("undici"),bj=Tj.debuglog("fetch"),EE=Tj.debuglog("websocket"),XEe=!1,mtt={beforeConnect:pi.channel("undici:client:beforeConnect"),connected:pi.channel("undici:client:connected"),connectError:pi.channel("undici:client:connectError"),sendHeaders:pi.channel("undici:client:sendHeaders"),create:pi.channel("undici:request:create"),bodySent:pi.channel("undici:request:bodySent"),headers:pi.channel("undici:request:headers"),trailers:pi.channel("undici:request:trailers"),error:pi.channel("undici:request:error"),open:pi.channel("undici:websocket:open"),close:pi.channel("undici:websocket:close"),socketError:pi.channel("undici:websocket:socket_error"),ping:pi.channel("undici:websocket:ping"),pong:pi.channel("undici:websocket:pong")};if(PQ.enabled||bj.enabled){let t=bj.enabled?bj:PQ;pi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),pi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s using %s%s",`${a}${o?`:${o}`:""}`,n,r)}),pi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s using %s%s errored - %s",`${a}${o?`:${o}`:""}`,n,r,c.message)}),pi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)}),pi.channel("undici:request:headers").subscribe(e=>{let{request:{method:r,path:n,origin:o},response:{statusCode:a}}=e;t("received response to %s %s/%s - HTTP %d",r,o,n,a)}),pi.channel("undici:request:trailers").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("trailers received from %s %s/%s",r,o,n)}),pi.channel("undici:request:error").subscribe(e=>{let{request:{method:r,path:n,origin:o},error:a}=e;t("request to %s %s/%s errored - %s",r,o,n,a.message)}),XEe=!0}if(EE.enabled){if(!XEe){let t=PQ.enabled?PQ:EE;pi.channel("undici:client:beforeConnect").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connecting to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),pi.channel("undici:client:connected").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a}}=e;t("connected to %s%s using %s%s",a,o?`:${o}`:"",n,r)}),pi.channel("undici:client:connectError").subscribe(e=>{let{connectParams:{version:r,protocol:n,port:o,host:a},error:c}=e;t("connection to %s%s using %s%s errored - %s",a,o?`:${o}`:"",n,r,c.message)}),pi.channel("undici:client:sendHeaders").subscribe(e=>{let{request:{method:r,path:n,origin:o}}=e;t("sending request to %s %s/%s",r,o,n)})}pi.channel("undici:websocket:open").subscribe(t=>{let{address:{address:e,port:r}}=t;EE("connection opened %s%s",e,r?`:${r}`:"")}),pi.channel("undici:websocket:close").subscribe(t=>{let{websocket:e,code:r,reason:n}=t;EE("closed connection to %s - %s %s",e.url,r,n)}),pi.channel("undici:websocket:socket_error").subscribe(t=>{EE("connection errored - %s",t.message)}),pi.channel("undici:websocket:ping").subscribe(t=>{EE("ping received")}),pi.channel("undici:websocket:pong").subscribe(t=>{EE("pong received")})}ZEe.exports={channels:mtt}});var iIe=q((xWr,nIe)=>{"use strict";f();var{InvalidArgumentError:Ro,NotSupportedError:gtt}=ui(),WA=require("node:assert"),{isValidHTTPToken:rIe,isValidHeaderValue:eIe,isStream:ytt,destroy:Ctt,isBuffer:Ett,isFormDataLike:Itt,isIterable:xtt,isBlobLike:vtt,buildURL:btt,validateHandler:Ttt,getServerName:_tt,normalizedMethodRecords:wtt}=hn(),{channels:th}=sb(),{headerNameLowerCasedRecord:tIe}=BQ(),Stt=/[^\u0021-\u00ff]/,cu=Symbol("handler"),_j=class{static{s(this,"Request")}constructor(e,{path:r,method:n,body:o,headers:a,query:c,idempotent:l,blocking:u,upgrade:d,headersTimeout:h,bodyTimeout:A,reset:p,throwOnError:g,expectContinue:E,servername:v},w){if(typeof r!="string")throw new Ro("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ro("path must be an absolute URL or start with a slash");if(Stt.test(r))throw new Ro("invalid request path");if(typeof n!="string")throw new Ro("method must be a string");if(wtt[n]===void 0&&!rIe(n))throw new Ro("invalid request method");if(d&&typeof d!="string")throw new Ro("upgrade must be a string");if(h!=null&&(!Number.isFinite(h)||h<0))throw new Ro("invalid headersTimeout");if(A!=null&&(!Number.isFinite(A)||A<0))throw new Ro("invalid bodyTimeout");if(p!=null&&typeof p!="boolean")throw new Ro("invalid reset");if(E!=null&&typeof E!="boolean")throw new Ro("invalid expectContinue");if(this.headersTimeout=h,this.bodyTimeout=A,this.throwOnError=g===!0,this.method=n,this.abort=null,o==null)this.body=null;else if(ytt(o)){this.body=o;let _=this.body._readableState;(!_||!_.autoDestroy)&&(this.endHandler=s(function(){Ctt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=S=>{this.abort?this.abort(S):this.error=S},this.body.on("error",this.errorHandler)}else if(Ett(o))this.body=o.byteLength?o:null;else if(ArrayBuffer.isView(o))this.body=o.buffer.byteLength?Buffer.from(o.buffer,o.byteOffset,o.byteLength):null;else if(o instanceof ArrayBuffer)this.body=o.byteLength?Buffer.from(o):null;else if(typeof o=="string")this.body=o.length?Buffer.from(o):null;else if(Itt(o)||xtt(o)||vtt(o))this.body=o;else throw new Ro("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=d||null,this.path=c?btt(r,c):r,this.origin=e,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=u??!1,this.reset=p??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=E??!1,Array.isArray(a)){if(a.length%2!==0)throw new Ro("headers array must be even");for(let _=0;_<a.length;_+=2)FQ(this,a[_],a[_+1])}else if(a&&typeof a=="object")if(a[Symbol.iterator])for(let _ of a){if(!Array.isArray(_)||_.length!==2)throw new Ro("headers must be in key-value pair format");FQ(this,_[0],_[1])}else{let _=Object.keys(a);for(let S=0;S<_.length;++S)FQ(this,_[S],a[_[S]])}else if(a!=null)throw new Ro("headers must be an object or an array");Ttt(w,n,d),this.servername=v||_tt(this.host),this[cu]=w,th.create.hasSubscribers&&th.create.publish({request:this})}onBodySent(e){if(this[cu].onBodySent)try{return this[cu].onBodySent(e)}catch(r){this.abort(r)}}onRequestSent(){if(th.bodySent.hasSubscribers&&th.bodySent.publish({request:this}),this[cu].onRequestSent)try{return this[cu].onRequestSent()}catch(e){this.abort(e)}}onConnect(e){if(WA(!this.aborted),WA(!this.completed),this.error)e(this.error);else return this.abort=e,this[cu].onConnect(e)}onResponseStarted(){return this[cu].onResponseStarted?.()}onHeaders(e,r,n,o){WA(!this.aborted),WA(!this.completed),th.headers.hasSubscribers&&th.headers.publish({request:this,response:{statusCode:e,headers:r,statusText:o}});try{return this[cu].onHeaders(e,r,n,o)}catch(a){this.abort(a)}}onData(e){WA(!this.aborted),WA(!this.completed);try{return this[cu].onData(e)}catch(r){return this.abort(r),!1}}onUpgrade(e,r,n){return WA(!this.aborted),WA(!this.completed),this[cu].onUpgrade(e,r,n)}onComplete(e){this.onFinally(),WA(!this.aborted),this.completed=!0,th.trailers.hasSubscribers&&th.trailers.publish({request:this,trailers:e});try{return this[cu].onComplete(e)}catch(r){this.onError(r)}}onError(e){if(this.onFinally(),th.error.hasSubscribers&&th.error.publish({request:this,error:e}),!this.aborted)return this.aborted=!0,this[cu].onError(e)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(e,r){return FQ(this,e,r),this}};function FQ(t,e,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ro(`invalid ${e} header`);if(r===void 0)return;let n=tIe[e];if(n===void 0&&(n=e.toLowerCase(),tIe[n]===void 0&&!rIe(n)))throw new Ro("invalid header key");if(Array.isArray(r)){let o=[];for(let a=0;a<r.length;a++)if(typeof r[a]=="string"){if(!eIe(r[a]))throw new Ro(`invalid ${e} header`);o.push(r[a])}else if(r[a]===null)o.push("");else{if(typeof r[a]=="object")throw new Ro(`invalid ${e} header`);o.push(`${r[a]}`)}r=o}else if(typeof r=="string"){if(!eIe(r))throw new Ro(`invalid ${e} header`)}else r===null?r="":r=`${r}`;if(t.host===null&&n==="host"){if(typeof r!="string")throw new Ro("invalid host header");t.host=r}else if(t.contentLength===null&&n==="content-length"){if(t.contentLength=parseInt(r,10),!Number.isFinite(t.contentLength))throw new Ro("invalid content-length header")}else if(t.contentType===null&&n==="content-type")t.contentType=r,t.headers.push(e,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ro(`invalid ${n} header`);if(n==="connection"){let o=typeof r=="string"?r.toLowerCase():null;if(o!=="close"&&o!=="keep-alive")throw new Ro("invalid connection header");o==="close"&&(t.reset=!0)}else{if(n==="expect")throw new gtt("expect header not supported");t.headers.push(e,r)}}}s(FQ,"processHeader");nIe.exports=_j});var k3=q((TWr,oIe)=>{"use strict";f();var Btt=require("node:events"),LQ=class extends Btt{static{s(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...e){let r=Array.isArray(e[0])?e[0]:e,n=this.dispatch.bind(this);for(let o of r)if(o!=null){if(typeof o!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof o}`);if(n=o(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new wj(this,n)}},wj=class extends LQ{static{s(this,"ComposedDispatcher")}#e=null;#t=null;constructor(e,r){super(),this.#e=e,this.#t=r}dispatch(...e){this.#t(...e)}close(...e){return this.#e.close(...e)}destroy(...e){return this.#e.destroy(...e)}};oIe.exports=LQ});var ub=q((SWr,sIe)=>{"use strict";f();var Rtt=k3(),{ClientDestroyedError:Sj,ClientClosedError:ktt,InvalidArgumentError:ab}=ui(),{kDestroy:Dtt,kClose:Ntt,kClosed:D3,kDestroyed:cb,kDispatch:Bj,kInterceptors:IE}=Ao(),$A=Symbol("onDestroyed"),lb=Symbol("onClosed"),MQ=Symbol("Intercepted Dispatch"),Rj=class extends Rtt{static{s(this,"DispatcherBase")}constructor(){super(),this[cb]=!1,this[$A]=null,this[D3]=!1,this[lb]=[]}get destroyed(){return this[cb]}get closed(){return this[D3]}get interceptors(){return this[IE]}set interceptors(e){if(e){for(let r=e.length-1;r>=0;r--)if(typeof this[IE][r]!="function")throw new ab("interceptor must be an function")}this[IE]=e}close(e){if(e===void 0)return new Promise((n,o)=>{this.close((a,c)=>a?o(a):n(c))});if(typeof e!="function")throw new ab("invalid callback");if(this[cb]){queueMicrotask(()=>e(new Sj,null));return}if(this[D3]){this[lb]?this[lb].push(e):queueMicrotask(()=>e(null,null));return}this[D3]=!0,this[lb].push(e);let r=s(()=>{let n=this[lb];this[lb]=null;for(let o=0;o<n.length;o++)n[o](null,null)},"onClosed");this[Ntt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(e,r){if(typeof e=="function"&&(r=e,e=null),r===void 0)return new Promise((o,a)=>{this.destroy(e,(c,l)=>c?a(c):o(l))});if(typeof r!="function")throw new ab("invalid callback");if(this[cb]){this[$A]?this[$A].push(r):queueMicrotask(()=>r(null,null));return}e||(e=new Sj),this[cb]=!0,this[$A]=this[$A]||[],this[$A].push(r);let n=s(()=>{let o=this[$A];this[$A]=null;for(let a=0;a<o.length;a++)o[a](null,null)},"onDestroyed");this[Dtt](e).then(()=>{queueMicrotask(n)})}[MQ](e,r){if(!this[IE]||this[IE].length===0)return this[MQ]=this[Bj],this[Bj](e,r);let n=this[Bj].bind(this);for(let o=this[IE].length-1;o>=0;o--)n=this[IE][o](n);return this[MQ]=n,n(e,r)}dispatch(e,r){if(!r||typeof r!="object")throw new ab("handler must be an object");try{if(!e||typeof e!="object")throw new ab("opts must be an object.");if(this[cb]||this[$A])throw new Sj;if(this[D3])throw new ktt;return this[MQ](e,r)}catch(n){if(typeof r.onError!="function")throw new ab("invalid onError method");return r.onError(n),!1}}};sIe.exports=Rj});var Lj=q((kWr,uIe)=>{"use strict";f();var fb=0,kj=1e3,Dj=(kj>>1)-1,YA,Nj=Symbol("kFastTimer"),zA=[],Qj=-2,Pj=-1,cIe=0,aIe=1;function Fj(){fb+=Dj;let t=0,e=zA.length;for(;t<e;){let r=zA[t];r._state===cIe?(r._idleStart=fb-Dj,r._state=aIe):r._state===aIe&&fb>=r._idleStart+r._idleTimeout&&(r._state=Pj,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Pj?(r._state=Qj,--e!==0&&(zA[t]=zA[e])):++t}zA.length=e,zA.length!==0&&lIe()}s(Fj,"onTick");function lIe(){YA?YA.refresh():(clearTimeout(YA),YA=setTimeout(Fj,Dj),YA.unref&&YA.unref())}s(lIe,"refreshTimeout");var OQ=class{static{s(this,"FastTimer")}[Nj]=!0;_state=Qj;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(e,r,n){this._onTimeout=e,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===Qj&&zA.push(this),(!YA||zA.length===1)&&lIe(),this._state=cIe}clear(){this._state=Pj,this._idleStart=-1}};uIe.exports={setTimeout(t,e,r){return e<=kj?setTimeout(t,e,r):new OQ(t,e,r)},clearTimeout(t){t[Nj]?t.clear():clearTimeout(t)},setFastTimeout(t,e,r){return new OQ(t,e,r)},clearFastTimeout(t){t.clear()},now(){return fb},tick(t=0){fb+=t-kj+1,Fj(),Fj()},reset(){fb=0,zA.length=0,clearTimeout(YA),YA=null},kFastTimer:Nj}});var N3=q((FWr,pIe)=>{"use strict";f();var Qtt=require("node:net"),fIe=require("node:assert"),AIe=hn(),{InvalidArgumentError:Ptt,ConnectTimeoutError:Ftt}=ui(),UQ=Lj();function dIe(){}s(dIe,"noop");var Mj,Oj;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?Oj=class{static{s(this,"WeakSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(e){let r=this._sessionCache.get(e);return r?r.deref():null}set(e,r){this._maxCachedSessions!==0&&(this._sessionCache.set(e,new WeakRef(r)),this._sessionRegistry.register(r,e))}}:Oj=class{static{s(this,"SimpleSessionCache")}constructor(e){this._maxCachedSessions=e,this._sessionCache=new Map}get(e){return this._sessionCache.get(e)}set(e,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(e,r)}}};function Ltt({allowH2:t,maxCachedSessions:e,socketPath:r,timeout:n,session:o,...a}){if(e!=null&&(!Number.isInteger(e)||e<0))throw new Ptt("maxCachedSessions must be a positive integer or zero");let c={path:r,...a},l=new Oj(e??100);return n=n??1e4,t=t??!1,s(function({hostname:d,host:h,protocol:A,port:p,servername:g,localAddress:E,httpSocket:v},w){let _;if(A==="https:"){Mj||(Mj=require("node:tls")),g=g||c.servername||AIe.getServerName(h)||null;let D=g||d;fIe(D);let N=o||l.get(D)||null;p=p||443,_=Mj.connect({highWaterMark:16384,...c,servername:g,session:N,localAddress:E,ALPNProtocols:t?["http/1.1","h2"]:["http/1.1"],socket:v,port:p,host:d}),_.on("session",function(P){l.set(D,P)})}else fIe(!v,"httpSocket can only be sent on TLS update"),p=p||80,_=Qtt.connect({highWaterMark:64*1024,...c,localAddress:E,port:p,host:d});if(c.keepAlive==null||c.keepAlive){let D=c.keepAliveInitialDelay===void 0?6e4:c.keepAliveInitialDelay;_.setKeepAlive(!0,D)}let S=Mtt(new WeakRef(_),{timeout:n,hostname:d,port:p});return _.setNoDelay(!0).once(A==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(S),w){let D=w;w=null,D(null,this)}}).on("error",function(D){if(queueMicrotask(S),w){let N=w;w=null,N(D)}}),_},"connect")}s(Ltt,"buildConnector");var Mtt=process.platform==="win32"?(t,e)=>{if(!e.timeout)return dIe;let r=null,n=null,o=UQ.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>hIe(t.deref(),e))})},e.timeout);return()=>{UQ.clearFastTimeout(o),clearImmediate(r),clearImmediate(n)}}:(t,e)=>{if(!e.timeout)return dIe;let r=null,n=UQ.setFastTimeout(()=>{r=setImmediate(()=>{hIe(t.deref(),e)})},e.timeout);return()=>{UQ.clearFastTimeout(n),clearImmediate(r)}};function hIe(t,e){if(t==null)return;let r="Connect Timeout Error";Array.isArray(t.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${t.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${e.hostname}:${e.port},`,r+=` timeout: ${e.timeout}ms)`,AIe.destroy(t,new Ftt(r))}s(hIe,"onConnectTimeout");pIe.exports=Ltt});var mIe=q(HQ=>{"use strict";f();Object.defineProperty(HQ,"__esModule",{value:!0});HQ.enumToMap=void 0;function Ott(t){let e={};return Object.keys(t).forEach(r=>{let n=t[r];typeof n=="number"&&(e[r]=n)}),e}s(Ott,"enumToMap");HQ.enumToMap=Ott});var gIe=q(gt=>{"use strict";f();Object.defineProperty(gt,"__esModule",{value:!0});gt.SPECIAL_HEADERS=gt.HEADER_STATE=gt.MINOR=gt.MAJOR=gt.CONNECTION_TOKEN_CHARS=gt.HEADER_CHARS=gt.TOKEN=gt.STRICT_TOKEN=gt.HEX=gt.URL_CHAR=gt.STRICT_URL_CHAR=gt.USERINFO_CHARS=gt.MARK=gt.ALPHANUM=gt.NUM=gt.HEX_MAP=gt.NUM_MAP=gt.ALPHA=gt.FINISH=gt.H_METHOD_MAP=gt.METHOD_MAP=gt.METHODS_RTSP=gt.METHODS_ICE=gt.METHODS_HTTP=gt.METHODS=gt.LENIENT_FLAGS=gt.FLAGS=gt.TYPE=gt.ERROR=void 0;var Utt=mIe(),Htt;(function(t){t[t.OK=0]="OK",t[t.INTERNAL=1]="INTERNAL",t[t.STRICT=2]="STRICT",t[t.LF_EXPECTED=3]="LF_EXPECTED",t[t.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",t[t.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",t[t.INVALID_METHOD=6]="INVALID_METHOD",t[t.INVALID_URL=7]="INVALID_URL",t[t.INVALID_CONSTANT=8]="INVALID_CONSTANT",t[t.INVALID_VERSION=9]="INVALID_VERSION",t[t.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",t[t.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",t[t.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",t[t.INVALID_STATUS=13]="INVALID_STATUS",t[t.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",t[t.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",t[t.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",t[t.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",t[t.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",t[t.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",t[t.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",t[t.PAUSED=21]="PAUSED",t[t.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",t[t.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",t[t.USER=24]="USER"})(Htt=gt.ERROR||(gt.ERROR={}));var qtt;(function(t){t[t.BOTH=0]="BOTH",t[t.REQUEST=1]="REQUEST",t[t.RESPONSE=2]="RESPONSE"})(qtt=gt.TYPE||(gt.TYPE={}));var Gtt;(function(t){t[t.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",t[t.CHUNKED=8]="CHUNKED",t[t.UPGRADE=16]="UPGRADE",t[t.CONTENT_LENGTH=32]="CONTENT_LENGTH",t[t.SKIPBODY=64]="SKIPBODY",t[t.TRAILING=128]="TRAILING",t[t.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Gtt=gt.FLAGS||(gt.FLAGS={}));var Vtt;(function(t){t[t.HEADERS=1]="HEADERS",t[t.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",t[t.KEEP_ALIVE=4]="KEEP_ALIVE"})(Vtt=gt.LENIENT_FLAGS||(gt.LENIENT_FLAGS={}));var or;(function(t){t[t.DELETE=0]="DELETE",t[t.GET=1]="GET",t[t.HEAD=2]="HEAD",t[t.POST=3]="POST",t[t.PUT=4]="PUT",t[t.CONNECT=5]="CONNECT",t[t.OPTIONS=6]="OPTIONS",t[t.TRACE=7]="TRACE",t[t.COPY=8]="COPY",t[t.LOCK=9]="LOCK",t[t.MKCOL=10]="MKCOL",t[t.MOVE=11]="MOVE",t[t.PROPFIND=12]="PROPFIND",t[t.PROPPATCH=13]="PROPPATCH",t[t.SEARCH=14]="SEARCH",t[t.UNLOCK=15]="UNLOCK",t[t.BIND=16]="BIND",t[t.REBIND=17]="REBIND",t[t.UNBIND=18]="UNBIND",t[t.ACL=19]="ACL",t[t.REPORT=20]="REPORT",t[t.MKACTIVITY=21]="MKACTIVITY",t[t.CHECKOUT=22]="CHECKOUT",t[t.MERGE=23]="MERGE",t[t["M-SEARCH"]=24]="M-SEARCH",t[t.NOTIFY=25]="NOTIFY",t[t.SUBSCRIBE=26]="SUBSCRIBE",t[t.UNSUBSCRIBE=27]="UNSUBSCRIBE",t[t.PATCH=28]="PATCH",t[t.PURGE=29]="PURGE",t[t.MKCALENDAR=30]="MKCALENDAR",t[t.LINK=31]="LINK",t[t.UNLINK=32]="UNLINK",t[t.SOURCE=33]="SOURCE",t[t.PRI=34]="PRI",t[t.DESCRIBE=35]="DESCRIBE",t[t.ANNOUNCE=36]="ANNOUNCE",t[t.SETUP=37]="SETUP",t[t.PLAY=38]="PLAY",t[t.PAUSE=39]="PAUSE",t[t.TEARDOWN=40]="TEARDOWN",t[t.GET_PARAMETER=41]="GET_PARAMETER",t[t.SET_PARAMETER=42]="SET_PARAMETER",t[t.REDIRECT=43]="REDIRECT",t[t.RECORD=44]="RECORD",t[t.FLUSH=45]="FLUSH"})(or=gt.METHODS||(gt.METHODS={}));gt.METHODS_HTTP=[or.DELETE,or.GET,or.HEAD,or.POST,or.PUT,or.CONNECT,or.OPTIONS,or.TRACE,or.COPY,or.LOCK,or.MKCOL,or.MOVE,or.PROPFIND,or.PROPPATCH,or.SEARCH,or.UNLOCK,or.BIND,or.REBIND,or.UNBIND,or.ACL,or.REPORT,or.MKACTIVITY,or.CHECKOUT,or.MERGE,or["M-SEARCH"],or.NOTIFY,or.SUBSCRIBE,or.UNSUBSCRIBE,or.PATCH,or.PURGE,or.MKCALENDAR,or.LINK,or.UNLINK,or.PRI,or.SOURCE];gt.METHODS_ICE=[or.SOURCE];gt.METHODS_RTSP=[or.OPTIONS,or.DESCRIBE,or.ANNOUNCE,or.SETUP,or.PLAY,or.PAUSE,or.TEARDOWN,or.GET_PARAMETER,or.SET_PARAMETER,or.REDIRECT,or.RECORD,or.FLUSH,or.GET,or.POST];gt.METHOD_MAP=Utt.enumToMap(or);gt.H_METHOD_MAP={};Object.keys(gt.METHOD_MAP).forEach(t=>{/^H/.test(t)&&(gt.H_METHOD_MAP[t]=gt.METHOD_MAP[t])});var Wtt;(function(t){t[t.SAFE=0]="SAFE",t[t.SAFE_WITH_CB=1]="SAFE_WITH_CB",t[t.UNSAFE=2]="UNSAFE"})(Wtt=gt.FINISH||(gt.FINISH={}));gt.ALPHA=[];for(let t=65;t<=90;t++)gt.ALPHA.push(String.fromCharCode(t)),gt.ALPHA.push(String.fromCharCode(t+32));gt.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};gt.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};gt.NUM=["0","1","2","3","4","5","6","7","8","9"];gt.ALPHANUM=gt.ALPHA.concat(gt.NUM);gt.MARK=["-","_",".","!","~","*","'","(",")"];gt.USERINFO_CHARS=gt.ALPHANUM.concat(gt.MARK).concat(["%",";",":","&","=","+","$",","]);gt.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(gt.ALPHANUM);gt.URL_CHAR=gt.STRICT_URL_CHAR.concat(["	","\f"]);for(let t=128;t<=255;t++)gt.URL_CHAR.push(t);gt.HEX=gt.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);gt.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(gt.ALPHANUM);gt.TOKEN=gt.STRICT_TOKEN.concat([" "]);gt.HEADER_CHARS=["	"];for(let t=32;t<=255;t++)t!==127&&gt.HEADER_CHARS.push(t);gt.CONNECTION_TOKEN_CHARS=gt.HEADER_CHARS.filter(t=>t!==44);gt.MAJOR=gt.NUM_MAP;gt.MINOR=gt.MAJOR;var db;(function(t){t[t.GENERAL=0]="GENERAL",t[t.CONNECTION=1]="CONNECTION",t[t.CONTENT_LENGTH=2]="CONTENT_LENGTH",t[t.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",t[t.UPGRADE=4]="UPGRADE",t[t.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",t[t.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",t[t.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",t[t.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(db=gt.HEADER_STATE||(gt.HEADER_STATE={}));gt.SPECIAL_HEADERS={connection:db.CONNECTION,"content-length":db.CONTENT_LENGTH,"proxy-connection":db.CONNECTION,"transfer-encoding":db.TRANSFER_ENCODING,upgrade:db.UPGRADE}});var Uj=q((VWr,yIe)=>{"use strict";f();var{Buffer:$tt}=require("node:buffer");yIe.exports=$tt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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CABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var EIe=q(($Wr,CIe)=>{"use strict";f();var{Buffer:Ytt}=require("node:buffer");CIe.exports=Ytt.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVu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PgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAC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iQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEV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JSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxB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AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB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AAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var Q3=q((zWr,SIe)=>{"use strict";f();var IIe=["GET","HEAD","POST"],ztt=new Set(IIe),jtt=[101,204,205,304],xIe=[301,302,303,307,308],Ktt=new Set(xIe),vIe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Jtt=new Set(vIe),bIe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Xtt=new Set(bIe),Ztt=["follow","manual","error"],TIe=["GET","HEAD","OPTIONS","TRACE"],ert=new Set(TIe),trt=["navigate","same-origin","no-cors","cors"],rrt=["omit","same-origin","include"],nrt=["default","no-store","reload","no-cache","force-cache","only-if-cached"],irt=["content-encoding","content-language","content-location","content-type","content-length"],ort=["half"],_Ie=["CONNECT","TRACE","TRACK"],srt=new Set(_Ie),wIe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],art=new Set(wIe);SIe.exports={subresource:wIe,forbiddenMethods:_Ie,requestBodyHeader:irt,referrerPolicy:bIe,requestRedirect:Ztt,requestMode:trt,requestCredentials:rrt,requestCache:nrt,redirectStatus:xIe,corsSafeListedMethods:IIe,nullBodyStatus:jtt,safeMethods:TIe,badPorts:vIe,requestDuplex:ort,subresourceSet:art,badPortsSet:Jtt,redirectStatusSet:Ktt,corsSafeListedMethodsSet:ztt,safeMethodsSet:ert,forbiddenMethodsSet:srt,referrerPolicySet:Xtt}});var qj=q((KWr,BIe)=>{"use strict";f();var Hj=Symbol.for("undici.globalOrigin.1");function crt(){return globalThis[Hj]}s(crt,"getGlobalOrigin");function lrt(t){if(t===void 0){Object.defineProperty(globalThis,Hj,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${e.protocol}`);Object.defineProperty(globalThis,Hj,{value:e,writable:!0,enumerable:!1,configurable:!1})}s(lrt,"setGlobalOrigin");BIe.exports={getGlobalOrigin:crt,setGlobalOrigin:lrt}});var pc=q((ZWr,FIe)=>{"use strict";f();var GQ=require("node:assert"),urt=new TextEncoder,P3=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,frt=/[\u000A\u000D\u0009\u0020]/,drt=/[\u0009\u000A\u000C\u000D\u0020]/g,hrt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Art(t){GQ(t.protocol==="data:");let e=DIe(t,!0);e=e.slice(5);let r={position:0},n=hb(",",e,r),o=n.length;if(n=Ert(n,!0,!0),r.position>=e.length)return"failure";r.position++;let a=e.slice(o+1),c=NIe(a);if(/;(\u0020){0,}base64$/i.test(n)){let u=PIe(c);if(c=mrt(u),c==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=Gj(n);return l==="failure"&&(l=Gj("text/plain;charset=US-ASCII")),{mimeType:l,body:c}}s(Art,"dataURLProcessor");function DIe(t,e=!1){if(!e)return t.href;let r=t.href,n=t.hash.length,o=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?o.slice(0,-1):o}s(DIe,"URLSerializer");function VQ(t,e,r){let n="";for(;r.position<e.length&&t(e[r.position]);)n+=e[r.position],r.position++;return n}s(VQ,"collectASequenceOfCodePoints");function hb(t,e,r){let n=e.indexOf(t,r.position),o=r.position;return n===-1?(r.position=e.length,e.slice(o)):(r.position=n,e.slice(o,r.position))}s(hb,"collectASequenceOfCodePointsFast");function NIe(t){let e=urt.encode(t);return prt(e)}s(NIe,"stringPercentDecode");function RIe(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(RIe,"isHexCharByte");function kIe(t){return t>=48&&t<=57?t-48:(t&223)-55}s(kIe,"hexByteToNumber");function prt(t){let e=t.length,r=new Uint8Array(e),n=0;for(let o=0;o<e;++o){let a=t[o];a!==37?r[n++]=a:a===37&&!(RIe(t[o+1])&&RIe(t[o+2]))?r[n++]=37:(r[n++]=kIe(t[o+1])<<4|kIe(t[o+2]),o+=2)}return e===n?r:r.subarray(0,n)}s(prt,"percentDecode");function Gj(t){t=qQ(t,!0,!0);let e={position:0},r=hb("/",t,e);if(r.length===0||!P3.test(r)||e.position>t.length)return"failure";e.position++;let n=hb(";",t,e);if(n=qQ(n,!1,!0),n.length===0||!P3.test(n))return"failure";let o=r.toLowerCase(),a=n.toLowerCase(),c={type:o,subtype:a,parameters:new Map,essence:`${o}/${a}`};for(;e.position<t.length;){e.position++,VQ(d=>frt.test(d),t,e);let l=VQ(d=>d!==";"&&d!=="=",t,e);if(l=l.toLowerCase(),e.position<t.length){if(t[e.position]===";")continue;e.position++}if(e.position>t.length)break;let u=null;if(t[e.position]==='"')u=QIe(t,e,!0),hb(";",t,e);else if(u=hb(";",t,e),u=qQ(u,!1,!0),u.length===0)continue;l.length!==0&&P3.test(l)&&(u.length===0||hrt.test(u))&&!c.parameters.has(l)&&c.parameters.set(l,u)}return c}s(Gj,"parseMIMEType");function mrt(t){t=t.replace(drt,"");let e=t.length;if(e%4===0&&t.charCodeAt(e-1)===61&&(--e,t.charCodeAt(e-1)===61&&--e),e%4===1||/[^+/0-9A-Za-z]/.test(t.length===e?t:t.substring(0,e)))return"failure";let r=Buffer.from(t,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}s(mrt,"forgivingBase64");function QIe(t,e,r){let n=e.position,o="";for(GQ(t[e.position]==='"'),e.position++;o+=VQ(c=>c!=='"'&&c!=="\\",t,e),!(e.position>=t.length);){let a=t[e.position];if(e.position++,a==="\\"){if(e.position>=t.length){o+="\\";break}o+=t[e.position],e.position++}else{GQ(a==='"');break}}return r?o:t.slice(n,e.position)}s(QIe,"collectAnHTTPQuotedString");function grt(t){GQ(t!=="failure");let{parameters:e,essence:r}=t,n=r;for(let[o,a]of e.entries())n+=";",n+=o,n+="=",P3.test(a)||(a=a.replace(/(\\|")/g,"\\$1"),a='"'+a,a+='"'),n+=a;return n}s(grt,"serializeAMimeType");function yrt(t){return t===13||t===10||t===9||t===32}s(yrt,"isHTTPWhiteSpace");function qQ(t,e=!0,r=!0){return Vj(t,e,r,yrt)}s(qQ,"removeHTTPWhitespace");function Crt(t){return t===13||t===10||t===9||t===12||t===32}s(Crt,"isASCIIWhitespace");function Ert(t,e=!0,r=!0){return Vj(t,e,r,Crt)}s(Ert,"removeASCIIWhitespace");function Vj(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t.charCodeAt(o));)o++;if(r)for(;a>0&&n(t.charCodeAt(a));)a--;return o===0&&a===t.length-1?t:t.slice(o,a+1)}s(Vj,"removeChars");function PIe(t){let e=t.length;if(65535>e)return String.fromCharCode.apply(null,t);let r="",n=0,o=65535;for(;n<e;)n+o>e&&(o=e-n),r+=String.fromCharCode.apply(null,t.subarray(n,n+=o));return r}s(PIe,"isomorphicDecode");function Irt(t){switch(t.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return t.subtype.endsWith("+json")?"application/json":t.subtype.endsWith("+xml")?"application/xml":""}s(Irt,"minimizeSupportedMimeType");FIe.exports={dataURLProcessor:Art,URLSerializer:DIe,collectASequenceOfCodePoints:VQ,collectASequenceOfCodePointsFast:hb,stringPercentDecode:NIe,parseMIMEType:Gj,collectAnHTTPQuotedString:QIe,serializeAMimeType:grt,removeChars:Vj,removeHTTPWhitespace:qQ,minimizeSupportedMimeType:Irt,HTTP_TOKEN_CODEPOINTS:P3,isomorphicDecode:PIe}});var Na=q((r$r,LIe)=>{"use strict";f();var{types:rh,inspect:xrt}=require("node:util"),{markAsUncloneable:vrt}=require("node:worker_threads"),{toUSVString:brt}=hn(),dt={};dt.converters={};dt.util={};dt.errors={};dt.errors.exception=function(t){return new TypeError(`${t.header}: ${t.message}`)};dt.errors.conversionFailed=function(t){let e=t.types.length===1?"":" one of",r=`${t.argument} could not be converted to${e}: ${t.types.join(", ")}.`;return dt.errors.exception({header:t.prefix,message:r})};dt.errors.invalidArgument=function(t){return dt.errors.exception({header:t.prefix,message:`"${t.value}" is an invalid ${t.type}.`})};dt.brandCheck=function(t,e,r){if(r?.strict!==!1){if(!(t instanceof e)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(t?.[Symbol.toStringTag]!==e.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};dt.argumentLengthCheck=function({length:t},e,r){if(t<e)throw dt.errors.exception({message:`${e} argument${e!==1?"s":""} required, but${t?" only":""} ${t} found.`,header:r})};dt.illegalConstructor=function(){throw dt.errors.exception({header:"TypeError",message:"Illegal constructor"})};dt.util.Type=function(t){switch(typeof t){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return t===null?"Null":"Object"}};dt.util.markAsUncloneable=vrt||(()=>{});dt.util.ConvertToInt=function(t,e,r,n){let o,a;e===64?(o=Math.pow(2,53)-1,r==="unsigned"?a=0:a=Math.pow(-2,53)+1):r==="unsigned"?(a=0,o=Math.pow(2,e)-1):(a=Math.pow(-2,e)-1,o=Math.pow(2,e-1)-1);let c=Number(t);if(c===0&&(c=0),n?.enforceRange===!0){if(Number.isNaN(c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY)throw dt.errors.exception({header:"Integer conversion",message:`Could not convert ${dt.util.Stringify(t)} to an integer.`});if(c=dt.util.IntegerPart(c),c<a||c>o)throw dt.errors.exception({header:"Integer conversion",message:`Value must be between ${a}-${o}, got ${c}.`});return c}return!Number.isNaN(c)&&n?.clamp===!0?(c=Math.min(Math.max(c,a),o),Math.floor(c)%2===0?c=Math.floor(c):c=Math.ceil(c),c):Number.isNaN(c)||c===0&&Object.is(0,c)||c===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY?0:(c=dt.util.IntegerPart(c),c=c%Math.pow(2,e),r==="signed"&&c>=Math.pow(2,e)-1?c-Math.pow(2,e):c)};dt.util.IntegerPart=function(t){let e=Math.floor(Math.abs(t));return t<0?-1*e:e};dt.util.Stringify=function(t){switch(dt.util.Type(t)){case"Symbol":return`Symbol(${t.description})`;case"Object":return xrt(t);case"String":return`"${t}"`;default:return`${t}`}};dt.sequenceConverter=function(t){return(e,r,n,o)=>{if(dt.util.Type(e)!=="Object")throw dt.errors.exception({header:r,message:`${n} (${dt.util.Stringify(e)}) is not iterable.`});let a=typeof o=="function"?o():e?.[Symbol.iterator]?.(),c=[],l=0;if(a===void 0||typeof a.next!="function")throw dt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:u,value:d}=a.next();if(u)break;c.push(t(d,r,`${n}[${l++}]`))}return c}};dt.recordConverter=function(t,e){return(r,n,o)=>{if(dt.util.Type(r)!=="Object")throw dt.errors.exception({header:n,message:`${o} ("${dt.util.Type(r)}") is not an Object.`});let a={};if(!rh.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let u of l){let d=t(u,n,o),h=e(r[u],n,o);a[d]=h}return a}let c=Reflect.ownKeys(r);for(let l of c)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let d=t(l,n,o),h=e(r[l],n,o);a[d]=h}return a}};dt.interfaceConverter=function(t){return(e,r,n,o)=>{if(o?.strict!==!1&&!(e instanceof t))throw dt.errors.exception({header:r,message:`Expected ${n} ("${dt.util.Stringify(e)}") to be an instance of ${t.name}.`});return e}};dt.dictionaryConverter=function(t){return(e,r,n)=>{let o=dt.util.Type(e),a={};if(o==="Null"||o==="Undefined")return a;if(o!=="Object")throw dt.errors.exception({header:r,message:`Expected ${e} to be one of: Null, Undefined, Object.`});for(let c of t){let{key:l,defaultValue:u,required:d,converter:h}=c;if(d===!0&&!Object.hasOwn(e,l))throw dt.errors.exception({header:r,message:`Missing required key "${l}".`});let A=e[l],p=Object.hasOwn(c,"defaultValue");if(p&&A!==null&&(A??=u()),d||p||A!==void 0){if(A=h(A,r,`${n}.${l}`),c.allowedValues&&!c.allowedValues.includes(A))throw dt.errors.exception({header:r,message:`${A} is not an accepted type. Expected one of ${c.allowedValues.join(", ")}.`});a[l]=A}}return a}};dt.nullableConverter=function(t){return(e,r,n)=>e===null?e:t(e,r,n)};dt.converters.DOMString=function(t,e,r,n){if(t===null&&n?.legacyNullToEmptyString)return"";if(typeof t=="symbol")throw dt.errors.exception({header:e,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(t)};dt.converters.ByteString=function(t,e,r){let n=dt.converters.DOMString(t,e,r);for(let o=0;o<n.length;o++)if(n.charCodeAt(o)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${o} has a value of ${n.charCodeAt(o)} which is greater than 255.`);return n};dt.converters.USVString=brt;dt.converters.boolean=function(t){return!!t};dt.converters.any=function(t){return t};dt.converters["long long"]=function(t,e,r){return dt.util.ConvertToInt(t,64,"signed",void 0,e,r)};dt.converters["unsigned long long"]=function(t,e,r){return dt.util.ConvertToInt(t,64,"unsigned",void 0,e,r)};dt.converters["unsigned long"]=function(t,e,r){return dt.util.ConvertToInt(t,32,"unsigned",void 0,e,r)};dt.converters["unsigned short"]=function(t,e,r,n){return dt.util.ConvertToInt(t,16,"unsigned",n,e,r)};dt.converters.ArrayBuffer=function(t,e,r,n){if(dt.util.Type(t)!=="Object"||!rh.isAnyArrayBuffer(t))throw dt.errors.conversionFailed({prefix:e,argument:`${r} ("${dt.util.Stringify(t)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&rh.isSharedArrayBuffer(t))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.resizable||t.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.TypedArray=function(t,e,r,n,o){if(dt.util.Type(t)!=="Object"||!rh.isTypedArray(t)||t.constructor.name!==e.name)throw dt.errors.conversionFailed({prefix:r,argument:`${n} ("${dt.util.Stringify(t)}")`,types:[e.name]});if(o?.allowShared===!1&&rh.isSharedArrayBuffer(t.buffer))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.DataView=function(t,e,r,n){if(dt.util.Type(t)!=="Object"||!rh.isDataView(t))throw dt.errors.exception({header:e,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&rh.isSharedArrayBuffer(t.buffer))throw dt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(t.buffer.resizable||t.buffer.growable)throw dt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return t};dt.converters.BufferSource=function(t,e,r,n){if(rh.isAnyArrayBuffer(t))return dt.converters.ArrayBuffer(t,e,r,{...n,allowShared:!1});if(rh.isTypedArray(t))return dt.converters.TypedArray(t,t.constructor,e,r,{...n,allowShared:!1});if(rh.isDataView(t))return dt.converters.DataView(t,e,r,{...n,allowShared:!1});throw dt.errors.conversionFailed({prefix:e,argument:`${r} ("${dt.util.Stringify(t)}")`,types:["BufferSource"]})};dt.converters["sequence<ByteString>"]=dt.sequenceConverter(dt.converters.ByteString);dt.converters["sequence<sequence<ByteString>>"]=dt.sequenceConverter(dt.converters["sequence<ByteString>"]);dt.converters["record<ByteString, ByteString>"]=dt.recordConverter(dt.converters.ByteString,dt.converters.ByteString);LIe.exports={webidl:dt}});var sl=q((i$r,JIe)=>{"use strict";f();var{Transform:Trt}=require("node:stream"),MIe=require("node:zlib"),{redirectStatusSet:_rt,referrerPolicySet:wrt,badPortsSet:Srt}=Q3(),{getGlobalOrigin:OIe}=qj(),{collectASequenceOfCodePoints:xE,collectAnHTTPQuotedString:Brt,removeChars:Rrt,parseMIMEType:krt}=pc(),{performance:Drt}=require("node:perf_hooks"),{isBlobLike:Nrt,ReadableStreamFrom:Qrt,isValidHTTPToken:UIe,normalizedMethodRecordsBase:Prt}=hn(),vE=require("node:assert"),{isUint8Array:Frt}=require("node:util/types"),{webidl:F3}=Na(),HIe=[],$Q;try{$Q=require("node:crypto");let t=["sha256","sha384","sha512"];HIe=$Q.getHashes().filter(e=>t.includes(e))}catch{}function qIe(t){let e=t.urlList,r=e.length;return r===0?null:e[r-1].toString()}s(qIe,"responseURL");function Lrt(t,e){if(!_rt.has(t.status))return null;let r=t.headersList.get("location",!0);return r!==null&&VIe(r)&&(GIe(r)||(r=Mrt(r)),r=new URL(r,qIe(t))),r&&!r.hash&&(r.hash=e),r}s(Lrt,"responseLocationURL");function GIe(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>126||r<32)return!1}return!0}s(GIe,"isValidEncodedURL");function Mrt(t){return Buffer.from(t,"binary").toString("utf8")}s(Mrt,"normalizeBinaryStringToUtf8");function M3(t){return t.urlList[t.urlList.length-1]}s(M3,"requestCurrentURL");function Ort(t){let e=M3(t);return jIe(e)&&Srt.has(e.port)?"blocked":"allowed"}s(Ort,"requestBadPort");function Urt(t){return t instanceof Error||t?.constructor?.name==="Error"||t?.constructor?.name==="DOMException"}s(Urt,"isErrorLike");function Hrt(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}s(Hrt,"isValidReasonPhrase");var qrt=UIe;function VIe(t){return(t[0]==="	"||t[0]===" "||t[t.length-1]==="	"||t[t.length-1]===" "||t.includes(`
`)||t.includes("\r")||t.includes("\0"))===!1}s(VIe,"isValidHeaderValue");function Grt(t,e){let{headersList:r}=e,n=(r.get("referrer-policy",!0)??"").split(","),o="";if(n.length>0)for(let a=n.length;a!==0;a--){let c=n[a-1].trim();if(wrt.has(c)){o=c;break}}o!==""&&(t.referrerPolicy=o)}s(Grt,"setRequestReferrerPolicyOnRedirect");function Vrt(){return"allowed"}s(Vrt,"crossOriginResourcePolicyCheck");function Wrt(){return"success"}s(Wrt,"corsCheck");function $rt(){return"success"}s($rt,"TAOCheck");function Yrt(t){let e=null;e=t.mode,t.headersList.set("sec-fetch-mode",e,!0)}s(Yrt,"appendFetchMetadata");function zrt(t){let e=t.origin;if(!(e==="client"||e===void 0)){if(t.responseTainting==="cors"||t.mode==="websocket")t.headersList.append("origin",e,!0);else if(t.method!=="GET"&&t.method!=="HEAD"){switch(t.referrerPolicy){case"no-referrer":e=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":t.origin&&$j(t.origin)&&!$j(M3(t))&&(e=null);break;case"same-origin":YQ(t,M3(t))||(e=null);break;default:}t.headersList.append("origin",e,!0)}}}s(zrt,"appendRequestOriginHeader");function Ab(t,e){return t}s(Ab,"coarsenTime");function jrt(t,e,r){return!t?.startTime||t.startTime<e?{domainLookupStartTime:e,domainLookupEndTime:e,connectionStartTime:e,connectionEndTime:e,secureConnectionStartTime:e,ALPNNegotiatedProtocol:t?.ALPNNegotiatedProtocol}:{domainLookupStartTime:Ab(t.domainLookupStartTime,r),domainLookupEndTime:Ab(t.domainLookupEndTime,r),connectionStartTime:Ab(t.connectionStartTime,r),connectionEndTime:Ab(t.connectionEndTime,r),secureConnectionStartTime:Ab(t.secureConnectionStartTime,r),ALPNNegotiatedProtocol:t.ALPNNegotiatedProtocol}}s(jrt,"clampAndCoarsenConnectionTimingInfo");function Krt(t){return Ab(Drt.now(),t)}s(Krt,"coarsenedSharedCurrentTime");function Jrt(t){return{startTime:t.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:t.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}s(Jrt,"createOpaqueTimingInfo");function WIe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}s(WIe,"makePolicyContainer");function Xrt(t){return{referrerPolicy:t.referrerPolicy}}s(Xrt,"clonePolicyContainer");function Zrt(t){let e=t.referrerPolicy;vE(e);let r=null;if(t.referrer==="client"){let l=OIe();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else t.referrer instanceof URL&&(r=t.referrer);let n=Wj(r),o=Wj(r,!0);n.toString().length>4096&&(n=o);let a=YQ(t,n),c=L3(n)&&!L3(t.url);switch(e){case"origin":return o??Wj(r,!0);case"unsafe-url":return n;case"same-origin":return a?o:"no-referrer";case"origin-when-cross-origin":return a?n:o;case"strict-origin-when-cross-origin":{let l=M3(t);return YQ(n,l)?n:L3(n)&&!L3(l)?"no-referrer":o}case"strict-origin":case"no-referrer-when-downgrade":default:return c?"no-referrer":o}}s(Zrt,"determineRequestsReferrer");function Wj(t,e){return vE(t instanceof URL),t=new URL(t),t.protocol==="file:"||t.protocol==="about:"||t.protocol==="blank:"?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}s(Wj,"stripURLForReferrer");function L3(t){if(!(t instanceof URL))return!1;if(t.href==="about:blank"||t.href==="about:srcdoc"||t.protocol==="data:"||t.protocol==="file:")return!0;return e(t.origin);function e(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}s(L3,"isURLPotentiallyTrustworthy");function ent(t,e){if($Q===void 0)return!0;let r=$Ie(e);if(r==="no metadata"||r.length===0)return!0;let n=rnt(r),o=nnt(r,n);for(let a of o){let c=a.algo,l=a.hash,u=$Q.createHash(c).update(t).digest("base64");if(u[u.length-1]==="="&&(u[u.length-2]==="="?u=u.slice(0,-2):u=u.slice(0,-1)),int(u,l))return!0}return!1}s(ent,"bytesMatch");var tnt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function $Ie(t){let e=[],r=!0;for(let n of t.split(" ")){r=!1;let o=tnt.exec(n);if(o===null||o.groups===void 0||o.groups.algo===void 0)continue;let a=o.groups.algo.toLowerCase();HIe.includes(a)&&e.push(o.groups)}return r===!0?"no metadata":e}s($Ie,"parseMetadata");function rnt(t){let e=t[0].algo;if(e[3]==="5")return e;for(let r=1;r<t.length;++r){let n=t[r];if(n.algo[3]==="5"){e="sha512";break}else{if(e[3]==="3")continue;n.algo[3]==="3"&&(e="sha384")}}return e}s(rnt,"getStrongestMetadata");function nnt(t,e){if(t.length===1)return t;let r=0;for(let n=0;n<t.length;++n)t[n].algo===e&&(t[r++]=t[n]);return t.length=r,t}s(nnt,"filterMetadataListByAlgorithm");function int(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r]){if(t[r]==="+"&&e[r]==="-"||t[r]==="/"&&e[r]==="_")continue;return!1}return!0}s(int,"compareBase64Mixed");function ont(t){}s(ont,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function YQ(t,e){return t.origin===e.origin&&t.origin==="null"||t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port}s(YQ,"sameOrigin");function snt(){let t,e;return{promise:new Promise((n,o)=>{t=n,e=o}),resolve:t,reject:e}}s(snt,"createDeferredPromise");function ant(t){return t.controller.state==="aborted"}s(ant,"isAborted");function cnt(t){return t.controller.state==="aborted"||t.controller.state==="terminated"}s(cnt,"isCancelled");function lnt(t){return Prt[t.toLowerCase()]??t}s(lnt,"normalizeMethod");function unt(t){let e=JSON.stringify(t);if(e===void 0)throw new TypeError("Value is not JSON serializable");return vE(typeof e=="string"),e}s(unt,"serializeJavascriptValueToJSONString");var fnt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function YIe(t,e,r=0,n=1){class o{static{s(this,"FastIterableIterator")}#e;#t;#i;constructor(c,l){this.#e=c,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${t} Iterator.`);let c=this.#i,l=this.#e[e],u=l.length;if(c>=u)return{value:void 0,done:!0};let{[r]:d,[n]:h}=l[c];this.#i=c+1;let A;switch(this.#t){case"key":A=d;break;case"value":A=h;break;case"key+value":A=[d,h];break}return{value:A,done:!1}}}return delete o.prototype.constructor,Object.setPrototypeOf(o.prototype,fnt),Object.defineProperties(o.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${t} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(a,c){return new o(a,c)}}s(YIe,"createIterator");function dnt(t,e,r,n=0,o=1){let a=YIe(t,r,n,o),c={keys:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return F3.brandCheck(this,e),a(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return F3.brandCheck(this,e),a(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return F3.brandCheck(this,e),a(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:s(function(u,d=globalThis){if(F3.brandCheck(this,e),F3.argumentLengthCheck(arguments,1,`${t}.forEach`),typeof u!="function")throw new TypeError(`Failed to execute 'forEach' on '${t}': parameter 1 is not of type 'Function'.`);for(let{0:h,1:A}of a(this,"key+value"))u.call(d,A,h,this)},"forEach")}};return Object.defineProperties(e.prototype,{...c,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:c.entries.value}})}s(dnt,"iteratorMixin");async function hnt(t,e,r){let n=e,o=r,a;try{a=t.stream.getReader()}catch(c){o(c);return}try{n(await zIe(a))}catch(c){o(c)}}s(hnt,"fullyReadBody");function Ant(t){return t instanceof ReadableStream||t[Symbol.toStringTag]==="ReadableStream"&&typeof t.tee=="function"}s(Ant,"isReadableStreamLike");function pnt(t){try{t.close(),t.byobRequest?.respond(0)}catch(e){if(!e.message.includes("Controller is already closed")&&!e.message.includes("ReadableStream is already closed"))throw e}}s(pnt,"readableStreamClose");var mnt=/[^\x00-\xFF]/;function WQ(t){return vE(!mnt.test(t)),t}s(WQ,"isomorphicEncode");async function zIe(t){let e=[],r=0;for(;;){let{done:n,value:o}=await t.read();if(n)return Buffer.concat(e,r);if(!Frt(o))throw new TypeError("Received non-Uint8Array chunk");e.push(o),r+=o.length}}s(zIe,"readAllBytes");function gnt(t){vE("protocol"in t);let e=t.protocol;return e==="about:"||e==="blob:"||e==="data:"}s(gnt,"urlIsLocal");function $j(t){return typeof t=="string"&&t[5]===":"&&t[0]==="h"&&t[1]==="t"&&t[2]==="t"&&t[3]==="p"&&t[4]==="s"||t.protocol==="https:"}s($j,"urlHasHttpsScheme");function jIe(t){vE("protocol"in t);let e=t.protocol;return e==="http:"||e==="https:"}s(jIe,"urlIsHttpHttpsScheme");function ynt(t,e){let r=t;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(e&&xE(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,e&&xE(u=>u==="	"||u===" ",r,n);let o=xE(u=>{let d=u.charCodeAt(0);return d>=48&&d<=57},r,n),a=o.length?Number(o):null;if(e&&xE(u=>u==="	"||u===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,e&&xE(u=>u==="	"||u===" ",r,n);let c=xE(u=>{let d=u.charCodeAt(0);return d>=48&&d<=57},r,n),l=c.length?Number(c):null;return n.position<r.length||l===null&&a===null||a>l?"failure":{rangeStartValue:a,rangeEndValue:l}}s(ynt,"simpleRangeHeaderValue");function Cnt(t,e,r){let n="bytes ";return n+=WQ(`${t}`),n+="-",n+=WQ(`${e}`),n+="/",n+=WQ(`${r}`),n}s(Cnt,"buildContentRange");var Yj=class extends Trt{static{s(this,"InflateStream")}#e;constructor(e){super(),this.#e=e}_transform(e,r,n){if(!this._inflateStream){if(e.length===0){n();return}this._inflateStream=(e[0]&15)===8?MIe.createInflate(this.#e):MIe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",o=>this.destroy(o))}this._inflateStream.write(e,r,n)}_final(e){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),e()}};function Ent(t){return new Yj(t)}s(Ent,"createInflate");function Int(t){let e=null,r=null,n=null,o=KIe("content-type",t);if(o===null)return"failure";for(let a of o){let c=krt(a);c==="failure"||c.essence==="*/*"||(n=c,n.essence!==r?(e=null,n.parameters.has("charset")&&(e=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&e!==null&&n.parameters.set("charset",e))}return n??"failure"}s(Int,"extractMimeType");function xnt(t){let e=t,r={position:0},n=[],o="";for(;r.position<e.length;){if(o+=xE(a=>a!=='"'&&a!==",",e,r),r.position<e.length)if(e.charCodeAt(r.position)===34){if(o+=Brt(e,r),r.position<e.length)continue}else vE(e.charCodeAt(r.position)===44),r.position++;o=Rrt(o,!0,!0,a=>a===9||a===32),n.push(o),o=""}return n}s(xnt,"gettingDecodingSplitting");function KIe(t,e){let r=e.get(t,!0);return r===null?null:xnt(r)}s(KIe,"getDecodeSplit");var vnt=new TextDecoder;function bnt(t){return t.length===0?"":(t[0]===239&&t[1]===187&&t[2]===191&&(t=t.subarray(3)),vnt.decode(t))}s(bnt,"utf8DecodeBytes");var zj=class{static{s(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return OIe()}get origin(){return this.baseUrl?.origin}policyContainer=WIe()},jj=class{static{s(this,"EnvironmentSettingsObject")}settingsObject=new zj},Tnt=new jj;JIe.exports={isAborted:ant,isCancelled:cnt,isValidEncodedURL:GIe,createDeferredPromise:snt,ReadableStreamFrom:Qrt,tryUpgradeRequestToAPotentiallyTrustworthyURL:ont,clampAndCoarsenConnectionTimingInfo:jrt,coarsenedSharedCurrentTime:Krt,determineRequestsReferrer:Zrt,makePolicyContainer:WIe,clonePolicyContainer:Xrt,appendFetchMetadata:Yrt,appendRequestOriginHeader:zrt,TAOCheck:$rt,corsCheck:Wrt,crossOriginResourcePolicyCheck:Vrt,createOpaqueTimingInfo:Jrt,setRequestReferrerPolicyOnRedirect:Grt,isValidHTTPToken:UIe,requestBadPort:Ort,requestCurrentURL:M3,responseURL:qIe,responseLocationURL:Lrt,isBlobLike:Nrt,isURLPotentiallyTrustworthy:L3,isValidReasonPhrase:Hrt,sameOrigin:YQ,normalizeMethod:lnt,serializeJavascriptValueToJSONString:unt,iteratorMixin:dnt,createIterator:YIe,isValidHeaderName:qrt,isValidHeaderValue:VIe,isErrorLike:Urt,fullyReadBody:hnt,bytesMatch:ent,isReadableStreamLike:Ant,readableStreamClose:pnt,isomorphicEncode:WQ,urlIsLocal:gnt,urlHasHttpsScheme:$j,urlIsHttpHttpsScheme:jIe,readAllBytes:zIe,simpleRangeHeaderValue:ynt,buildContentRange:Cnt,parseMetadata:$Ie,createInflate:Ent,extractMimeType:Int,getDecodeSplit:KIe,utf8DecodeBytes:bnt,environmentSettingsObject:Tnt}});var r1=q((a$r,XIe)=>{"use strict";f();XIe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var Jj=q((l$r,ZIe)=>{"use strict";f();var{Blob:_nt,File:wnt}=require("node:buffer"),{kState:jA}=r1(),{webidl:nh}=Na(),Kj=class t{static{s(this,"FileLike")}constructor(e,r,n={}){let o=r,a=n.type,c=n.lastModified??Date.now();this[jA]={blobLike:e,name:o,type:a,lastModified:c}}stream(...e){return nh.brandCheck(this,t),this[jA].blobLike.stream(...e)}arrayBuffer(...e){return nh.brandCheck(this,t),this[jA].blobLike.arrayBuffer(...e)}slice(...e){return nh.brandCheck(this,t),this[jA].blobLike.slice(...e)}text(...e){return nh.brandCheck(this,t),this[jA].blobLike.text(...e)}get size(){return nh.brandCheck(this,t),this[jA].blobLike.size}get type(){return nh.brandCheck(this,t),this[jA].blobLike.type}get name(){return nh.brandCheck(this,t),this[jA].name}get lastModified(){return nh.brandCheck(this,t),this[jA].lastModified}get[Symbol.toStringTag](){return"File"}};nh.converters.Blob=nh.interfaceConverter(_nt);function Snt(t){return t instanceof wnt||t&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&t[Symbol.toStringTag]==="File"}s(Snt,"isFileLike");ZIe.exports={FileLike:Kj,isFileLike:Snt}});var U3=q((d$r,i2e)=>{"use strict";f();var{isBlobLike:zQ,iteratorMixin:Bnt}=sl(),{kState:w0}=r1(),{kEnumerableProperty:pb}=hn(),{FileLike:e2e,isFileLike:Rnt}=Jj(),{webidl:Hi}=Na(),{File:n2e}=require("node:buffer"),t2e=require("node:util"),r2e=globalThis.File??n2e,O3=class t{static{s(this,"FormData")}constructor(e){if(Hi.util.markAsUncloneable(this),e!==void 0)throw Hi.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[w0]=[]}append(e,r,n=void 0){Hi.brandCheck(this,t);let o="FormData.append";if(Hi.argumentLengthCheck(arguments,2,o),arguments.length===3&&!zQ(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");e=Hi.converters.USVString(e,o,"name"),r=zQ(r)?Hi.converters.Blob(r,o,"value",{strict:!1}):Hi.converters.USVString(r,o,"value"),n=arguments.length===3?Hi.converters.USVString(n,o,"filename"):void 0;let a=Xj(e,r,n);this[w0].push(a)}delete(e){Hi.brandCheck(this,t);let r="FormData.delete";Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[w0]=this[w0].filter(n=>n.name!==e)}get(e){Hi.brandCheck(this,t);let r="FormData.get";Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name");let n=this[w0].findIndex(o=>o.name===e);return n===-1?null:this[w0][n].value}getAll(e){Hi.brandCheck(this,t);let r="FormData.getAll";return Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[w0].filter(n=>n.name===e).map(n=>n.value)}has(e){Hi.brandCheck(this,t);let r="FormData.has";return Hi.argumentLengthCheck(arguments,1,r),e=Hi.converters.USVString(e,r,"name"),this[w0].findIndex(n=>n.name===e)!==-1}set(e,r,n=void 0){Hi.brandCheck(this,t);let o="FormData.set";if(Hi.argumentLengthCheck(arguments,2,o),arguments.length===3&&!zQ(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");e=Hi.converters.USVString(e,o,"name"),r=zQ(r)?Hi.converters.Blob(r,o,"name",{strict:!1}):Hi.converters.USVString(r,o,"name"),n=arguments.length===3?Hi.converters.USVString(n,o,"name"):void 0;let a=Xj(e,r,n),c=this[w0].findIndex(l=>l.name===e);c!==-1?this[w0]=[...this[w0].slice(0,c),a,...this[w0].slice(c+1).filter(l=>l.name!==e)]:this[w0].push(a)}[t2e.inspect.custom](e,r){let n=this[w0].reduce((a,c)=>(a[c.name]?Array.isArray(a[c.name])?a[c.name].push(c.value):a[c.name]=[a[c.name],c.value]:a[c.name]=c.value,a),{__proto__:null});r.depth??=e,r.colors??=!0;let o=t2e.formatWithOptions(r,n);return`FormData ${o.slice(o.indexOf("]")+2)}`}};Bnt("FormData",O3,w0,"name","value");Object.defineProperties(O3.prototype,{append:pb,delete:pb,get:pb,getAll:pb,has:pb,set:pb,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function Xj(t,e,r){if(typeof e!="string"){if(Rnt(e)||(e=e instanceof Blob?new r2e([e],"blob",{type:e.type}):new e2e(e,"blob",{type:e.type})),r!==void 0){let n={type:e.type,lastModified:e.lastModified};e=e instanceof n2e?new r2e([e],r,n):new e2e(e,r,n)}}return{name:t,value:e}}s(Xj,"makeEntry");i2e.exports={FormData:O3,makeEntry:Xj}});var u2e=q((p$r,l2e)=>{"use strict";f();var{isUSVString:o2e,bufferToLowerCasedHeaderName:knt}=hn(),{utf8DecodeBytes:Dnt}=sl(),{HTTP_TOKEN_CODEPOINTS:Nnt,isomorphicDecode:s2e}=pc(),{isFileLike:Qnt}=Jj(),{makeEntry:Pnt}=U3(),jQ=require("node:assert"),{File:Fnt}=require("node:buffer"),Lnt=globalThis.File??Fnt,Mnt=Buffer.from('form-data; name="'),a2e=Buffer.from("; filename"),Ont=Buffer.from("--"),Unt=Buffer.from(`--\r
`);function Hnt(t){for(let e=0;e<t.length;++e)if((t.charCodeAt(e)&-128)!==0)return!1;return!0}s(Hnt,"isAsciiString");function qnt(t){let e=t.length;if(e<27||e>70)return!1;for(let r=0;r<e;++r){let n=t.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}s(qnt,"validateBoundary");function Gnt(t,e){jQ(e!=="failure"&&e.essence==="multipart/form-data");let r=e.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),o=[],a={position:0};for(;t[a.position]===13&&t[a.position+1]===10;)a.position+=2;let c=t.length;for(;t[c-1]===10&&t[c-2]===13;)c-=2;for(c!==t.length&&(t=t.subarray(0,c));;){if(t.subarray(a.position,a.position+n.length).equals(n))a.position+=n.length;else return"failure";if(a.position===t.length-2&&KQ(t,Ont,a)||a.position===t.length-4&&KQ(t,Unt,a))return o;if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let l=Vnt(t,a);if(l==="failure")return"failure";let{name:u,filename:d,contentType:h,encoding:A}=l;a.position+=2;let p;{let E=t.indexOf(n.subarray(2),a.position);if(E===-1)return"failure";p=t.subarray(a.position,E-4),a.position+=p.length,A==="base64"&&(p=Buffer.from(p.toString(),"base64"))}if(t[a.position]!==13||t[a.position+1]!==10)return"failure";a.position+=2;let g;d!==null?(h??="text/plain",Hnt(h)||(h=""),g=new Lnt([p],d,{type:h})):g=Dnt(Buffer.from(p)),jQ(o2e(u)),jQ(typeof g=="string"&&o2e(g)||Qnt(g)),o.push(Pnt(u,g,d))}}s(Gnt,"multipartFormDataParser");function Vnt(t,e){let r=null,n=null,o=null,a=null;for(;;){if(t[e.position]===13&&t[e.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:o,encoding:a};let c=mb(l=>l!==10&&l!==13&&l!==58,t,e);if(c=Zj(c,!0,!0,l=>l===9||l===32),!Nnt.test(c.toString())||t[e.position]!==58)return"failure";switch(e.position++,mb(l=>l===32||l===9,t,e),knt(c)){case"content-disposition":{if(r=n=null,!KQ(t,Mnt,e)||(e.position+=17,r=c2e(t,e),r===null))return"failure";if(KQ(t,a2e,e)){let l=e.position+a2e.length;if(t[l]===42&&(e.position+=1,l+=1),t[l]!==61||t[l+1]!==34||(e.position+=12,n=c2e(t,e),n===null))return"failure"}break}case"content-type":{let l=mb(u=>u!==10&&u!==13,t,e);l=Zj(l,!1,!0,u=>u===9||u===32),o=s2e(l);break}case"content-transfer-encoding":{let l=mb(u=>u!==10&&u!==13,t,e);l=Zj(l,!1,!0,u=>u===9||u===32),a=s2e(l);break}default:mb(l=>l!==10&&l!==13,t,e)}if(t[e.position]!==13&&t[e.position+1]!==10)return"failure";e.position+=2}}s(Vnt,"parseMultipartFormDataHeaders");function c2e(t,e){jQ(t[e.position-1]===34);let r=mb(n=>n!==10&&n!==13&&n!==34,t,e);return t[e.position]!==34?null:(e.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}s(c2e,"parseMultipartFormDataName");function mb(t,e,r){let n=r.position;for(;n<e.length&&t(e[n]);)++n;return e.subarray(r.position,r.position=n)}s(mb,"collectASequenceOfBytes");function Zj(t,e,r,n){let o=0,a=t.length-1;if(e)for(;o<t.length&&n(t[o]);)o++;if(r)for(;a>0&&n(t[a]);)a--;return o===0&&a===t.length-1?t:t.subarray(o,a+1)}s(Zj,"removeChars");function KQ(t,e,r){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[r.position+n])return!1;return!0}s(KQ,"bufferStartsWith");l2e.exports={multipartFormDataParser:Gnt,validateBoundary:qnt}});var Cb=q((y$r,y2e)=>{"use strict";f();var H3=hn(),{ReadableStreamFrom:Wnt,isBlobLike:f2e,isReadableStreamLike:$nt,readableStreamClose:Ynt,createDeferredPromise:znt,fullyReadBody:jnt,extractMimeType:Knt,utf8DecodeBytes:A2e}=sl(),{FormData:d2e}=U3(),{kState:yb}=r1(),{webidl:Jnt}=Na(),{Blob:Xnt}=require("node:buffer"),eK=require("node:assert"),{isErrored:p2e,isDisturbed:Znt}=require("node:stream"),{isArrayBuffer:eit}=require("node:util/types"),{serializeAMimeType:tit}=pc(),{multipartFormDataParser:rit}=u2e(),tK;try{let t=require("node:crypto");tK=s(e=>t.randomInt(0,e),"random")}catch{tK=s(t=>Math.floor(Math.random(t)),"random")}var JQ=new TextEncoder;function nit(){}s(nit,"noop");var rK=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,nK;rK&&(nK=new FinalizationRegistry(t=>{let e=t.deref();e&&!e.locked&&!Znt(e)&&!p2e(e)&&e.cancel("Response object has been garbage collected").catch(nit)}));function m2e(t,e=!1){let r=null;t instanceof ReadableStream?r=t:f2e(t)?r=t.stream():r=new ReadableStream({async pull(u){let d=typeof o=="string"?JQ.encode(o):o;d.byteLength&&u.enqueue(d),queueMicrotask(()=>Ynt(u))},start(){},type:"bytes"}),eK($nt(r));let n=null,o=null,a=null,c=null;if(typeof t=="string")o=t,c="text/plain;charset=UTF-8";else if(t instanceof URLSearchParams)o=t.toString(),c="application/x-www-form-urlencoded;charset=UTF-8";else if(eit(t))o=new Uint8Array(t.slice());else if(ArrayBuffer.isView(t))o=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength));else if(H3.isFormDataLike(t)){let u=`----formdata-undici-0${`${tK(1e11)}`.padStart(11,"0")}`,d=`--${u}\r
Content-Disposition: form-data`;let h=s(w=>w.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),A=s(w=>w.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),p=[],g=new Uint8Array([13,10]);a=0;let E=!1;for(let[w,_]of t)if(typeof _=="string"){let S=JQ.encode(d+`; name="${h(A(w))}"\r
\r
${A(_)}\r
`);p.push(S),a+=S.byteLength}else{let S=JQ.encode(`${d}; name="${h(A(w))}"`+(_.name?`; filename="${h(_.name)}"`:"")+`\r
Content-Type: ${_.type||"application/octet-stream"}\r
\r
`);p.push(S,_,g),typeof _.size=="number"?a+=S.byteLength+_.size+g.byteLength:E=!0}let v=JQ.encode(`--${u}--\r
`);p.push(v),a+=v.byteLength,E&&(a=null),o=t,n=s(async function*(){for(let w of p)w.stream?yield*w.stream():yield w},"action"),c=`multipart/form-data; boundary=${u}`}else if(f2e(t))o=t,a=t.size,t.type&&(c=t.type);else if(typeof t[Symbol.asyncIterator]=="function"){if(e)throw new TypeError("keepalive");if(H3.isDisturbed(t)||t.locked)throw new TypeError("Response body object should not be disturbed or locked");r=t instanceof ReadableStream?t:Wnt(t)}if((typeof o=="string"||H3.isBuffer(o))&&(a=Buffer.byteLength(o)),n!=null){let u;r=new ReadableStream({async start(){u=n(t)[Symbol.asyncIterator]()},async pull(d){let{value:h,done:A}=await u.next();if(A)queueMicrotask(()=>{d.close(),d.byobRequest?.respond(0)});else if(!p2e(r)){let p=new Uint8Array(h);p.byteLength&&d.enqueue(p)}return d.desiredSize>0},async cancel(d){await u.return()},type:"bytes"})}return[{stream:r,source:o,length:a},c]}s(m2e,"extractBody");function iit(t,e=!1){return t instanceof ReadableStream&&(eK(!H3.isDisturbed(t),"The body has already been consumed."),eK(!t.locked,"The stream is locked.")),m2e(t,e)}s(iit,"safelyExtractBody");function oit(t,e){let[r,n]=e.stream.tee();return rK&&nK.register(t,new WeakRef(r)),e.stream=r,{stream:n,length:e.length,source:e.source}}s(oit,"cloneBody");function sit(t){if(t.aborted)throw new DOMException("The operation was aborted.","AbortError")}s(sit,"throwIfAborted");function ait(t){return{blob(){return gb(this,r=>{let n=h2e(this);return n===null?n="":n&&(n=tit(n)),new Xnt([r],{type:n})},t)},arrayBuffer(){return gb(this,r=>new Uint8Array(r).buffer,t)},text(){return gb(this,A2e,t)},json(){return gb(this,lit,t)},formData(){return gb(this,r=>{let n=h2e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let o=rit(r,n);if(o==="failure")throw new TypeError("Failed to parse body as FormData.");let a=new d2e;return a[yb]=o,a}case"application/x-www-form-urlencoded":{let o=new URLSearchParams(r.toString()),a=new d2e;for(let[c,l]of o)a.append(c,l);return a}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},t)},bytes(){return gb(this,r=>new Uint8Array(r),t)}}}s(ait,"bodyMixinMethods");function cit(t){Object.assign(t.prototype,ait(t))}s(cit,"mixinBody");async function gb(t,e,r){if(Jnt.brandCheck(t,r),g2e(t))throw new TypeError("Body is unusable: Body has already been read");sit(t[yb]);let n=znt(),o=s(c=>n.reject(c),"errorSteps"),a=s(c=>{try{n.resolve(e(c))}catch(l){o(l)}},"successSteps");return t[yb].body==null?(a(Buffer.allocUnsafe(0)),n.promise):(await jnt(t[yb].body,a,o),n.promise)}s(gb,"consumeBody");function g2e(t){let e=t[yb].body;return e!=null&&(e.stream.locked||H3.isDisturbed(e.stream))}s(g2e,"bodyUnusable");function lit(t){return JSON.parse(A2e(t))}s(lit,"parseJSONFromBytes");function h2e(t){let e=t[yb].headersList,r=Knt(e);return r==="failure"?null:r}s(h2e,"bodyMimeType");y2e.exports={extractBody:m2e,safelyExtractBody:iit,cloneBody:oit,mixinBody:cit,streamRegistry:nK,hasFinalizationRegistry:rK,bodyUnusable:g2e}});var B2e=q((I$r,S2e)=>{"use strict";f();var fr=require("node:assert"),Lr=hn(),{channels:C2e}=sb(),iK=Lj(),{RequestContentLengthMismatchError:bE,ResponseContentLengthMismatchError:uit,RequestAbortedError:T2e,HeadersTimeoutError:fit,HeadersOverflowError:dit,SocketError:nP,InformationalError:Eb,BodyTimeoutError:hit,HTTPParserError:Ait,ResponseExceededMaxSizeError:pit}=ui(),{kUrl:_2e,kReset:mc,kClient:cK,kParser:Vo,kBlocking:V3,kRunning:i0,kPending:mit,kSize:E2e,kWriting:i1,kQueue:bf,kNoRef:q3,kKeepAliveDefaultTimeout:git,kHostHeader:yit,kPendingIdx:Cit,kRunningIdx:lu,kError:uu,kPipelining:tP,kSocket:Ib,kKeepAliveTimeoutValue:iP,kMaxHeadersSize:oK,kKeepAliveMaxTimeout:Eit,kKeepAliveTimeoutThreshold:Iit,kHeadersTimeout:xit,kBodyTimeout:vit,kStrictContentLength:lK,kMaxRequests:I2e,kCounter:bit,kMaxResponseSize:Tit,kOnError:_it,kResume:n1,kHTTPContext:w2e}=Ao(),ih=gIe(),wit=Buffer.alloc(0),XQ=Buffer[Symbol.species],ZQ=Lr.addListener,Sit=Lr.removeAllListeners,sK;async function Bit(){let t=process.env.JEST_WORKER_ID?Uj():void 0,e;try{e=await WebAssembly.compile(EIe())}catch{e=await WebAssembly.compile(t||Uj())}return await WebAssembly.instantiate(e,{env:{wasm_on_url:s((r,n,o)=>0,"wasm_on_url"),wasm_on_status:s((r,n,o)=>{fr(Ms.ptr===r);let a=n-sh+oh.byteOffset;return Ms.onStatus(new XQ(oh.buffer,a,o))||0},"wasm_on_status"),wasm_on_message_begin:s(r=>(fr(Ms.ptr===r),Ms.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:s((r,n,o)=>{fr(Ms.ptr===r);let a=n-sh+oh.byteOffset;return Ms.onHeaderField(new XQ(oh.buffer,a,o))||0},"wasm_on_header_field"),wasm_on_header_value:s((r,n,o)=>{fr(Ms.ptr===r);let a=n-sh+oh.byteOffset;return Ms.onHeaderValue(new XQ(oh.buffer,a,o))||0},"wasm_on_header_value"),wasm_on_headers_complete:s((r,n,o,a)=>(fr(Ms.ptr===r),Ms.onHeadersComplete(n,!!o,!!a)||0),"wasm_on_headers_complete"),wasm_on_body:s((r,n,o)=>{fr(Ms.ptr===r);let a=n-sh+oh.byteOffset;return Ms.onBody(new XQ(oh.buffer,a,o))||0},"wasm_on_body"),wasm_on_message_complete:s(r=>(fr(Ms.ptr===r),Ms.onMessageComplete()||0),"wasm_on_message_complete")}})}s(Bit,"lazyllhttp");var aK=null,uK=Bit();uK.catch();var Ms=null,oh=null,eP=0,sh=null,Rit=0,G3=1,xb=2|G3,rP=4|G3,fK=8|Rit,dK=class{static{s(this,"Parser")}constructor(e,r,{exports:n}){fr(Number.isFinite(e[oK])&&e[oK]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(ih.TYPE.RESPONSE),this.client=e,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=e[oK],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=e[Tit]}setTimeout(e,r){e!==this.timeoutValue||r&G3^this.timeoutType&G3?(this.timeout&&(iK.clearTimeout(this.timeout),this.timeout=null),e&&(r&G3?this.timeout=iK.setFastTimeout(x2e,e,new WeakRef(this)):(this.timeout=setTimeout(x2e,e,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=e):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(fr(this.ptr!=null),fr(Ms==null),this.llhttp.llhttp_resume(this.ptr),fr(this.timeoutType===rP),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||wit),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let e=this.socket.read();if(e===null)break;this.execute(e)}}execute(e){fr(this.ptr!=null),fr(Ms==null),fr(!this.paused);let{socket:r,llhttp:n}=this;e.length>eP&&(sh&&n.free(sh),eP=Math.ceil(e.length/4096)*4096,sh=n.malloc(eP)),new Uint8Array(n.memory.buffer,sh,eP).set(e);try{let o;try{oh=e,Ms=this,o=n.llhttp_execute(this.ptr,sh,e.length)}catch(c){throw c}finally{Ms=null,oh=null}let a=n.llhttp_get_error_pos(this.ptr)-sh;if(o===ih.ERROR.PAUSED_UPGRADE)this.onUpgrade(e.slice(a));else if(o===ih.ERROR.PAUSED)this.paused=!0,r.unshift(e.slice(a));else if(o!==ih.ERROR.OK){let c=n.llhttp_get_error_reason(this.ptr),l="";if(c){let u=new Uint8Array(n.memory.buffer,c).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,c,u).toString()+")"}throw new Ait(l,ih.ERROR[o],e.slice(a))}}catch(o){Lr.destroy(r,o)}}destroy(){fr(this.ptr!=null),fr(Ms==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&iK.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(e){this.statusText=e.toString()}onMessageBegin(){let{socket:e,client:r}=this;if(e.destroyed)return-1;let n=r[bf][r[lu]];if(!n)return-1;n.onResponseStarted()}onHeaderField(e){let r=this.headers.length;(r&1)===0?this.headers.push(e):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]),this.trackHeader(e.length)}onHeaderValue(e){let r=this.headers.length;(r&1)===1?(this.headers.push(e),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],e]);let n=this.headers[r-2];if(n.length===10){let o=Lr.bufferToLowerCasedHeaderName(n);o==="keep-alive"?this.keepAlive+=e.toString():o==="connection"&&(this.connection+=e.toString())}else n.length===14&&Lr.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=e.toString());this.trackHeader(e.length)}trackHeader(e){this.headersSize+=e,this.headersSize>=this.headersMaxSize&&Lr.destroy(this.socket,new dit)}onUpgrade(e){let{upgrade:r,client:n,socket:o,headers:a,statusCode:c}=this;fr(r),fr(n[Ib]===o),fr(!o.destroyed),fr(!this.paused),fr((a.length&1)===0);let l=n[bf][n[lu]];fr(l),fr(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,o.unshift(e),o[Vo].destroy(),o[Vo]=null,o[cK]=null,o[uu]=null,Sit(o),n[Ib]=null,n[w2e]=null,n[bf][n[lu]++]=null,n.emit("disconnect",n[_2e],[n],new Eb("upgrade"));try{l.onUpgrade(c,a,o)}catch(u){Lr.destroy(o,u)}n[n1]()}onHeadersComplete(e,r,n){let{client:o,socket:a,headers:c,statusText:l}=this;if(a.destroyed)return-1;let u=o[bf][o[lu]];if(!u)return-1;if(fr(!this.upgrade),fr(this.statusCode<200),e===100)return Lr.destroy(a,new nP("bad response",Lr.getSocketInfo(a))),-1;if(r&&!u.upgrade)return Lr.destroy(a,new nP("bad upgrade",Lr.getSocketInfo(a))),-1;if(fr(this.timeoutType===xb),this.statusCode=e,this.shouldKeepAlive=n||u.method==="HEAD"&&!a[mc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let h=u.bodyTimeout!=null?u.bodyTimeout:o[vit];this.setTimeout(h,rP)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(u.method==="CONNECT")return fr(o[i0]===1),this.upgrade=!0,2;if(r)return fr(o[i0]===1),this.upgrade=!0,2;if(fr((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&o[tP]){let h=this.keepAlive?Lr.parseKeepAliveTimeout(this.keepAlive):null;if(h!=null){let A=Math.min(h-o[Iit],o[Eit]);A<=0?a[mc]=!0:o[iP]=A}else o[iP]=o[git]}else a[mc]=!0;let d=u.onHeaders(e,c,this.resume,l)===!1;return u.aborted?-1:u.method==="HEAD"||e<200?1:(a[V3]&&(a[V3]=!1,o[n1]()),d?ih.ERROR.PAUSED:0)}onBody(e){let{client:r,socket:n,statusCode:o,maxResponseSize:a}=this;if(n.destroyed)return-1;let c=r[bf][r[lu]];if(fr(c),fr(this.timeoutType===rP),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),fr(o>=200),a>-1&&this.bytesRead+e.length>a)return Lr.destroy(n,new pit),-1;if(this.bytesRead+=e.length,c.onData(e)===!1)return ih.ERROR.PAUSED}onMessageComplete(){let{client:e,socket:r,statusCode:n,upgrade:o,headers:a,contentLength:c,bytesRead:l,shouldKeepAlive:u}=this;if(r.destroyed&&(!n||u))return-1;if(o)return;fr(n>=100),fr((this.headers.length&1)===0);let d=e[bf][e[lu]];if(fr(d),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(d.method!=="HEAD"&&c&&l!==parseInt(c,10))return Lr.destroy(r,new uit),-1;if(d.onComplete(a),e[bf][e[lu]++]=null,r[i1])return fr(e[i0]===0),Lr.destroy(r,new Eb("reset")),ih.ERROR.PAUSED;if(u){if(r[mc]&&e[i0]===0)return Lr.destroy(r,new Eb("reset")),ih.ERROR.PAUSED;e[tP]==null||e[tP]===1?setImmediate(()=>e[n1]()):e[n1]()}else return Lr.destroy(r,new Eb("reset")),ih.ERROR.PAUSED}}};function x2e(t){let{socket:e,timeoutType:r,client:n,paused:o}=t.deref();r===xb?(!e[i1]||e.writableNeedDrain||n[i0]>1)&&(fr(!o,"cannot be paused while waiting for headers"),Lr.destroy(e,new fit)):r===rP?o||Lr.destroy(e,new hit):r===fK&&(fr(n[i0]===0&&n[iP]),Lr.destroy(e,new Eb("socket idle timeout")))}s(x2e,"onParserTimeout");async function kit(t,e){t[Ib]=e,aK||(aK=await uK,uK=null),e[q3]=!1,e[i1]=!1,e[mc]=!1,e[V3]=!1,e[Vo]=new dK(t,e,aK),ZQ(e,"error",function(n){fr(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let o=this[Vo];if(n.code==="ECONNRESET"&&o.statusCode&&!o.shouldKeepAlive){o.onMessageComplete();return}this[uu]=n,this[cK][_it](n)}),ZQ(e,"readable",function(){let n=this[Vo];n&&n.readMore()}),ZQ(e,"end",function(){let n=this[Vo];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Lr.destroy(this,new nP("other side closed",Lr.getSocketInfo(this)))}),ZQ(e,"close",function(){let n=this[cK],o=this[Vo];o&&(!this[uu]&&o.statusCode&&!o.shouldKeepAlive&&o.onMessageComplete(),this[Vo].destroy(),this[Vo]=null);let a=this[uu]||new nP("closed",Lr.getSocketInfo(this));if(n[Ib]=null,n[w2e]=null,n.destroyed){fr(n[mit]===0);let c=n[bf].splice(n[lu]);for(let l=0;l<c.length;l++){let u=c[l];Lr.errorRequest(n,u,a)}}else if(n[i0]>0&&a.code!=="UND_ERR_INFO"){let c=n[bf][n[lu]];n[bf][n[lu]++]=null,Lr.errorRequest(n,c,a)}n[Cit]=n[lu],fr(n[i0]===0),n.emit("disconnect",n[_2e],[n],a),n[n1]()});let r=!1;return e.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return Qit(t,...n)},resume(){Dit(t)},destroy(n,o){r?queueMicrotask(o):e.destroy(n).on("close",o)},get destroyed(){return e.destroyed},busy(n){return!!(e[i1]||e[mc]||e[V3]||n&&(t[i0]>0&&!n.idempotent||t[i0]>0&&(n.upgrade||n.method==="CONNECT")||t[i0]>0&&Lr.bodyLength(n.body)!==0&&(Lr.isStream(n.body)||Lr.isAsyncIterable(n.body)||Lr.isFormDataLike(n.body))))}}}s(kit,"connectH1");function Dit(t){let e=t[Ib];if(e&&!e.destroyed){if(t[E2e]===0?!e[q3]&&e.unref&&(e.unref(),e[q3]=!0):e[q3]&&e.ref&&(e.ref(),e[q3]=!1),t[E2e]===0)e[Vo].timeoutType!==fK&&e[Vo].setTimeout(t[iP],fK);else if(t[i0]>0&&e[Vo].statusCode<200&&e[Vo].timeoutType!==xb){let r=t[bf][t[lu]],n=r.headersTimeout!=null?r.headersTimeout:t[xit];e[Vo].setTimeout(n,xb)}}}s(Dit,"resumeH1");function Nit(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(Nit,"shouldSendContentLength");function Qit(t,e){let{method:r,path:n,host:o,upgrade:a,blocking:c,reset:l}=e,{body:u,headers:d,contentLength:h}=e,A=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Lr.isFormDataLike(u)){sK||(sK=Cb().extractBody);let[w,_]=sK(u);e.contentType==null&&d.push("content-type",_),u=w.stream,h=w.length}else Lr.isBlobLike(u)&&e.contentType==null&&u.type&&d.push("content-type",u.type);u&&typeof u.read=="function"&&u.read(0);let p=Lr.bodyLength(u);if(h=p??h,h===null&&(h=e.contentLength),h===0&&!A&&(h=null),Nit(r)&&h>0&&e.contentLength!==null&&e.contentLength!==h){if(t[lK])return Lr.errorRequest(t,e,new bE),!1;process.emitWarning(new bE)}let g=t[Ib],E=s(w=>{e.aborted||e.completed||(Lr.errorRequest(t,e,w||new T2e),Lr.destroy(u),Lr.destroy(g,new Eb("aborted")))},"abort");try{e.onConnect(E)}catch(w){Lr.errorRequest(t,e,w)}if(e.aborted)return!1;r==="HEAD"&&(g[mc]=!0),(a||r==="CONNECT")&&(g[mc]=!0),l!=null&&(g[mc]=l),t[I2e]&&g[bit]++>=t[I2e]&&(g[mc]=!0),c&&(g[V3]=!0);let v=`${r} ${n} HTTP/1.1\r
`;if(typeof o=="string"?v+=`host: ${o}\r
`:v+=t[yit],a?v+=`connection: upgrade\r
upgrade: ${a}\r
`:t[tP]&&!g[mc]?v+=`connection: keep-alive\r
`:v+=`connection: close\r
`,Array.isArray(d))for(let w=0;w<d.length;w+=2){let _=d[w+0],S=d[w+1];if(Array.isArray(S))for(let D=0;D<S.length;D++)v+=`${_}: ${S[D]}\r
`;else v+=`${_}: ${S}\r
`}return C2e.sendHeaders.hasSubscribers&&C2e.sendHeaders.publish({request:e,headers:v,socket:g}),!u||p===0?v2e(E,null,t,e,g,h,v,A):Lr.isBuffer(u)?v2e(E,u,t,e,g,h,v,A):Lr.isBlobLike(u)?typeof u.stream=="function"?b2e(E,u.stream(),t,e,g,h,v,A):Fit(E,u,t,e,g,h,v,A):Lr.isStream(u)?Pit(E,u,t,e,g,h,v,A):Lr.isIterable(u)?b2e(E,u,t,e,g,h,v,A):fr(!1),!0}s(Qit,"writeH1");function Pit(t,e,r,n,o,a,c,l){fr(a!==0||r[i0]===0,"stream body cannot be pipelined");let u=!1,d=new oP({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c}),h=s(function(E){if(!u)try{!d.write(E)&&this.pause&&this.pause()}catch(v){Lr.destroy(this,v)}},"onData"),A=s(function(){u||e.resume&&e.resume()},"onDrain"),p=s(function(){if(queueMicrotask(()=>{e.removeListener("error",g)}),!u){let E=new T2e;queueMicrotask(()=>g(E))}},"onClose"),g=s(function(E){if(!u){if(u=!0,fr(o.destroyed||o[i1]&&r[i0]<=1),o.off("drain",A).off("error",g),e.removeListener("data",h).removeListener("end",g).removeListener("close",p),!E)try{d.end()}catch(v){E=v}d.destroy(E),E&&(E.code!=="UND_ERR_INFO"||E.message!=="reset")?Lr.destroy(e,E):Lr.destroy(e)}},"onFinished");e.on("data",h).on("end",g).on("error",g).on("close",p),e.resume&&e.resume(),o.on("drain",A).on("error",g),e.errorEmitted??e.errored?setImmediate(()=>g(e.errored)):(e.endEmitted??e.readableEnded)&&setImmediate(()=>g(null)),(e.closeEmitted??e.closed)&&setImmediate(p)}s(Pit,"writeStream");function v2e(t,e,r,n,o,a,c,l){try{e?Lr.isBuffer(e)&&(fr(a===e.byteLength,"buffer body must have content length"),o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(e),o.uncork(),n.onBodySent(e),!l&&n.reset!==!1&&(o[mc]=!0)):a===0?o.write(`${c}content-length: 0\r
\r
`,"latin1"):(fr(a===null,"no body must not have content length"),o.write(`${c}\r
`,"latin1")),n.onRequestSent(),r[n1]()}catch(u){t(u)}}s(v2e,"writeBuffer");async function Fit(t,e,r,n,o,a,c,l){fr(a===e.size,"blob body must have content length");try{if(a!=null&&a!==e.size)throw new bE;let u=Buffer.from(await e.arrayBuffer());o.cork(),o.write(`${c}content-length: ${a}\r
\r
`,"latin1"),o.write(u),o.uncork(),n.onBodySent(u),n.onRequestSent(),!l&&n.reset!==!1&&(o[mc]=!0),r[n1]()}catch(u){t(u)}}s(Fit,"writeBlob");async function b2e(t,e,r,n,o,a,c,l){fr(a!==0||r[i0]===0,"iterator body cannot be pipelined");let u=null;function d(){if(u){let p=u;u=null,p()}}s(d,"onDrain");let h=s(()=>new Promise((p,g)=>{fr(u===null),o[uu]?g(o[uu]):u=p}),"waitForDrain");o.on("close",d).on("drain",d);let A=new oP({abort:t,socket:o,request:n,contentLength:a,client:r,expectsPayload:l,header:c});try{for await(let p of e){if(o[uu])throw o[uu];A.write(p)||await h()}A.end()}catch(p){A.destroy(p)}finally{o.off("close",d).off("drain",d)}}s(b2e,"writeIterable");var oP=class{static{s(this,"AsyncWriter")}constructor({abort:e,socket:r,request:n,contentLength:o,client:a,expectsPayload:c,header:l}){this.socket=r,this.request=n,this.contentLength=o,this.client=a,this.bytesWritten=0,this.expectsPayload=c,this.header=l,this.abort=e,r[i1]=!0}write(e){let{socket:r,request:n,contentLength:o,client:a,bytesWritten:c,expectsPayload:l,header:u}=this;if(r[uu])throw r[uu];if(r.destroyed)return!1;let d=Buffer.byteLength(e);if(!d)return!0;if(o!==null&&c+d>o){if(a[lK])throw new bE;process.emitWarning(new bE)}r.cork(),c===0&&(!l&&n.reset!==!1&&(r[mc]=!0),o===null?r.write(`${u}transfer-encoding: chunked\r
`,"latin1"):r.write(`${u}content-length: ${o}\r
\r
`,"latin1")),o===null&&r.write(`\r
${d.toString(16)}\r
`,"latin1"),this.bytesWritten+=d;let h=r.write(e);return r.uncork(),n.onBodySent(e),h||r[Vo].timeout&&r[Vo].timeoutType===xb&&r[Vo].timeout.refresh&&r[Vo].timeout.refresh(),h}end(){let{socket:e,contentLength:r,client:n,bytesWritten:o,expectsPayload:a,header:c,request:l}=this;if(l.onRequestSent(),e[i1]=!1,e[uu])throw e[uu];if(!e.destroyed){if(o===0?a?e.write(`${c}content-length: 0\r
\r
`,"latin1"):e.write(`${c}\r
`,"latin1"):r===null&&e.write(`\r
0\r
\r
`,"latin1"),r!==null&&o!==r){if(n[lK])throw new bE;process.emitWarning(new bE)}e[Vo].timeout&&e[Vo].timeoutType===xb&&e[Vo].timeout.refresh&&e[Vo].timeout.refresh(),n[n1]()}}destroy(e){let{socket:r,client:n,abort:o}=this;r[i1]=!1,e&&(fr(n[i0]<=1,"pipeline should only contain this request"),o(e))}};S2e.exports=kit});var L2e=q((b$r,F2e)=>{"use strict";f();var fu=require("node:assert"),{pipeline:Lit}=require("node:stream"),Bn=hn(),{RequestContentLengthMismatchError:hK,RequestAbortedError:R2e,SocketError:W3,InformationalError:AK}=ui(),{kUrl:sP,kReset:cP,kClient:vb,kRunning:lP,kPending:Mit,kQueue:o1,kPendingIdx:pK,kRunningIdx:Tf,kError:wf,kSocket:sa,kStrictContentLength:Oit,kOnError:mK,kMaxConcurrentStreams:P2e,kHTTP2Session:_f,kResume:s1,kSize:Uit,kHTTPContext:Hit}=Ao(),KA=Symbol("open streams"),k2e,D2e=!1,aP;try{aP=require("node:http2")}catch{aP={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:qit,HTTP2_HEADER_METHOD:Git,HTTP2_HEADER_PATH:Vit,HTTP2_HEADER_SCHEME:Wit,HTTP2_HEADER_CONTENT_LENGTH:$it,HTTP2_HEADER_EXPECT:Yit,HTTP2_HEADER_STATUS:zit}}=aP;function jit(t){let e=[];for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.push(Buffer.from(r),Buffer.from(o));else e.push(Buffer.from(r),Buffer.from(n));return e}s(jit,"parseH2Headers");async function Kit(t,e){t[sa]=e,D2e||(D2e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=aP.connect(t[sP],{createConnection:s(()=>e,"createConnection"),peerMaxConcurrentStreams:t[P2e]});r[KA]=0,r[vb]=t,r[sa]=e,Bn.addListener(r,"error",Xit),Bn.addListener(r,"frameError",Zit),Bn.addListener(r,"end",eot),Bn.addListener(r,"goaway",tot),Bn.addListener(r,"close",function(){let{[vb]:o}=this,{[sa]:a}=o,c=this[sa][wf]||this[wf]||new W3("closed",Bn.getSocketInfo(a));if(o[_f]=null,o.destroyed){fu(o[Mit]===0);let l=o[o1].splice(o[Tf]);for(let u=0;u<l.length;u++){let d=l[u];Bn.errorRequest(o,d,c)}}}),r.unref(),t[_f]=r,e[_f]=r,Bn.addListener(e,"error",function(o){fu(o.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[wf]=o,this[vb][mK](o)}),Bn.addListener(e,"end",function(){Bn.destroy(this,new W3("other side closed",Bn.getSocketInfo(this)))}),Bn.addListener(e,"close",function(){let o=this[wf]||new W3("closed",Bn.getSocketInfo(this));t[sa]=null,this[_f]!=null&&this[_f].destroy(o),t[pK]=t[Tf],fu(t[lP]===0),t.emit("disconnect",t[sP],[t],o),t[s1]()});let n=!1;return e.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...o){return not(t,...o)},resume(){Jit(t)},destroy(o,a){n?queueMicrotask(a):e.destroy(o).on("close",a)},get destroyed(){return e.destroyed},busy(){return!1}}}s(Kit,"connectH2");function Jit(t){let e=t[sa];e?.destroyed===!1&&(t[Uit]===0&&t[P2e]===0?(e.unref(),t[_f].unref()):(e.ref(),t[_f].ref()))}s(Jit,"resumeH2");function Xit(t){fu(t.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[sa][wf]=t,this[vb][mK](t)}s(Xit,"onHttp2SessionError");function Zit(t,e,r){if(r===0){let n=new AK(`HTTP/2: "frameError" received - type ${t}, code ${e}`);this[sa][wf]=n,this[vb][mK](n)}}s(Zit,"onHttp2FrameError");function eot(){let t=new W3("other side closed",Bn.getSocketInfo(this[sa]));this.destroy(t),Bn.destroy(this[sa],t)}s(eot,"onHttp2SessionEnd");function tot(t){let e=this[wf]||new W3(`HTTP/2: "GOAWAY" frame received with code ${t}`,Bn.getSocketInfo(this)),r=this[vb];if(r[sa]=null,r[Hit]=null,this[_f]!=null&&(this[_f].destroy(e),this[_f]=null),Bn.destroy(this[sa],e),r[Tf]<r[o1].length){let n=r[o1][r[Tf]];r[o1][r[Tf]++]=null,Bn.errorRequest(r,n,e),r[pK]=r[Tf]}fu(r[lP]===0),r.emit("disconnect",r[sP],[r],e),r[s1]()}s(tot,"onHTTP2GoAway");function rot(t){return t!=="GET"&&t!=="HEAD"&&t!=="OPTIONS"&&t!=="TRACE"&&t!=="CONNECT"}s(rot,"shouldSendContentLength");function not(t,e){let r=t[_f],{method:n,path:o,host:a,upgrade:c,expectContinue:l,signal:u,headers:d}=e,{body:h}=e;if(c)return Bn.errorRequest(t,e,new Error("Upgrade not supported for H2")),!1;let A={};for(let N=0;N<d.length;N+=2){let P=d[N+0],O=d[N+1];if(Array.isArray(O))for(let Y=0;Y<O.length;Y++)A[P]?A[P]+=`,${O[Y]}`:A[P]=O[Y];else A[P]=O}let p,{hostname:g,port:E}=t[sP];A[qit]=a||`${g}${E?`:${E}`:""}`,A[Git]=n;let v=s(N=>{e.aborted||e.completed||(N=N||new R2e,Bn.errorRequest(t,e,N),p!=null&&Bn.destroy(p,N),Bn.destroy(h,N),t[o1][t[Tf]++]=null,t[s1]())},"abort");try{e.onConnect(v)}catch(N){Bn.errorRequest(t,e,N)}if(e.aborted)return!1;if(n==="CONNECT")return r.ref(),p=r.request(A,{endStream:!1,signal:u}),p.id&&!p.pending?(e.onUpgrade(null,null,p),++r[KA],t[o1][t[Tf]++]=null):p.once("ready",()=>{e.onUpgrade(null,null,p),++r[KA],t[o1][t[Tf]++]=null}),p.once("close",()=>{r[KA]-=1,r[KA]===0&&r.unref()}),!0;A[Vit]=o,A[Wit]="https";let w=n==="PUT"||n==="POST"||n==="PATCH";h&&typeof h.read=="function"&&h.read(0);let _=Bn.bodyLength(h);if(Bn.isFormDataLike(h)){k2e??=Cb().extractBody;let[N,P]=k2e(h);A["content-type"]=P,h=N.stream,_=N.length}if(_==null&&(_=e.contentLength),(_===0||!w)&&(_=null),rot(n)&&_>0&&e.contentLength!=null&&e.contentLength!==_){if(t[Oit])return Bn.errorRequest(t,e,new hK),!1;process.emitWarning(new hK)}_!=null&&(fu(h,"no body must not have content length"),A[$it]=`${_}`),r.ref();let S=n==="GET"||n==="HEAD"||h===null;return l?(A[Yit]="100-continue",p=r.request(A,{endStream:S,signal:u}),p.once("continue",D)):(p=r.request(A,{endStream:S,signal:u}),D()),++r[KA],p.once("response",N=>{let{[zit]:P,...O}=N;if(e.onResponseStarted(),e.aborted){let Y=new R2e;Bn.errorRequest(t,e,Y),Bn.destroy(p,Y);return}e.onHeaders(Number(P),jit(O),p.resume.bind(p),"")===!1&&p.pause(),p.on("data",Y=>{e.onData(Y)===!1&&p.pause()})}),p.once("end",()=>{(p.state?.state==null||p.state.state<6)&&e.onComplete([]),r[KA]===0&&r.unref(),v(new AK("HTTP/2: stream half-closed (remote)")),t[o1][t[Tf]++]=null,t[pK]=t[Tf],t[s1]()}),p.once("close",()=>{r[KA]-=1,r[KA]===0&&r.unref()}),p.once("error",function(N){v(N)}),p.once("frameError",(N,P)=>{v(new AK(`HTTP/2: "frameError" received - type ${N}, code ${P}`))}),!0;function D(){!h||_===0?N2e(v,p,null,t,e,t[sa],_,w):Bn.isBuffer(h)?N2e(v,p,h,t,e,t[sa],_,w):Bn.isBlobLike(h)?typeof h.stream=="function"?Q2e(v,p,h.stream(),t,e,t[sa],_,w):oot(v,p,h,t,e,t[sa],_,w):Bn.isStream(h)?iot(v,t[sa],w,p,h,t,e,_):Bn.isIterable(h)?Q2e(v,p,h,t,e,t[sa],_,w):fu(!1)}s(D,"writeBodyH2")}s(not,"writeH2");function N2e(t,e,r,n,o,a,c,l){try{r!=null&&Bn.isBuffer(r)&&(fu(c===r.byteLength,"buffer body must have content length"),e.cork(),e.write(r),e.uncork(),e.end(),o.onBodySent(r)),l||(a[cP]=!0),o.onRequestSent(),n[s1]()}catch(u){t(u)}}s(N2e,"writeBuffer");function iot(t,e,r,n,o,a,c,l){fu(l!==0||a[lP]===0,"stream body cannot be pipelined");let u=Lit(o,n,h=>{h?(Bn.destroy(u,h),t(h)):(Bn.removeAllListeners(u),c.onRequestSent(),r||(e[cP]=!0),a[s1]())});Bn.addListener(u,"data",d);function d(h){c.onBodySent(h)}s(d,"onPipeData")}s(iot,"writeStream");async function oot(t,e,r,n,o,a,c,l){fu(c===r.size,"blob body must have content length");try{if(c!=null&&c!==r.size)throw new hK;let u=Buffer.from(await r.arrayBuffer());e.cork(),e.write(u),e.uncork(),e.end(),o.onBodySent(u),o.onRequestSent(),l||(a[cP]=!0),n[s1]()}catch(u){t(u)}}s(oot,"writeBlob");async function Q2e(t,e,r,n,o,a,c,l){fu(c!==0||n[lP]===0,"iterator body cannot be pipelined");let u=null;function d(){if(u){let A=u;u=null,A()}}s(d,"onDrain");let h=s(()=>new Promise((A,p)=>{fu(u===null),a[wf]?p(a[wf]):u=A}),"waitForDrain");e.on("close",d).on("drain",d);try{for await(let A of r){if(a[wf])throw a[wf];let p=e.write(A);o.onBodySent(A),p||await h()}e.end(),o.onRequestSent(),l||(a[cP]=!0),n[s1]()}catch(A){t(A)}finally{e.off("close",d).off("drain",d)}}s(Q2e,"writeIterable");F2e.exports=Kit});var fP=q((w$r,U2e)=>{"use strict";f();var ah=hn(),{kBodyUsed:$3}=Ao(),yK=require("node:assert"),{InvalidArgumentError:sot}=ui(),aot=require("node:events"),cot=[300,301,302,303,307,308],M2e=Symbol("body"),uP=class{static{s(this,"BodyAsyncIterable")}constructor(e){this[M2e]=e,this[$3]=!1}async*[Symbol.asyncIterator](){yK(!this[$3],"disturbed"),this[$3]=!0,yield*this[M2e]}},gK=class{static{s(this,"RedirectHandler")}constructor(e,r,n,o){if(r!=null&&(!Number.isInteger(r)||r<0))throw new sot("maxRedirections must be a positive number");ah.validateHandler(o,n.method,n.upgrade),this.dispatch=e,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=o,this.history=[],this.redirectionLimitReached=!1,ah.isStream(this.opts.body)?(ah.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){yK(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[$3]=!1,aot.prototype.on.call(this.opts.body,"data",function(){this[$3]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new uP(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&ah.isIterable(this.opts.body)&&(this.opts.body=new uP(this.opts.body))}onConnect(e){this.abort=e,this.handler.onConnect(e,{history:this.history})}onUpgrade(e,r,n){this.handler.onUpgrade(e,r,n)}onError(e){this.handler.onError(e)}onHeaders(e,r,n,o){if(this.location=this.history.length>=this.maxRedirections||ah.isDisturbed(this.opts.body)?null:lot(e,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(e,r,n,o);let{origin:a,pathname:c,search:l}=ah.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),u=l?`${c}${l}`:c;this.opts.headers=uot(this.opts.headers,e===303,this.opts.origin!==a),this.opts.path=u,this.opts.origin=a,this.opts.maxRedirections=0,this.opts.query=null,e===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(e){if(!this.location)return this.handler.onData(e)}onComplete(e){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(e)}onBodySent(e){this.handler.onBodySent&&this.handler.onBodySent(e)}};function lot(t,e){if(cot.indexOf(t)===-1)return null;for(let r=0;r<e.length;r+=2)if(e[r].length===8&&ah.headerNameToString(e[r])==="location")return e[r+1]}s(lot,"parseLocation");function O2e(t,e,r){if(t.length===4)return ah.headerNameToString(t)==="host";if(e&&ah.headerNameToString(t).startsWith("content-"))return!0;if(r&&(t.length===13||t.length===6||t.length===19)){let n=ah.headerNameToString(t);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}s(O2e,"shouldRemoveHeader");function uot(t,e,r){let n=[];if(Array.isArray(t))for(let o=0;o<t.length;o+=2)O2e(t[o],e,r)||n.push(t[o],t[o+1]);else if(t&&typeof t=="object")for(let o of Object.keys(t))O2e(o,e,r)||n.push(o,t[o]);else yK(t==null,"headers must be an object or an array");return n}s(uot,"cleanRequestHeaders");U2e.exports=gK});var dP=q((R$r,H2e)=>{"use strict";f();var fot=fP();function dot({maxRedirections:t}){return e=>s(function(n,o){let{maxRedirections:a=t}=n;if(!a)return e(n,o);let c=new fot(e,a,n,o);return n={...n,maxRedirections:0},e(n,c)},"Intercept")}s(dot,"createRedirectInterceptor");H2e.exports=dot});var Z3=q((N$r,J2e)=>{"use strict";f();var JA=require("node:assert"),Y2e=require("node:net"),hot=require("node:http"),TE=hn(),{channels:bb}=sb(),Aot=iIe(),pot=ub(),{InvalidArgumentError:ss,InformationalError:mot,ClientDestroyedError:got}=ui(),yot=N3(),{kUrl:ch,kServerName:a1,kClient:Cot,kBusy:CK,kConnect:Eot,kResuming:_E,kRunning:J3,kPending:X3,kSize:K3,kQueue:Sf,kConnected:Iot,kConnecting:Tb,kNeedDrain:l1,kKeepAliveDefaultTimeout:q2e,kHostHeader:xot,kPendingIdx:Bf,kRunningIdx:XA,kError:vot,kPipelining:hP,kKeepAliveTimeoutValue:bot,kMaxHeadersSize:Tot,kKeepAliveMaxTimeout:_ot,kKeepAliveTimeoutThreshold:wot,kHeadersTimeout:Sot,kBodyTimeout:Bot,kStrictContentLength:Rot,kConnector:Y3,kMaxRedirections:kot,kMaxRequests:EK,kCounter:Dot,kClose:Not,kDestroy:Qot,kDispatch:Pot,kInterceptors:G2e,kLocalAddress:z3,kMaxResponseSize:Fot,kOnError:Lot,kHTTPContext:as,kMaxConcurrentStreams:Mot,kResume:j3}=Ao(),Oot=B2e(),Uot=L2e(),V2e=!1,c1=Symbol("kClosedResolve"),W2e=s(()=>{},"noop");function z2e(t){return t[hP]??t[as]?.defaultPipelining??1}s(z2e,"getPipelining");var IK=class extends pot{static{s(this,"Client")}constructor(e,{interceptors:r,maxHeaderSize:n,headersTimeout:o,socketTimeout:a,requestTimeout:c,connectTimeout:l,bodyTimeout:u,idleTimeout:d,keepAlive:h,keepAliveTimeout:A,maxKeepAliveTimeout:p,keepAliveMaxTimeout:g,keepAliveTimeoutThreshold:E,socketPath:v,pipelining:w,tls:_,strictContentLength:S,maxCachedSessions:D,maxRedirections:N,connect:P,maxRequestsPerClient:O,localAddress:Y,maxResponseSize:ne,autoSelectFamily:oe,autoSelectFamilyAttemptTimeout:he,maxConcurrentStreams:$,allowH2:K}={}){if(super(),h!==void 0)throw new ss("unsupported keepAlive, use pipelining=0 instead");if(a!==void 0)throw new ss("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(c!==void 0)throw new ss("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(d!==void 0)throw new ss("unsupported idleTimeout, use keepAliveTimeout instead");if(p!==void 0)throw new ss("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new ss("invalid maxHeaderSize");if(v!=null&&typeof v!="string")throw new ss("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new ss("invalid connectTimeout");if(A!=null&&(!Number.isFinite(A)||A<=0))throw new ss("invalid keepAliveTimeout");if(g!=null&&(!Number.isFinite(g)||g<=0))throw new ss("invalid keepAliveMaxTimeout");if(E!=null&&!Number.isFinite(E))throw new ss("invalid keepAliveTimeoutThreshold");if(o!=null&&(!Number.isInteger(o)||o<0))throw new ss("headersTimeout must be a positive integer or zero");if(u!=null&&(!Number.isInteger(u)||u<0))throw new ss("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new ss("connect must be a function or an object");if(N!=null&&(!Number.isInteger(N)||N<0))throw new ss("maxRedirections must be a positive number");if(O!=null&&(!Number.isInteger(O)||O<0))throw new ss("maxRequestsPerClient must be a positive number");if(Y!=null&&(typeof Y!="string"||Y2e.isIP(Y)===0))throw new ss("localAddress must be valid string IP address");if(ne!=null&&(!Number.isInteger(ne)||ne<-1))throw new ss("maxResponseSize must be a positive number");if(he!=null&&(!Number.isInteger(he)||he<-1))throw new ss("autoSelectFamilyAttemptTimeout must be a positive number");if(K!=null&&typeof K!="boolean")throw new ss("allowH2 must be a valid boolean value");if($!=null&&(typeof $!="number"||$<1))throw new ss("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=yot({..._,maxCachedSessions:D,allowH2:K,socketPath:v,timeout:l,...oe?{autoSelectFamily:oe,autoSelectFamilyAttemptTimeout:he}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[G2e]=r.Client,V2e||(V2e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[G2e]=[Hot({maxRedirections:N})],this[ch]=TE.parseOrigin(e),this[Y3]=P,this[hP]=w??1,this[Tot]=n||hot.maxHeaderSize,this[q2e]=A??4e3,this[_ot]=g??6e5,this[wot]=E??2e3,this[bot]=this[q2e],this[a1]=null,this[z3]=Y??null,this[_E]=0,this[l1]=0,this[xot]=`host: ${this[ch].hostname}${this[ch].port?`:${this[ch].port}`:""}\r
`,this[Bot]=u??3e5,this[Sot]=o??3e5,this[Rot]=S??!0,this[kot]=N,this[EK]=O,this[c1]=null,this[Fot]=ne>-1?ne:-1,this[Mot]=$??100,this[as]=null,this[Sf]=[],this[XA]=0,this[Bf]=0,this[j3]=xe=>xK(this,xe),this[Lot]=xe=>j2e(this,xe)}get pipelining(){return this[hP]}set pipelining(e){this[hP]=e,this[j3](!0)}get[X3](){return this[Sf].length-this[Bf]}get[J3](){return this[Bf]-this[XA]}get[K3](){return this[Sf].length-this[XA]}get[Iot](){return!!this[as]&&!this[Tb]&&!this[as].destroyed}get[CK](){return!!(this[as]?.busy(null)||this[K3]>=(z2e(this)||1)||this[X3]>0)}[Eot](e){K2e(this),this.once("connect",e)}[Pot](e,r){let n=e.origin||this[ch].origin,o=new Aot(n,e,r);return this[Sf].push(o),this[_E]||(TE.bodyLength(o.body)==null&&TE.isIterable(o.body)?(this[_E]=1,queueMicrotask(()=>xK(this))):this[j3](!0)),this[_E]&&this[l1]!==2&&this[CK]&&(this[l1]=2),this[l1]<2}async[Not](){return new Promise(e=>{this[K3]?this[c1]=e:e(null)})}async[Qot](e){return new Promise(r=>{let n=this[Sf].splice(this[Bf]);for(let a=0;a<n.length;a++){let c=n[a];TE.errorRequest(this,c,e)}let o=s(()=>{this[c1]&&(this[c1](),this[c1]=null),r(null)},"callback");this[as]?(this[as].destroy(e,o),this[as]=null):queueMicrotask(o),this[j3]()})}},Hot=dP();function j2e(t,e){if(t[J3]===0&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){JA(t[Bf]===t[XA]);let r=t[Sf].splice(t[XA]);for(let n=0;n<r.length;n++){let o=r[n];TE.errorRequest(t,o,e)}JA(t[K3]===0)}}s(j2e,"onError");async function K2e(t){JA(!t[Tb]),JA(!t[as]);let{host:e,hostname:r,protocol:n,port:o}=t[ch];if(r[0]==="["){let a=r.indexOf("]");JA(a!==-1);let c=r.substring(1,a);JA(Y2e.isIP(c)),r=c}t[Tb]=!0,bb.beforeConnect.hasSubscribers&&bb.beforeConnect.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[as]?.version,servername:t[a1],localAddress:t[z3]},connector:t[Y3]});try{let a=await new Promise((c,l)=>{t[Y3]({host:e,hostname:r,protocol:n,port:o,servername:t[a1],localAddress:t[z3]},(u,d)=>{u?l(u):c(d)})});if(t.destroyed){TE.destroy(a.on("error",W2e),new got);return}JA(a);try{t[as]=a.alpnProtocol==="h2"?await Uot(t,a):await Oot(t,a)}catch(c){throw a.destroy().on("error",W2e),c}t[Tb]=!1,a[Dot]=0,a[EK]=t[EK],a[Cot]=t,a[vot]=null,bb.connected.hasSubscribers&&bb.connected.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[as]?.version,servername:t[a1],localAddress:t[z3]},connector:t[Y3],socket:a}),t.emit("connect",t[ch],[t])}catch(a){if(t.destroyed)return;if(t[Tb]=!1,bb.connectError.hasSubscribers&&bb.connectError.publish({connectParams:{host:e,hostname:r,protocol:n,port:o,version:t[as]?.version,servername:t[a1],localAddress:t[z3]},connector:t[Y3],error:a}),a.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(JA(t[J3]===0);t[X3]>0&&t[Sf][t[Bf]].servername===t[a1];){let c=t[Sf][t[Bf]++];TE.errorRequest(t,c,a)}else j2e(t,a);t.emit("connectionError",t[ch],[t],a)}t[j3]()}s(K2e,"connect");function $2e(t){t[l1]=0,t.emit("drain",t[ch],[t])}s($2e,"emitDrain");function xK(t,e){t[_E]!==2&&(t[_E]=2,qot(t,e),t[_E]=0,t[XA]>256&&(t[Sf].splice(0,t[XA]),t[Bf]-=t[XA],t[XA]=0))}s(xK,"resume");function qot(t,e){for(;;){if(t.destroyed){JA(t[X3]===0);return}if(t[c1]&&!t[K3]){t[c1](),t[c1]=null;return}if(t[as]&&t[as].resume(),t[CK])t[l1]=2;else if(t[l1]===2){e?(t[l1]=1,queueMicrotask(()=>$2e(t))):$2e(t);continue}if(t[X3]===0||t[J3]>=(z2e(t)||1))return;let r=t[Sf][t[Bf]];if(t[ch].protocol==="https:"&&t[a1]!==r.servername){if(t[J3]>0)return;t[a1]=r.servername,t[as]?.destroy(new mot("servername changed"),()=>{t[as]=null,xK(t)})}if(t[Tb])return;if(!t[as]){K2e(t);return}if(t[as].destroyed||t[as].busy(r))return;!r.aborted&&t[as].write(r)?t[Bf]++:t[Sf].splice(t[Bf],1)}}s(qot,"_resume");J2e.exports=IK});var vK=q((L$r,X2e)=>{"use strict";f();var AP=class{static{s(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&2047}shift(){let e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,e)}};X2e.exports=class{static{s(this,"FixedQueue")}constructor(){this.head=this.tail=new AP}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new AP),this.head.push(e)}shift(){let e=this.tail,r=e.shift();return e.isEmpty()&&e.next!==null&&(this.tail=e.next),r}}});var exe=q((U$r,Z2e)=>{f();var{kFree:Got,kConnected:Vot,kPending:Wot,kQueued:$ot,kRunning:Yot,kSize:zot}=Ao(),wE=Symbol("pool"),bK=class{static{s(this,"PoolStats")}constructor(e){this[wE]=e}get connected(){return this[wE][Vot]}get free(){return this[wE][Got]}get pending(){return this[wE][Wot]}get queued(){return this[wE][$ot]}get running(){return this[wE][Yot]}get size(){return this[wE][zot]}};Z2e.exports=bK});var RK=q((G$r,uxe)=>{"use strict";f();var jot=ub(),Kot=vK(),{kConnected:TK,kSize:txe,kRunning:rxe,kPending:nxe,kQueued:eS,kBusy:Jot,kFree:Xot,kUrl:Zot,kClose:est,kDestroy:tst,kDispatch:rst}=Ao(),nst=exe(),gc=Symbol("clients"),S0=Symbol("needDrain"),tS=Symbol("queue"),_K=Symbol("closed resolve"),wK=Symbol("onDrain"),ixe=Symbol("onConnect"),oxe=Symbol("onDisconnect"),sxe=Symbol("onConnectionError"),SK=Symbol("get dispatcher"),cxe=Symbol("add client"),lxe=Symbol("remove client"),axe=Symbol("stats"),BK=class extends jot{static{s(this,"PoolBase")}constructor(){super(),this[tS]=new Kot,this[gc]=[],this[eS]=0;let e=this;this[wK]=s(function(n,o){let a=e[tS],c=!1;for(;!c;){let l=a.shift();if(!l)break;e[eS]--,c=!this.dispatch(l.opts,l.handler)}this[S0]=c,!this[S0]&&e[S0]&&(e[S0]=!1,e.emit("drain",n,[e,...o])),e[_K]&&a.isEmpty()&&Promise.all(e[gc].map(l=>l.close())).then(e[_K])},"onDrain"),this[ixe]=(r,n)=>{e.emit("connect",r,[e,...n])},this[oxe]=(r,n,o)=>{e.emit("disconnect",r,[e,...n],o)},this[sxe]=(r,n,o)=>{e.emit("connectionError",r,[e,...n],o)},this[axe]=new nst(this)}get[Jot](){return this[S0]}get[TK](){return this[gc].filter(e=>e[TK]).length}get[Xot](){return this[gc].filter(e=>e[TK]&&!e[S0]).length}get[nxe](){let e=this[eS];for(let{[nxe]:r}of this[gc])e+=r;return e}get[rxe](){let e=0;for(let{[rxe]:r}of this[gc])e+=r;return e}get[txe](){let e=this[eS];for(let{[txe]:r}of this[gc])e+=r;return e}get stats(){return this[axe]}async[est](){this[tS].isEmpty()?await Promise.all(this[gc].map(e=>e.close())):await new Promise(e=>{this[_K]=e})}async[tst](e){for(;;){let r=this[tS].shift();if(!r)break;r.handler.onError(e)}await Promise.all(this[gc].map(r=>r.destroy(e)))}[rst](e,r){let n=this[SK]();return n?n.dispatch(e,r)||(n[S0]=!0,this[S0]=!this[SK]()):(this[S0]=!0,this[tS].push({opts:e,handler:r}),this[eS]++),!this[S0]}[cxe](e){return e.on("drain",this[wK]).on("connect",this[ixe]).on("disconnect",this[oxe]).on("connectionError",this[sxe]),this[gc].push(e),this[S0]&&queueMicrotask(()=>{this[S0]&&this[wK](e[Zot],[this,e])}),this}[lxe](e){e.close(()=>{let r=this[gc].indexOf(e);r!==-1&&this[gc].splice(r,1)}),this[S0]=this[gc].some(r=>!r[S0]&&r.closed!==!0&&r.destroyed!==!0)}};uxe.exports={PoolBase:BK,kClients:gc,kNeedDrain:S0,kAddClient:cxe,kRemoveClient:lxe,kGetDispatcher:SK}});var _b=q(($$r,Axe)=>{"use strict";f();var{PoolBase:ist,kClients:pP,kNeedDrain:ost,kAddClient:sst,kGetDispatcher:ast}=RK(),cst=Z3(),{InvalidArgumentError:kK}=ui(),fxe=hn(),{kUrl:dxe,kInterceptors:lst}=Ao(),ust=N3(),DK=Symbol("options"),NK=Symbol("connections"),hxe=Symbol("factory");function fst(t,e){return new cst(t,e)}s(fst,"defaultFactory");var QK=class extends ist{static{s(this,"Pool")}constructor(e,{connections:r,factory:n=fst,connect:o,connectTimeout:a,tls:c,maxCachedSessions:l,socketPath:u,autoSelectFamily:d,autoSelectFamilyAttemptTimeout:h,allowH2:A,...p}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new kK("invalid connections");if(typeof n!="function")throw new kK("factory must be a function.");if(o!=null&&typeof o!="function"&&typeof o!="object")throw new kK("connect must be a function or an object");typeof o!="function"&&(o=ust({...c,maxCachedSessions:l,allowH2:A,socketPath:u,timeout:a,...d?{autoSelectFamily:d,autoSelectFamilyAttemptTimeout:h}:void 0,...o})),this[lst]=p.interceptors?.Pool&&Array.isArray(p.interceptors.Pool)?p.interceptors.Pool:[],this[NK]=r||null,this[dxe]=fxe.parseOrigin(e),this[DK]={...fxe.deepClone(p),connect:o,allowH2:A},this[DK].interceptors=p.interceptors?{...p.interceptors}:void 0,this[hxe]=n,this.on("connectionError",(g,E,v)=>{for(let w of E){let _=this[pP].indexOf(w);_!==-1&&this[pP].splice(_,1)}})}[ast](){for(let e of this[pP])if(!e[ost])return e;if(!this[NK]||this[pP].length<this[NK]){let e=this[hxe](this[dxe],this[DK]);return this[sst](e),e}}};Axe.exports=QK});var Cxe=q((j$r,yxe)=>{"use strict";f();var{BalancedPoolMissingUpstreamError:dst,InvalidArgumentError:hst}=ui(),{PoolBase:Ast,kClients:o0,kNeedDrain:rS,kAddClient:pst,kRemoveClient:mst,kGetDispatcher:gst}=RK(),yst=_b(),{kUrl:PK,kInterceptors:Cst}=Ao(),{parseOrigin:pxe}=hn(),mxe=Symbol("factory"),mP=Symbol("options"),gxe=Symbol("kGreatestCommonDivisor"),SE=Symbol("kCurrentWeight"),BE=Symbol("kIndex"),du=Symbol("kWeight"),gP=Symbol("kMaxWeightPerServer"),yP=Symbol("kErrorPenalty");function Est(t,e){if(t===0)return e;for(;e!==0;){let r=e;e=t%e,t=r}return t}s(Est,"getGreatestCommonDivisor");function Ist(t,e){return new yst(t,e)}s(Ist,"defaultFactory");var FK=class extends Ast{static{s(this,"BalancedPool")}constructor(e=[],{factory:r=Ist,...n}={}){if(super(),this[mP]=n,this[BE]=-1,this[SE]=0,this[gP]=this[mP].maxWeightPerServer||100,this[yP]=this[mP].errorPenalty||15,Array.isArray(e)||(e=[e]),typeof r!="function")throw new hst("factory must be a function.");this[Cst]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[mxe]=r;for(let o of e)this.addUpstream(o);this._updateBalancedPoolStats()}addUpstream(e){let r=pxe(e).origin;if(this[o0].find(o=>o[PK].origin===r&&o.closed!==!0&&o.destroyed!==!0))return this;let n=this[mxe](r,Object.assign({},this[mP]));this[pst](n),n.on("connect",()=>{n[du]=Math.min(this[gP],n[du]+this[yP])}),n.on("connectionError",()=>{n[du]=Math.max(1,n[du]-this[yP]),this._updateBalancedPoolStats()}),n.on("disconnect",(...o)=>{let a=o[2];a&&a.code==="UND_ERR_SOCKET"&&(n[du]=Math.max(1,n[du]-this[yP]),this._updateBalancedPoolStats())});for(let o of this[o0])o[du]=this[gP];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let e=0;for(let r=0;r<this[o0].length;r++)e=Est(this[o0][r][du],e);this[gxe]=e}removeUpstream(e){let r=pxe(e).origin,n=this[o0].find(o=>o[PK].origin===r&&o.closed!==!0&&o.destroyed!==!0);return n&&this[mst](n),this}get upstreams(){return this[o0].filter(e=>e.closed!==!0&&e.destroyed!==!0).map(e=>e[PK].origin)}[gst](){if(this[o0].length===0)throw new dst;if(!this[o0].find(a=>!a[rS]&&a.closed!==!0&&a.destroyed!==!0)||this[o0].map(a=>a[rS]).reduce((a,c)=>a&&c,!0))return;let n=0,o=this[o0].findIndex(a=>!a[rS]);for(;n++<this[o0].length;){this[BE]=(this[BE]+1)%this[o0].length;let a=this[o0][this[BE]];if(a[du]>this[o0][o][du]&&!a[rS]&&(o=this[BE]),this[BE]===0&&(this[SE]=this[SE]-this[gxe],this[SE]<=0&&(this[SE]=this[gP])),a[du]>=this[SE]&&!a[rS])return a}return this[SE]=this[o0][o][du],this[BE]=o,this[o0][o]}};yxe.exports=FK});var wb=q((X$r,_xe)=>{"use strict";f();var{InvalidArgumentError:CP}=ui(),{kClients:u1,kRunning:Exe,kClose:xst,kDestroy:vst,kDispatch:bst,kInterceptors:Tst}=Ao(),_st=ub(),wst=_b(),Sst=Z3(),Bst=hn(),Rst=dP(),Ixe=Symbol("onConnect"),xxe=Symbol("onDisconnect"),vxe=Symbol("onConnectionError"),kst=Symbol("maxRedirections"),bxe=Symbol("onDrain"),Txe=Symbol("factory"),LK=Symbol("options");function Dst(t,e){return e&&e.connections===1?new Sst(t,e):new wst(t,e)}s(Dst,"defaultFactory");var MK=class extends _st{static{s(this,"Agent")}constructor({factory:e=Dst,maxRedirections:r=0,connect:n,...o}={}){if(super(),typeof e!="function")throw new CP("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new CP("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new CP("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[Tst]=o.interceptors?.Agent&&Array.isArray(o.interceptors.Agent)?o.interceptors.Agent:[Rst({maxRedirections:r})],this[LK]={...Bst.deepClone(o),connect:n},this[LK].interceptors=o.interceptors?{...o.interceptors}:void 0,this[kst]=r,this[Txe]=e,this[u1]=new Map,this[bxe]=(a,c)=>{this.emit("drain",a,[this,...c])},this[Ixe]=(a,c)=>{this.emit("connect",a,[this,...c])},this[xxe]=(a,c,l)=>{this.emit("disconnect",a,[this,...c],l)},this[vxe]=(a,c,l)=>{this.emit("connectionError",a,[this,...c],l)}}get[Exe](){let e=0;for(let r of this[u1].values())e+=r[Exe];return e}[bst](e,r){let n;if(e.origin&&(typeof e.origin=="string"||e.origin instanceof URL))n=String(e.origin);else throw new CP("opts.origin must be a non-empty string or URL.");let o=this[u1].get(n);return o||(o=this[Txe](e.origin,this[LK]).on("drain",this[bxe]).on("connect",this[Ixe]).on("disconnect",this[xxe]).on("connectionError",this[vxe]),this[u1].set(n,o)),o.dispatch(e,r)}async[xst](){let e=[];for(let r of this[u1].values())e.push(r.close());this[u1].clear(),await Promise.all(e)}async[vst](e){let r=[];for(let n of this[u1].values())r.push(n.destroy(e));this[u1].clear(),await Promise.all(r)}};_xe.exports=MK});var HK=q((tYr,Rxe)=>{"use strict";f();var{kProxy:Nst,kClose:Qst,kDestroy:Pst,kInterceptors:Fst}=Ao(),{URL:nS}=require("node:url"),Lst=wb(),Mst=_b(),Ost=ub(),{InvalidArgumentError:xP,RequestAbortedError:Ust,SecureProxyConnectionError:Hst}=ui(),wxe=N3(),EP=Symbol("proxy agent"),IP=Symbol("proxy client"),iS=Symbol("proxy headers"),OK=Symbol("request tls settings"),Sxe=Symbol("proxy tls settings"),Bxe=Symbol("connect endpoint function");function qst(t){return t==="https:"?443:80}s(qst,"defaultProtocolPort");function Gst(t,e){return new Mst(t,e)}s(Gst,"defaultFactory");var Vst=s(()=>{},"noop"),UK=class extends Ost{static{s(this,"ProxyAgent")}constructor(e){if(super(),!e||typeof e=="object"&&!(e instanceof nS)&&!e.uri)throw new xP("Proxy uri is mandatory");let{clientFactory:r=Gst}=e;if(typeof r!="function")throw new xP("Proxy opts.clientFactory must be a function.");let n=this.#e(e),{href:o,origin:a,port:c,protocol:l,username:u,password:d,hostname:h}=n;if(this[Nst]={uri:o,protocol:l},this[Fst]=e.interceptors?.ProxyAgent&&Array.isArray(e.interceptors.ProxyAgent)?e.interceptors.ProxyAgent:[],this[OK]=e.requestTls,this[Sxe]=e.proxyTls,this[iS]=e.headers||{},e.auth&&e.token)throw new xP("opts.auth cannot be used in combination with opts.token");e.auth?this[iS]["proxy-authorization"]=`Basic ${e.auth}`:e.token?this[iS]["proxy-authorization"]=e.token:u&&d&&(this[iS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(u)}:${decodeURIComponent(d)}`).toString("base64")}`);let A=wxe({...e.proxyTls});this[Bxe]=wxe({...e.requestTls}),this[IP]=r(n,{connect:A}),this[EP]=new Lst({...e,connect:s(async(p,g)=>{let E=p.host;p.port||(E+=`:${qst(p.protocol)}`);try{let{socket:v,statusCode:w}=await this[IP].connect({origin:a,port:c,path:E,signal:p.signal,headers:{...this[iS],host:p.host},servername:this[Sxe]?.servername||h});if(w!==200&&(v.on("error",Vst).destroy(),g(new Ust(`Proxy response (${w}) !== 200 when HTTP Tunneling`))),p.protocol!=="https:"){g(null,v);return}let _;this[OK]?_=this[OK].servername:_=p.servername,this[Bxe]({...p,servername:_,httpSocket:v},g)}catch(v){v.code==="ERR_TLS_CERT_ALTNAME_INVALID"?g(new Hst(v)):g(v)}},"connect")})}dispatch(e,r){let n=Wst(e.headers);if($st(n),n&&!("host"in n)&&!("Host"in n)){let{host:o}=new nS(e.origin);n.host=o}return this[EP].dispatch({...e,headers:n},r)}#e(e){return typeof e=="string"?new nS(e):e instanceof nS?e:new nS(e.uri)}async[Qst](){await this[EP].close(),await this[IP].close()}async[Pst](){await this[EP].destroy(),await this[IP].destroy()}};function Wst(t){if(Array.isArray(t)){let e={};for(let r=0;r<t.length;r+=2)e[t[r]]=t[r+1];return e}return t}s(Wst,"buildHeaders");function $st(t){if(t&&Object.keys(t).find(r=>r.toLowerCase()==="proxy-authorization"))throw new xP("Proxy-Authorization should be sent in ProxyAgent constructor")}s($st,"throwIfProxyAuthIsSent");Rxe.exports=UK});var Fxe=q((iYr,Pxe)=>{"use strict";f();var Yst=ub(),{kClose:zst,kDestroy:jst,kClosed:kxe,kDestroyed:Dxe,kDispatch:Kst,kNoProxyAgent:oS,kHttpProxyAgent:f1,kHttpsProxyAgent:RE}=Ao(),Nxe=HK(),Jst=wb(),Xst={"http:":80,"https:":443},Qxe=!1,qK=class extends Yst{static{s(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(e={}){super(),this.#i=e,Qxe||(Qxe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:o,...a}=e;this[oS]=new Jst(a);let c=r??process.env.http_proxy??process.env.HTTP_PROXY;c?this[f1]=new Nxe({...a,uri:c}):this[f1]=this[oS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[RE]=new Nxe({...a,uri:l}):this[RE]=this[f1],this.#o()}[Kst](e,r){let n=new URL(e.origin);return this.#n(n).dispatch(e,r)}async[zst](){await this[oS].close(),this[f1][kxe]||await this[f1].close(),this[RE][kxe]||await this[RE].close()}async[jst](e){await this[oS].destroy(e),this[f1][Dxe]||await this[f1].destroy(e),this[RE][Dxe]||await this[RE].destroy(e)}#n(e){let{protocol:r,host:n,port:o}=e;return n=n.replace(/:\d*$/,"").toLowerCase(),o=Number.parseInt(o,10)||Xst[r]||0,this.#r(n,o)?r==="https:"?this[RE]:this[f1]:this[oS]}#r(e,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let o=this.#t[n];if(!(o.port&&o.port!==r)){if(/^[.*]/.test(o.hostname)){if(e.endsWith(o.hostname.replace(/^\*/,"")))return!1}else if(e===o.hostname)return!1}}return!0}#o(){let e=this.#i.noProxy??this.#a,r=e.split(/[,\s]/),n=[];for(let o=0;o<r.length;o++){let a=r[o];if(!a)continue;let c=a.match(/^(.+):(\d+)$/);n.push({hostname:(c?c[1]:a).toLowerCase(),port:c?Number.parseInt(c[2],10):0})}this.#e=e,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};Pxe.exports=qK});var vP=q((aYr,Uxe)=>{"use strict";f();var Sb=require("node:assert"),{kRetryHandlerDefaultRetry:Lxe}=Ao(),{RequestRetryError:sS}=ui(),{isDisturbed:Mxe,parseHeaders:Zst,parseRangeHeader:Oxe,wrapRequestBody:eat}=hn();function tat(t){let e=Date.now();return new Date(t).getTime()-e}s(tat,"calculateRetryAfterHeader");var GK=class t{static{s(this,"RetryHandler")}constructor(e,r){let{retryOptions:n,...o}=e,{retry:a,maxRetries:c,maxTimeout:l,minTimeout:u,timeoutFactor:d,methods:h,errorCodes:A,retryAfter:p,statusCodes:g}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...o,body:eat(e.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:a??t[Lxe],retryAfter:p??!0,maxTimeout:l??30*1e3,minTimeout:u??500,timeoutFactor:d??2,maxRetries:c??5,methods:h??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:g??[500,502,503,504,429],errorCodes:A??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(E=>{this.aborted=!0,this.abort?this.abort(E):this.reason=E})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(e,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(e,r,n)}onConnect(e){this.aborted?e(this.reason):this.abort=e}onBodySent(e){if(this.handler.onBodySent)return this.handler.onBodySent(e)}static[Lxe](e,{state:r,opts:n},o){let{statusCode:a,code:c,headers:l}=e,{method:u,retryOptions:d}=n,{maxRetries:h,minTimeout:A,maxTimeout:p,timeoutFactor:g,statusCodes:E,errorCodes:v,methods:w}=d,{counter:_}=r;if(c&&c!=="UND_ERR_REQ_RETRY"&&!v.includes(c)){o(e);return}if(Array.isArray(w)&&!w.includes(u)){o(e);return}if(a!=null&&Array.isArray(E)&&!E.includes(a)){o(e);return}if(_>h){o(e);return}let S=l?.["retry-after"];S&&(S=Number(S),S=Number.isNaN(S)?tat(S):S*1e3);let D=S>0?Math.min(S,p):Math.min(A*g**(_-1),p);setTimeout(()=>o(null),D)}onHeaders(e,r,n,o){let a=Zst(r);if(this.retryCount+=1,e>=300)return this.retryOpts.statusCodes.includes(e)===!1?this.handler.onHeaders(e,r,n,o):(this.abort(new sS("Request failed",e,{headers:a,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,e!==206&&(this.start>0||e!==200))return this.abort(new sS("server does not support the range header and the payload was partially consumed",e,{headers:a,data:{count:this.retryCount}})),!1;let l=Oxe(a["content-range"]);if(!l)return this.abort(new sS("Content-Range mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==a.etag)return this.abort(new sS("ETag mismatch",e,{headers:a,data:{count:this.retryCount}})),!1;let{start:u,size:d,end:h=d-1}=l;return Sb(this.start===u,"content-range mismatch"),Sb(this.end==null||this.end===h,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(e===206){let l=Oxe(a["content-range"]);if(l==null)return this.handler.onHeaders(e,r,n,o);let{start:u,size:d,end:h=d-1}=l;Sb(u!=null&&Number.isFinite(u),"content-range mismatch"),Sb(h!=null&&Number.isFinite(h),"invalid content-length"),this.start=u,this.end=h}if(this.end==null){let l=a["content-length"];this.end=l!=null?Number(l)-1:null}return Sb(Number.isFinite(this.start)),Sb(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=a.etag!=null?a.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(e,r,n,o)}let c=new sS("Request failed",e,{headers:a,data:{count:this.retryCount}});return this.abort(c),!1}onData(e){return this.start+=e.length,this.handler.onData(e)}onComplete(e){return this.retryCount=0,this.handler.onComplete(e)}onError(e){if(this.aborted||Mxe(this.opts.body))return this.handler.onError(e);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(e,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||Mxe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let o={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(o["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...o}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(o){this.handler.onError(o)}}s(r,"onRetry")}};Uxe.exports=GK});var qxe=q((uYr,Hxe)=>{"use strict";f();var rat=k3(),nat=vP(),VK=class extends rat{static{s(this,"RetryAgent")}#e=null;#t=null;constructor(e,r={}){super(r),this.#e=e,this.#t=r}dispatch(e,r){let n=new nat({...e,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(e,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};Hxe.exports=VK});var KK=q((hYr,Jxe)=>{"use strict";f();var Yxe=require("node:assert"),{Readable:iat}=require("node:stream"),{RequestAbortedError:zxe,NotSupportedError:oat,InvalidArgumentError:sat,AbortError:WK}=ui(),jxe=hn(),{ReadableStreamFrom:aat}=hn(),al=Symbol("kConsume"),aS=Symbol("kReading"),d1=Symbol("kBody"),Gxe=Symbol("kAbort"),Kxe=Symbol("kContentType"),Vxe=Symbol("kContentLength"),cat=s(()=>{},"noop"),$K=class extends iat{static{s(this,"BodyReadable")}constructor({resume:e,abort:r,contentType:n="",contentLength:o,highWaterMark:a=64*1024}){super({autoDestroy:!0,read:e,highWaterMark:a}),this._readableState.dataEmitted=!1,this[Gxe]=r,this[al]=null,this[d1]=null,this[Kxe]=n,this[Vxe]=o,this[aS]=!1}destroy(e){return!e&&!this._readableState.endEmitted&&(e=new zxe),e&&this[Gxe](),super.destroy(e)}_destroy(e,r){this[aS]?r(e):setImmediate(()=>{r(e)})}on(e,...r){return(e==="data"||e==="readable")&&(this[aS]=!0),super.on(e,...r)}addListener(e,...r){return this.on(e,...r)}off(e,...r){let n=super.off(e,...r);return(e==="data"||e==="readable")&&(this[aS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(e,...r){return this.off(e,...r)}push(e){return this[al]&&e!==null?(zK(this[al],e),this[aS]?super.push(e):!0):super.push(e)}async text(){return cS(this,"text")}async json(){return cS(this,"json")}async blob(){return cS(this,"blob")}async bytes(){return cS(this,"bytes")}async arrayBuffer(){return cS(this,"arrayBuffer")}async formData(){throw new oat}get bodyUsed(){return jxe.isDisturbed(this)}get body(){return this[d1]||(this[d1]=aat(this),this[al]&&(this[d1].getReader(),Yxe(this[d1].locked))),this[d1]}async dump(e){let r=Number.isFinite(e?.limit)?e.limit:131072,n=e?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new sat("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((o,a)=>{this[Vxe]>r&&this.destroy(new WK);let c=s(()=>{this.destroy(n.reason??new WK)},"onAbort");n?.addEventListener("abort",c),this.on("close",function(){n?.removeEventListener("abort",c),n?.aborted?a(n.reason??new WK):o(null)}).on("error",cat).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function lat(t){return t[d1]&&t[d1].locked===!0||t[al]}s(lat,"isLocked");function uat(t){return jxe.isDisturbed(t)||lat(t)}s(uat,"isUnusable");async function cS(t,e){return Yxe(!t[al]),new Promise((r,n)=>{if(uat(t)){let o=t._readableState;o.destroyed&&o.closeEmitted===!1?t.on("error",a=>{n(a)}).on("close",()=>{n(new TypeError("unusable"))}):n(o.errored??new TypeError("unusable"))}else queueMicrotask(()=>{t[al]={type:e,stream:t,resolve:r,reject:n,length:0,body:[]},t.on("error",function(o){jK(this[al],o)}).on("close",function(){this[al].body!==null&&jK(this[al],new zxe)}),fat(t[al])})})}s(cS,"consume");function fat(t){if(t.body===null)return;let{_readableState:e}=t.stream;if(e.bufferIndex){let r=e.bufferIndex,n=e.buffer.length;for(let o=r;o<n;o++)zK(t,e.buffer[o])}else for(let r of e.buffer)zK(t,r);for(e.endEmitted?$xe(this[al]):t.stream.on("end",function(){$xe(this[al])}),t.stream.resume();t.stream.read()!=null;);}s(fat,"consumeStart");function YK(t,e){if(t.length===0||e===0)return"";let r=t.length===1?t[0]:Buffer.concat(t,e),n=r.length,o=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(o,n)}s(YK,"chunksDecode");function Wxe(t,e){if(t.length===0||e===0)return new Uint8Array(0);if(t.length===1)return new Uint8Array(t[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(e).buffer),n=0;for(let o=0;o<t.length;++o){let a=t[o];r.set(a,n),n+=a.length}return r}s(Wxe,"chunksConcat");function $xe(t){let{type:e,body:r,resolve:n,stream:o,length:a}=t;try{e==="text"?n(YK(r,a)):e==="json"?n(JSON.parse(YK(r,a))):e==="arrayBuffer"?n(Wxe(r,a).buffer):e==="blob"?n(new Blob(r,{type:o[Kxe]})):e==="bytes"&&n(Wxe(r,a)),jK(t)}catch(c){o.destroy(c)}}s($xe,"consumeEnd");function zK(t,e){t.length+=e.length,t.body.push(e)}s(zK,"consumePush");function jK(t,e){t.body!==null&&(e?t.reject(e):t.resolve(),t.type=null,t.stream=null,t.resolve=null,t.reject=null,t.length=0,t.body=null)}s(jK,"consumeFinish");Jxe.exports={Readable:$K,chunksDecode:YK}});var JK=q((mYr,rve)=>{f();var dat=require("node:assert"),{ResponseStatusCodeError:Xxe}=ui(),{chunksDecode:Zxe}=KK(),hat=128*1024;async function Aat({callback:t,body:e,contentType:r,statusCode:n,statusMessage:o,headers:a}){dat(e);let c=[],l=0;try{for await(let A of e)if(c.push(A),l+=A.length,l>hat){c=[],l=0;break}}catch{c=[],l=0}let u=`Response status code ${n}${o?`: ${o}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>t(new Xxe(u,n,a)));return}let d=Error.stackTraceLimit;Error.stackTraceLimit=0;let h;try{eve(r)?h=JSON.parse(Zxe(c,l)):tve(r)&&(h=Zxe(c,l))}catch{}finally{Error.stackTraceLimit=d}queueMicrotask(()=>t(new Xxe(u,n,a,h)))}s(Aat,"getResolveErrorBodyCallback");var eve=s(t=>t.length>15&&t[11]==="/"&&t[0]==="a"&&t[1]==="p"&&t[2]==="p"&&t[3]==="l"&&t[4]==="i"&&t[5]==="c"&&t[6]==="a"&&t[7]==="t"&&t[8]==="i"&&t[9]==="o"&&t[10]==="n"&&t[12]==="j"&&t[13]==="s"&&t[14]==="o"&&t[15]==="n","isContentTypeApplicationJson"),tve=s(t=>t.length>4&&t[4]==="/"&&t[0]==="t"&&t[1]==="e"&&t[2]==="x"&&t[3]==="t","isContentTypeText");rve.exports={getResolveErrorBodyCallback:Aat,isContentTypeApplicationJson:eve,isContentTypeText:tve}});var ove=q((CYr,XK)=>{"use strict";f();var pat=require("node:assert"),{Readable:mat}=KK(),{InvalidArgumentError:Bb,RequestAbortedError:nve}=ui(),cl=hn(),{getResolveErrorBodyCallback:gat}=JK(),{AsyncResource:yat}=require("node:async_hooks"),bP=class extends yat{static{s(this,"RequestHandler")}constructor(e,r){if(!e||typeof e!="object")throw new Bb("invalid opts");let{signal:n,method:o,opaque:a,body:c,onInfo:l,responseHeaders:u,throwOnError:d,highWaterMark:h}=e;try{if(typeof r!="function")throw new Bb("invalid callback");if(h&&(typeof h!="number"||h<0))throw new Bb("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Bb("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new Bb("invalid method");if(l&&typeof l!="function")throw new Bb("invalid onInfo callback");super("UNDICI_REQUEST")}catch(A){throw cl.isStream(c)&&cl.destroy(c.on("error",cl.nop),A),A}this.method=o,this.responseHeaders=u||null,this.opaque=a||null,this.callback=r,this.res=null,this.abort=null,this.body=c,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=d,this.highWaterMark=h,this.signal=n,this.reason=null,this.removeAbortListener=null,cl.isStream(c)&&c.on("error",A=>{this.onError(A)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new nve:this.removeAbortListener=cl.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new nve,this.res?cl.destroy(this.res.on("error",cl.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(e,r){if(this.reason){e(this.reason);return}pat(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{callback:a,opaque:c,abort:l,context:u,responseHeaders:d,highWaterMark:h}=this,A=d==="raw"?cl.parseRawHeaders(r):cl.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:A});return}let p=d==="raw"?cl.parseHeaders(r):A,g=p["content-type"],E=p["content-length"],v=new mat({resume:n,abort:l,contentType:g,contentLength:this.method!=="HEAD"&&E?Number(E):null,highWaterMark:h});this.removeAbortListener&&v.on("close",this.removeAbortListener),this.callback=null,this.res=v,a!==null&&(this.throwOnError&&e>=400?this.runInAsyncScope(gat,null,{callback:a,body:v,contentType:g,statusCode:e,statusMessage:o,headers:A}):this.runInAsyncScope(a,null,null,{statusCode:e,headers:A,trailers:this.trailers,opaque:c,body:v,context:u}))}onData(e){return this.res.push(e)}onComplete(e){cl.parseHeaders(e,this.trailers),this.res.push(null)}onError(e){let{res:r,callback:n,body:o,opaque:a}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:a})})),r&&(this.res=null,queueMicrotask(()=>{cl.destroy(r,e)})),o&&(this.body=null,cl.destroy(o,e)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function ive(t,e){if(e===void 0)return new Promise((r,n)=>{ive.call(this,t,(o,a)=>o?n(o):r(a))});try{this.dispatch(t,new bP(t,e))}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(ive,"request");XK.exports=ive;XK.exports.RequestHandler=bP});var lS=q((xYr,cve)=>{f();var{addAbortListener:Cat}=hn(),{RequestAbortedError:Eat}=ui(),Rb=Symbol("kListener"),lh=Symbol("kSignal");function sve(t){t.abort?t.abort(t[lh]?.reason):t.reason=t[lh]?.reason??new Eat,ave(t)}s(sve,"abort");function Iat(t,e){if(t.reason=null,t[lh]=null,t[Rb]=null,!!e){if(e.aborted){sve(t);return}t[lh]=e,t[Rb]=()=>{sve(t)},Cat(t[lh],t[Rb])}}s(Iat,"addSignal");function ave(t){t[lh]&&("removeEventListener"in t[lh]?t[lh].removeEventListener("abort",t[Rb]):t[lh].removeListener("abort",t[Rb]),t[lh]=null,t[Rb]=null)}s(ave,"removeSignal");cve.exports={addSignal:Iat,removeSignal:ave}});var dve=q((TYr,fve)=>{"use strict";f();var xat=require("node:assert"),{finished:vat,PassThrough:bat}=require("node:stream"),{InvalidArgumentError:kb,InvalidReturnValueError:Tat}=ui(),Rf=hn(),{getResolveErrorBodyCallback:_at}=JK(),{AsyncResource:wat}=require("node:async_hooks"),{addSignal:Sat,removeSignal:lve}=lS(),ZK=class extends wat{static{s(this,"StreamHandler")}constructor(e,r,n){if(!e||typeof e!="object")throw new kb("invalid opts");let{signal:o,method:a,opaque:c,body:l,onInfo:u,responseHeaders:d,throwOnError:h}=e;try{if(typeof n!="function")throw new kb("invalid callback");if(typeof r!="function")throw new kb("invalid factory");if(o&&typeof o.on!="function"&&typeof o.addEventListener!="function")throw new kb("signal must be an EventEmitter or EventTarget");if(a==="CONNECT")throw new kb("invalid method");if(u&&typeof u!="function")throw new kb("invalid onInfo callback");super("UNDICI_STREAM")}catch(A){throw Rf.isStream(l)&&Rf.destroy(l.on("error",Rf.nop),A),A}this.responseHeaders=d||null,this.opaque=c||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=u||null,this.throwOnError=h||!1,Rf.isStream(l)&&l.on("error",A=>{this.onError(A)}),Sat(this,o)}onConnect(e,r){if(this.reason){e(this.reason);return}xat(this.callback),this.abort=e,this.context=r}onHeaders(e,r,n,o){let{factory:a,opaque:c,context:l,callback:u,responseHeaders:d}=this,h=d==="raw"?Rf.parseRawHeaders(r):Rf.parseHeaders(r);if(e<200){this.onInfo&&this.onInfo({statusCode:e,headers:h});return}this.factory=null;let A;if(this.throwOnError&&e>=400){let E=(d==="raw"?Rf.parseHeaders(r):h)["content-type"];A=new bat,this.callback=null,this.runInAsyncScope(_at,null,{callback:u,body:A,contentType:E,statusCode:e,statusMessage:o,headers:h})}else{if(a===null)return;if(A=this.runInAsyncScope(a,null,{statusCode:e,headers:h,opaque:c,context:l}),!A||typeof A.write!="function"||typeof A.end!="function"||typeof A.on!="function")throw new Tat("expected Writable");vat(A,{readable:!1},g=>{let{callback:E,res:v,opaque:w,trailers:_,abort:S}=this;this.res=null,(g||!v.readable)&&Rf.destroy(v,g),this.callback=null,this.runInAsyncScope(E,null,g||null,{opaque:w,trailers:_}),g&&S()})}return A.on("drain",n),this.res=A,(A.writableNeedDrain!==void 0?A.writableNeedDrain:A._writableState?.needDrain)!==!0}onData(e){let{res:r}=this;return r?r.write(e):!0}onComplete(e){let{res:r}=this;lve(this),r&&(this.trailers=Rf.parseHeaders(e),r.end())}onError(e){let{res:r,callback:n,opaque:o,body:a}=this;lve(this),this.factory=null,r?(this.res=null,Rf.destroy(r,e)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,e,{opaque:o})})),a&&(this.body=null,Rf.destroy(a,e))}};function uve(t,e,r){if(r===void 0)return new Promise((n,o)=>{uve.call(this,t,e,(a,c)=>a?o(a):n(c))});try{this.dispatch(t,new ZK(t,e,r))}catch(n){if(typeof r!="function")throw n;let o=t?.opaque;queueMicrotask(()=>r(n,{opaque:o}))}}s(uve,"stream");fve.exports=uve});var mve=q((SYr,pve)=>{"use strict";f();var{Readable:Ave,Duplex:Bat,PassThrough:Rat}=require("node:stream"),{InvalidArgumentError:uS,InvalidReturnValueError:kat,RequestAbortedError:eJ}=ui(),hu=hn(),{AsyncResource:Dat}=require("node:async_hooks"),{addSignal:Nat,removeSignal:Qat}=lS(),hve=require("node:assert"),Db=Symbol("resume"),tJ=class extends Ave{static{s(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[Db]=null}_read(){let{[Db]:e}=this;e&&(this[Db]=null,e())}_destroy(e,r){this._read(),r(e)}},rJ=class extends Ave{static{s(this,"PipelineResponse")}constructor(e){super({autoDestroy:!0}),this[Db]=e}_read(){this[Db]()}_destroy(e,r){!e&&!this._readableState.endEmitted&&(e=new eJ),r(e)}},nJ=class extends Dat{static{s(this,"PipelineHandler")}constructor(e,r){if(!e||typeof e!="object")throw new uS("invalid opts");if(typeof r!="function")throw new uS("invalid handler");let{signal:n,method:o,opaque:a,onInfo:c,responseHeaders:l}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new uS("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new uS("invalid method");if(c&&typeof c!="function")throw new uS("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=a||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=c||null,this.req=new tJ().on("error",hu.nop),this.ret=new Bat({readableObjectMode:e.objectMode,autoDestroy:!0,read:s(()=>{let{body:u}=this;u?.resume&&u.resume()},"read"),write:s((u,d,h)=>{let{req:A}=this;A.push(u,d)||A._readableState.destroyed?h():A[Db]=h},"write"),destroy:s((u,d)=>{let{body:h,req:A,res:p,ret:g,abort:E}=this;!u&&!g._readableState.endEmitted&&(u=new eJ),E&&u&&E(),hu.destroy(h,u),hu.destroy(A,u),hu.destroy(p,u),Qat(this),d(u)},"destroy")}).on("prefinish",()=>{let{req:u}=this;u.push(null)}),this.res=null,Nat(this,n)}onConnect(e,r){let{ret:n,res:o}=this;if(this.reason){e(this.reason);return}hve(!o,"pipeline cannot be retried"),hve(!n.destroyed),this.abort=e,this.context=r}onHeaders(e,r,n){let{opaque:o,handler:a,context:c}=this;if(e<200){if(this.onInfo){let u=this.responseHeaders==="raw"?hu.parseRawHeaders(r):hu.parseHeaders(r);this.onInfo({statusCode:e,headers:u})}return}this.res=new rJ(n);let l;try{this.handler=null;let u=this.responseHeaders==="raw"?hu.parseRawHeaders(r):hu.parseHeaders(r);l=this.runInAsyncScope(a,null,{statusCode:e,headers:u,opaque:o,body:this.res,context:c})}catch(u){throw this.res.on("error",hu.nop),u}if(!l||typeof l.on!="function")throw new kat("expected Readable");l.on("data",u=>{let{ret:d,body:h}=this;!d.push(u)&&h.pause&&h.pause()}).on("error",u=>{let{ret:d}=this;hu.destroy(d,u)}).on("end",()=>{let{ret:u}=this;u.push(null)}).on("close",()=>{let{ret:u}=this;u._readableState.ended||hu.destroy(u,new eJ)}),this.body=l}onData(e){let{res:r}=this;return r.push(e)}onComplete(e){let{res:r}=this;r.push(null)}onError(e){let{ret:r}=this;this.handler=null,hu.destroy(r,e)}};function Pat(t,e){try{let r=new nJ(t,e);return this.dispatch({...t,body:r.req},r),r.ret}catch(r){return new Rat().destroy(r)}}s(Pat,"pipeline");pve.exports=Pat});var xve=q((kYr,Ive)=>{"use strict";f();var{InvalidArgumentError:iJ,SocketError:Fat}=ui(),{AsyncResource:Lat}=require("node:async_hooks"),gve=hn(),{addSignal:Mat,removeSignal:yve}=lS(),Cve=require("node:assert"),oJ=class extends Lat{static{s(this,"UpgradeHandler")}constructor(e,r){if(!e||typeof e!="object")throw new iJ("invalid opts");if(typeof r!="function")throw new iJ("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new iJ("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=a||null,this.opaque=o||null,this.callback=r,this.abort=null,this.context=null,Mat(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}Cve(this.callback),this.abort=e,this.context=null}onHeaders(){throw new Fat("bad upgrade",null)}onUpgrade(e,r,n){Cve(e===101);let{callback:o,opaque:a,context:c}=this;yve(this),this.callback=null;let l=this.responseHeaders==="raw"?gve.parseRawHeaders(r):gve.parseHeaders(r);this.runInAsyncScope(o,null,null,{headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;yve(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Eve(t,e){if(e===void 0)return new Promise((r,n)=>{Eve.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new oJ(t,e);this.dispatch({...t,method:t.method||"GET",upgrade:t.protocol||"Websocket"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(Eve,"upgrade");Ive.exports=Eve});var wve=q((QYr,_ve)=>{"use strict";f();var Oat=require("node:assert"),{AsyncResource:Uat}=require("node:async_hooks"),{InvalidArgumentError:sJ,SocketError:Hat}=ui(),vve=hn(),{addSignal:qat,removeSignal:bve}=lS(),aJ=class extends Uat{static{s(this,"ConnectHandler")}constructor(e,r){if(!e||typeof e!="object")throw new sJ("invalid opts");if(typeof r!="function")throw new sJ("invalid callback");let{signal:n,opaque:o,responseHeaders:a}=e;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new sJ("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=o||null,this.responseHeaders=a||null,this.callback=r,this.abort=null,qat(this,n)}onConnect(e,r){if(this.reason){e(this.reason);return}Oat(this.callback),this.abort=e,this.context=r}onHeaders(){throw new Hat("bad connect",null)}onUpgrade(e,r,n){let{callback:o,opaque:a,context:c}=this;bve(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?vve.parseRawHeaders(r):vve.parseHeaders(r)),this.runInAsyncScope(o,null,null,{statusCode:e,headers:l,socket:n,opaque:a,context:c})}onError(e){let{callback:r,opaque:n}=this;bve(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,e,{opaque:n})}))}};function Tve(t,e){if(e===void 0)return new Promise((r,n)=>{Tve.call(this,t,(o,a)=>o?n(o):r(a))});try{let r=new aJ(t,e);this.dispatch({...t,method:"CONNECT"},r)}catch(r){if(typeof e!="function")throw r;let n=t?.opaque;queueMicrotask(()=>e(r,{opaque:n}))}}s(Tve,"connect");_ve.exports=Tve});var Sve=q((LYr,Nb)=>{"use strict";f();Nb.exports.request=ove();Nb.exports.stream=dve();Nb.exports.pipeline=mve();Nb.exports.upgrade=xve();Nb.exports.connect=wve()});var lJ=q((OYr,Bve)=>{"use strict";f();var{UndiciError:Gat}=ui(),cJ=class t extends Gat{static{s(this,"MockNotMatchedError")}constructor(e){super(e),Error.captureStackTrace(this,t),this.name="MockNotMatchedError",this.message=e||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Bve.exports={MockNotMatchedError:cJ}});var Qb=q((qYr,Rve)=>{"use strict";f();Rve.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var fS=q((VYr,Hve)=>{"use strict";f();var{MockNotMatchedError:kE}=lJ(),{kDispatches:TP,kMockAgent:Vat,kOriginalDispatch:Wat,kOrigin:$at,kGetNetConnect:Yat}=Qb(),{buildURL:zat}=hn(),{STATUS_CODES:jat}=require("node:http"),{types:{isPromise:Kat}}=require("node:util");function ZA(t,e){return typeof t=="string"?t===e:t instanceof RegExp?t.test(e):typeof t=="function"?t(e)===!0:!1}s(ZA,"matchValue");function Dve(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLocaleLowerCase(),r]))}s(Dve,"lowerCaseEntries");function Nve(t,e){if(Array.isArray(t)){for(let r=0;r<t.length;r+=2)if(t[r].toLocaleLowerCase()===e.toLocaleLowerCase())return t[r+1];return}else return typeof t.get=="function"?t.get(e):Dve(t)[e.toLocaleLowerCase()]}s(Nve,"getHeaderByName");function dJ(t){let e=t.slice(),r=[];for(let n=0;n<e.length;n+=2)r.push([e[n],e[n+1]]);return Object.fromEntries(r)}s(dJ,"buildHeadersFromArray");function Qve(t,e){if(typeof t.headers=="function")return Array.isArray(e)&&(e=dJ(e)),t.headers(e?Dve(e):{});if(typeof t.headers>"u")return!0;if(typeof e!="object"||typeof t.headers!="object")return!1;for(let[r,n]of Object.entries(t.headers)){let o=Nve(e,r);if(!ZA(n,o))return!1}return!0}s(Qve,"matchHeaders");function kve(t){if(typeof t!="string")return t;let e=t.split("?");if(e.length!==2)return t;let r=new URLSearchParams(e.pop());return r.sort(),[...e,r.toString()].join("?")}s(kve,"safeUrl");function Jat(t,{path:e,method:r,body:n,headers:o}){let a=ZA(t.path,e),c=ZA(t.method,r),l=typeof t.body<"u"?ZA(t.body,n):!0,u=Qve(t,o);return a&&c&&l&&u}s(Jat,"matchKey");function Pve(t){return Buffer.isBuffer(t)||t instanceof Uint8Array||t instanceof ArrayBuffer?t:typeof t=="object"?JSON.stringify(t):t.toString()}s(Pve,"getResponseData");function Fve(t,e){let r=e.query?zat(e.path,e.query):e.path,n=typeof r=="string"?kve(r):r,o=t.filter(({consumed:a})=>!a).filter(({path:a})=>ZA(kve(a),n));if(o.length===0)throw new kE(`Mock dispatch not matched for path '${n}'`);if(o=o.filter(({method:a})=>ZA(a,e.method)),o.length===0)throw new kE(`Mock dispatch not matched for method '${e.method}' on path '${n}'`);if(o=o.filter(({body:a})=>typeof a<"u"?ZA(a,e.body):!0),o.length===0)throw new kE(`Mock dispatch not matched for body '${e.body}' on path '${n}'`);if(o=o.filter(a=>Qve(a,e.headers)),o.length===0){let a=typeof e.headers=="object"?JSON.stringify(e.headers):e.headers;throw new kE(`Mock dispatch not matched for headers '${a}' on path '${n}'`)}return o[0]}s(Fve,"getMockDispatch");function Xat(t,e,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},o=typeof r=="function"?{callback:r}:{...r},a={...n,...e,pending:!0,data:{error:null,...o}};return t.push(a),a}s(Xat,"addMockDispatch");function uJ(t,e){let r=t.findIndex(n=>n.consumed?Jat(n,e):!1);r!==-1&&t.splice(r,1)}s(uJ,"deleteMockDispatch");function Lve(t){let{path:e,method:r,body:n,headers:o,query:a}=t;return{path:e,method:r,body:n,headers:o,query:a}}s(Lve,"buildKey");function fJ(t){let e=Object.keys(t),r=[];for(let n=0;n<e.length;++n){let o=e[n],a=t[o],c=Buffer.from(`${o}`);if(Array.isArray(a))for(let l=0;l<a.length;++l)r.push(c,Buffer.from(`${a[l]}`));else r.push(c,Buffer.from(`${a}`))}return r}s(fJ,"generateKeyValues");function Mve(t){return jat[t]||"unknown"}s(Mve,"getStatusText");async function Zat(t){let e=[];for await(let r of t)e.push(r);return Buffer.concat(e).toString("utf8")}s(Zat,"getResponse");function Ove(t,e){let r=Lve(t),n=Fve(this[TP],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(t)});let{data:{statusCode:o,data:a,headers:c,trailers:l,error:u},delay:d,persist:h}=n,{timesInvoked:A,times:p}=n;if(n.consumed=!h&&A>=p,n.pending=A<p,u!==null)return uJ(this[TP],r),e.onError(u),!0;typeof d=="number"&&d>0?setTimeout(()=>{g(this[TP])},d):g(this[TP]);function g(v,w=a){let _=Array.isArray(t.headers)?dJ(t.headers):t.headers,S=typeof w=="function"?w({...t,headers:_}):w;if(Kat(S)){S.then(O=>g(v,O));return}let D=Pve(S),N=fJ(c),P=fJ(l);e.onConnect?.(O=>e.onError(O),null),e.onHeaders?.(o,N,E,Mve(o)),e.onData?.(Buffer.from(D)),e.onComplete?.(P),uJ(v,r)}s(g,"handleReply");function E(){}return s(E,"resume"),!0}s(Ove,"mockDispatch");function e0t(){let t=this[Vat],e=this[$at],r=this[Wat];return s(function(o,a){if(t.isMockActive)try{Ove.call(this,o,a)}catch(c){if(c instanceof kE){let l=t[Yat]();if(l===!1)throw new kE(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect disabled)`);if(Uve(l,e))r.call(this,o,a);else throw new kE(`${c.message}: subsequent request to origin ${e} was not allowed (net.connect is not enabled for this origin)`)}else throw c}else r.call(this,o,a)},"dispatch")}s(e0t,"buildMockDispatch");function Uve(t,e){let r=new URL(e);return t===!0?!0:!!(Array.isArray(t)&&t.some(n=>ZA(n,r.host)))}s(Uve,"checkNetConnect");function t0t(t){if(t){let{agent:e,...r}=t;return r}}s(t0t,"buildMockOptions");Hve.exports={getResponseData:Pve,getMockDispatch:Fve,addMockDispatch:Xat,deleteMockDispatch:uJ,buildKey:Lve,generateKeyValues:fJ,matchValue:ZA,getResponse:Zat,getStatusText:Mve,mockDispatch:Ove,buildMockDispatch:e0t,checkNetConnect:Uve,buildMockOptions:t0t,getHeaderByName:Nve,buildHeadersFromArray:dJ}});var CJ=q((YYr,yJ)=>{"use strict";f();var{getResponseData:r0t,buildKey:n0t,addMockDispatch:hJ}=fS(),{kDispatches:_P,kDispatchKey:wP,kDefaultHeaders:AJ,kDefaultTrailers:pJ,kContentLength:mJ,kMockDispatch:SP}=Qb(),{InvalidArgumentError:uh}=ui(),{buildURL:i0t}=hn(),Pb=class{static{s(this,"MockScope")}constructor(e){this[SP]=e}delay(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new uh("waitInMs must be a valid integer > 0");return this[SP].delay=e,this}persist(){return this[SP].persist=!0,this}times(e){if(typeof e!="number"||!Number.isInteger(e)||e<=0)throw new uh("repeatTimes must be a valid integer > 0");return this[SP].times=e,this}},gJ=class{static{s(this,"MockInterceptor")}constructor(e,r){if(typeof e!="object")throw new uh("opts must be an object");if(typeof e.path>"u")throw new uh("opts.path must be defined");if(typeof e.method>"u"&&(e.method="GET"),typeof e.path=="string")if(e.query)e.path=i0t(e.path,e.query);else{let n=new URL(e.path,"data://");e.path=n.pathname+n.search}typeof e.method=="string"&&(e.method=e.method.toUpperCase()),this[wP]=n0t(e),this[_P]=r,this[AJ]={},this[pJ]={},this[mJ]=!1}createMockScopeDispatchData({statusCode:e,data:r,responseOptions:n}){let o=r0t(r),a=this[mJ]?{"content-length":o.length}:{},c={...this[AJ],...a,...n.headers},l={...this[pJ],...n.trailers};return{statusCode:e,data:r,headers:c,trailers:l}}validateReplyParameters(e){if(typeof e.statusCode>"u")throw new uh("statusCode must be defined");if(typeof e.responseOptions!="object"||e.responseOptions===null)throw new uh("responseOptions must be an object")}reply(e){if(typeof e=="function"){let a=s(l=>{let u=e(l);if(typeof u!="object"||u===null)throw new uh("reply options callback must return an object");let d={data:"",responseOptions:{},...u};return this.validateReplyParameters(d),{...this.createMockScopeDispatchData(d)}},"wrappedDefaultsCallback"),c=hJ(this[_P],this[wP],a);return new Pb(c)}let r={statusCode:e,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),o=hJ(this[_P],this[wP],n);return new Pb(o)}replyWithError(e){if(typeof e>"u")throw new uh("error must be defined");let r=hJ(this[_P],this[wP],{error:e});return new Pb(r)}defaultReplyHeaders(e){if(typeof e>"u")throw new uh("headers must be defined");return this[AJ]=e,this}defaultReplyTrailers(e){if(typeof e>"u")throw new uh("trailers must be defined");return this[pJ]=e,this}replyContentLength(){return this[mJ]=!0,this}};yJ.exports.MockInterceptor=gJ;yJ.exports.MockScope=Pb});var xJ=q((KYr,zve)=>{"use strict";f();var{promisify:o0t}=require("node:util"),s0t=Z3(),{buildMockDispatch:a0t}=fS(),{kDispatches:qve,kMockAgent:Gve,kClose:Vve,kOriginalClose:Wve,kOrigin:$ve,kOriginalDispatch:c0t,kConnected:EJ}=Qb(),{MockInterceptor:l0t}=CJ(),Yve=Ao(),{InvalidArgumentError:u0t}=ui(),IJ=class extends s0t{static{s(this,"MockClient")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new u0t("Argument opts.agent must implement Agent");this[Gve]=r.agent,this[$ve]=e,this[qve]=[],this[EJ]=1,this[c0t]=this.dispatch,this[Wve]=this.close.bind(this),this.dispatch=a0t.call(this),this.close=this[Vve]}get[Yve.kConnected](){return this[EJ]}intercept(e){return new l0t(e,this[qve])}async[Vve](){await o0t(this[Wve])(),this[EJ]=0,this[Gve][Yve.kClients].delete(this[$ve])}};zve.exports=IJ});var TJ=q((ZYr,tbe)=>{"use strict";f();var{promisify:f0t}=require("node:util"),d0t=_b(),{buildMockDispatch:h0t}=fS(),{kDispatches:jve,kMockAgent:Kve,kClose:Jve,kOriginalClose:Xve,kOrigin:Zve,kOriginalDispatch:A0t,kConnected:vJ}=Qb(),{MockInterceptor:p0t}=CJ(),ebe=Ao(),{InvalidArgumentError:m0t}=ui(),bJ=class extends d0t{static{s(this,"MockPool")}constructor(e,r){if(super(e,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new m0t("Argument opts.agent must implement Agent");this[Kve]=r.agent,this[Zve]=e,this[jve]=[],this[vJ]=1,this[A0t]=this.dispatch,this[Xve]=this.close.bind(this),this.dispatch=h0t.call(this),this.close=this[Jve]}get[ebe.kConnected](){return this[vJ]}intercept(e){return new p0t(e,this[jve])}async[Jve](){await f0t(this[Xve])(),this[vJ]=0,this[Kve][ebe.kClients].delete(this[Zve])}};tbe.exports=bJ});var nbe=q((nzr,rbe)=>{"use strict";f();var g0t={pronoun:"it",is:"is",was:"was",this:"this"},y0t={pronoun:"they",is:"are",was:"were",this:"these"};rbe.exports=class{static{s(this,"Pluralizer")}constructor(e,r){this.singular=e,this.plural=r}pluralize(e){let r=e===1,n=r?g0t:y0t,o=r?this.singular:this.plural;return{...n,count:e,noun:o}}}});var obe=q((azr,ibe)=>{"use strict";f();var{Transform:C0t}=require("node:stream"),{Console:E0t}=require("node:console"),I0t=process.versions.icu?"\u2705":"Y ",x0t=process.versions.icu?"\u274C":"N ";ibe.exports=class{static{s(this,"PendingInterceptorsFormatter")}constructor({disableColors:e}={}){this.transform=new C0t({transform(r,n,o){o(null,r)}}),this.logger=new E0t({stdout:this.transform,inspectOptions:{colors:!e&&!process.env.CI}})}format(e){let r=e.map(({method:n,path:o,data:{statusCode:a},persist:c,times:l,timesInvoked:u,origin:d})=>({Method:n,Origin:d,Path:o,"Status code":a,Persistent:c?I0t:x0t,Invocations:u,Remaining:c?1/0:l-u}));return this.logger.table(r),this.transform.read().toString()}}});var lbe=q((uzr,cbe)=>{"use strict";f();var{kClients:DE}=Ao(),v0t=wb(),{kAgent:_J,kMockAgentSet:BP,kMockAgentGet:sbe,kDispatches:wJ,kIsMockActive:RP,kNetConnect:NE,kGetNetConnect:b0t,kOptions:kP,kFactory:DP}=Qb(),T0t=xJ(),_0t=TJ(),{matchValue:w0t,buildMockOptions:S0t}=fS(),{InvalidArgumentError:abe,UndiciError:B0t}=ui(),R0t=k3(),k0t=nbe(),D0t=obe(),SJ=class extends R0t{static{s(this,"MockAgent")}constructor(e){if(super(e),this[NE]=!0,this[RP]=!0,e?.agent&&typeof e.agent.dispatch!="function")throw new abe("Argument opts.agent must implement Agent");let r=e?.agent?e.agent:new v0t(e);this[_J]=r,this[DE]=r[DE],this[kP]=S0t(e)}get(e){let r=this[sbe](e);return r||(r=this[DP](e),this[BP](e,r)),r}dispatch(e,r){return this.get(e.origin),this[_J].dispatch(e,r)}async close(){await this[_J].close(),this[DE].clear()}deactivate(){this[RP]=!1}activate(){this[RP]=!0}enableNetConnect(e){if(typeof e=="string"||typeof e=="function"||e instanceof RegExp)Array.isArray(this[NE])?this[NE].push(e):this[NE]=[e];else if(typeof e>"u")this[NE]=!0;else throw new abe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[NE]=!1}get isMockActive(){return this[RP]}[BP](e,r){this[DE].set(e,r)}[DP](e){let r=Object.assign({agent:this},this[kP]);return this[kP]&&this[kP].connections===1?new T0t(e,r):new _0t(e,r)}[sbe](e){let r=this[DE].get(e);if(r)return r;if(typeof e!="string"){let n=this[DP]("http://localhost:9999");return this[BP](e,n),n}for(let[n,o]of Array.from(this[DE]))if(o&&typeof n!="string"&&w0t(n,e)){let a=this[DP](e);return this[BP](e,a),a[wJ]=o[wJ],a}}[b0t](){return this[NE]}pendingInterceptors(){let e=this[DE];return Array.from(e.entries()).flatMap(([r,n])=>n[wJ].map(o=>({...o,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:e=new D0t}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new k0t("interceptor","interceptors").pluralize(r.length);throw new B0t(`
${n.count} ${n.noun} ${n.is} pending:

${e.format(r)}
`.trim())}};cbe.exports=SJ});var NP=q((hzr,hbe)=>{"use strict";f();var ube=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:N0t}=ui(),Q0t=wb();dbe()===void 0&&fbe(new Q0t);function fbe(t){if(!t||typeof t.dispatch!="function")throw new N0t("Argument agent must implement Agent");Object.defineProperty(globalThis,ube,{value:t,writable:!0,enumerable:!1,configurable:!1})}s(fbe,"setGlobalDispatcher");function dbe(){return globalThis[ube]}s(dbe,"getGlobalDispatcher");hbe.exports={setGlobalDispatcher:fbe,getGlobalDispatcher:dbe}});var QP=q((gzr,Abe)=>{"use strict";f();Abe.exports=class{static{s(this,"DecoratorHandler")}#e;constructor(e){if(typeof e!="object"||e===null)throw new TypeError("handler must be an object");this.#e=e}onConnect(...e){return this.#e.onConnect?.(...e)}onError(...e){return this.#e.onError?.(...e)}onUpgrade(...e){return this.#e.onUpgrade?.(...e)}onResponseStarted(...e){return this.#e.onResponseStarted?.(...e)}onHeaders(...e){return this.#e.onHeaders?.(...e)}onData(...e){return this.#e.onData?.(...e)}onComplete(...e){return this.#e.onComplete?.(...e)}onBodySent(...e){return this.#e.onBodySent?.(...e)}}});var mbe=q((Ezr,pbe)=>{"use strict";f();var P0t=fP();pbe.exports=t=>{let e=t?.maxRedirections;return r=>s(function(o,a){let{maxRedirections:c=e,...l}=o;if(!c)return r(o,a);let u=new P0t(r,c,o,a);return r(l,u)},"redirectInterceptor")}});var ybe=q((vzr,gbe)=>{"use strict";f();var F0t=vP();gbe.exports=t=>e=>s(function(n,o){return e(n,new F0t({...n,retryOptions:{...t,...n.retryOptions}},{handler:o,dispatch:e}))},"retryInterceptor")});var Ebe=q((_zr,Cbe)=>{"use strict";f();var L0t=hn(),{InvalidArgumentError:M0t,RequestAbortedError:O0t}=ui(),U0t=QP(),BJ=class extends U0t{static{s(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:e},r){if(super(r),e!=null&&(!Number.isFinite(e)||e<1))throw new M0t("maxSize must be a number greater than 0");this.#e=e??this.#e,this.#s=r}onConnect(e){this.#t=e,this.#s.onConnect(this.#a.bind(this))}#a(e){this.#n=!0,this.#o=e}onHeaders(e,r,n,o){let c=L0t.parseHeaders(r)["content-length"];if(c!=null&&c>this.#e)throw new O0t(`Response size (${c}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(e,r,n,o)}onError(e){this.#i||(e=this.#o??e,this.#s.onError(e))}onData(e){return this.#r=this.#r+e.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(e){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(e)}}};function H0t({maxSize:t}={maxSize:1024*1024}){return e=>s(function(n,o){let{dumpMaxSize:a=t}=n,c=new BJ({maxSize:a},o);return e(n,c)},"Intercept")}s(H0t,"createDumpInterceptor");Cbe.exports=H0t});var vbe=q((Bzr,xbe)=>{"use strict";f();var{isIP:q0t}=require("node:net"),{lookup:G0t}=require("node:dns"),V0t=QP(),{InvalidArgumentError:Fb,InformationalError:W0t}=ui(),Ibe=Math.pow(2,31)-1,RJ=class{static{s(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(e){this.#e=e.maxTTL,this.#t=e.maxItems,this.dualStack=e.dualStack,this.affinity=e.affinity,this.lookup=e.lookup??this.#n,this.pick=e.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(e,r,n){let o=this.#i.get(e.hostname);if(o==null&&this.full){n(null,e.origin);return}let a={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(o==null)this.lookup(e,a,(c,l)=>{if(c||l==null||l.length===0){n(c??new W0t("No DNS entries found"));return}this.setRecords(e,l);let u=this.#i.get(e.hostname),d=this.pick(e,u,a.affinity),h;typeof d.port=="number"?h=`:${d.port}`:e.port!==""?h=`:${e.port}`:h="",n(null,`${e.protocol}//${d.family===6?`[${d.address}]`:d.address}${h}`)});else{let c=this.pick(e,o,a.affinity);if(c==null){this.#i.delete(e.hostname),this.runLookup(e,r,n);return}let l;typeof c.port=="number"?l=`:${c.port}`:e.port!==""?l=`:${e.port}`:l="",n(null,`${e.protocol}//${c.family===6?`[${c.address}]`:c.address}${l}`)}}#n(e,r,n){G0t(e.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(o,a)=>{if(o)return n(o);let c=new Map;for(let l of a)c.set(`${l.address}:${l.family}`,l);n(null,c.values())})}#r(e,r,n){let o=null,{records:a,offset:c}=r,l;if(this.dualStack?(n==null&&(c==null||c===Ibe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),a[n]!=null&&a[n].ips.length>0?l=a[n]:l=a[n===4?6:4]):l=a[n],l==null||l.ips.length===0)return o;l.offset==null||l.offset===Ibe?l.offset=0:l.offset++;let u=l.offset%l.ips.length;return o=l.ips[u]??null,o==null?o:Date.now()-o.timestamp>o.ttl?(l.ips.splice(u,1),this.pick(e,r,n)):o}setRecords(e,r){let n=Date.now(),o={records:{4:null,6:null}};for(let a of r){a.timestamp=n,typeof a.ttl=="number"?a.ttl=Math.min(a.ttl,this.#e):a.ttl=this.#e;let c=o.records[a.family]??{ips:[]};c.ips.push(a),o.records[a.family]=c}this.#i.set(e.hostname,o)}getHandler(e,r){return new kJ(this,e,r)}},kJ=class extends V0t{static{s(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(e,{origin:r,handler:n,dispatch:o},a){super(n),this.#r=r,this.#n=n,this.#t={...a},this.#e=e,this.#i=o}onError(e){switch(e.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let o={...this.#t,origin:n};this.#i(o,this)});return}this.#n.onError(e);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(e);break}}};xbe.exports=t=>{if(t?.maxTTL!=null&&(typeof t?.maxTTL!="number"||t?.maxTTL<0))throw new Fb("Invalid maxTTL. Must be a positive number");if(t?.maxItems!=null&&(typeof t?.maxItems!="number"||t?.maxItems<1))throw new Fb("Invalid maxItems. Must be a positive number and greater than zero");if(t?.affinity!=null&&t?.affinity!==4&&t?.affinity!==6)throw new Fb("Invalid affinity. Must be either 4 or 6");if(t?.dualStack!=null&&typeof t?.dualStack!="boolean")throw new Fb("Invalid dualStack. Must be a boolean");if(t?.lookup!=null&&typeof t?.lookup!="function")throw new Fb("Invalid lookup. Must be a function");if(t?.pick!=null&&typeof t?.pick!="function")throw new Fb("Invalid pick. Must be a function");let e=t?.dualStack??!0,r;e?r=t?.affinity??null:r=t?.affinity??4;let n={maxTTL:t?.maxTTL??1e4,lookup:t?.lookup??null,pick:t?.pick??null,dualStack:e,affinity:r,maxItems:t?.maxItems??1/0},o=new RJ(n);return a=>s(function(l,u){let d=l.origin.constructor===URL?l.origin:new URL(l.origin);return q0t(d.hostname)!==0?a(l,u):(o.runLookup(d,l,(h,A)=>{if(h)return u.onError(h);let p=null;p={...l,servername:d.hostname,origin:A,headers:{host:d.hostname,...l.headers}},a(p,o.getHandler({origin:d,dispatch:a,handler:u},l))}),!0)},"dnsInterceptor")}});var QE=q((Dzr,Rbe)=>{"use strict";f();var{kConstruct:$0t}=Ao(),{kEnumerableProperty:Lb}=hn(),{iteratorMixin:Y0t,isValidHeaderName:dS,isValidHeaderValue:Tbe}=sl(),{webidl:Yn}=Na(),DJ=require("node:assert"),PP=require("node:util"),bs=Symbol("headers map"),ll=Symbol("headers map sorted");function bbe(t){return t===10||t===13||t===9||t===32}s(bbe,"isHTTPWhiteSpaceCharCode");function _be(t){let e=0,r=t.length;for(;r>e&&bbe(t.charCodeAt(r-1));)--r;for(;r>e&&bbe(t.charCodeAt(e));)++e;return e===0&&r===t.length?t:t.substring(e,r)}s(_be,"headerValueNormalize");function wbe(t,e){if(Array.isArray(e))for(let r=0;r<e.length;++r){let n=e[r];if(n.length!==2)throw Yn.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});NJ(t,n[0],n[1])}else if(typeof e=="object"&&e!==null){let r=Object.keys(e);for(let n=0;n<r.length;++n)NJ(t,r[n],e[r[n]])}else throw Yn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}s(wbe,"fill");function NJ(t,e,r){if(r=_be(r),dS(e)){if(!Tbe(r))throw Yn.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Yn.errors.invalidArgument({prefix:"Headers.append",value:e,type:"header name"});if(Bbe(t)==="immutable")throw new TypeError("immutable");return QJ(t).append(e,r,!1)}s(NJ,"appendHeader");function Sbe(t,e){return t[0]<e[0]?-1:1}s(Sbe,"compareHeaderName");var FP=class t{static{s(this,"HeadersList")}cookies=null;constructor(e){e instanceof t?(this[bs]=new Map(e[bs]),this[ll]=e[ll],this.cookies=e.cookies===null?null:[...e.cookies]):(this[bs]=new Map(e),this[ll]=null)}contains(e,r){return this[bs].has(r?e:e.toLowerCase())}clear(){this[bs].clear(),this[ll]=null,this.cookies=null}append(e,r,n){this[ll]=null;let o=n?e:e.toLowerCase(),a=this[bs].get(o);if(a){let c=o==="cookie"?"; ":", ";this[bs].set(o,{name:a.name,value:`${a.value}${c}${r}`})}else this[bs].set(o,{name:e,value:r});o==="set-cookie"&&(this.cookies??=[]).push(r)}set(e,r,n){this[ll]=null;let o=n?e:e.toLowerCase();o==="set-cookie"&&(this.cookies=[r]),this[bs].set(o,{name:e,value:r})}delete(e,r){this[ll]=null,r||(e=e.toLowerCase()),e==="set-cookie"&&(this.cookies=null),this[bs].delete(e)}get(e,r){return this[bs].get(r?e:e.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:e,1:{value:r}}of this[bs])yield[e,r]}get entries(){let e={};if(this[bs].size!==0)for(let{name:r,value:n}of this[bs].values())e[r]=n;return e}rawValues(){return this[bs].values()}get entriesList(){let e=[];if(this[bs].size!==0)for(let{0:r,1:{name:n,value:o}}of this[bs])if(r==="set-cookie")for(let a of this.cookies)e.push([n,a]);else e.push([n,o]);return e}toSortedArray(){let e=this[bs].size,r=new Array(e);if(e<=32){if(e===0)return r;let n=this[bs][Symbol.iterator](),o=n.next().value;r[0]=[o[0],o[1].value],DJ(o[1].value!==null);for(let a=1,c=0,l=0,u=0,d=0,h,A;a<e;++a){for(A=n.next().value,h=r[a]=[A[0],A[1].value],DJ(h[1]!==null),u=0,l=a;u<l;)d=u+(l-u>>1),r[d][0]<=h[0]?u=d+1:l=d;if(a!==d){for(c=a;c>u;)r[c]=r[--c];r[u]=h}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:o,1:{value:a}}of this[bs])r[n++]=[o,a],DJ(a!==null);return r.sort(Sbe)}}},kf=class t{static{s(this,"Headers")}#e;#t;constructor(e=void 0){Yn.util.markAsUncloneable(this),e!==$0t&&(this.#t=new FP,this.#e="none",e!==void 0&&(e=Yn.converters.HeadersInit(e,"Headers contructor","init"),wbe(this,e)))}append(e,r){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return e=Yn.converters.ByteString(e,n,"name"),r=Yn.converters.ByteString(r,n,"value"),NJ(this,e,r)}delete(e){if(Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.delete"),e=Yn.converters.ByteString(e,"Headers.delete","name"),!dS(e))throw Yn.errors.invalidArgument({prefix:"Headers.delete",value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(e,!1)&&this.#t.delete(e,!1)}get(e){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(e=Yn.converters.ByteString(e,r,"name"),!dS(e))throw Yn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.get(e,!1)}has(e){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(e=Yn.converters.ByteString(e,r,"name"),!dS(e))throw Yn.errors.invalidArgument({prefix:r,value:e,type:"header name"});return this.#t.contains(e,!1)}set(e,r){Yn.brandCheck(this,t),Yn.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(e=Yn.converters.ByteString(e,n,"name"),r=Yn.converters.ByteString(r,n,"value"),r=_be(r),dS(e)){if(!Tbe(r))throw Yn.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Yn.errors.invalidArgument({prefix:n,value:e,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(e,r,!1)}getSetCookie(){Yn.brandCheck(this,t);let e=this.#t.cookies;return e?[...e]:[]}get[ll](){if(this.#t[ll])return this.#t[ll];let e=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[ll]=r;for(let o=0;o<r.length;++o){let{0:a,1:c}=r[o];if(a==="set-cookie")for(let l=0;l<n.length;++l)e.push([a,n[l]]);else e.push([a,c])}return this.#t[ll]=e}[PP.inspect.custom](e,r){return r.depth??=e,`Headers ${PP.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(e){return e.#e}static setHeadersGuard(e,r){e.#e=r}static getHeadersList(e){return e.#t}static setHeadersList(e,r){e.#t=r}},{getHeadersGuard:Bbe,setHeadersGuard:z0t,getHeadersList:QJ,setHeadersList:j0t}=kf;Reflect.deleteProperty(kf,"getHeadersGuard");Reflect.deleteProperty(kf,"setHeadersGuard");Reflect.deleteProperty(kf,"getHeadersList");Reflect.deleteProperty(kf,"setHeadersList");Y0t("Headers",kf,ll,0,1);Object.defineProperties(kf.prototype,{append:Lb,delete:Lb,get:Lb,has:Lb,set:Lb,getSetCookie:Lb,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[PP.inspect.custom]:{enumerable:!1}});Yn.converters.HeadersInit=function(t,e,r){if(Yn.util.Type(t)==="Object"){let n=Reflect.get(t,Symbol.iterator);if(!PP.types.isProxy(t)&&n===kf.prototype.entries)try{return QJ(t).entriesList}catch{}return typeof n=="function"?Yn.converters["sequence<sequence<ByteString>>"](t,e,r,n.bind(t)):Yn.converters["record<ByteString, ByteString>"](t,e,r)}throw Yn.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};Rbe.exports={fill:wbe,compareHeaderName:Sbe,Headers:kf,HeadersList:FP,getHeadersGuard:Bbe,setHeadersGuard:z0t,setHeadersList:j0t,getHeadersList:QJ}});var AS=q((Pzr,Ube)=>{"use strict";f();var{Headers:Fbe,HeadersList:kbe,fill:K0t,getHeadersGuard:J0t,setHeadersGuard:Lbe,setHeadersList:Mbe}=QE(),{extractBody:Dbe,cloneBody:X0t,mixinBody:Z0t,hasFinalizationRegistry:ect,streamRegistry:tct,bodyUnusable:rct}=Cb(),PJ=hn(),Nbe=require("node:util"),{kEnumerableProperty:ul}=PJ,{isValidReasonPhrase:nct,isCancelled:ict,isAborted:oct,isBlobLike:sct,serializeJavascriptValueToJSONString:act,isErrorLike:cct,isomorphicEncode:lct,environmentSettingsObject:uct}=sl(),{redirectStatusSet:fct,nullBodyStatus:dct}=Q3(),{kState:Wo,kHeaders:ep}=r1(),{webidl:Xr}=Na(),{FormData:hct}=U3(),{URLSerializer:Qbe}=pc(),{kConstruct:MP}=Ao(),FJ=require("node:assert"),{types:Act}=require("node:util"),pct=new TextEncoder("utf-8"),PE=class t{static{s(this,"Response")}static error(){return hS(OP(),"immutable")}static json(e,r={}){Xr.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=Xr.converters.ResponseInit(r));let n=pct.encode(act(e)),o=Dbe(n),a=hS(Mb({}),"response");return Pbe(a,r,{body:o[0],type:"application/json"}),a}static redirect(e,r=302){Xr.argumentLengthCheck(arguments,1,"Response.redirect"),e=Xr.converters.USVString(e),r=Xr.converters["unsigned short"](r);let n;try{n=new URL(e,uct.settingsObject.baseUrl)}catch(c){throw new TypeError(`Failed to parse URL from ${e}`,{cause:c})}if(!fct.has(r))throw new RangeError(`Invalid status code ${r}`);let o=hS(Mb({}),"immutable");o[Wo].status=r;let a=lct(Qbe(n));return o[Wo].headersList.append("location",a,!0),o}constructor(e=null,r={}){if(Xr.util.markAsUncloneable(this),e===MP)return;e!==null&&(e=Xr.converters.BodyInit(e)),r=Xr.converters.ResponseInit(r),this[Wo]=Mb({}),this[ep]=new Fbe(MP),Lbe(this[ep],"response"),Mbe(this[ep],this[Wo].headersList);let n=null;if(e!=null){let[o,a]=Dbe(e);n={body:o,type:a}}Pbe(this,r,n)}get type(){return Xr.brandCheck(this,t),this[Wo].type}get url(){Xr.brandCheck(this,t);let e=this[Wo].urlList,r=e[e.length-1]??null;return r===null?"":Qbe(r,!0)}get redirected(){return Xr.brandCheck(this,t),this[Wo].urlList.length>1}get status(){return Xr.brandCheck(this,t),this[Wo].status}get ok(){return Xr.brandCheck(this,t),this[Wo].status>=200&&this[Wo].status<=299}get statusText(){return Xr.brandCheck(this,t),this[Wo].statusText}get headers(){return Xr.brandCheck(this,t),this[ep]}get body(){return Xr.brandCheck(this,t),this[Wo].body?this[Wo].body.stream:null}get bodyUsed(){return Xr.brandCheck(this,t),!!this[Wo].body&&PJ.isDisturbed(this[Wo].body.stream)}clone(){if(Xr.brandCheck(this,t),rct(this))throw Xr.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let e=LJ(this[Wo]);return hS(e,J0t(this[ep]))}[Nbe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${Nbe.formatWithOptions(r,n)}`}};Z0t(PE);Object.defineProperties(PE.prototype,{type:ul,url:ul,status:ul,ok:ul,redirected:ul,statusText:ul,headers:ul,clone:ul,body:ul,bodyUsed:ul,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(PE,{json:ul,redirect:ul,error:ul});function LJ(t){if(t.internalResponse)return Obe(LJ(t.internalResponse),t.type);let e=Mb({...t,body:null});return t.body!=null&&(e.body=X0t(e,t.body)),e}s(LJ,"cloneResponse");function Mb(t){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...t,headersList:t?.headersList?new kbe(t?.headersList):new kbe,urlList:t?.urlList?[...t.urlList]:[]}}s(Mb,"makeResponse");function OP(t){let e=cct(t);return Mb({type:"error",status:0,error:e?t:new Error(t&&String(t)),aborted:t&&t.name==="AbortError"})}s(OP,"makeNetworkError");function mct(t){return t.type==="error"&&t.status===0}s(mct,"isNetworkError");function LP(t,e){return e={internalResponse:t,...e},new Proxy(t,{get(r,n){return n in e?e[n]:r[n]},set(r,n,o){return FJ(!(n in e)),r[n]=o,!0}})}s(LP,"makeFilteredResponse");function Obe(t,e){if(e==="basic")return LP(t,{type:"basic",headersList:t.headersList});if(e==="cors")return LP(t,{type:"cors",headersList:t.headersList});if(e==="opaque")return LP(t,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(e==="opaqueredirect")return LP(t,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});FJ(!1)}s(Obe,"filterResponse");function gct(t,e=null){return FJ(ict(t)),oct(t)?OP(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:e})):OP(Object.assign(new DOMException("Request was cancelled."),{cause:e}))}s(gct,"makeAppropriateNetworkError");function Pbe(t,e,r){if(e.status!==null&&(e.status<200||e.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in e&&e.statusText!=null&&!nct(String(e.statusText)))throw new TypeError("Invalid statusText");if("status"in e&&e.status!=null&&(t[Wo].status=e.status),"statusText"in e&&e.statusText!=null&&(t[Wo].statusText=e.statusText),"headers"in e&&e.headers!=null&&K0t(t[ep],e.headers),r){if(dct.includes(t.status))throw Xr.errors.exception({header:"Response constructor",message:`Invalid response status code ${t.status}`});t[Wo].body=r.body,r.type!=null&&!t[Wo].headersList.contains("content-type",!0)&&t[Wo].headersList.append("content-type",r.type,!0)}}s(Pbe,"initializeResponse");function hS(t,e){let r=new PE(MP);return r[Wo]=t,r[ep]=new Fbe(MP),Mbe(r[ep],t.headersList),Lbe(r[ep],e),ect&&t.body?.stream&&tct.register(r,new WeakRef(t.body.stream)),r}s(hS,"fromInnerResponse");Xr.converters.ReadableStream=Xr.interfaceConverter(ReadableStream);Xr.converters.FormData=Xr.interfaceConverter(hct);Xr.converters.URLSearchParams=Xr.interfaceConverter(URLSearchParams);Xr.converters.XMLHttpRequestBodyInit=function(t,e,r){return typeof t=="string"?Xr.converters.USVString(t,e,r):sct(t)?Xr.converters.Blob(t,e,r,{strict:!1}):ArrayBuffer.isView(t)||Act.isArrayBuffer(t)?Xr.converters.BufferSource(t,e,r):PJ.isFormDataLike(t)?Xr.converters.FormData(t,e,r,{strict:!1}):t instanceof URLSearchParams?Xr.converters.URLSearchParams(t,e,r):Xr.converters.DOMString(t,e,r)};Xr.converters.BodyInit=function(t,e,r){return t instanceof ReadableStream?Xr.converters.ReadableStream(t,e,r):t?.[Symbol.asyncIterator]?t:Xr.converters.XMLHttpRequestBodyInit(t,e,r)};Xr.converters.ResponseInit=Xr.dictionaryConverter([{key:"status",converter:Xr.converters["unsigned short"],defaultValue:s(()=>200,"defaultValue")},{key:"statusText",converter:Xr.converters.ByteString,defaultValue:s(()=>"","defaultValue")},{key:"headers",converter:Xr.converters.HeadersInit}]);Ube.exports={isNetworkError:mct,makeNetworkError:OP,makeResponse:Mb,makeAppropriateNetworkError:gct,filterResponse:Obe,Response:PE,cloneResponse:LJ,fromInnerResponse:hS}});var Vbe=q((Mzr,Gbe)=>{"use strict";f();var{kConnected:Hbe,kSize:qbe}=Ao(),MJ=class{static{s(this,"CompatWeakRef")}constructor(e){this.value=e}deref(){return this.value[Hbe]===0&&this.value[qbe]===0?void 0:this.value}},OJ=class{static{s(this,"CompatFinalizer")}constructor(e){this.finalizer=e}register(e,r){e.on&&e.on("disconnect",()=>{e[Hbe]===0&&e[qbe]===0&&this.finalizer(r)})}unregister(e){}};Gbe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:MJ,FinalizationRegistry:OJ}):{WeakRef,FinalizationRegistry}}});var Ob=q((Hzr,o5e)=>{"use strict";f();var{extractBody:yct,mixinBody:Cct,cloneBody:Ect,bodyUnusable:Wbe}=Cb(),{Headers:e5e,fill:Ict,HeadersList:GP,setHeadersGuard:HJ,getHeadersGuard:xct,setHeadersList:t5e,getHeadersList:$be}=QE(),{FinalizationRegistry:vct}=Vbe()(),HP=hn(),Ybe=require("node:util"),{isValidHTTPToken:bct,sameOrigin:zbe,environmentSettingsObject:UP}=sl(),{forbiddenMethodsSet:Tct,corsSafeListedMethodsSet:_ct,referrerPolicy:wct,requestRedirect:Sct,requestMode:Bct,requestCredentials:Rct,requestCache:kct,requestDuplex:Dct}=Q3(),{kEnumerableProperty:Ts,normalizedMethodRecordsBase:Nct,normalizedMethodRecords:Qct}=HP,{kHeaders:fl,kSignal:qP,kState:to,kDispatcher:UJ}=r1(),{webidl:dr}=Na(),{URLSerializer:Pct}=pc(),{kConstruct:VP}=Ao(),Fct=require("node:assert"),{getMaxListeners:jbe,setMaxListeners:Kbe,getEventListeners:Lct,defaultMaxListeners:Jbe}=require("node:events"),Mct=Symbol("abortController"),r5e=new vct(({signal:t,abort:e})=>{t.removeEventListener("abort",e)}),WP=new WeakMap;function Xbe(t){return e;function e(){let r=t.deref();if(r!==void 0){r5e.unregister(e),this.removeEventListener("abort",e),r.abort(this.reason);let n=WP.get(r.signal);if(n!==void 0){if(n.size!==0){for(let o of n){let a=o.deref();a!==void 0&&a.abort(this.reason)}n.clear()}WP.delete(r.signal)}}}}s(Xbe,"buildAbort");var Zbe=!1,h1=class t{static{s(this,"Request")}constructor(e,r={}){if(dr.util.markAsUncloneable(this),e===VP)return;let n="Request constructor";dr.argumentLengthCheck(arguments,1,n),e=dr.converters.RequestInfo(e,n,"input"),r=dr.converters.RequestInit(r,n,"init");let o=null,a=null,c=UP.settingsObject.baseUrl,l=null;if(typeof e=="string"){this[UJ]=r.dispatcher;let _;try{_=new URL(e,c)}catch(S){throw new TypeError("Failed to parse URL from "+e,{cause:S})}if(_.username||_.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+e);o=$P({urlList:[_]}),a="cors"}else this[UJ]=r.dispatcher||e[UJ],Fct(e instanceof t),o=e[to],l=e[qP];let u=UP.settingsObject.origin,d="client";if(o.window?.constructor?.name==="EnvironmentSettingsObject"&&zbe(o.window,u)&&(d=o.window),r.window!=null)throw new TypeError(`'window' option '${d}' must be null`);"window"in r&&(d="no-window"),o=$P({method:o.method,headersList:o.headersList,unsafeRequest:o.unsafeRequest,client:UP.settingsObject,window:d,priority:o.priority,origin:o.origin,referrer:o.referrer,referrerPolicy:o.referrerPolicy,mode:o.mode,credentials:o.credentials,cache:o.cache,redirect:o.redirect,integrity:o.integrity,keepalive:o.keepalive,reloadNavigation:o.reloadNavigation,historyNavigation:o.historyNavigation,urlList:[...o.urlList]});let h=Object.keys(r).length!==0;if(h&&(o.mode==="navigate"&&(o.mode="same-origin"),o.reloadNavigation=!1,o.historyNavigation=!1,o.origin="client",o.referrer="client",o.referrerPolicy="",o.url=o.urlList[o.urlList.length-1],o.urlList=[o.url]),r.referrer!==void 0){let _=r.referrer;if(_==="")o.referrer="no-referrer";else{let S;try{S=new URL(_,c)}catch(D){throw new TypeError(`Referrer "${_}" is not a valid URL.`,{cause:D})}S.protocol==="about:"&&S.hostname==="client"||u&&!zbe(S,UP.settingsObject.baseUrl)?o.referrer="client":o.referrer=S}}r.referrerPolicy!==void 0&&(o.referrerPolicy=r.referrerPolicy);let A;if(r.mode!==void 0?A=r.mode:A=a,A==="navigate")throw dr.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(A!=null&&(o.mode=A),r.credentials!==void 0&&(o.credentials=r.credentials),r.cache!==void 0&&(o.cache=r.cache),o.cache==="only-if-cached"&&o.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(o.redirect=r.redirect),r.integrity!=null&&(o.integrity=String(r.integrity)),r.keepalive!==void 0&&(o.keepalive=!!r.keepalive),r.method!==void 0){let _=r.method,S=Qct[_];if(S!==void 0)o.method=S;else{if(!bct(_))throw new TypeError(`'${_}' is not a valid HTTP method.`);let D=_.toUpperCase();if(Tct.has(D))throw new TypeError(`'${_}' HTTP method is unsupported.`);_=Nct[D]??_,o.method=_}!Zbe&&o.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),Zbe=!0)}r.signal!==void 0&&(l=r.signal),this[to]=o;let p=new AbortController;if(this[qP]=p.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)p.abort(l.reason);else{this[Mct]=p;let _=new WeakRef(p),S=Xbe(_);try{(typeof jbe=="function"&&jbe(l)===Jbe||Lct(l,"abort").length>=Jbe)&&Kbe(1500,l)}catch{}HP.addAbortListener(l,S),r5e.register(p,{signal:l,abort:S},S)}}if(this[fl]=new e5e(VP),t5e(this[fl],o.headersList),HJ(this[fl],"request"),A==="no-cors"){if(!_ct.has(o.method))throw new TypeError(`'${o.method} is unsupported in no-cors mode.`);HJ(this[fl],"request-no-cors")}if(h){let _=$be(this[fl]),S=r.headers!==void 0?r.headers:new GP(_);if(_.clear(),S instanceof GP){for(let{name:D,value:N}of S.rawValues())_.append(D,N,!1);_.cookies=S.cookies}else Ict(this[fl],S)}let g=e instanceof t?e[to].body:null;if((r.body!=null||g!=null)&&(o.method==="GET"||o.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let E=null;if(r.body!=null){let[_,S]=yct(r.body,o.keepalive);E=_,S&&!$be(this[fl]).contains("content-type",!0)&&this[fl].append("content-type",S)}let v=E??g;if(v!=null&&v.source==null){if(E!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(o.mode!=="same-origin"&&o.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');o.useCORSPreflightFlag=!0}let w=v;if(E==null&&g!=null){if(Wbe(e))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let _=new TransformStream;g.stream.pipeThrough(_),w={source:g.source,length:g.length,stream:_.readable}}this[to].body=w}get method(){return dr.brandCheck(this,t),this[to].method}get url(){return dr.brandCheck(this,t),Pct(this[to].url)}get headers(){return dr.brandCheck(this,t),this[fl]}get destination(){return dr.brandCheck(this,t),this[to].destination}get referrer(){return dr.brandCheck(this,t),this[to].referrer==="no-referrer"?"":this[to].referrer==="client"?"about:client":this[to].referrer.toString()}get referrerPolicy(){return dr.brandCheck(this,t),this[to].referrerPolicy}get mode(){return dr.brandCheck(this,t),this[to].mode}get credentials(){return this[to].credentials}get cache(){return dr.brandCheck(this,t),this[to].cache}get redirect(){return dr.brandCheck(this,t),this[to].redirect}get integrity(){return dr.brandCheck(this,t),this[to].integrity}get keepalive(){return dr.brandCheck(this,t),this[to].keepalive}get isReloadNavigation(){return dr.brandCheck(this,t),this[to].reloadNavigation}get isHistoryNavigation(){return dr.brandCheck(this,t),this[to].historyNavigation}get signal(){return dr.brandCheck(this,t),this[qP]}get body(){return dr.brandCheck(this,t),this[to].body?this[to].body.stream:null}get bodyUsed(){return dr.brandCheck(this,t),!!this[to].body&&HP.isDisturbed(this[to].body.stream)}get duplex(){return dr.brandCheck(this,t),"half"}clone(){if(dr.brandCheck(this,t),Wbe(this))throw new TypeError("unusable");let e=n5e(this[to]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=WP.get(this.signal);n===void 0&&(n=new Set,WP.set(this.signal,n));let o=new WeakRef(r);n.add(o),HP.addAbortListener(r.signal,Xbe(o))}return i5e(e,r.signal,xct(this[fl]))}[Ybe.inspect.custom](e,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${Ybe.formatWithOptions(r,n)}`}};Cct(h1);function $P(t){return{method:t.method??"GET",localURLsOnly:t.localURLsOnly??!1,unsafeRequest:t.unsafeRequest??!1,body:t.body??null,client:t.client??null,reservedClient:t.reservedClient??null,replacesClientId:t.replacesClientId??"",window:t.window??"client",keepalive:t.keepalive??!1,serviceWorkers:t.serviceWorkers??"all",initiator:t.initiator??"",destination:t.destination??"",priority:t.priority??null,origin:t.origin??"client",policyContainer:t.policyContainer??"client",referrer:t.referrer??"client",referrerPolicy:t.referrerPolicy??"",mode:t.mode??"no-cors",useCORSPreflightFlag:t.useCORSPreflightFlag??!1,credentials:t.credentials??"same-origin",useCredentials:t.useCredentials??!1,cache:t.cache??"default",redirect:t.redirect??"follow",integrity:t.integrity??"",cryptoGraphicsNonceMetadata:t.cryptoGraphicsNonceMetadata??"",parserMetadata:t.parserMetadata??"",reloadNavigation:t.reloadNavigation??!1,historyNavigation:t.historyNavigation??!1,userActivation:t.userActivation??!1,taintedOrigin:t.taintedOrigin??!1,redirectCount:t.redirectCount??0,responseTainting:t.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:t.preventNoCacheCacheControlHeaderModification??!1,done:t.done??!1,timingAllowFailed:t.timingAllowFailed??!1,urlList:t.urlList,url:t.urlList[0],headersList:t.headersList?new GP(t.headersList):new GP}}s($P,"makeRequest");function n5e(t){let e=$P({...t,body:null});return t.body!=null&&(e.body=Ect(e,t.body)),e}s(n5e,"cloneRequest");function i5e(t,e,r){let n=new h1(VP);return n[to]=t,n[qP]=e,n[fl]=new e5e(VP),t5e(n[fl],t.headersList),HJ(n[fl],r),n}s(i5e,"fromInnerRequest");Object.defineProperties(h1.prototype,{method:Ts,url:Ts,headers:Ts,redirect:Ts,clone:Ts,signal:Ts,duplex:Ts,destination:Ts,body:Ts,bodyUsed:Ts,isHistoryNavigation:Ts,isReloadNavigation:Ts,keepalive:Ts,integrity:Ts,cache:Ts,credentials:Ts,attribute:Ts,referrerPolicy:Ts,referrer:Ts,mode:Ts,[Symbol.toStringTag]:{value:"Request",configurable:!0}});dr.converters.Request=dr.interfaceConverter(h1);dr.converters.RequestInfo=function(t,e,r){return typeof t=="string"?dr.converters.USVString(t,e,r):t instanceof h1?dr.converters.Request(t,e,r):dr.converters.USVString(t,e,r)};dr.converters.AbortSignal=dr.interfaceConverter(AbortSignal);dr.converters.RequestInit=dr.dictionaryConverter([{key:"method",converter:dr.converters.ByteString},{key:"headers",converter:dr.converters.HeadersInit},{key:"body",converter:dr.nullableConverter(dr.converters.BodyInit)},{key:"referrer",converter:dr.converters.USVString},{key:"referrerPolicy",converter:dr.converters.DOMString,allowedValues:wct},{key:"mode",converter:dr.converters.DOMString,allowedValues:Bct},{key:"credentials",converter:dr.converters.DOMString,allowedValues:Rct},{key:"cache",converter:dr.converters.DOMString,allowedValues:kct},{key:"redirect",converter:dr.converters.DOMString,allowedValues:Sct},{key:"integrity",converter:dr.converters.DOMString},{key:"keepalive",converter:dr.converters.boolean},{key:"signal",converter:dr.nullableConverter(t=>dr.converters.AbortSignal(t,"RequestInit","signal",{strict:!1}))},{key:"window",converter:dr.converters.any},{key:"duplex",converter:dr.converters.DOMString,allowedValues:Dct},{key:"dispatcher",converter:dr.converters.any}]);o5e.exports={Request:h1,makeRequest:$P,fromInnerRequest:i5e,cloneRequest:n5e}});var mS=q((Vzr,E5e)=>{"use strict";f();var{makeNetworkError:Ti,makeAppropriateNetworkError:YP,filterResponse:qJ,makeResponse:zP,fromInnerResponse:Oct}=AS(),{HeadersList:s5e}=QE(),{Request:Uct,cloneRequest:Hct}=Ob(),A1=require("node:zlib"),{bytesMatch:qct,makePolicyContainer:Gct,clonePolicyContainer:Vct,requestBadPort:Wct,TAOCheck:$ct,appendRequestOriginHeader:Yct,responseLocationURL:zct,requestCurrentURL:fh,setRequestReferrerPolicyOnRedirect:jct,tryUpgradeRequestToAPotentiallyTrustworthyURL:Kct,createOpaqueTimingInfo:YJ,appendFetchMetadata:Jct,corsCheck:Xct,crossOriginResourcePolicyCheck:Zct,determineRequestsReferrer:elt,coarsenedSharedCurrentTime:pS,createDeferredPromise:tlt,isBlobLike:rlt,sameOrigin:$J,isCancelled:FE,isAborted:a5e,isErrorLike:nlt,fullyReadBody:ilt,readableStreamClose:olt,isomorphicEncode:jP,urlIsLocal:slt,urlIsHttpHttpsScheme:zJ,urlHasHttpsScheme:alt,clampAndCoarsenConnectionTimingInfo:clt,simpleRangeHeaderValue:llt,buildContentRange:ult,createInflate:flt,extractMimeType:dlt}=sl(),{kState:f5e,kDispatcher:hlt}=r1(),LE=require("node:assert"),{safelyExtractBody:jJ,extractBody:c5e}=Cb(),{redirectStatusSet:d5e,nullBodyStatus:h5e,safeMethodsSet:Alt,requestBodyHeader:plt,subresourceSet:mlt}=Q3(),glt=require("node:events"),{Readable:ylt,pipeline:Clt,finished:Elt}=require("node:stream"),{addAbortListener:Ilt,isErrored:xlt,isReadable:KP,bufferToLowerCasedHeaderName:l5e}=hn(),{dataURLProcessor:vlt,serializeAMimeType:blt,minimizeSupportedMimeType:Tlt}=pc(),{getGlobalDispatcher:_lt}=NP(),{webidl:wlt}=Na(),{STATUS_CODES:Slt}=require("node:http"),Blt=["GET","HEAD"],Rlt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",GJ,JP=class extends glt{static{s(this,"Fetch")}constructor(e){super(),this.dispatcher=e,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(e){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(e),this.emit("terminated",e))}abort(e){this.state==="ongoing"&&(this.state="aborted",e||(e=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=e,this.connection?.destroy(e),this.emit("terminated",e))}};function klt(t){A5e(t,"fetch")}s(klt,"handleFetchDone");function Dlt(t,e=void 0){wlt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=tlt(),n;try{n=new Uct(t,e)}catch(h){return r.reject(h),r.promise}let o=n[f5e];if(n.signal.aborted)return VJ(r,o,null,n.signal.reason),r.promise;o.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(o.serviceWorkers="none");let c=null,l=!1,u=null;return Ilt(n.signal,()=>{l=!0,LE(u!=null),u.abort(n.signal.reason);let h=c?.deref();VJ(r,o,h,n.signal.reason)}),u=m5e({request:o,processResponseEndOfBody:klt,processResponse:s(h=>{if(!l){if(h.aborted){VJ(r,o,c,u.serializedAbortReason);return}if(h.type==="error"){r.reject(new TypeError("fetch failed",{cause:h.error}));return}c=new WeakRef(Oct(h,"immutable")),r.resolve(c.deref()),r=null}},"processResponse"),dispatcher:n[hlt]}),r.promise}s(Dlt,"fetch");function A5e(t,e="other"){if(t.type==="error"&&t.aborted||!t.urlList?.length)return;let r=t.urlList[0],n=t.timingInfo,o=t.cacheState;zJ(r)&&n!==null&&(t.timingAllowPassed||(n=YJ({startTime:n.startTime}),o=""),n.endTime=pS(),t.timingInfo=n,p5e(n,r.href,e,globalThis,o))}s(A5e,"finalizeAndReportTiming");var p5e=performance.markResourceTiming;function VJ(t,e,r,n){if(t&&t.reject(n),e.body!=null&&KP(e.body?.stream)&&e.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a}),r==null)return;let o=r[f5e];o.body!=null&&KP(o.body?.stream)&&o.body.stream.cancel(n).catch(a=>{if(a.code!=="ERR_INVALID_STATE")throw a})}s(VJ,"abortFetch");function m5e({request:t,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:o,processResponseConsumeBody:a,useParallelQueue:c=!1,dispatcher:l=_lt()}){LE(l);let u=null,d=!1;t.client!=null&&(u=t.client.globalObject,d=t.client.crossOriginIsolatedCapability);let h=pS(d),A=YJ({startTime:h}),p={controller:new JP(l),request:t,timingInfo:A,processRequestBodyChunkLength:e,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:a,processResponseEndOfBody:o,taskDestination:u,crossOriginIsolatedCapability:d};return LE(!t.body||t.body.stream),t.window==="client"&&(t.window=t.client?.globalObject?.constructor?.name==="Window"?t.client:"no-window"),t.origin==="client"&&(t.origin=t.client.origin),t.policyContainer==="client"&&(t.client!=null?t.policyContainer=Vct(t.client.policyContainer):t.policyContainer=Gct()),t.headersList.contains("accept",!0)||t.headersList.append("accept","*/*",!0),t.headersList.contains("accept-language",!0)||t.headersList.append("accept-language","*",!0),t.priority,mlt.has(t.destination),g5e(p).catch(g=>{p.controller.terminate(g)}),p.controller}s(m5e,"fetching");async function g5e(t,e=!1){let r=t.request,n=null;if(r.localURLsOnly&&!slt(fh(r))&&(n=Ti("local URLs only")),Kct(r),Wct(r)==="blocked"&&(n=Ti("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=elt(r)),n===null&&(n=await(async()=>{let a=fh(r);return $J(a,r.url)&&r.responseTainting==="basic"||a.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await u5e(t)):r.mode==="same-origin"?Ti('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Ti('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await u5e(t)):zJ(fh(r))?(r.responseTainting="cors",await y5e(t)):Ti("URL scheme must be a HTTP(S) scheme")})()),e)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=qJ(n,"basic"):r.responseTainting==="cors"?n=qJ(n,"cors"):r.responseTainting==="opaque"?n=qJ(n,"opaque"):LE(!1));let o=n.status===0?n:n.internalResponse;if(o.urlList.length===0&&o.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&o.status===206&&o.rangeRequested&&!r.headers.contains("range",!0)&&(n=o=Ti()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||h5e.includes(o.status))&&(o.body=null,t.controller.dump=!0),r.integrity){let a=s(l=>WJ(t,Ti(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){a(n.error);return}let c=s(l=>{if(!qct(l,r.integrity)){a("integrity mismatch");return}n.body=jJ(l)[0],WJ(t,n)},"processBody");await ilt(n.body,c,a)}else WJ(t,n)}s(g5e,"mainFetch");function u5e(t){if(FE(t)&&t.request.redirectCount===0)return Promise.resolve(YP(t));let{request:e}=t,{protocol:r}=fh(e);switch(r){case"about:":return Promise.resolve(Ti("about scheme is not supported"));case"blob:":{GJ||(GJ=require("node:buffer").resolveObjectURL);let n=fh(e);if(n.search.length!==0)return Promise.resolve(Ti("NetworkError when attempting to fetch resource."));let o=GJ(n.toString());if(e.method!=="GET"||!rlt(o))return Promise.resolve(Ti("invalid method"));let a=zP(),c=o.size,l=jP(`${c}`),u=o.type;if(e.headersList.contains("range",!0)){a.rangeRequested=!0;let d=e.headersList.get("range",!0),h=llt(d,!0);if(h==="failure")return Promise.resolve(Ti("failed to fetch the data URL"));let{rangeStartValue:A,rangeEndValue:p}=h;if(A===null)A=c-p,p=A+p-1;else{if(A>=c)return Promise.resolve(Ti("Range start is greater than the blob's size."));(p===null||p>=c)&&(p=c-1)}let g=o.slice(A,p,u),E=c5e(g);a.body=E[0];let v=jP(`${g.size}`),w=ult(A,p,c);a.status=206,a.statusText="Partial Content",a.headersList.set("content-length",v,!0),a.headersList.set("content-type",u,!0),a.headersList.set("content-range",w,!0)}else{let d=c5e(o);a.statusText="OK",a.body=d[0],a.headersList.set("content-length",l,!0),a.headersList.set("content-type",u,!0)}return Promise.resolve(a)}case"data:":{let n=fh(e),o=vlt(n);if(o==="failure")return Promise.resolve(Ti("failed to fetch the data URL"));let a=blt(o.mimeType);return Promise.resolve(zP({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:a}]],body:jJ(o.body)[0]}))}case"file:":return Promise.resolve(Ti("not implemented... yet..."));case"http:":case"https:":return y5e(t).catch(n=>Ti(n));default:return Promise.resolve(Ti("unknown scheme"))}}s(u5e,"schemeFetch");function Nlt(t,e){t.request.done=!0,t.processResponseDone!=null&&queueMicrotask(()=>t.processResponseDone(e))}s(Nlt,"finalizeResponse");function WJ(t,e){let r=t.timingInfo,n=s(()=>{let a=Date.now();t.request.destination==="document"&&(t.controller.fullTimingInfo=r),t.controller.reportTimingSteps=()=>{if(t.request.url.protocol!=="https:")return;r.endTime=a;let l=e.cacheState,u=e.bodyInfo;e.timingAllowPassed||(r=YJ(r),l="");let d=0;if(t.request.mode!=="navigator"||!e.hasCrossOriginRedirects){d=e.status;let h=dlt(e.headersList);h!=="failure"&&(u.contentType=Tlt(h))}t.request.initiatorType!=null&&p5e(r,t.request.url.href,t.request.initiatorType,globalThis,l,u,d)};let c=s(()=>{t.request.done=!0,t.processResponseEndOfBody!=null&&queueMicrotask(()=>t.processResponseEndOfBody(e)),t.request.initiatorType!=null&&t.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>c())},"processResponseEndOfBody");t.processResponse!=null&&queueMicrotask(()=>{t.processResponse(e),t.processResponse=null});let o=e.type==="error"?e:e.internalResponse??e;o.body==null?n():Elt(o.body.stream,()=>{n()})}s(WJ,"fetchFinale");async function y5e(t){let e=t.request,r=null,n=null,o=t.timingInfo;if(e.serviceWorkers,r===null){if(e.redirect==="follow"&&(e.serviceWorkers="none"),n=r=await C5e(t),e.responseTainting==="cors"&&Xct(e,r)==="failure")return Ti("cors failure");$ct(e,r)==="failure"&&(e.timingAllowFailed=!0)}return(e.responseTainting==="opaque"||r.type==="opaque")&&Zct(e.origin,e.client,e.destination,n)==="blocked"?Ti("blocked"):(d5e.has(n.status)&&(e.redirect!=="manual"&&t.controller.connection.destroy(void 0,!1),e.redirect==="error"?r=Ti("unexpected redirect"):e.redirect==="manual"?r=n:e.redirect==="follow"?r=await Qlt(t,r):LE(!1)),r.timingInfo=o,r)}s(y5e,"httpFetch");function Qlt(t,e){let r=t.request,n=e.internalResponse?e.internalResponse:e,o;try{if(o=zct(n,fh(r).hash),o==null)return e}catch(c){return Promise.resolve(Ti(c))}if(!zJ(o))return Promise.resolve(Ti("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Ti("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(o.username||o.password)&&!$J(r,o))return Promise.resolve(Ti('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(o.username||o.password))return Promise.resolve(Ti('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Ti());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Blt.includes(r.method)){r.method="GET",r.body=null;for(let c of plt)r.headersList.delete(c)}$J(fh(r),o)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(LE(r.body.source!=null),r.body=jJ(r.body.source)[0]);let a=t.timingInfo;return a.redirectEndTime=a.postRedirectStartTime=pS(t.crossOriginIsolatedCapability),a.redirectStartTime===0&&(a.redirectStartTime=a.startTime),r.urlList.push(o),jct(r,n),g5e(t,!0)}s(Qlt,"httpRedirectFetch");async function C5e(t,e=!1,r=!1){let n=t.request,o=null,a=null,c=null,l=null,u=!1;n.window==="no-window"&&n.redirect==="error"?(o=t,a=n):(a=Hct(n),o={...t},o.request=a);let d=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",h=a.body?a.body.length:null,A=null;if(a.body==null&&["POST","PUT"].includes(a.method)&&(A="0"),h!=null&&(A=jP(`${h}`)),A!=null&&a.headersList.append("content-length",A,!0),h!=null&&a.keepalive,a.referrer instanceof URL&&a.headersList.append("referer",jP(a.referrer.href),!0),Yct(a),Jct(a),a.headersList.contains("user-agent",!0)||a.headersList.append("user-agent",Rlt),a.cache==="default"&&(a.headersList.contains("if-modified-since",!0)||a.headersList.contains("if-none-match",!0)||a.headersList.contains("if-unmodified-since",!0)||a.headersList.contains("if-match",!0)||a.headersList.contains("if-range",!0))&&(a.cache="no-store"),a.cache==="no-cache"&&!a.preventNoCacheCacheControlHeaderModification&&!a.headersList.contains("cache-control",!0)&&a.headersList.append("cache-control","max-age=0",!0),(a.cache==="no-store"||a.cache==="reload")&&(a.headersList.contains("pragma",!0)||a.headersList.append("pragma","no-cache",!0),a.headersList.contains("cache-control",!0)||a.headersList.append("cache-control","no-cache",!0)),a.headersList.contains("range",!0)&&a.headersList.append("accept-encoding","identity",!0),a.headersList.contains("accept-encoding",!0)||(alt(fh(a))?a.headersList.append("accept-encoding","br, gzip, deflate",!0):a.headersList.append("accept-encoding","gzip, deflate",!0)),a.headersList.delete("host",!0),l==null&&(a.cache="no-store"),a.cache!=="no-store"&&a.cache,c==null){if(a.cache==="only-if-cached")return Ti("only if cached");let p=await Plt(o,d,r);!Alt.has(a.method)&&p.status>=200&&p.status<=399,u&&p.status,c==null&&(c=p)}if(c.urlList=[...a.urlList],a.headersList.contains("range",!0)&&(c.rangeRequested=!0),c.requestIncludesCredentials=d,c.status===407)return n.window==="no-window"?Ti():FE(t)?YP(t):Ti("proxy authentication required");if(c.status===421&&!r&&(n.body==null||n.body.source!=null)){if(FE(t))return YP(t);t.controller.connection.destroy(),c=await C5e(t,e,!0)}return c}s(C5e,"httpNetworkOrCacheFetch");async function Plt(t,e=!1,r=!1){LE(!t.controller.connection||t.controller.connection.destroyed),t.controller.connection={abort:null,destroyed:!1,destroy(E,v=!0){this.destroyed||(this.destroyed=!0,v&&this.abort?.(E??new DOMException("The operation was aborted.","AbortError")))}};let n=t.request,o=null,a=t.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let u=null;if(n.body==null&&t.processRequestEndOfBody)queueMicrotask(()=>t.processRequestEndOfBody());else if(n.body!=null){let E=s(async function*(_){FE(t)||(yield _,t.processRequestBodyChunkLength?.(_.byteLength))},"processBodyChunk"),v=s(()=>{FE(t)||t.processRequestEndOfBody&&t.processRequestEndOfBody()},"processEndOfBody"),w=s(_=>{FE(t)||(_.name==="AbortError"?t.controller.abort():t.controller.terminate(_))},"processBodyError");u=async function*(){try{for await(let _ of n.body.stream)yield*E(_);v()}catch(_){w(_)}}()}try{let{body:E,status:v,statusText:w,headersList:_,socket:S}=await g({body:u});if(S)o=zP({status:v,statusText:w,headersList:_,socket:S});else{let D=E[Symbol.asyncIterator]();t.controller.next=()=>D.next(),o=zP({status:v,statusText:w,headersList:_})}}catch(E){return E.name==="AbortError"?(t.controller.connection.destroy(),YP(t,E)):Ti(E)}let d=s(async()=>{await t.controller.resume()},"pullAlgorithm"),h=s(E=>{FE(t)||t.controller.abort(E)},"cancelAlgorithm"),A=new ReadableStream({async start(E){t.controller.controller=E},async pull(E){await d(E)},async cancel(E){await h(E)},type:"bytes"});o.body={stream:A,source:null,length:null},t.controller.onAborted=p,t.controller.on("terminated",p),t.controller.resume=async()=>{for(;;){let E,v;try{let{done:_,value:S}=await t.controller.next();if(a5e(t))break;E=_?void 0:S}catch(_){t.controller.ended&&!a.encodedBodySize?E=void 0:(E=_,v=!0)}if(E===void 0){olt(t.controller.controller),Nlt(t,o);return}if(a.decodedBodySize+=E?.byteLength??0,v){t.controller.terminate(E);return}let w=new Uint8Array(E);if(w.byteLength&&t.controller.controller.enqueue(w),xlt(A)){t.controller.terminate();return}if(t.controller.controller.desiredSize<=0)return}};function p(E){a5e(t)?(o.aborted=!0,KP(A)&&t.controller.controller.error(t.controller.serializedAbortReason)):KP(A)&&t.controller.controller.error(new TypeError("terminated",{cause:nlt(E)?E:void 0})),t.controller.connection.destroy()}return s(p,"onAborted"),o;function g({body:E}){let v=fh(n),w=t.controller.dispatcher;return new Promise((_,S)=>w.dispatch({path:v.pathname+v.search,origin:v.origin,method:n.method,body:w.isMockActive?n.body&&(n.body.source||n.body.stream):E,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(D){let{connection:N}=t.controller;a.finalConnectionTimingInfo=clt(void 0,a.postRedirectStartTime,t.crossOriginIsolatedCapability),N.destroyed?D(new DOMException("The operation was aborted.","AbortError")):(t.controller.on("terminated",D),this.abort=N.abort=D),a.finalNetworkRequestStartTime=pS(t.crossOriginIsolatedCapability)},onResponseStarted(){a.finalNetworkResponseStartTime=pS(t.crossOriginIsolatedCapability)},onHeaders(D,N,P,O){if(D<200)return;let Y=[],ne="",oe=new s5e;for(let ce=0;ce<N.length;ce+=2)oe.append(l5e(N[ce]),N[ce+1].toString("latin1"),!0);let he=oe.get("content-encoding",!0);he&&(Y=he.toLowerCase().split(",").map(ce=>ce.trim())),ne=oe.get("location",!0),this.body=new ylt({read:P});let $=[],K=ne&&n.redirect==="follow"&&d5e.has(D);if(Y.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!h5e.includes(D)&&!K)for(let ce=Y.length-1;ce>=0;--ce){let J=Y[ce];if(J==="x-gzip"||J==="gzip")$.push(A1.createGunzip({flush:A1.constants.Z_SYNC_FLUSH,finishFlush:A1.constants.Z_SYNC_FLUSH}));else if(J==="deflate")$.push(flt({flush:A1.constants.Z_SYNC_FLUSH,finishFlush:A1.constants.Z_SYNC_FLUSH}));else if(J==="br")$.push(A1.createBrotliDecompress({flush:A1.constants.BROTLI_OPERATION_FLUSH,finishFlush:A1.constants.BROTLI_OPERATION_FLUSH}));else{$.length=0;break}}let xe=this.onError.bind(this);return _({status:D,statusText:O,headersList:oe,body:$.length?Clt(this.body,...$,ce=>{ce&&this.onError(ce)}).on("error",xe):this.body.on("error",xe)}),!0},onData(D){if(t.controller.dump)return;let N=D;return a.encodedBodySize+=N.byteLength,this.body.push(N)},onComplete(){this.abort&&t.controller.off("terminated",this.abort),t.controller.onAborted&&t.controller.off("terminated",t.controller.onAborted),t.controller.ended=!0,this.body.push(null)},onError(D){this.abort&&t.controller.off("terminated",this.abort),this.body?.destroy(D),t.controller.terminate(D),S(D)},onUpgrade(D,N,P){if(D!==101)return;let O=new s5e;for(let Y=0;Y<N.length;Y+=2)O.append(l5e(N[Y]),N[Y+1].toString("latin1"),!0);return _({status:D,statusText:Slt[D],headersList:O,socket:P}),!0}}))}s(g,"dispatch")}s(Plt,"httpNetworkFetch");E5e.exports={fetch:Dlt,Fetch:JP,fetching:m5e,finalizeAndReportTiming:A5e}});var KJ=q((Yzr,I5e)=>{"use strict";f();I5e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var v5e=q((jzr,x5e)=>{"use strict";f();var{webidl:dl}=Na(),XP=Symbol("ProgressEvent state"),JJ=class t extends Event{static{s(this,"ProgressEvent")}constructor(e,r={}){e=dl.converters.DOMString(e,"ProgressEvent constructor","type"),r=dl.converters.ProgressEventInit(r??{}),super(e,r),this[XP]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return dl.brandCheck(this,t),this[XP].lengthComputable}get loaded(){return dl.brandCheck(this,t),this[XP].loaded}get total(){return dl.brandCheck(this,t),this[XP].total}};dl.converters.ProgressEventInit=dl.dictionaryConverter([{key:"lengthComputable",converter:dl.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"loaded",converter:dl.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"total",converter:dl.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"bubbles",converter:dl.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:dl.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:dl.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}]);x5e.exports={ProgressEvent:JJ}});var T5e=q((Xzr,b5e)=>{"use strict";f();function Flt(t){if(!t)return"failure";switch(t.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}s(Flt,"getEncoding");b5e.exports={getEncoding:Flt}});var N5e=q((tjr,D5e)=>{"use strict";f();var{kState:Ub,kError:XJ,kResult:_5e,kAborted:gS,kLastProgressEventFired:ZJ}=KJ(),{ProgressEvent:Llt}=v5e(),{getEncoding:w5e}=T5e(),{serializeAMimeType:Mlt,parseMIMEType:S5e}=pc(),{types:Olt}=require("node:util"),{StringDecoder:B5e}=require("string_decoder"),{btoa:R5e}=require("node:buffer"),Ult={enumerable:!0,writable:!1,configurable:!1};function Hlt(t,e,r,n){if(t[Ub]==="loading")throw new DOMException("Invalid state","InvalidStateError");t[Ub]="loading",t[_5e]=null,t[XJ]=null;let a=e.stream().getReader(),c=[],l=a.read(),u=!0;(async()=>{for(;!t[gS];)try{let{done:d,value:h}=await l;if(u&&!t[gS]&&queueMicrotask(()=>{p1("loadstart",t)}),u=!1,!d&&Olt.isUint8Array(h))c.push(h),(t[ZJ]===void 0||Date.now()-t[ZJ]>=50)&&!t[gS]&&(t[ZJ]=Date.now(),queueMicrotask(()=>{p1("progress",t)})),l=a.read();else if(d){queueMicrotask(()=>{t[Ub]="done";try{let A=qlt(c,r,e.type,n);if(t[gS])return;t[_5e]=A,p1("load",t)}catch(A){t[XJ]=A,p1("error",t)}t[Ub]!=="loading"&&p1("loadend",t)});break}}catch(d){if(t[gS])return;queueMicrotask(()=>{t[Ub]="done",t[XJ]=d,p1("error",t),t[Ub]!=="loading"&&p1("loadend",t)});break}})()}s(Hlt,"readOperation");function p1(t,e){let r=new Llt(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}s(p1,"fireAProgressEvent");function qlt(t,e,r,n){switch(e){case"DataURL":{let o="data:",a=S5e(r||"application/octet-stream");a!=="failure"&&(o+=Mlt(a)),o+=";base64,";let c=new B5e("latin1");for(let l of t)o+=R5e(c.write(l));return o+=R5e(c.end()),o}case"Text":{let o="failure";if(n&&(o=w5e(n)),o==="failure"&&r){let a=S5e(r);a!=="failure"&&(o=w5e(a.parameters.get("charset")))}return o==="failure"&&(o="UTF-8"),Glt(t,o)}case"ArrayBuffer":return k5e(t).buffer;case"BinaryString":{let o="",a=new B5e("latin1");for(let c of t)o+=a.write(c);return o+=a.end(),o}}}s(qlt,"packageData");function Glt(t,e){let r=k5e(t),n=Vlt(r),o=0;n!==null&&(e=n,o=n==="UTF-8"?3:2);let a=r.slice(o);return new TextDecoder(e).decode(a)}s(Glt,"decode");function Vlt(t){let[e,r,n]=t;return e===239&&r===187&&n===191?"UTF-8":e===254&&r===255?"UTF-16BE":e===255&&r===254?"UTF-16LE":null}s(Vlt,"BOMSniffing");function k5e(t){let e=t.reduce((n,o)=>n+o.byteLength,0),r=0;return t.reduce((n,o)=>(n.set(o,r),r+=o.byteLength,n),new Uint8Array(e))}s(k5e,"combineByteSequences");D5e.exports={staticPropertyDescriptors:Ult,readOperation:Hlt,fireAProgressEvent:p1}});var L5e=q((ijr,F5e)=>{"use strict";f();var{staticPropertyDescriptors:Hb,readOperation:ZP,fireAProgressEvent:Q5e}=N5e(),{kState:ME,kError:P5e,kResult:eF,kEvents:fi,kAborted:Wlt}=KJ(),{webidl:Bi}=Na(),{kEnumerableProperty:yc}=hn(),Df=class t extends EventTarget{static{s(this,"FileReader")}constructor(){super(),this[ME]="empty",this[eF]=null,this[P5e]=null,this[fi]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),e=Bi.converters.Blob(e,{strict:!1}),ZP(this,e,"ArrayBuffer")}readAsBinaryString(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),e=Bi.converters.Blob(e,{strict:!1}),ZP(this,e,"BinaryString")}readAsText(e,r=void 0){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsText"),e=Bi.converters.Blob(e,{strict:!1}),r!==void 0&&(r=Bi.converters.DOMString(r,"FileReader.readAsText","encoding")),ZP(this,e,"Text",r)}readAsDataURL(e){Bi.brandCheck(this,t),Bi.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),e=Bi.converters.Blob(e,{strict:!1}),ZP(this,e,"DataURL")}abort(){if(this[ME]==="empty"||this[ME]==="done"){this[eF]=null;return}this[ME]==="loading"&&(this[ME]="done",this[eF]=null),this[Wlt]=!0,Q5e("abort",this),this[ME]!=="loading"&&Q5e("loadend",this)}get readyState(){switch(Bi.brandCheck(this,t),this[ME]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Bi.brandCheck(this,t),this[eF]}get error(){return Bi.brandCheck(this,t),this[P5e]}get onloadend(){return Bi.brandCheck(this,t),this[fi].loadend}set onloadend(e){Bi.brandCheck(this,t),this[fi].loadend&&this.removeEventListener("loadend",this[fi].loadend),typeof e=="function"?(this[fi].loadend=e,this.addEventListener("loadend",e)):this[fi].loadend=null}get onerror(){return Bi.brandCheck(this,t),this[fi].error}set onerror(e){Bi.brandCheck(this,t),this[fi].error&&this.removeEventListener("error",this[fi].error),typeof e=="function"?(this[fi].error=e,this.addEventListener("error",e)):this[fi].error=null}get onloadstart(){return Bi.brandCheck(this,t),this[fi].loadstart}set onloadstart(e){Bi.brandCheck(this,t),this[fi].loadstart&&this.removeEventListener("loadstart",this[fi].loadstart),typeof e=="function"?(this[fi].loadstart=e,this.addEventListener("loadstart",e)):this[fi].loadstart=null}get onprogress(){return Bi.brandCheck(this,t),this[fi].progress}set onprogress(e){Bi.brandCheck(this,t),this[fi].progress&&this.removeEventListener("progress",this[fi].progress),typeof e=="function"?(this[fi].progress=e,this.addEventListener("progress",e)):this[fi].progress=null}get onload(){return Bi.brandCheck(this,t),this[fi].load}set onload(e){Bi.brandCheck(this,t),this[fi].load&&this.removeEventListener("load",this[fi].load),typeof e=="function"?(this[fi].load=e,this.addEventListener("load",e)):this[fi].load=null}get onabort(){return Bi.brandCheck(this,t),this[fi].abort}set onabort(e){Bi.brandCheck(this,t),this[fi].abort&&this.removeEventListener("abort",this[fi].abort),typeof e=="function"?(this[fi].abort=e,this.addEventListener("abort",e)):this[fi].abort=null}};Df.EMPTY=Df.prototype.EMPTY=0;Df.LOADING=Df.prototype.LOADING=1;Df.DONE=Df.prototype.DONE=2;Object.defineProperties(Df.prototype,{EMPTY:Hb,LOADING:Hb,DONE:Hb,readAsArrayBuffer:yc,readAsBinaryString:yc,readAsText:yc,readAsDataURL:yc,abort:yc,readyState:yc,result:yc,error:yc,onloadstart:yc,onprogress:yc,onload:yc,onabort:yc,onerror:yc,onloadend:yc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Df,{EMPTY:Hb,LOADING:Hb,DONE:Hb});F5e.exports={FileReader:Df}});var tF=q((ajr,M5e)=>{"use strict";f();M5e.exports={kConstruct:Ao().kConstruct}});var H5e=q((ljr,U5e)=>{"use strict";f();var $lt=require("node:assert"),{URLSerializer:O5e}=pc(),{isValidHeaderName:Ylt}=sl();function zlt(t,e,r=!1){let n=O5e(t,r),o=O5e(e,r);return n===o}s(zlt,"urlEquals");function jlt(t){$lt(t!==null);let e=[];for(let r of t.split(","))r=r.trim(),Ylt(r)&&e.push(r);return e}s(jlt,"getFieldValues");U5e.exports={urlEquals:zlt,getFieldValues:jlt}});var V5e=q((djr,G5e)=>{"use strict";f();var{kConstruct:Klt}=tF(),{urlEquals:Jlt,getFieldValues:eX}=H5e(),{kEnumerableProperty:OE,isDisturbed:Xlt}=hn(),{webidl:Zt}=Na(),{Response:Zlt,cloneResponse:eut,fromInnerResponse:tut}=AS(),{Request:tp,fromInnerRequest:rut}=Ob(),{kState:Nf}=r1(),{fetching:nut}=mS(),{urlIsHttpHttpsScheme:rF,createDeferredPromise:qb,readAllBytes:iut}=sl(),tX=require("node:assert"),nF=class t{static{s(this,"Cache")}#e;constructor(){arguments[0]!==Klt&&Zt.illegalConstructor(),Zt.util.markAsUncloneable(this),this.#e=arguments[1]}async match(e,r={}){Zt.brandCheck(this,t);let n="Cache.match";Zt.argumentLengthCheck(arguments,1,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=this.#r(e,r,1);if(o.length!==0)return o[0]}async matchAll(e=void 0,r={}){Zt.brandCheck(this,t);let n="Cache.matchAll";return e!==void 0&&(e=Zt.converters.RequestInfo(e,n,"request")),r=Zt.converters.CacheQueryOptions(r,n,"options"),this.#r(e,r)}async add(e){Zt.brandCheck(this,t);let r="Cache.add";Zt.argumentLengthCheck(arguments,1,r),e=Zt.converters.RequestInfo(e,r,"request");let n=[e];return await this.addAll(n)}async addAll(e){Zt.brandCheck(this,t);let r="Cache.addAll";Zt.argumentLengthCheck(arguments,1,r);let n=[],o=[];for(let p of e){if(p===void 0)throw Zt.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(p=Zt.converters.RequestInfo(p),typeof p=="string")continue;let g=p[Nf];if(!rF(g.url)||g.method!=="GET")throw Zt.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let a=[];for(let p of e){let g=new tp(p)[Nf];if(!rF(g.url))throw Zt.errors.exception({header:r,message:"Expected http/s scheme."});g.initiator="fetch",g.destination="subresource",o.push(g);let E=qb();a.push(nut({request:g,processResponse(v){if(v.type==="error"||v.status===206||v.status<200||v.status>299)E.reject(Zt.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(v.headersList.contains("vary")){let w=eX(v.headersList.get("vary"));for(let _ of w)if(_==="*"){E.reject(Zt.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let S of a)S.abort();return}}},processResponseEndOfBody(v){if(v.aborted){E.reject(new DOMException("aborted","AbortError"));return}E.resolve(v)}})),n.push(E.promise)}let l=await Promise.all(n),u=[],d=0;for(let p of l){let g={type:"put",request:o[d],response:p};u.push(g),d++}let h=qb(),A=null;try{this.#t(u)}catch(p){A=p}return queueMicrotask(()=>{A===null?h.resolve(void 0):h.reject(A)}),h.promise}async put(e,r){Zt.brandCheck(this,t);let n="Cache.put";Zt.argumentLengthCheck(arguments,2,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.Response(r,n,"response");let o=null;if(e instanceof tp?o=e[Nf]:o=new tp(e)[Nf],!rF(o.url)||o.method!=="GET")throw Zt.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let a=r[Nf];if(a.status===206)throw Zt.errors.exception({header:n,message:"Got 206 status"});if(a.headersList.contains("vary")){let g=eX(a.headersList.get("vary"));for(let E of g)if(E==="*")throw Zt.errors.exception({header:n,message:"Got * vary field value"})}if(a.body&&(Xlt(a.body.stream)||a.body.stream.locked))throw Zt.errors.exception({header:n,message:"Response body is locked or disturbed"});let c=eut(a),l=qb();if(a.body!=null){let E=a.body.stream.getReader();iut(E).then(l.resolve,l.reject)}else l.resolve(void 0);let u=[],d={type:"put",request:o,response:c};u.push(d);let h=await l.promise;c.body!=null&&(c.body.source=h);let A=qb(),p=null;try{this.#t(u)}catch(g){p=g}return queueMicrotask(()=>{p===null?A.resolve():A.reject(p)}),A.promise}async delete(e,r={}){Zt.brandCheck(this,t);let n="Cache.delete";Zt.argumentLengthCheck(arguments,1,n),e=Zt.converters.RequestInfo(e,n,"request"),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=null;if(e instanceof tp){if(o=e[Nf],o.method!=="GET"&&!r.ignoreMethod)return!1}else tX(typeof e=="string"),o=new tp(e)[Nf];let a=[],c={type:"delete",request:o,options:r};a.push(c);let l=qb(),u=null,d;try{d=this.#t(a)}catch(h){u=h}return queueMicrotask(()=>{u===null?l.resolve(!!d?.length):l.reject(u)}),l.promise}async keys(e=void 0,r={}){Zt.brandCheck(this,t);let n="Cache.keys";e!==void 0&&(e=Zt.converters.RequestInfo(e,n,"request")),r=Zt.converters.CacheQueryOptions(r,n,"options");let o=null;if(e!==void 0)if(e instanceof tp){if(o=e[Nf],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new tp(e)[Nf]);let a=qb(),c=[];if(e===void 0)for(let l of this.#e)c.push(l[0]);else{let l=this.#i(o,r);for(let u of l)c.push(u[0])}return queueMicrotask(()=>{let l=[];for(let u of c){let d=rut(u,new AbortController().signal,"immutable");l.push(d)}a.resolve(Object.freeze(l))}),a.promise}#t(e){let r=this.#e,n=[...r],o=[],a=[];try{for(let c of e){if(c.type!=="delete"&&c.type!=="put")throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(c.type==="delete"&&c.response!=null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(c.request,c.options,o).length)throw new DOMException("???","InvalidStateError");let l;if(c.type==="delete"){if(l=this.#i(c.request,c.options),l.length===0)return[];for(let u of l){let d=r.indexOf(u);tX(d!==-1),r.splice(d,1)}}else if(c.type==="put"){if(c.response==null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let u=c.request;if(!rF(u.url))throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(u.method!=="GET")throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(c.options!=null)throw Zt.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(c.request);for(let d of l){let h=r.indexOf(d);tX(h!==-1),r.splice(h,1)}r.push([c.request,c.response]),o.push([c.request,c.response])}a.push([c.request,c.response])}return a}catch(c){throw this.#e.length=0,this.#e=n,c}}#i(e,r,n){let o=[],a=n??this.#e;for(let c of a){let[l,u]=c;this.#n(e,l,u,r)&&o.push(c)}return o}#n(e,r,n=null,o){let a=new URL(e.url),c=new URL(r.url);if(o?.ignoreSearch&&(c.search="",a.search=""),!Jlt(a,c,!0))return!1;if(n==null||o?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=eX(n.headersList.get("vary"));for(let u of l){if(u==="*")return!1;let d=r.headersList.get(u),h=e.headersList.get(u);if(d!==h)return!1}return!0}#r(e,r,n=1/0){let o=null;if(e!==void 0)if(e instanceof tp){if(o=e[Nf],o.method!=="GET"&&!r.ignoreMethod)return[]}else typeof e=="string"&&(o=new tp(e)[Nf]);let a=[];if(e===void 0)for(let l of this.#e)a.push(l[1]);else{let l=this.#i(o,r);for(let u of l)a.push(u[1])}let c=[];for(let l of a){let u=tut(l,"immutable");if(c.push(u.clone()),c.length>=n)break}return Object.freeze(c)}};Object.defineProperties(nF.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:OE,matchAll:OE,add:OE,addAll:OE,put:OE,delete:OE,keys:OE});var q5e=[{key:"ignoreSearch",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Zt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Zt.converters.CacheQueryOptions=Zt.dictionaryConverter(q5e);Zt.converters.MultiCacheQueryOptions=Zt.dictionaryConverter([...q5e,{key:"cacheName",converter:Zt.converters.DOMString}]);Zt.converters.Response=Zt.interfaceConverter(Zlt);Zt.converters["sequence<RequestInfo>"]=Zt.sequenceConverter(Zt.converters.RequestInfo);G5e.exports={Cache:nF}});var $5e=q((pjr,W5e)=>{"use strict";f();var{kConstruct:yS}=tF(),{Cache:iF}=V5e(),{webidl:s0}=Na(),{kEnumerableProperty:CS}=hn(),oF=class t{static{s(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==yS&&s0.illegalConstructor(),s0.util.markAsUncloneable(this)}async match(e,r={}){if(s0.brandCheck(this,t),s0.argumentLengthCheck(arguments,1,"CacheStorage.match"),e=s0.converters.RequestInfo(e),r=s0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new iF(yS,n).match(e,r)}}else for(let n of this.#e.values()){let a=await new iF(yS,n).match(e,r);if(a!==void 0)return a}}async has(e){s0.brandCheck(this,t);let r="CacheStorage.has";return s0.argumentLengthCheck(arguments,1,r),e=s0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)}async open(e){s0.brandCheck(this,t);let r="CacheStorage.open";if(s0.argumentLengthCheck(arguments,1,r),e=s0.converters.DOMString(e,r,"cacheName"),this.#e.has(e)){let o=this.#e.get(e);return new iF(yS,o)}let n=[];return this.#e.set(e,n),new iF(yS,n)}async delete(e){s0.brandCheck(this,t);let r="CacheStorage.delete";return s0.argumentLengthCheck(arguments,1,r),e=s0.converters.DOMString(e,r,"cacheName"),this.#e.delete(e)}async keys(){return s0.brandCheck(this,t),[...this.#e.keys()]}};Object.defineProperties(oF.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:CS,has:CS,open:CS,delete:CS,keys:CS});W5e.exports={CacheStorage:oF}});var z5e=q((yjr,Y5e)=>{"use strict";f();Y5e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var rX=q((Ejr,Z5e)=>{"use strict";f();function sut(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}s(sut,"isCTLExcludingHtab");function j5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}s(j5e,"validateCookieName");function K5e(t){let e=t.length,r=0;if(t[0]==='"'){if(e===1||t[e-1]!=='"')throw new Error("Invalid cookie value");--e,++r}for(;r<e;){let n=t.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}s(K5e,"validateCookieValue");function J5e(t){for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}s(J5e,"validateCookiePath");function aut(t){if(t.startsWith("-")||t.endsWith(".")||t.endsWith("-"))throw new Error("Invalid cookie domain")}s(aut,"validateCookieDomain");var cut=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sF=Array(61).fill(0).map((t,e)=>e.toString().padStart(2,"0"));function X5e(t){return typeof t=="number"&&(t=new Date(t)),`${cut[t.getUTCDay()]}, ${sF[t.getUTCDate()]} ${lut[t.getUTCMonth()]} ${t.getUTCFullYear()} ${sF[t.getUTCHours()]}:${sF[t.getUTCMinutes()]}:${sF[t.getUTCSeconds()]} GMT`}s(X5e,"toIMFDate");function uut(t){if(t<0)throw new Error("Invalid cookie max-age")}s(uut,"validateCookieMaxAge");function fut(t){if(t.name.length===0)return null;j5e(t.name),K5e(t.value);let e=[`${t.name}=${t.value}`];t.name.startsWith("__Secure-")&&(t.secure=!0),t.name.startsWith("__Host-")&&(t.secure=!0,t.domain=null,t.path="/"),t.secure&&e.push("Secure"),t.httpOnly&&e.push("HttpOnly"),typeof t.maxAge=="number"&&(uut(t.maxAge),e.push(`Max-Age=${t.maxAge}`)),t.domain&&(aut(t.domain),e.push(`Domain=${t.domain}`)),t.path&&(J5e(t.path),e.push(`Path=${t.path}`)),t.expires&&t.expires.toString()!=="Invalid Date"&&e.push(`Expires=${X5e(t.expires)}`),t.sameSite&&e.push(`SameSite=${t.sameSite}`);for(let r of t.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...o]=r.split("=");e.push(`${n.trim()}=${o.join("=")}`)}return e.join("; ")}s(fut,"stringify");Z5e.exports={isCTLExcludingHtab:sut,validateCookieName:j5e,validateCookiePath:J5e,validateCookieValue:K5e,toIMFDate:X5e,stringify:fut}});var tTe=q((vjr,eTe)=>{"use strict";f();var{maxNameValuePairSize:dut,maxAttributeValueSize:hut}=z5e(),{isCTLExcludingHtab:Aut}=rX(),{collectASequenceOfCodePointsFast:aF}=pc(),put=require("node:assert");function mut(t){if(Aut(t))return null;let e="",r="",n="",o="";if(t.includes(";")){let a={position:0};e=aF(";",t,a),r=t.slice(a.position)}else e=t;if(!e.includes("="))o=e;else{let a={position:0};n=aF("=",e,a),o=e.slice(a.position+1)}return n=n.trim(),o=o.trim(),n.length+o.length>dut?null:{name:n,value:o,...Gb(r)}}s(mut,"parseSetCookie");function Gb(t,e={}){if(t.length===0)return e;put(t[0]===";"),t=t.slice(1);let r="";t.includes(";")?(r=aF(";",t,{position:0}),t=t.slice(r.length)):(r=t,t="");let n="",o="";if(r.includes("=")){let c={position:0};n=aF("=",r,c),o=r.slice(c.position+1)}else n=r;if(n=n.trim(),o=o.trim(),o.length>hut)return Gb(t,e);let a=n.toLowerCase();if(a==="expires"){let c=new Date(o);e.expires=c}else if(a==="max-age"){let c=o.charCodeAt(0);if((c<48||c>57)&&o[0]!=="-"||!/^\d+$/.test(o))return Gb(t,e);let l=Number(o);e.maxAge=l}else if(a==="domain"){let c=o;c[0]==="."&&(c=c.slice(1)),c=c.toLowerCase(),e.domain=c}else if(a==="path"){let c="";o.length===0||o[0]!=="/"?c="/":c=o,e.path=c}else if(a==="secure")e.secure=!0;else if(a==="httponly")e.httpOnly=!0;else if(a==="samesite"){let c="Default",l=o.toLowerCase();l.includes("none")&&(c="None"),l.includes("strict")&&(c="Strict"),l.includes("lax")&&(c="Lax"),e.sameSite=c}else e.unparsed??=[],e.unparsed.push(`${n}=${o}`);return Gb(t,e)}s(Gb,"parseUnparsedAttributes");eTe.exports={parseSetCookie:mut,parseUnparsedAttributes:Gb}});var iTe=q((_jr,nTe)=>{"use strict";f();var{parseSetCookie:gut}=tTe(),{stringify:yut}=rX(),{webidl:Rn}=Na(),{Headers:cF}=QE();function Cut(t){Rn.argumentLengthCheck(arguments,1,"getCookies"),Rn.brandCheck(t,cF,{strict:!1});let e=t.get("cookie"),r={};if(!e)return r;for(let n of e.split(";")){let[o,...a]=n.split("=");r[o.trim()]=a.join("=")}return r}s(Cut,"getCookies");function Eut(t,e,r){Rn.brandCheck(t,cF,{strict:!1});let n="deleteCookie";Rn.argumentLengthCheck(arguments,2,n),e=Rn.converters.DOMString(e,n,"name"),r=Rn.converters.DeleteCookieAttributes(r),rTe(t,{name:e,value:"",expires:new Date(0),...r})}s(Eut,"deleteCookie");function Iut(t){Rn.argumentLengthCheck(arguments,1,"getSetCookies"),Rn.brandCheck(t,cF,{strict:!1});let e=t.getSetCookie();return e?e.map(r=>gut(r)):[]}s(Iut,"getSetCookies");function rTe(t,e){Rn.argumentLengthCheck(arguments,2,"setCookie"),Rn.brandCheck(t,cF,{strict:!1}),e=Rn.converters.Cookie(e);let r=yut(e);r&&t.append("Set-Cookie",r)}s(rTe,"setCookie");Rn.converters.DeleteCookieAttributes=Rn.dictionaryConverter([{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")}]);Rn.converters.Cookie=Rn.dictionaryConverter([{converter:Rn.converters.DOMString,key:"name"},{converter:Rn.converters.DOMString,key:"value"},{converter:Rn.nullableConverter(t=>typeof t=="number"?Rn.converters["unsigned long long"](t):new Date(t)),key:"expires",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters["long long"]),key:"maxAge",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.boolean),key:"secure",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.nullableConverter(Rn.converters.boolean),key:"httpOnly",defaultValue:s(()=>null,"defaultValue")},{converter:Rn.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Rn.sequenceConverter(Rn.converters.DOMString),key:"unparsed",defaultValue:s(()=>new Array(0),"defaultValue")}]);nTe.exports={getCookies:Cut,deleteCookie:Eut,getSetCookies:Iut,setCookie:rTe}});var Wb=q((Bjr,sTe)=>{"use strict";f();var{webidl:Kt}=Na(),{kEnumerableProperty:Cc}=hn(),{kConstruct:oTe}=Ao(),{MessagePort:xut}=require("node:worker_threads"),Vb=class t extends Event{static{s(this,"MessageEvent")}#e;constructor(e,r={}){if(e===oTe){super(arguments[1],arguments[2]),Kt.util.markAsUncloneable(this);return}let n="MessageEvent constructor";Kt.argumentLengthCheck(arguments,1,n),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.MessageEventInit(r,n,"eventInitDict"),super(e,r),this.#e=r,Kt.util.markAsUncloneable(this)}get data(){return Kt.brandCheck(this,t),this.#e.data}get origin(){return Kt.brandCheck(this,t),this.#e.origin}get lastEventId(){return Kt.brandCheck(this,t),this.#e.lastEventId}get source(){return Kt.brandCheck(this,t),this.#e.source}get ports(){return Kt.brandCheck(this,t),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(e,r=!1,n=!1,o=null,a="",c="",l=null,u=[]){return Kt.brandCheck(this,t),Kt.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new t(e,{bubbles:r,cancelable:n,data:o,origin:a,lastEventId:c,source:l,ports:u})}static createFastMessageEvent(e,r){let n=new t(oTe,e,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:vut}=Vb;delete Vb.createFastMessageEvent;var lF=class t extends Event{static{s(this,"CloseEvent")}#e;constructor(e,r={}){let n="CloseEvent constructor";Kt.argumentLengthCheck(arguments,1,n),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.CloseEventInit(r),super(e,r),this.#e=r,Kt.util.markAsUncloneable(this)}get wasClean(){return Kt.brandCheck(this,t),this.#e.wasClean}get code(){return Kt.brandCheck(this,t),this.#e.code}get reason(){return Kt.brandCheck(this,t),this.#e.reason}},uF=class t extends Event{static{s(this,"ErrorEvent")}#e;constructor(e,r){let n="ErrorEvent constructor";Kt.argumentLengthCheck(arguments,1,n),super(e,r),Kt.util.markAsUncloneable(this),e=Kt.converters.DOMString(e,n,"type"),r=Kt.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return Kt.brandCheck(this,t),this.#e.message}get filename(){return Kt.brandCheck(this,t),this.#e.filename}get lineno(){return Kt.brandCheck(this,t),this.#e.lineno}get colno(){return Kt.brandCheck(this,t),this.#e.colno}get error(){return Kt.brandCheck(this,t),this.#e.error}};Object.defineProperties(Vb.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Cc,origin:Cc,lastEventId:Cc,source:Cc,ports:Cc,initMessageEvent:Cc});Object.defineProperties(lF.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Cc,code:Cc,wasClean:Cc});Object.defineProperties(uF.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Cc,filename:Cc,lineno:Cc,colno:Cc,error:Cc});Kt.converters.MessagePort=Kt.interfaceConverter(xut);Kt.converters["sequence<MessagePort>"]=Kt.sequenceConverter(Kt.converters.MessagePort);var nX=[{key:"bubbles",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];Kt.converters.MessageEventInit=Kt.dictionaryConverter([...nX,{key:"data",converter:Kt.converters.any,defaultValue:s(()=>null,"defaultValue")},{key:"origin",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lastEventId",converter:Kt.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"source",converter:Kt.nullableConverter(Kt.converters.MessagePort),defaultValue:s(()=>null,"defaultValue")},{key:"ports",converter:Kt.converters["sequence<MessagePort>"],defaultValue:s(()=>new Array(0),"defaultValue")}]);Kt.converters.CloseEventInit=Kt.dictionaryConverter([...nX,{key:"wasClean",converter:Kt.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"code",converter:Kt.converters["unsigned short"],defaultValue:s(()=>0,"defaultValue")},{key:"reason",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")}]);Kt.converters.ErrorEventInit=Kt.dictionaryConverter([...nX,{key:"message",converter:Kt.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"filename",converter:Kt.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lineno",converter:Kt.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"colno",converter:Kt.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"error",converter:Kt.converters.any}]);sTe.exports={MessageEvent:Vb,CloseEvent:lF,ErrorEvent:uF,createFastMessageEvent:vut}});var UE=q((Djr,aTe)=>{"use strict";f();var but="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Tut={enumerable:!0,writable:!1,configurable:!1},_ut={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},wut={NOT_SENT:0,PROCESSING:1,SENT:2},Sut={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},But=2**16-1,Rut={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},kut=Buffer.allocUnsafe(0),Dut={string:1,typedArray:2,arrayBuffer:3,blob:4};aTe.exports={uid:but,sentCloseFrameState:wut,staticPropertyDescriptors:Tut,states:_ut,opcodes:Sut,maxUnsigned16Bit:But,parserStates:Rut,emptyBuffer:kut,sendHints:Dut}});var ES=q((Qjr,cTe)=>{"use strict";f();cTe.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var vS=q((Fjr,gTe)=>{"use strict";f();var{kReadyState:IS,kController:Nut,kResponse:Qut,kBinaryType:Put,kWebSocketURL:Fut}=ES(),{states:xS,opcodes:m1}=UE(),{ErrorEvent:Lut,createFastMessageEvent:Mut}=Wb(),{isUtf8:Out}=require("node:buffer"),{collectASequenceOfCodePointsFast:Uut,removeHTTPWhitespace:lTe}=pc();function Hut(t){return t[IS]===xS.CONNECTING}s(Hut,"isConnecting");function qut(t){return t[IS]===xS.OPEN}s(qut,"isEstablished");function Gut(t){return t[IS]===xS.CLOSING}s(Gut,"isClosing");function Vut(t){return t[IS]===xS.CLOSED}s(Vut,"isClosed");function iX(t,e,r=(o,a)=>new Event(o,a),n={}){let o=r(t,n);e.dispatchEvent(o)}s(iX,"fireEvent");function Wut(t,e,r){if(t[IS]!==xS.OPEN)return;let n;if(e===m1.TEXT)try{n=mTe(r)}catch{fTe(t,"Received invalid UTF-8 in text frame.");return}else e===m1.BINARY&&(t[Put]==="blob"?n=new Blob([r]):n=$ut(r));iX("message",t,Mut,{origin:t[Fut].origin,data:n})}s(Wut,"websocketMessageReceived");function $ut(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}s($ut,"toArrayBuffer");function Yut(t){if(t.length===0)return!1;for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}s(Yut,"isValidSubprotocol");function zut(t){return t>=1e3&&t<1015?t!==1004&&t!==1005&&t!==1006:t>=3e3&&t<=4999}s(zut,"isValidStatusCode");function fTe(t,e){let{[Nut]:r,[Qut]:n}=t;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),e&&iX("error",t,(o,a)=>new Lut(o,a),{error:new Error(e),message:e})}s(fTe,"failWebsocketConnection");function dTe(t){return t===m1.CLOSE||t===m1.PING||t===m1.PONG}s(dTe,"isControlFrame");function hTe(t){return t===m1.CONTINUATION}s(hTe,"isContinuationFrame");function ATe(t){return t===m1.TEXT||t===m1.BINARY}s(ATe,"isTextBinaryFrame");function jut(t){return ATe(t)||hTe(t)||dTe(t)}s(jut,"isValidOpcode");function Kut(t){let e={position:0},r=new Map;for(;e.position<t.length;){let n=Uut(";",t,e),[o,a=""]=n.split("=");r.set(lTe(o,!0,!1),lTe(a,!1,!0)),e.position++}return r}s(Kut,"parseExtensions");function Jut(t){for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r<48||r>57)return!1}return!0}s(Jut,"isValidClientWindowBits");var pTe=typeof process.versions.icu=="string",uTe=pTe?new TextDecoder("utf-8",{fatal:!0}):void 0,mTe=pTe?uTe.decode.bind(uTe):function(t){if(Out(t))return t.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};gTe.exports={isConnecting:Hut,isEstablished:qut,isClosing:Gut,isClosed:Vut,fireEvent:iX,isValidSubprotocol:Yut,isValidStatusCode:zut,failWebsocketConnection:fTe,websocketMessageReceived:Wut,utf8Decode:mTe,isControlFrame:dTe,isContinuationFrame:hTe,isTextBinaryFrame:ATe,isValidOpcode:jut,parseExtensions:Kut,isValidClientWindowBits:Jut}});var dF=q((Ojr,yTe)=>{"use strict";f();var{maxUnsigned16Bit:Xut}=UE(),fF=16386,oX,bS=null,$b=fF;try{oX=require("node:crypto")}catch{oX={randomFillSync:s(function(e,r,n){for(let o=0;o<e.length;++o)e[o]=Math.random()*255|0;return e},"randomFillSync")}}function Zut(){return $b===fF&&($b=0,oX.randomFillSync(bS??=Buffer.allocUnsafe(fF),0,fF)),[bS[$b++],bS[$b++],bS[$b++],bS[$b++]]}s(Zut,"generateMask");var sX=class{static{s(this,"WebsocketFrameSend")}constructor(e){this.frameData=e}createFrame(e){let r=this.frameData,n=Zut(),o=r?.byteLength??0,a=o,c=6;o>Xut?(c+=8,a=127):o>125&&(c+=2,a=126);let l=Buffer.allocUnsafe(o+c);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+e;l[c-4]=n[0],l[c-3]=n[1],l[c-2]=n[2],l[c-1]=n[3],l[1]=a,a===126?l.writeUInt16BE(o,2):a===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),l[1]|=128;for(let u=0;u<o;++u)l[c+u]=r[u]^n[u&3];return l}};yTe.exports={WebsocketFrameSend:sX}});var cX=q((qjr,TTe)=>{"use strict";f();var{uid:eft,states:TS,sentCloseFrameState:hF,emptyBuffer:tft,opcodes:rft}=UE(),{kReadyState:_S,kSentClose:AF,kByteParser:ETe,kReceivedClose:CTe,kResponse:ITe}=ES(),{fireEvent:nft,failWebsocketConnection:g1,isClosing:ift,isClosed:oft,isEstablished:sft,parseExtensions:aft}=vS(),{channels:Yb}=sb(),{CloseEvent:cft}=Wb(),{makeRequest:lft}=Ob(),{fetching:uft}=mS(),{Headers:fft,getHeadersList:dft}=QE(),{getDecodeSplit:hft}=sl(),{WebsocketFrameSend:Aft}=dF(),aX;try{aX=require("node:crypto")}catch{}function pft(t,e,r,n,o,a){let c=t;c.protocol=t.protocol==="ws:"?"http:":"https:";let l=lft({urlList:[c],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(a.headers){let A=dft(new fft(a.headers));l.headersList=A}let u=aX.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",u),l.headersList.append("sec-websocket-version","13");for(let A of e)l.headersList.append("sec-websocket-protocol",A);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),uft({request:l,useParallelQueue:!0,dispatcher:a.dispatcher,processResponse(A){if(A.type==="error"||A.status!==101){g1(n,"Received network error or non-101 status code.");return}if(e.length!==0&&!A.headersList.get("Sec-WebSocket-Protocol")){g1(n,"Server did not respond with sent protocols.");return}if(A.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){g1(n,'Server did not set Upgrade header to "websocket".');return}if(A.headersList.get("Connection")?.toLowerCase()!=="upgrade"){g1(n,'Server did not set Connection header to "upgrade".');return}let p=A.headersList.get("Sec-WebSocket-Accept"),g=aX.createHash("sha1").update(u+eft).digest("base64");if(p!==g){g1(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let E=A.headersList.get("Sec-WebSocket-Extensions"),v;if(E!==null&&(v=aft(E),!v.has("permessage-deflate"))){g1(n,"Sec-WebSocket-Extensions header does not match.");return}let w=A.headersList.get("Sec-WebSocket-Protocol");if(w!==null&&!hft("sec-websocket-protocol",l.headersList).includes(w)){g1(n,"Protocol was not set in the opening handshake.");return}A.socket.on("data",xTe),A.socket.on("close",vTe),A.socket.on("error",bTe),Yb.open.hasSubscribers&&Yb.open.publish({address:A.socket.address(),protocol:w,extensions:E}),o(A,v)}})}s(pft,"establishWebSocketConnection");function mft(t,e,r,n){if(!(ift(t)||oft(t)))if(!sft(t))g1(t,"Connection was closed before it was established."),t[_S]=TS.CLOSING;else if(t[AF]===hF.NOT_SENT){t[AF]=hF.PROCESSING;let o=new Aft;e!==void 0&&r===void 0?(o.frameData=Buffer.allocUnsafe(2),o.frameData.writeUInt16BE(e,0)):e!==void 0&&r!==void 0?(o.frameData=Buffer.allocUnsafe(2+n),o.frameData.writeUInt16BE(e,0),o.frameData.write(r,2,"utf-8")):o.frameData=tft,t[ITe].socket.write(o.createFrame(rft.CLOSE)),t[AF]=hF.SENT,t[_S]=TS.CLOSING}else t[_S]=TS.CLOSING}s(mft,"closeWebSocketConnection");function xTe(t){this.ws[ETe].write(t)||this.pause()}s(xTe,"onSocketData");function vTe(){let{ws:t}=this,{[ITe]:e}=t;e.socket.off("data",xTe),e.socket.off("close",vTe),e.socket.off("error",bTe);let r=t[AF]===hF.SENT&&t[CTe],n=1005,o="",a=t[ETe].closingInfo;a&&!a.error?(n=a.code??1005,o=a.reason):t[CTe]||(n=1006),t[_S]=TS.CLOSED,nft("close",t,(c,l)=>new cft(c,l),{wasClean:r,code:n,reason:o}),Yb.close.hasSubscribers&&Yb.close.publish({websocket:t,code:n,reason:o})}s(vTe,"onSocketClose");function bTe(t){let{ws:e}=this;e[_S]=TS.CLOSING,Yb.socketError.hasSubscribers&&Yb.socketError.publish(t),this.destroy()}s(bTe,"onSocketError");TTe.exports={establishWebSocketConnection:pft,closeWebSocketConnection:mft}});var wTe=q((Wjr,_Te)=>{"use strict";f();var{createInflateRaw:gft,Z_DEFAULT_WINDOWBITS:yft}=require("node:zlib"),{isValidClientWindowBits:Cft}=vS(),Eft=Buffer.from([0,0,255,255]),pF=Symbol("kBuffer"),mF=Symbol("kLength"),lX=class{static{s(this,"PerMessageDeflate")}#e;#t={};constructor(e){this.#t.serverNoContextTakeover=e.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=e.get("server_max_window_bits")}decompress(e,r,n){if(!this.#e){let o=yft;if(this.#t.serverMaxWindowBits){if(!Cft(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}o=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=gft({windowBits:o}),this.#e[pF]=[],this.#e[mF]=0,this.#e.on("data",a=>{this.#e[pF].push(a),this.#e[mF]+=a.length}),this.#e.on("error",a=>{this.#e=null,n(a)})}this.#e.write(e),r&&this.#e.write(Eft),this.#e.flush(()=>{let o=Buffer.concat(this.#e[pF],this.#e[mF]);this.#e[pF].length=0,this.#e[mF]=0,n(null,o)})}};_Te.exports={PerMessageDeflate:lX}});var MTe=q((zjr,LTe)=>{"use strict";f();var{Writable:Ift}=require("node:stream"),xft=require("node:assert"),{parserStates:Ec,opcodes:zb,states:vft,emptyBuffer:STe,sentCloseFrameState:BTe}=UE(),{kReadyState:bft,kSentClose:RTe,kResponse:kTe,kReceivedClose:DTe}=ES(),{channels:gF}=sb(),{isValidStatusCode:Tft,isValidOpcode:_ft,failWebsocketConnection:Au,websocketMessageReceived:NTe,utf8Decode:wft,isControlFrame:QTe,isTextBinaryFrame:uX,isContinuationFrame:Sft}=vS(),{WebsocketFrameSend:PTe}=dF(),{closeWebSocketConnection:FTe}=cX(),{PerMessageDeflate:Bft}=wTe(),fX=class extends Ift{static{s(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=Ec.INFO;#r={};#o=[];#s;constructor(e,r){super(),this.ws=e,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Bft(r))}_write(e,r,n){this.#e.push(e),this.#t+=e.length,this.#i=!0,this.run(n)}run(e){for(;this.#i;)if(this.#n===Ec.INFO){if(this.#t<2)return e();let r=this.consume(2),n=(r[0]&128)!==0,o=r[0]&15,a=(r[1]&128)===128,c=!n&&o!==zb.CONTINUATION,l=r[1]&127,u=r[0]&64,d=r[0]&32,h=r[0]&16;if(!_ft(o))return Au(this.ws,"Invalid opcode received"),e();if(a)return Au(this.ws,"Frame cannot be masked"),e();if(u!==0&&!this.#s.has("permessage-deflate")){Au(this.ws,"Expected RSV1 to be clear.");return}if(d!==0||h!==0){Au(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(c&&!uX(o)){Au(this.ws,"Invalid frame type was fragmented.");return}if(uX(o)&&this.#o.length>0){Au(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&c){Au(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||c)&&QTe(o)){Au(this.ws,"Control frame either too large or fragmented");return}if(Sft(o)&&this.#o.length===0&&!this.#r.compressed){Au(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=Ec.READ_DATA):l===126?this.#n=Ec.PAYLOADLENGTH_16:l===127&&(this.#n=Ec.PAYLOADLENGTH_64),uX(o)&&(this.#r.binaryType=o,this.#r.compressed=u!==0),this.#r.opcode=o,this.#r.masked=a,this.#r.fin=n,this.#r.fragmented=c}else if(this.#n===Ec.PAYLOADLENGTH_16){if(this.#t<2)return e();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=Ec.READ_DATA}else if(this.#n===Ec.PAYLOADLENGTH_64){if(this.#t<8)return e();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Au(this.ws,"Received payload length > 2^31 bytes.");return}let o=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+o,this.#n=Ec.READ_DATA}else if(this.#n===Ec.READ_DATA){if(this.#t<this.#r.payloadLength)return e();let r=this.consume(this.#r.payloadLength);if(QTe(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=Ec.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,o)=>{if(n){FTe(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(o),!this.#r.fin){this.#n=Ec.INFO,this.#i=!0,this.run(e);return}NTe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=Ec.INFO,this.#o.length=0,this.run(e)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);NTe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=Ec.INFO}}}consume(e){if(e>this.#t)throw new Error("Called consume() before buffers satiated.");if(e===0)return STe;if(this.#e[0].length===e)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(e),n=0;for(;n!==e;){let o=this.#e[0],{length:a}=o;if(a+n===e){r.set(this.#e.shift(),n);break}else if(a+n>e){r.set(o.subarray(0,e-n),n),this.#e[0]=o.subarray(e-n);break}else r.set(this.#e.shift(),n),n+=o.length}return this.#t-=e,r}parseCloseBody(e){xft(e.length!==1);let r;if(e.length>=2&&(r=e.readUInt16BE(0)),r!==void 0&&!Tft(r))return{code:1002,reason:"Invalid status code",error:!0};let n=e.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=wft(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(e){let{opcode:r,payloadLength:n}=this.#r;if(r===zb.CLOSE){if(n===1)return Au(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(e),this.#r.closeInfo.error){let{code:o,reason:a}=this.#r.closeInfo;return FTe(this.ws,o,a,a.length),Au(this.ws,a),!1}if(this.ws[RTe]!==BTe.SENT){let o=STe;this.#r.closeInfo.code&&(o=Buffer.allocUnsafe(2),o.writeUInt16BE(this.#r.closeInfo.code,0));let a=new PTe(o);this.ws[kTe].socket.write(a.createFrame(zb.CLOSE),c=>{c||(this.ws[RTe]=BTe.SENT)})}return this.ws[bft]=vft.CLOSING,this.ws[DTe]=!0,!1}else if(r===zb.PING){if(!this.ws[DTe]){let o=new PTe(e);this.ws[kTe].socket.write(o.createFrame(zb.PONG)),gF.ping.hasSubscribers&&gF.ping.publish({payload:e})}}else r===zb.PONG&&gF.pong.hasSubscribers&&gF.pong.publish({payload:e});return!0}get closingInfo(){return this.#r.closeInfo}};LTe.exports={ByteParser:fX}});var GTe=q((Jjr,qTe)=>{"use strict";f();var{WebsocketFrameSend:Rft}=dF(),{opcodes:OTe,sendHints:jb}=UE(),kft=vK(),UTe=Buffer[Symbol.species],dX=class{static{s(this,"SendQueue")}#e=new kft;#t=!1;#i;constructor(e){this.#i=e}add(e,r,n){if(n!==jb.blob){let a=HTe(e,n);if(!this.#t)this.#i.write(a,r);else{let c={promise:null,callback:r,frame:a};this.#e.push(c)}return}let o={promise:e.arrayBuffer().then(a=>{o.promise=null,o.frame=HTe(a,n)}),callback:r,frame:null};this.#e.push(o),this.#t||this.#n()}async#n(){this.#t=!0;let e=this.#e;for(;!e.isEmpty();){let r=e.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function HTe(t,e){return new Rft(Dft(t,e)).createFrame(e===jb.string?OTe.TEXT:OTe.BINARY)}s(HTe,"createFrame");function Dft(t,e){switch(e){case jb.string:return Buffer.from(t);case jb.arrayBuffer:case jb.blob:return new UTe(t);case jb.typedArray:return new UTe(t.buffer,t.byteOffset,t.byteLength)}}s(Dft,"toBuffer");qTe.exports={SendQueue:dX}});var XTe=q((eKr,JTe)=>{"use strict";f();var{webidl:Br}=Na(),{URLSerializer:Nft}=pc(),{environmentSettingsObject:VTe}=sl(),{staticPropertyDescriptors:y1,states:wS,sentCloseFrameState:Qft,sendHints:yF}=UE(),{kWebSocketURL:WTe,kReadyState:hX,kController:Pft,kBinaryType:CF,kResponse:$Te,kSentClose:Fft,kByteParser:Lft}=ES(),{isConnecting:Mft,isEstablished:Oft,isClosing:Uft,isValidSubprotocol:Hft,fireEvent:YTe}=vS(),{establishWebSocketConnection:qft,closeWebSocketConnection:zTe}=cX(),{ByteParser:Gft}=MTe(),{kEnumerableProperty:pu,isBlobLike:jTe}=hn(),{getGlobalDispatcher:Vft}=NP(),{types:KTe}=require("node:util"),{ErrorEvent:Wft,CloseEvent:$ft}=Wb(),{SendQueue:Yft}=GTe(),hl=class t extends EventTarget{static{s(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(e,r=[]){super(),Br.util.markAsUncloneable(this);let n="WebSocket constructor";Br.argumentLengthCheck(arguments,1,n);let o=Br.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");e=Br.converters.USVString(e,n,"url"),r=o.protocols;let a=VTe.settingsObject.baseUrl,c;try{c=new URL(e,a)}catch(u){throw new DOMException(u,"SyntaxError")}if(c.protocol==="http:"?c.protocol="ws:":c.protocol==="https:"&&(c.protocol="wss:"),c.protocol!=="ws:"&&c.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${c.protocol}`,"SyntaxError");if(c.hash||c.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(u=>u.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(u=>Hft(u)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[WTe]=new URL(c.href);let l=VTe.settingsObject;this[Pft]=qft(c,r,l,this,(u,d)=>this.#o(u,d),o),this[hX]=t.CONNECTING,this[Fft]=Qft.NOT_SENT,this[CF]="blob"}close(e=void 0,r=void 0){Br.brandCheck(this,t);let n="WebSocket.close";if(e!==void 0&&(e=Br.converters["unsigned short"](e,n,"code",{clamp:!0})),r!==void 0&&(r=Br.converters.USVString(r,n,"reason")),e!==void 0&&e!==1e3&&(e<3e3||e>4999))throw new DOMException("invalid code","InvalidAccessError");let o=0;if(r!==void 0&&(o=Buffer.byteLength(r),o>123))throw new DOMException(`Reason must be less than 123 bytes; received ${o}`,"SyntaxError");zTe(this,e,r,o)}send(e){Br.brandCheck(this,t);let r="WebSocket.send";if(Br.argumentLengthCheck(arguments,1,r),e=Br.converters.WebSocketSendData(e,r,"data"),Mft(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Oft(this)||Uft(this)))if(typeof e=="string"){let n=Buffer.byteLength(e);this.#t+=n,this.#r.add(e,()=>{this.#t-=n},yF.string)}else KTe.isArrayBuffer(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},yF.arrayBuffer)):ArrayBuffer.isView(e)?(this.#t+=e.byteLength,this.#r.add(e,()=>{this.#t-=e.byteLength},yF.typedArray)):jTe(e)&&(this.#t+=e.size,this.#r.add(e,()=>{this.#t-=e.size},yF.blob))}get readyState(){return Br.brandCheck(this,t),this[hX]}get bufferedAmount(){return Br.brandCheck(this,t),this.#t}get url(){return Br.brandCheck(this,t),Nft(this[WTe])}get extensions(){return Br.brandCheck(this,t),this.#n}get protocol(){return Br.brandCheck(this,t),this.#i}get onopen(){return Br.brandCheck(this,t),this.#e.open}set onopen(e){Br.brandCheck(this,t),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onerror(){return Br.brandCheck(this,t),this.#e.error}set onerror(e){Br.brandCheck(this,t),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}get onclose(){return Br.brandCheck(this,t),this.#e.close}set onclose(e){Br.brandCheck(this,t),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof e=="function"?(this.#e.close=e,this.addEventListener("close",e)):this.#e.close=null}get onmessage(){return Br.brandCheck(this,t),this.#e.message}set onmessage(e){Br.brandCheck(this,t),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get binaryType(){return Br.brandCheck(this,t),this[CF]}set binaryType(e){Br.brandCheck(this,t),e!=="blob"&&e!=="arraybuffer"?this[CF]="blob":this[CF]=e}#o(e,r){this[$Te]=e;let n=new Gft(this,r);n.on("drain",zft),n.on("error",jft.bind(this)),e.socket.ws=this,this[Lft]=n,this.#r=new Yft(e.socket),this[hX]=wS.OPEN;let o=e.headersList.get("sec-websocket-extensions");o!==null&&(this.#n=o);let a=e.headersList.get("sec-websocket-protocol");a!==null&&(this.#i=a),YTe("open",this)}};hl.CONNECTING=hl.prototype.CONNECTING=wS.CONNECTING;hl.OPEN=hl.prototype.OPEN=wS.OPEN;hl.CLOSING=hl.prototype.CLOSING=wS.CLOSING;hl.CLOSED=hl.prototype.CLOSED=wS.CLOSED;Object.defineProperties(hl.prototype,{CONNECTING:y1,OPEN:y1,CLOSING:y1,CLOSED:y1,url:pu,readyState:pu,bufferedAmount:pu,onopen:pu,onerror:pu,onclose:pu,close:pu,onmessage:pu,binaryType:pu,send:pu,extensions:pu,protocol:pu,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(hl,{CONNECTING:y1,OPEN:y1,CLOSING:y1,CLOSED:y1});Br.converters["sequence<DOMString>"]=Br.sequenceConverter(Br.converters.DOMString);Br.converters["DOMString or sequence<DOMString>"]=function(t,e,r){return Br.util.Type(t)==="Object"&&Symbol.iterator in t?Br.converters["sequence<DOMString>"](t):Br.converters.DOMString(t,e,r)};Br.converters.WebSocketInit=Br.dictionaryConverter([{key:"protocols",converter:Br.converters["DOMString or sequence<DOMString>"],defaultValue:s(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Br.converters.any,defaultValue:s(()=>Vft(),"defaultValue")},{key:"headers",converter:Br.nullableConverter(Br.converters.HeadersInit)}]);Br.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(t){return Br.util.Type(t)==="Object"&&!(Symbol.iterator in t)?Br.converters.WebSocketInit(t):{protocols:Br.converters["DOMString or sequence<DOMString>"](t)}};Br.converters.WebSocketSendData=function(t){if(Br.util.Type(t)==="Object"){if(jTe(t))return Br.converters.Blob(t,{strict:!1});if(ArrayBuffer.isView(t)||KTe.isArrayBuffer(t))return Br.converters.BufferSource(t)}return Br.converters.USVString(t)};function zft(){this.ws[$Te].socket.resume()}s(zft,"onParserDrain");function jft(t){let e,r;t instanceof $ft?(e=t.reason,r=t.code):e=t.message,YTe("error",this,()=>new Wft("error",{error:t,message:e})),zTe(this,r)}s(jft,"onParserError");JTe.exports={WebSocket:hl}});var AX=q((nKr,ZTe)=>{"use strict";f();function Kft(t){return t.indexOf("\0")===-1}s(Kft,"isValidLastEventId");function Jft(t){if(t.length===0)return!1;for(let e=0;e<t.length;e++)if(t.charCodeAt(e)<48||t.charCodeAt(e)>57)return!1;return!0}s(Jft,"isASCIINumber");function Xft(t){return new Promise(e=>{setTimeout(e,t).unref()})}s(Xft,"delay");ZTe.exports={isValidLastEventId:Kft,isASCIINumber:Jft,delay:Xft}});var n_e=q((sKr,r_e)=>{"use strict";f();var{Transform:Zft}=require("node:stream"),{isASCIINumber:e_e,isValidLastEventId:t_e}=AX(),rp=[239,187,191],pX=10,EF=13,edt=58,tdt=32,mX=class extends Zft{static{s(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(e={}){e.readableObjectMode=!0,super(e),this.state=e.eventSourceSettings||{},e.push&&(this.push=e.push)}_transform(e,r,n){if(e.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,e]):this.buffer=e,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===rp[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===rp[0]&&this.buffer[1]===rp[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===rp[0]&&this.buffer[1]===rp[1]&&this.buffer[2]===rp[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===rp[0]&&this.buffer[1]===rp[1]&&this.buffer[2]===rp[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===pX){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===pX||this.buffer[this.pos]===EF){this.buffer[this.pos]===EF&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===pX||this.buffer[this.pos]===EF){this.buffer[this.pos]===EF&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(e,r){if(e.length===0)return;let n=e.indexOf(edt);if(n===0)return;let o="",a="";if(n!==-1){o=e.subarray(0,n).toString("utf8");let c=n+1;e[c]===tdt&&++c,a=e.subarray(c).toString("utf8")}else o=e.toString("utf8"),a="";switch(o){case"data":r[o]===void 0?r[o]=a:r[o]+=`
${a}`;break;case"retry":e_e(a)&&(r[o]=a);break;case"id":t_e(a)&&(r[o]=a);break;case"event":a.length>0&&(r[o]=a);break}}processEvent(e){e.retry&&e_e(e.retry)&&(this.state.reconnectionTime=parseInt(e.retry,10)),e.id&&t_e(e.id)&&(this.state.lastEventId=e.id),e.data!==void 0&&this.push({type:e.event||"message",options:{data:e.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};r_e.exports={EventSourceStream:mX}});var f_e=q((lKr,u_e)=>{"use strict";f();var{pipeline:rdt}=require("node:stream"),{fetching:ndt}=mS(),{makeRequest:idt}=Ob(),{webidl:np}=Na(),{EventSourceStream:odt}=n_e(),{parseMIMEType:sdt}=pc(),{createFastMessageEvent:adt}=Wb(),{isNetworkError:i_e}=AS(),{delay:cdt}=AX(),{kEnumerableProperty:HE}=hn(),{environmentSettingsObject:o_e}=sl(),s_e=!1,a_e=3e3,SS=0,c_e=1,BS=2,ldt="anonymous",udt="use-credentials",Kb=class t extends EventTarget{static{s(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=SS;#r=null;#o=null;#s;#a;constructor(e,r={}){super(),np.util.markAsUncloneable(this);let n="EventSource constructor";np.argumentLengthCheck(arguments,1,n),s_e||(s_e=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),e=np.converters.USVString(e,n,"url"),r=np.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:a_e};let o=o_e,a;try{a=new URL(e,o.settingsObject.baseUrl),this.#a.origin=a.origin}catch(u){throw new DOMException(u,"SyntaxError")}this.#t=a.href;let c=ldt;r.withCredentials&&(c=udt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:c==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=o_e.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=idt(l),this.#c()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#c(){if(this.#n===BS)return;this.#n=SS;let e={request:this.#r,dispatcher:this.#s},r=s(n=>{i_e(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#l()},"processEventSourceEndOfBody");e.processResponseEndOfBody=r,e.processResponse=n=>{if(i_e(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#l();return}let o=n.headersList.get("content-type",!0),a=o!==null?sdt(o):"failure",c=a!=="failure"&&a.essence==="text/event-stream";if(n.status!==200||c===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=c_e,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new odt({eventSourceSettings:this.#a,push:s(u=>{this.dispatchEvent(adt(u.type,u.options))},"push")});rdt(n.body.stream,l,u=>{u?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=ndt(e)}async#l(){this.#n!==BS&&(this.#n=SS,this.dispatchEvent(new Event("error")),await cdt(this.#a.reconnectionTime),this.#n===SS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#c()))}close(){np.brandCheck(this,t),this.#n!==BS&&(this.#n=BS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(e){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof e=="function"?(this.#e.open=e,this.addEventListener("open",e)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(e){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof e=="function"?(this.#e.message=e,this.addEventListener("message",e)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(e){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof e=="function"?(this.#e.error=e,this.addEventListener("error",e)):this.#e.error=null}},l_e={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:SS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:c_e,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:BS,writable:!1}};Object.defineProperties(Kb,l_e);Object.defineProperties(Kb.prototype,l_e);Object.defineProperties(Kb.prototype,{close:HE,onerror:HE,onmessage:HE,onopen:HE,readyState:HE,url:HE,withCredentials:HE});np.converters.EventSourceInitDict=np.dictionaryConverter([{key:"withCredentials",converter:np.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"dispatcher",converter:np.converters.any}]);u_e.exports={EventSource:Kb,defaultReconnectionTime:a_e}});var p_e=q((dKr,Er)=>{"use strict";f();var fdt=Z3(),d_e=k3(),ddt=_b(),hdt=Cxe(),Adt=wb(),pdt=HK(),mdt=Fxe(),gdt=qxe(),h_e=ui(),xF=hn(),{InvalidArgumentError:IF}=h_e,Jb=Sve(),ydt=N3(),Cdt=xJ(),Edt=lbe(),Idt=TJ(),xdt=lJ(),vdt=vP(),{getGlobalDispatcher:A_e,setGlobalDispatcher:bdt}=NP(),Tdt=QP(),_dt=fP(),wdt=dP();Object.assign(d_e.prototype,Jb);Er.exports.Dispatcher=d_e;Er.exports.Client=fdt;Er.exports.Pool=ddt;Er.exports.BalancedPool=hdt;Er.exports.Agent=Adt;Er.exports.ProxyAgent=pdt;Er.exports.EnvHttpProxyAgent=mdt;Er.exports.RetryAgent=gdt;Er.exports.RetryHandler=vdt;Er.exports.DecoratorHandler=Tdt;Er.exports.RedirectHandler=_dt;Er.exports.createRedirectInterceptor=wdt;Er.exports.interceptors={redirect:mbe(),retry:ybe(),dump:Ebe(),dns:vbe()};Er.exports.buildConnector=ydt;Er.exports.errors=h_e;Er.exports.util={parseHeaders:xF.parseHeaders,headerNameToString:xF.headerNameToString};function RS(t){return(e,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!e||typeof e!="string"&&typeof e!="object"&&!(e instanceof URL))throw new IF("invalid url");if(r!=null&&typeof r!="object")throw new IF("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new IF("invalid opts.path");let c=r.path;r.path.startsWith("/")||(c=`/${c}`),e=new URL(xF.parseOrigin(e).origin+c)}else r||(r=typeof e=="object"?e:{}),e=xF.parseURL(e);let{agent:o,dispatcher:a=A_e()}=r;if(o)throw new IF("unsupported opts.agent. Did you mean opts.client?");return t.call(a,{...r,origin:e.origin,path:e.search?`${e.pathname}${e.search}`:e.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}s(RS,"makeDispatcher");Er.exports.setGlobalDispatcher=bdt;Er.exports.getGlobalDispatcher=A_e;var Sdt=mS().fetch;Er.exports.fetch=s(async function(e,r=void 0){try{return await Sdt(e,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Er.exports.Headers=QE().Headers;Er.exports.Response=AS().Response;Er.exports.Request=Ob().Request;Er.exports.FormData=U3().FormData;Er.exports.File=globalThis.File??require("node:buffer").File;Er.exports.FileReader=L5e().FileReader;var{setGlobalOrigin:Bdt,getGlobalOrigin:Rdt}=qj();Er.exports.setGlobalOrigin=Bdt;Er.exports.getGlobalOrigin=Rdt;var{CacheStorage:kdt}=$5e(),{kConstruct:Ddt}=tF();Er.exports.caches=new kdt(Ddt);var{deleteCookie:Ndt,getCookies:Qdt,getSetCookies:Pdt,setCookie:Fdt}=iTe();Er.exports.deleteCookie=Ndt;Er.exports.getCookies=Qdt;Er.exports.getSetCookies=Pdt;Er.exports.setCookie=Fdt;var{parseMIMEType:Ldt,serializeAMimeType:Mdt}=pc();Er.exports.parseMIMEType=Ldt;Er.exports.serializeAMimeType=Mdt;var{CloseEvent:Odt,ErrorEvent:Udt,MessageEvent:Hdt}=Wb();Er.exports.WebSocket=XTe().WebSocket;Er.exports.CloseEvent=Odt;Er.exports.ErrorEvent=Udt;Er.exports.MessageEvent=Hdt;Er.exports.request=RS(Jb.request);Er.exports.stream=RS(Jb.stream);Er.exports.pipeline=RS(Jb.pipeline);Er.exports.connect=RS(Jb.connect);Er.exports.upgrade=RS(Jb.upgrade);Er.exports.MockClient=Cdt;Er.exports.MockPool=Idt;Er.exports.MockAgent=Edt;Er.exports.mockErrors=xdt;var{EventSource:qdt}=f_e();Er.exports.EventSource=qdt});var rn=q((pKr,m_e)=>{f();m_e.exports={options:{usePureJavaScript:!1}}});var C_e=q((gKr,y_e)=>{f();var gX={};y_e.exports=gX;var g_e={};gX.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Gdt(t,e);else{var o=0,a=e.length,c=e.charAt(0),l=[0];for(o=0;o<t.length;++o){for(var u=0,d=t[o];u<l.length;++u)d+=l[u]<<8,l[u]=d%a,d=d/a|0;for(;d>0;)l.push(d%a),d=d/a|0}for(o=0;t[o]===0&&o<t.length-1;++o)n+=c;for(o=l.length-1;o>=0;--o)n+=e[l[o]]}if(r){var h=new RegExp(".{1,"+r+"}","g");n=n.match(h).join(`\r
`)}return n};gX.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=g_e[e];if(!r){r=g_e[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var o=e.length,a=e.charAt(0),c=[0],n=0;n<t.length;n++){var l=r[t.charCodeAt(n)];if(l===void 0)return;for(var u=0,d=l;u<c.length;++u)d+=c[u]*o,c[u]=d&255,d>>=8;for(;d>0;)c.push(d&255),d>>=8}for(var h=0;t[h]===a&&h<t.length-1;++h)c.push(0);return typeof Buffer<"u"?Buffer.from(c.reverse()):new Uint8Array(c.reverse())};function Gdt(t,e){var r=0,n=e.length,o=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var c=0,l=t.at(r);c<a.length;++c)l+=a[c]<<8,a[c]=l%n,l=l/n|0;for(;l>0;)a.push(l%n),l=l/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=o;for(r=a.length-1;r>=0;--r)u+=e[a[r]];return u}s(Gdt,"_encodeWithByteBuffer")});var ni=q((EKr,v_e)=>{f();var E_e=rn(),I_e=C_e(),ve=v_e.exports=E_e.util=E_e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ve.nextTick=process.nextTick,typeof setImmediate=="function"?ve.setImmediate=setImmediate:ve.setImmediate=ve.nextTick;return}if(typeof setImmediate=="function"){ve.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ve.nextTick=function(l){return setImmediate(l)};return}if(ve.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var d=e.slice();e.length=0,d.forEach(function(h){h()})}};var c=l;s(l,"handler");var t="forge.setImmediate",e=[];ve.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,o=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(d){d()})}).observe(o,{attributes:!0});var a=ve.setImmediate;ve.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),a(u)):(e.push(u),e.length===1&&o.setAttribute("a",n=!n))}}ve.nextTick=ve.setImmediate})();ve.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ve.globalScope=function(){return ve.isNodejs?global:typeof self>"u"?window:self}();ve.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ve.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ve.isArrayBufferView=function(t){return t&&ve.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function kS(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}s(kS,"_checkBitsParam");ve.ByteBuffer=yX;function yX(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ve.isArrayBuffer(t)||ve.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof yX||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}s(yX,"ByteStringBuffer");ve.ByteStringBuffer=yX;var Vdt=4096;ve.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Vdt&&(this.data.substr(0,1),this._constructedStringLength=0)};ve.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ve.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ve.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ve.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ve.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ve.encodeUtf8(t))};ve.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ve.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ve.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ve.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ve.ByteStringBuffer.prototype.putInt=function(t,e){kS(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ve.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ve.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ve.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ve.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ve.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ve.ByteStringBuffer.prototype.getInt=function(t){kS(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ve.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ve.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ve.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ve.ByteStringBuffer.prototype.copy=function(){var t=ve.createBuffer(this.data);return t.read=this.read,t};ve.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ve.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ve.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ve.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.ByteStringBuffer.prototype.toString=function(){return ve.decodeUtf8(this.bytes())};function Wdt(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ve.isArrayBuffer(t),n=ve.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}s(Wdt,"DataBuffer");ve.DataBuffer=Wdt;ve.DataBuffer.prototype.length=function(){return this.write-this.read};ve.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ve.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ve.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ve.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ve.DataBuffer.prototype.putBytes=function(t,e){if(ve.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var o=new Uint8Array(this.data.buffer,this.write);return o.set(r),this.write+=n,this}if(ve.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var o=new Uint8Array(this.data.buffer);return o.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ve.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ve.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var o=new Uint8Array(t.data.byteLength,this.write);return o.set(r),this.write+=r.byteLength,this}if(t instanceof ve.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=ve.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=ve.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=ve.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ve.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ve.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ve.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ve.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ve.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ve.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ve.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ve.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ve.DataBuffer.prototype.putInt=function(t,e){kS(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ve.DataBuffer.prototype.putSignedInt=function(t,e){return kS(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ve.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ve.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ve.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ve.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ve.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ve.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ve.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ve.DataBuffer.prototype.getInt=function(t){kS(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ve.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ve.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ve.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ve.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ve.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ve.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ve.DataBuffer.prototype.copy=function(){return new ve.DataBuffer(this)};ve.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ve.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ve.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ve.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ve.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ve.binary.raw.encode(e);if(t==="hex")return ve.binary.hex.encode(e);if(t==="base64")return ve.binary.base64.encode(e);if(t==="utf8")return ve.text.utf8.decode(e);if(t==="utf16")return ve.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ve.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ve.encodeUtf8(t)),new ve.ByteBuffer(t)};ve.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ve.xorBytes=function(t,e,r){for(var n="",o="",a="",c=0,l=0;r>0;--r,++c)o=t.charCodeAt(c)^e.charCodeAt(c),l>=10&&(n+=a,a="",l=0),a+=String.fromCharCode(o),++l;return n+=a,n};ve.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ve.bytesToHex=function(t){return ve.createBuffer(t).toHex()};ve.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var C1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E1=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],x_e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ve.encode64=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.length;)o=t.charCodeAt(l++),a=t.charCodeAt(l++),c=t.charCodeAt(l++),r+=C1.charAt(o>>2),r+=C1.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=C1.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":C1.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,o,a,c=0;c<t.length;)r=E1[t.charCodeAt(c++)-43],n=E1[t.charCodeAt(c++)-43],o=E1[t.charCodeAt(c++)-43],a=E1[t.charCodeAt(c++)-43],e+=String.fromCharCode(r<<2|n>>4),o!==64&&(e+=String.fromCharCode((n&15)<<4|o>>2),a!==64&&(e+=String.fromCharCode((o&3)<<6|a)));return e};ve.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ve.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ve.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:I_e.encode,decode:I_e.decode}};ve.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ve.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ve.binary.hex.encode=ve.bytesToHex;ve.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var o=0,a=r;for(t.length&1&&(o=1,n[a++]=parseInt(t[0],16));o<t.length;o+=2)n[a++]=parseInt(t.substr(o,2),16);return e?a-r:n};ve.binary.base64.encode=function(t,e){for(var r="",n="",o,a,c,l=0;l<t.byteLength;)o=t[l++],a=t[l++],c=t[l++],r+=C1.charAt(o>>2),r+=C1.charAt((o&3)<<4|a>>4),isNaN(a)?r+="==":(r+=C1.charAt((a&15)<<2|c>>6),r+=isNaN(c)?"=":C1.charAt(c&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ve.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var o,a,c,l,u=0,d=r;u<t.length;)o=E1[t.charCodeAt(u++)-43],a=E1[t.charCodeAt(u++)-43],c=E1[t.charCodeAt(u++)-43],l=E1[t.charCodeAt(u++)-43],n[d++]=o<<2|a>>4,c!==64&&(n[d++]=(a&15)<<4|c>>2,l!==64&&(n[d++]=(c&3)<<6|l));return e?d-r:n.subarray(0,d)};ve.binary.base58.encode=function(t,e){return ve.binary.baseN.encode(t,x_e,e)};ve.binary.base58.decode=function(t,e){return ve.binary.baseN.decode(t,x_e,e)};ve.text={utf8:{},utf16:{}};ve.text.utf8.encode=function(t,e,r){t=ve.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var o=r,a=0;a<t.length;++a)n[o++]=t.charCodeAt(a);return e?o-r:n};ve.text.utf8.decode=function(t){return ve.decodeUtf8(String.fromCharCode.apply(null,t))};ve.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var o=new Uint16Array(n.buffer);r=r||0;for(var a=r,c=r,l=0;l<t.length;++l)o[c++]=t.charCodeAt(l),a+=2;return e?a-r:n};ve.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ve.deflate=function(t,e,r){if(e=ve.decode64(t.deflate(ve.encode64(e)).rval),r){var n=2,o=e.charCodeAt(1);o&32&&(n=6),e=e.substring(n,e.length-4)}return e};ve.inflate=function(t,e,r){var n=t.inflate(ve.encode64(e)).rval;return n===null?null:ve.decode64(n)};var CX=s(function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ve.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var o=new Error(n.error.message);throw o.id=n.error.id,o.name=n.error.name,o}},"_setStorageObject"),EX=s(function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ve.decode64(r))),r},"_getStorageObject"),$dt=s(function(t,e,r,n){var o=EX(t,e);o===null&&(o={}),o[r]=n,CX(t,e,o)},"_setItem"),Ydt=s(function(t,e,r){var n=EX(t,e);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),zdt=s(function(t,e,r){var n=EX(t,e);if(n!==null&&r in n){delete n[r];var o=!0;for(var a in n){o=!1;break}o&&(n=null),CX(t,e,n)}},"_removeItem"),jdt=s(function(t,e){CX(t,e,null)},"_clearItems"),vF=s(function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var o,a=!1,c=null;for(var l in r){o=r[l];try{if(o==="flash"||o==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=o==="flash"}(o==="web"||o==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(u){c=u}if(a)break}if(!a)throw c;return n},"_callStorageFunction");ve.setItem=function(t,e,r,n,o){vF($dt,arguments,o)};ve.getItem=function(t,e,r,n){return vF(Ydt,arguments,n)};ve.removeItem=function(t,e,r,n){vF(zdt,arguments,n)};ve.clearItems=function(t,e,r){vF(jdt,arguments,r)};ve.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ve.format=function(t){for(var e=/%./g,r,n,o=0,a=[],c=0;r=e.exec(t);){n=t.substring(c,e.lastIndex-2),n.length>0&&a.push(n),c=e.lastIndex;var l=r[0][1];switch(l){case"s":case"o":o<arguments.length?a.push(arguments[o+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+l+"?>")}}return a.push(t.substring(c)),a.join("")};ve.formatNumber=function(t,e,r,n){var o=t,a=isNaN(e=Math.abs(e))?2:e,c=r===void 0?",":r,l=n===void 0?".":n,u=o<0?"-":"",d=parseInt(o=Math.abs(+o||0).toFixed(a),10)+"",h=d.length>3?d.length%3:0;return u+(h?d.substr(0,h)+l:"")+d.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+l)+(a?c+Math.abs(o-d).toFixed(a).slice(2):"")};ve.formatSize=function(t){return t>=1073741824?t=ve.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ve.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ve.formatNumber(t/1024,0)+" KiB":t=ve.formatNumber(t,0)+" bytes",t};ve.bytesFromIP=function(t){return t.indexOf(".")!==-1?ve.bytesFromIPv4(t):t.indexOf(":")!==-1?ve.bytesFromIPv6(t):null};ve.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ve.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ve.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(c){return c.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ve.createBuffer(),o=0;o<8;++o){if(!t[o]||t[o].length===0){n.fillWithByte(0,r),r=0;continue}var a=ve.hexToBytes(t[o]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};ve.bytesToIP=function(t){return t.length===4?ve.bytesToIPv4(t):t.length===16?ve.bytesToIPv6(t):null};ve.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ve.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,o=0;o<t.length;o+=2){for(var a=ve.bytesToHex(t[o]+t[o+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var c=r[r.length-1],l=e.length;!c||l!==c.end+1?r.push({start:l,end:l}):(c.end=l,c.end-c.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};ve.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ve&&!t.update)return e(null,ve.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ve.cores=navigator.hardwareConcurrency,e(null,ve.cores);if(typeof Worker>"u")return ve.cores=1,e(null,ve.cores);if(typeof Blob>"u")return ve.cores=2,e(null,ve.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(c){for(var l=Date.now(),u=l+4;Date.now()<u;);self.postMessage({st:l,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(c,l,u){if(l===0){var d=Math.floor(c.reduce(function(h,A){return h+A},0)/c.length);return ve.cores=Math.max(1,d),URL.revokeObjectURL(r),e(null,ve.cores)}o(u,function(h,A){c.push(a(u,A)),n(c,l-1,u)})}s(n,"sample");function o(c,l){for(var u=[],d=[],h=0;h<c;++h){var A=new Worker(r);A.addEventListener("message",function(p){if(d.push(p.data),d.length===c){for(var g=0;g<c;++g)u[g].terminate();l(null,d)}}),u.push(A)}for(var h=0;h<c;++h)u[h].postMessage(h)}s(o,"map");function a(c,l){for(var u=[],d=0;d<c;++d)for(var h=l[d],A=u[d]=[],p=0;p<c;++p)if(d!==p){var g=l[p];(h.st>g.st&&h.st<g.et||g.st>h.st&&g.st<h.et)&&A.push(p)}return u.reduce(function(E,v){return Math.max(E,v.length)},0)}s(a,"reduce")}});var bF=q((vKr,b_e)=>{f();var aa=rn();ni();b_e.exports=aa.cipher=aa.cipher||{};aa.cipher.algorithms=aa.cipher.algorithms||{};aa.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=aa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new aa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};aa.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=aa.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new aa.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};aa.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),aa.cipher.algorithms[t]=e};aa.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in aa.cipher.algorithms?aa.cipher.algorithms[t]:null};var IX=aa.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};IX.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=aa.util.createBuffer(),this.output=t.output||aa.util.createBuffer(),this.mode.start(e)};IX.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};IX.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var vX=q((TKr,T_e)=>{f();var ca=rn();ni();ca.cipher=ca.cipher||{};var Cn=T_e.exports=ca.cipher.modes=ca.cipher.modes||{};Cn.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Cn.ecb.prototype.start=function(t){};Cn.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Cn.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Cn.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Cn.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Cn.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Cn.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=TF(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Cn.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Cn.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Cn.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Cn.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Cn.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=ca.util.createBuffer(),this._partialBytes=0};Cn.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=TF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32()^this._outBlock[o],e.putInt32(this._inBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)this._inBlock[o]=t.getInt32(),e.putInt32(this._inBlock[o]^this._outBlock[o]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialBlock[o]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ca.util.createBuffer(),this._partialBytes=0};Cn.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=TF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0)t.read-=this.blockSize;else for(var o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Cn.ofb.prototype.decrypt=Cn.ofb.prototype.encrypt;Cn.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ca.util.createBuffer(),this._partialBytes=0};Cn.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=TF(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Cn.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}_F(this._inBlock)};Cn.ctr.prototype.decrypt=Cn.ctr.prototype.encrypt;Cn.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=ca.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Cn.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=ca.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=ca.util.createBuffer(t.additionalData):r=ca.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=ca.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(xX(n*8)))}this._inBlock=this._j0.slice(0),_F(this._inBlock),this._partialBytes=0,r=ca.util.createBuffer(r),this._aDataLength=xX(r.length()*8);var o=r.length()%this.blockSize;for(o&&r.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Cn.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a<=0||r){if(r){var c=n%this.blockSize;this._cipherLength+=c,this._partialOutput.truncate(this.blockSize-c)}else this._cipherLength+=this.blockSize;for(var o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),_F(this._inBlock)};Cn.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),_F(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^this._hashBlock[o]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Cn.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=ca.util.createBuffer();var n=this._aDataLength.concat(xX(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Cn.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),o=0;o<128;++o){var a=t[o/32|0]&1<<31-o%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Cn.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Cn.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,o=t[n]>>>(7-r%8)*4&15,a=this._m[r][o];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};Cn.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Cn.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,o=16*r,a=new Array(o),c=0;c<o;++c){var l=[0,0,0,0],u=c/n|0,d=(n-1-c%n)*e;l[u]=1<<e-1<<d,a[c]=this.generateSubHashTable(this.multiply(l,t),e)}return a};Cn.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,o=new Array(r);o[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(o[2*a],o[a]=[]),a>>=1;for(a=2;a<n;){for(var c=1;c<a;++c){var l=o[a],u=o[c];o[a+c]=[l[0]^u[0],l[1]^u[1],l[2]^u[2],l[3]^u[3]]}a*=2}for(o[0]=[0,0,0,0],a=n+1;a<r;++a){var d=o[a^n];o[a]=[t[0]^d[0],t[1]^d[1],t[2]^d[2],t[3]^d[3]]}return o};function TF(t,e){if(typeof t=="string"&&(t=ca.util.createBuffer(t)),ca.util.isArray(t)&&t.length>4){var r=t;t=ca.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!ca.util.isArray(t)){for(var o=[],a=e/4,n=0;n<a;++n)o.push(t.getInt32());t=o}return t}s(TF,"transformIV");function _F(t){t[t.length-1]=t[t.length-1]+1&4294967295}s(_F,"inc32");function xX(t){return[t/4294967296|0,t&4294967295]}s(xX,"from64To32")});var I1=q((SKr,B_e)=>{f();var qi=rn();bF();vX();ni();B_e.exports=qi.aes=qi.aes||{};qi.aes.startEncrypting=function(t,e,r,n){var o=wF({key:t,output:r,decrypt:!1,mode:n});return o.start(e),o};qi.aes.createEncryptionCipher=function(t,e){return wF({key:t,output:null,decrypt:!1,mode:e})};qi.aes.startDecrypting=function(t,e,r,n){var o=wF({key:t,output:r,decrypt:!0,mode:n});return o.start(e),o};qi.aes.createDecryptionCipher=function(t,e){return wF({key:t,output:null,decrypt:!0,mode:e})};qi.aes.Algorithm=function(t,e){_X||w_e();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:s(function(n,o){return TX(r._w,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return TX(r._w,n,o,!0)},"decrypt")}}),r._init=!1};qi.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=qi.util.createBuffer(e);else if(qi.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=qi.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!qi.util.isArray(e)){r=e,e=[];var o=r.length();if(o===16||o===24||o===32){o=o>>>2;for(var n=0;n<o;++n)e.push(r.getInt32())}}if(!qi.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,c=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=S_e(e,t.decrypt&&!c),this._init=!0}};qi.aes._expandKey=function(t,e){return _X||w_e(),S_e(t,e)};qi.aes._updateBlock=TX;Zb("AES-ECB",qi.cipher.modes.ecb);Zb("AES-CBC",qi.cipher.modes.cbc);Zb("AES-CFB",qi.cipher.modes.cfb);Zb("AES-OFB",qi.cipher.modes.ofb);Zb("AES-CTR",qi.cipher.modes.ctr);Zb("AES-GCM",qi.cipher.modes.gcm);function Zb(t,e){var r=s(function(){return new qi.aes.Algorithm(t,e)},"factory");qi.cipher.registerAlgorithm(t,r)}s(Zb,"registerAlgorithm");var _X=!1,Xb=4,B0,bX,__e,qE,Qf;function w_e(){_X=!0,__e=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;B0=new Array(256),bX=new Array(256),qE=new Array(4),Qf=new Array(4);for(var e=0;e<4;++e)qE[e]=new Array(256),Qf[e]=new Array(256);for(var r=0,n=0,o,a,c,l,u,d,h,e=0;e<256;++e){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,B0[r]=l,bX[l]=r,u=t[l],o=t[r],a=t[o],c=t[a],d=u<<24^l<<16^l<<8^(l^u),h=(o^a^c)<<24^(r^c)<<16^(r^a^c)<<8^(r^o^c);for(var A=0;A<4;++A)qE[A][r]=d,Qf[A][l]=h,d=d<<24|d>>>8,h=h<<24|h>>>8;r===0?r=n=1:(r=o^t[t[t[o^c]]],n^=t[t[n]])}}s(w_e,"initialize");function S_e(t,e){for(var r=t.slice(0),n,o=1,a=r.length,c=a+6+1,l=Xb*c,u=a;u<l;++u)n=r[u-1],u%a===0?(n=B0[n>>>16&255]<<24^B0[n>>>8&255]<<16^B0[n&255]<<8^B0[n>>>24]^__e[o]<<24,o++):a>6&&u%a===4&&(n=B0[n>>>24]<<24^B0[n>>>16&255]<<16^B0[n>>>8&255]<<8^B0[n&255]),r[u]=r[u-a]^n;if(e){var d,h=Qf[0],A=Qf[1],p=Qf[2],g=Qf[3],E=r.slice(0);l=r.length;for(var u=0,v=l-Xb;u<l;u+=Xb,v-=Xb)if(u===0||u===l-Xb)E[u]=r[v],E[u+1]=r[v+3],E[u+2]=r[v+2],E[u+3]=r[v+1];else for(var w=0;w<Xb;++w)d=r[v+w],E[u+(3&-w)]=h[B0[d>>>24]]^A[B0[d>>>16&255]]^p[B0[d>>>8&255]]^g[B0[d&255]];r=E}return r}s(S_e,"_expandKey");function TX(t,e,r,n){var o=t.length/4-1,a,c,l,u,d;n?(a=Qf[0],c=Qf[1],l=Qf[2],u=Qf[3],d=bX):(a=qE[0],c=qE[1],l=qE[2],u=qE[3],d=B0);var h,A,p,g,E,v,w;h=e[0]^t[0],A=e[n?3:1]^t[1],p=e[2]^t[2],g=e[n?1:3]^t[3];for(var _=3,S=1;S<o;++S)E=a[h>>>24]^c[A>>>16&255]^l[p>>>8&255]^u[g&255]^t[++_],v=a[A>>>24]^c[p>>>16&255]^l[g>>>8&255]^u[h&255]^t[++_],w=a[p>>>24]^c[g>>>16&255]^l[h>>>8&255]^u[A&255]^t[++_],g=a[g>>>24]^c[h>>>16&255]^l[A>>>8&255]^u[p&255]^t[++_],h=E,A=v,p=w;r[0]=d[h>>>24]<<24^d[A>>>16&255]<<16^d[p>>>8&255]<<8^d[g&255]^t[++_],r[n?3:1]=d[A>>>24]<<24^d[p>>>16&255]<<16^d[g>>>8&255]<<8^d[h&255]^t[++_],r[2]=d[p>>>24]<<24^d[g>>>16&255]<<16^d[h>>>8&255]<<8^d[A&255]^t[++_],r[n?1:3]=d[g>>>24]<<24^d[h>>>16&255]<<16^d[A>>>8&255]<<8^d[p&255]^t[++_]}s(TX,"_updateBlock");function wF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=qi.cipher.createDecipher(r,t.key):n=qi.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof qi.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(wF,"_createCipher")});var x1=q((kKr,R_e)=>{f();var DS=rn();DS.pki=DS.pki||{};var wX=R_e.exports=DS.pki.oids=DS.oids=DS.oids||{};function ut(t,e){wX[t]=e,wX[e]=t}s(ut,"_IN");function mi(t,e){wX[t]=e}s(mi,"_I_");ut("1.2.840.113549.1.1.1","rsaEncryption");ut("1.2.840.113549.1.1.4","md5WithRSAEncryption");ut("1.2.840.113549.1.1.5","sha1WithRSAEncryption");ut("1.2.840.113549.1.1.7","RSAES-OAEP");ut("1.2.840.113549.1.1.8","mgf1");ut("1.2.840.113549.1.1.9","pSpecified");ut("1.2.840.113549.1.1.10","RSASSA-PSS");ut("1.2.840.113549.1.1.11","sha256WithRSAEncryption");ut("1.2.840.113549.1.1.12","sha384WithRSAEncryption");ut("1.2.840.113549.1.1.13","sha512WithRSAEncryption");ut("1.3.101.112","EdDSA25519");ut("1.2.840.10040.4.3","dsa-with-sha1");ut("1.3.14.3.2.7","desCBC");ut("1.3.14.3.2.26","sha1");ut("1.3.14.3.2.29","sha1WithRSASignature");ut("2.16.840.1.101.3.4.2.1","sha256");ut("2.16.840.1.101.3.4.2.2","sha384");ut("2.16.840.1.101.3.4.2.3","sha512");ut("2.16.840.1.101.3.4.2.4","sha224");ut("2.16.840.1.101.3.4.2.5","sha512-224");ut("2.16.840.1.101.3.4.2.6","sha512-256");ut("1.2.840.113549.2.2","md2");ut("1.2.840.113549.2.5","md5");ut("1.2.840.113549.1.7.1","data");ut("1.2.840.113549.1.7.2","signedData");ut("1.2.840.113549.1.7.3","envelopedData");ut("1.2.840.113549.1.7.4","signedAndEnvelopedData");ut("1.2.840.113549.1.7.5","digestedData");ut("1.2.840.113549.1.7.6","encryptedData");ut("1.2.840.113549.1.9.1","emailAddress");ut("1.2.840.113549.1.9.2","unstructuredName");ut("1.2.840.113549.1.9.3","contentType");ut("1.2.840.113549.1.9.4","messageDigest");ut("1.2.840.113549.1.9.5","signingTime");ut("1.2.840.113549.1.9.6","counterSignature");ut("1.2.840.113549.1.9.7","challengePassword");ut("1.2.840.113549.1.9.8","unstructuredAddress");ut("1.2.840.113549.1.9.14","extensionRequest");ut("1.2.840.113549.1.9.20","friendlyName");ut("1.2.840.113549.1.9.21","localKeyId");ut("1.2.840.113549.1.9.22.1","x509Certificate");ut("1.2.840.113549.1.12.10.1.1","keyBag");ut("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");ut("1.2.840.113549.1.12.10.1.3","certBag");ut("1.2.840.113549.1.12.10.1.4","crlBag");ut("1.2.840.113549.1.12.10.1.5","secretBag");ut("1.2.840.113549.1.12.10.1.6","safeContentsBag");ut("1.2.840.113549.1.5.13","pkcs5PBES2");ut("1.2.840.113549.1.5.12","pkcs5PBKDF2");ut("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");ut("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");ut("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");ut("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");ut("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");ut("1.2.840.113549.2.7","hmacWithSHA1");ut("1.2.840.113549.2.8","hmacWithSHA224");ut("1.2.840.113549.2.9","hmacWithSHA256");ut("1.2.840.113549.2.10","hmacWithSHA384");ut("1.2.840.113549.2.11","hmacWithSHA512");ut("1.2.840.113549.3.7","des-EDE3-CBC");ut("2.16.840.1.101.3.4.1.2","aes128-CBC");ut("2.16.840.1.101.3.4.1.22","aes192-CBC");ut("2.16.840.1.101.3.4.1.42","aes256-CBC");ut("2.5.4.3","commonName");ut("2.5.4.4","surname");ut("2.5.4.5","serialNumber");ut("2.5.4.6","countryName");ut("2.5.4.7","localityName");ut("2.5.4.8","stateOrProvinceName");ut("2.5.4.9","streetAddress");ut("2.5.4.10","organizationName");ut("2.5.4.11","organizationalUnitName");ut("2.5.4.12","title");ut("2.5.4.13","description");ut("2.5.4.15","businessCategory");ut("2.5.4.17","postalCode");ut("2.5.4.42","givenName");ut("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");ut("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");ut("2.16.840.1.113730.1.1","nsCertType");ut("2.16.840.1.113730.1.13","nsComment");mi("2.5.29.1","authorityKeyIdentifier");mi("2.5.29.2","keyAttributes");mi("2.5.29.3","certificatePolicies");mi("2.5.29.4","keyUsageRestriction");mi("2.5.29.5","policyMapping");mi("2.5.29.6","subtreesConstraint");mi("2.5.29.7","subjectAltName");mi("2.5.29.8","issuerAltName");mi("2.5.29.9","subjectDirectoryAttributes");mi("2.5.29.10","basicConstraints");mi("2.5.29.11","nameConstraints");mi("2.5.29.12","policyConstraints");mi("2.5.29.13","basicConstraints");ut("2.5.29.14","subjectKeyIdentifier");ut("2.5.29.15","keyUsage");mi("2.5.29.16","privateKeyUsagePeriod");ut("2.5.29.17","subjectAltName");ut("2.5.29.18","issuerAltName");ut("2.5.29.19","basicConstraints");mi("2.5.29.20","cRLNumber");mi("2.5.29.21","cRLReason");mi("2.5.29.22","expirationDate");mi("2.5.29.23","instructionCode");mi("2.5.29.24","invalidityDate");mi("2.5.29.25","cRLDistributionPoints");mi("2.5.29.26","issuingDistributionPoint");mi("2.5.29.27","deltaCRLIndicator");mi("2.5.29.28","issuingDistributionPoint");mi("2.5.29.29","certificateIssuer");mi("2.5.29.30","nameConstraints");ut("2.5.29.31","cRLDistributionPoints");ut("2.5.29.32","certificatePolicies");mi("2.5.29.33","policyMappings");mi("2.5.29.34","policyConstraints");ut("2.5.29.35","authorityKeyIdentifier");mi("2.5.29.36","policyConstraints");ut("2.5.29.37","extKeyUsage");mi("2.5.29.46","freshestCRL");mi("2.5.29.54","inhibitAnyPolicy");ut("1.3.6.1.4.1.11129.2.4.2","timestampList");ut("1.3.6.1.5.5.7.1.1","authorityInfoAccess");ut("1.3.6.1.5.5.7.3.1","serverAuth");ut("1.3.6.1.5.5.7.3.2","clientAuth");ut("1.3.6.1.5.5.7.3.3","codeSigning");ut("1.3.6.1.5.5.7.3.4","emailProtection");ut("1.3.6.1.5.5.7.3.8","timeStamping")});var Pf=q((QKr,D_e)=>{f();var ro=rn();ni();x1();var wt=D_e.exports=ro.asn1=ro.asn1||{};wt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};wt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};wt.create=function(t,e,r,n,o){if(ro.util.isArray(n)){for(var a=[],c=0;c<n.length;++c)n[c]!==void 0&&a.push(n[c]);n=a}var l={tagClass:t,type:e,constructed:r,composed:r||ro.util.isArray(n),value:n};return o&&"bitStringContents"in o&&(l.bitStringContents=o.bitStringContents,l.original=wt.copy(l)),l};wt.copy=function(t,e){var r;if(ro.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(wt.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:wt.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};wt.equals=function(t,e,r){if(ro.util.isArray(t)){if(!ro.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!wt.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var o=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&wt.equals(t.value,e.value);return r&&r.includeBitStringContents&&(o=o&&t.bitStringContents===e.bitStringContents),o};wt.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function NS(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}s(NS,"_checkBufferLength");var Kdt=s(function(t,e){var r=t.getByte();if(e--,r!==128){var n,o=r&128;if(!o)n=r;else{var a=r&127;NS(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");wt.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ro.util.createBuffer(t));var r=t.length(),n=SF(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var o=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw o.byteCount=r,o.remaining=t.length(),o}return n};function SF(t,e,r,n){var o;NS(t,e,2);var a=t.getByte();e--;var c=a&192,l=a&31;o=t.length();var u=Kdt(t,e);if(e-=o-t.length(),u!==void 0&&u>e){if(n.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=e,d.requested=u,d}u=e}var h,A,p=(a&32)===32;if(p)if(h=[],u===void 0)for(;;){if(NS(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}o=t.length(),h.push(SF(t,e,r+1,n)),e-=o-t.length()}else for(;u>0;)o=t.length(),h.push(SF(t,u,r+1,n)),e-=o-t.length(),u-=o-t.length();if(h===void 0&&c===wt.Class.UNIVERSAL&&l===wt.Type.BITSTRING&&(A=t.bytes(u)),h===void 0&&n.decodeBitStrings&&c===wt.Class.UNIVERSAL&&l===wt.Type.BITSTRING&&u>1){var g=t.read,E=e,v=0;if(l===wt.Type.BITSTRING&&(NS(t,e,1),v=t.getByte(),e--),v===0)try{o=t.length();var w={strict:!0,decodeBitStrings:!0},_=SF(t,e,r+1,w),S=o-t.length();e-=S,l==wt.Type.BITSTRING&&S++;var D=_.tagClass;S===u&&(D===wt.Class.UNIVERSAL||D===wt.Class.CONTEXT_SPECIFIC)&&(h=[_])}catch{}h===void 0&&(t.read=g,e=E)}if(h===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(l===wt.Type.BMPSTRING)for(h="";u>0;u-=2)NS(t,e,2),h+=String.fromCharCode(t.getInt16()),e-=2;else h=t.getBytes(u),e-=u}var N=A===void 0?null:{bitStringContents:A};return wt.create(c,l,p,h,N)}s(SF,"_fromDer");wt.toDer=function(t){var e=ro.util.createBuffer(),r=t.tagClass|t.type,n=ro.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=wt.equals(t,t.original))),o)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(wt.toDer(t.value[a]))}else if(t.type===wt.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===wt.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)===0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var c=n.length(),l="";do l+=String.fromCharCode(c&255),c=c>>>8;while(c>0);e.putByte(l.length|128);for(var a=l.length-1;a>=0;--a)e.putByte(l.charCodeAt(a))}return e.putBuffer(n),e};wt.oidToDer=function(t){var e=t.split("."),r=ro.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,o,a,c,l=2;l<e.length;++l){n=!0,o=[],a=parseInt(e[l],10);do c=a&127,a=a>>>7,n||(c|=128),o.push(c),n=!1;while(a>0);for(var u=o.length-1;u>=0;--u)r.putByte(o[u])}return r};wt.derToOid=function(t){var e;typeof t=="string"&&(t=ro.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};wt.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,o=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),c=parseInt(t.substr(8,2),10),l=0;if(t.length>11){var u=t.charAt(10),d=10;u!=="+"&&u!=="-"&&(l=parseInt(t.substr(10,2),10),d+=2)}if(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,0),d&&(u=t.charAt(d),u==="+"||u==="-")){var h=parseInt(t.substr(d+1,2),10),A=parseInt(t.substr(d+4,2),10),p=h*60+A;p*=6e4,u==="+"?e.setTime(+e-p):e.setTime(+e+p)}return e};wt.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),c=parseInt(t.substr(10,2),10),l=parseInt(t.substr(12,2),10),u=0,d=0,h=!1;t.charAt(t.length-1)==="Z"&&(h=!0);var A=t.length-5,p=t.charAt(A);if(p==="+"||p==="-"){var g=parseInt(t.substr(A+1,2),10),E=parseInt(t.substr(A+4,2),10);d=g*60+E,d*=6e4,p==="+"&&(d*=-1),h=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),h?(e.setUTCFullYear(r,n,o),e.setUTCHours(a,c,l,u),e.setTime(+e+d)):(e.setFullYear(r,n,o),e.setHours(a,c,l,u)),e};wt.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};wt.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};wt.integerToDer=function(t){var e=ro.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};wt.derToInteger=function(t){typeof t=="string"&&(t=ro.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};wt.validate=function(t,e,r,n){var o=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(o=!0,e.value&&ro.util.isArray(e.value))for(var a=0,c=0;o&&c<e.value.length;++c)o=e.value[c].optional||!1,t.value[a]&&(o=wt.validate(t.value[a],e.value[c],r,n),o?++a:e.value[c].optional&&(o=!0)),!o&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(o&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var l;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return o};var k_e=/[^\\u0000-\\u00ff]/;wt.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var o="",a=0;a<e*r;++a)o+=" ";switch(n+=o+"Tag: ",t.tagClass){case wt.Class.UNIVERSAL:n+="Universal:";break;case wt.Class.APPLICATION:n+="Application:";break;case wt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case wt.Class.PRIVATE:n+="Private:";break}if(t.tagClass===wt.Class.UNIVERSAL)switch(n+=t.type,t.type){case wt.Type.NONE:n+=" (None)";break;case wt.Type.BOOLEAN:n+=" (Boolean)";break;case wt.Type.INTEGER:n+=" (Integer)";break;case wt.Type.BITSTRING:n+=" (Bit string)";break;case wt.Type.OCTETSTRING:n+=" (Octet string)";break;case wt.Type.NULL:n+=" (Null)";break;case wt.Type.OID:n+=" (Object Identifier)";break;case wt.Type.ODESC:n+=" (Object Descriptor)";break;case wt.Type.EXTERNAL:n+=" (External or Instance of)";break;case wt.Type.REAL:n+=" (Real)";break;case wt.Type.ENUMERATED:n+=" (Enumerated)";break;case wt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case wt.Type.UTF8:n+=" (UTF8)";break;case wt.Type.ROID:n+=" (Relative Object Identifier)";break;case wt.Type.SEQUENCE:n+=" (Sequence)";break;case wt.Type.SET:n+=" (Set)";break;case wt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case wt.Type.IA5String:n+=" (IA5String (ASCII))";break;case wt.Type.UTCTIME:n+=" (UTC time)";break;case wt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case wt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=o+"Constructed: "+t.constructed+`
`,t.composed){for(var c=0,l="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(c+=1,l+=wt.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(l+=","));n+=o+"Sub values: "+c+l}else{if(n+=o+"Value: ",t.type===wt.Type.OID){var u=wt.derToOid(t.value);n+=u,ro.pki&&ro.pki.oids&&u in ro.pki.oids&&(n+=" ("+ro.pki.oids[u]+") ")}if(t.type===wt.Type.INTEGER)try{n+=wt.derToInteger(t.value)}catch{n+="0x"+ro.util.bytesToHex(t.value)}else if(t.type===wt.Type.BITSTRING){if(t.value.length>1?n+="0x"+ro.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var d=t.value.charCodeAt(0);d==1?n+=" (1 unused bit shown)":d>1&&(n+=" ("+d+" unused bits shown)")}}else if(t.type===wt.Type.OCTETSTRING)k_e.test(t.value)||(n+="("+t.value+") "),n+="0x"+ro.util.bytesToHex(t.value);else if(t.type===wt.Type.UTF8)try{n+=ro.util.decodeUtf8(t.value)}catch(h){if(h.message==="URI malformed")n+="0x"+ro.util.bytesToHex(t.value)+" (malformed UTF8)";else throw h}else t.type===wt.Type.PRINTABLESTRING||t.type===wt.Type.IA5String?n+=t.value:k_e.test(t.value)?n+="0x"+ro.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var dh=q((LKr,N_e)=>{f();var BF=rn();N_e.exports=BF.md=BF.md||{};BF.md.algorithms=BF.md.algorithms||{}});var e5=q((OKr,Q_e)=>{f();var ip=rn();dh();ni();var Jdt=Q_e.exports=ip.hmac=ip.hmac||{};Jdt.create=function(){var t=null,e=null,r=null,n=null,o={};return o.start=function(a,c){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in ip.md.algorithms)e=ip.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(c===null)c=t;else{if(typeof c=="string")c=ip.util.createBuffer(c);else if(ip.util.isArray(c)){var l=c;c=ip.util.createBuffer();for(var u=0;u<l.length;++u)c.putByte(l[u])}var d=c.length();d>e.blockLength&&(e.start(),e.update(c.bytes()),c=e.digest()),r=ip.util.createBuffer(),n=ip.util.createBuffer(),d=c.length();for(var u=0;u<d;++u){var l=c.at(u);r.putByte(54^l),n.putByte(92^l)}if(d<e.blockLength)for(var l=e.blockLength-d,u=0;u<l;++u)r.putByte(54),n.putByte(92);t=c,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},o.update=function(a){e.update(a)},o.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},o.digest=o.getMac,o}});var kF=q((HKr,M_e)=>{f();var hh=rn();dh();ni();var F_e=M_e.exports=hh.md5=hh.md5||{};hh.md.md5=hh.md.algorithms.md5=F_e;F_e.create=function(){L_e||Xdt();var t=null,e=hh.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=hh.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=hh.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),P_e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=hh.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(SX.substr(0,n.blockLength-c));for(var l,u=0,d=n.fullMessageLength.length-1;d>=0;--d)l=n.fullMessageLength[d]*8+u,u=l/4294967296>>>0,o.putInt32Le(l>>>0);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};P_e(h,r,o);var A=hh.util.createBuffer();return A.putInt32Le(h.h0),A.putInt32Le(h.h1),A.putInt32Le(h.h2),A.putInt32Le(h.h3),A},n};var SX=null,RF=null,QS=null,t5=null,L_e=!1;function Xdt(){SX="\x80",SX+=hh.util.fillString("\0",64),RF=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],QS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],t5=new Array(64);for(var t=0;t<64;++t)t5[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);L_e=!0}s(Xdt,"_init");function P_e(t,e,r){for(var n,o,a,c,l,u,d,h,A=r.length();A>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,h=0;h<16;++h)e[h]=r.getInt32Le(),u=l^a&(c^l),n=o+u+t5[h]+e[h],d=QS[h],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;h<32;++h)u=c^l&(a^c),n=o+u+t5[h]+e[RF[h]],d=QS[h],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;h<48;++h)u=a^c^l,n=o+u+t5[h]+e[RF[h]],d=QS[h],o=l,l=c,c=a,a+=n<<d|n>>>32-d;for(;h<64;++h)u=c^(a|~l),n=o+u+t5[h]+e[RF[h]],d=QS[h],o=l,l=c,c=a,a+=n<<d|n>>>32-d;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,A-=64}}s(P_e,"_update")});var GE=q((VKr,U_e)=>{f();var NF=rn();ni();var O_e=U_e.exports=NF.pem=NF.pem||{};O_e.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=DF(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=DF(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=DF(n)),t.headers)for(var o=0;o<t.headers.length;++o)r+=DF(t.headers[o]);return t.procType&&(r+=`\r
`),r+=NF.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};O_e.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/,a;a=r.exec(t),!!a;){var c=a[1];c==="NEW CERTIFICATE REQUEST"&&(c="CERTIFICATE REQUEST");var l={type:c,procType:null,contentDomain:null,dekInfo:null,headers:[],body:NF.util.decode64(a[3])};if(e.push(l),!!a[2]){for(var u=a[2].split(o),d=0;a&&d<u.length;){for(var h=u[d].replace(/\s+$/,""),A=d+1;A<u.length;++A){var p=u[A];if(!/\s/.test(p[0]))break;h+=p,d=A}if(a=h.match(n),a){for(var g={name:a[1],values:[]},E=a[2].split(","),v=0;v<E.length;++v)g.values.push(Zdt(E[v]));if(l.procType)if(!l.contentDomain&&g.name==="Content-Domain")l.contentDomain=E[0]||"";else if(!l.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:E[0],parameters:E[1]||null}}else l.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:E[0],type:E[1]}}}++d}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function DF(t){for(var e=t.name+": ",r=[],n=s(function(u,d){return" "+d},"insertSpace"),o=0;o<t.values.length;++o)r.push(t.values[o].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,c=-1,o=0;o<e.length;++o,++a)if(a>65&&c!==-1){var l=e[c];l===","?(++c,e=e.substr(0,c)+`\r
 `+e.substr(c)):e=e.substr(0,c)+`\r
`+l+e.substr(c+1),a=o-c-1,c=-1,++o}else(e[o]===" "||e[o]==="	"||e[o]===",")&&(c=o);return e}s(DF,"foldHeader");function Zdt(t){return t.replace(/^\s+/,"")}s(Zdt,"ltrim")});var PS=q((YKr,q_e)=>{f();var po=rn();bF();vX();ni();q_e.exports=po.des=po.des||{};po.des.startEncrypting=function(t,e,r,n){var o=QF({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};po.des.createEncryptionCipher=function(t,e){return QF({key:t,output:null,decrypt:!1,mode:e})};po.des.startDecrypting=function(t,e,r,n){var o=QF({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return o.start(e),o};po.des.createDecryptionCipher=function(t,e){return QF({key:t,output:null,decrypt:!0,mode:e})};po.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:s(function(n,o){return H_e(r._keys,n,o,!1)},"encrypt"),decrypt:s(function(n,o){return H_e(r._keys,n,o,!0)},"decrypt")}}),r._init=!1};po.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=po.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=cht(e),this._init=!0}};Ah("DES-ECB",po.cipher.modes.ecb);Ah("DES-CBC",po.cipher.modes.cbc);Ah("DES-CFB",po.cipher.modes.cfb);Ah("DES-OFB",po.cipher.modes.ofb);Ah("DES-CTR",po.cipher.modes.ctr);Ah("3DES-ECB",po.cipher.modes.ecb);Ah("3DES-CBC",po.cipher.modes.cbc);Ah("3DES-CFB",po.cipher.modes.cfb);Ah("3DES-OFB",po.cipher.modes.ofb);Ah("3DES-CTR",po.cipher.modes.ctr);function Ah(t,e){var r=s(function(){return new po.des.Algorithm(t,e)},"factory");po.cipher.registerAlgorithm(t,r)}s(Ah,"registerAlgorithm");var eht=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],tht=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],rht=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],nht=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],iht=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],oht=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],sht=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],aht=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function cht(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],c=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],d=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],A=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],E=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=t.length()>8?3:1,w=[],_=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,D,N=0;N<v;N++){var P=t.getInt32(),O=t.getInt32();D=(P>>>4^O)&252645135,O^=D,P^=D<<4,D=(O>>>-16^P)&65535,P^=D,O^=D<<-16,D=(P>>>2^O)&858993459,O^=D,P^=D<<2,D=(O>>>-16^P)&65535,P^=D,O^=D<<-16,D=(P>>>1^O)&1431655765,O^=D,P^=D<<1,D=(O>>>8^P)&16711935,P^=D,O^=D<<8,D=(P>>>1^O)&1431655765,O^=D,P^=D<<1,D=P<<8|O>>>20&240,P=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=D;for(var Y=0;Y<_.length;++Y){_[Y]?(P=P<<2|P>>>26,O=O<<2|O>>>26):(P=P<<1|P>>>27,O=O<<1|O>>>27),P&=-15,O&=-15;var ne=e[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|o[P>>>16&15]|a[P>>>12&15]|c[P>>>8&15]|l[P>>>4&15],oe=u[O>>>28]|d[O>>>24&15]|h[O>>>20&15]|A[O>>>16&15]|p[O>>>12&15]|g[O>>>8&15]|E[O>>>4&15];D=(oe>>>16^ne)&65535,w[S++]=ne^D,w[S++]=oe^D<<16}}return w}s(cht,"_createKeys");function H_e(t,e,r,n){var o=t.length===32?3:9,a;o===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var c,l=e[0],u=e[1];c=(l>>>4^u)&252645135,u^=c,l^=c<<4,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,l=l<<1|l>>>31,u=u<<1|u>>>31;for(var d=0;d<o;d+=3){for(var h=a[d+1],A=a[d+2],p=a[d];p!=h;p+=A){var g=u^t[p],E=(u>>>4|u<<28)^t[p+1];c=l,l=u,u=c^(tht[g>>>24&63]|nht[g>>>16&63]|oht[g>>>8&63]|aht[g&63]|eht[E>>>24&63]|rht[E>>>16&63]|iht[E>>>8&63]|sht[E&63])}c=l,l=u,u=c}l=l>>>1|l<<31,u=u>>>1|u<<31,c=(l>>>1^u)&1431655765,u^=c,l^=c<<1,c=(u>>>8^l)&16711935,l^=c,u^=c<<8,c=(u>>>2^l)&858993459,l^=c,u^=c<<2,c=(l>>>16^u)&65535,u^=c,l^=c<<16,c=(l>>>4^u)&252645135,u^=c,l^=c<<4,r[0]=l,r[1]=u}s(H_e,"_updateBlock");function QF(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=po.cipher.createDecipher(r,t.key):n=po.cipher.createCipher(r,t.key);var o=n.start;return n.start=function(a,c){var l=null;c instanceof po.util.ByteBuffer&&(l=c,c={}),c=c||{},c.output=l,c.iv=a,o.call(n,c)},n}s(QF,"_createCipher")});var PF=q((KKr,G_e)=>{f();var R0=rn();e5();dh();ni();var lht=R0.pkcs5=R0.pkcs5||{},op;R0.util.isNodejs&&!R0.options.usePureJavaScript&&(op=require("crypto"));G_e.exports=R0.pbkdf2=lht.pbkdf2=function(t,e,r,n,o,a){if(typeof o=="function"&&(a=o,o=null),R0.util.isNodejs&&!R0.options.usePureJavaScript&&op.pbkdf2&&(o===null||typeof o!="object")&&(op.pbkdf2Sync.length>4||!o||o==="sha1"))return typeof o!="string"&&(o="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?op.pbkdf2Sync.length===4?op.pbkdf2(t,e,r,n,function(D,N){if(D)return a(D);a(null,N.toString("binary"))}):op.pbkdf2(t,e,r,n,o,function(D,N){if(D)return a(D);a(null,N.toString("binary"))}):op.pbkdf2Sync.length===4?op.pbkdf2Sync(t,e,r,n).toString("binary"):op.pbkdf2Sync(t,e,r,n,o).toString("binary");if((typeof o>"u"||o===null)&&(o="sha1"),typeof o=="string"){if(!(o in R0.md.algorithms))throw new Error("Unknown hash algorithm: "+o);o=R0.md[o].create()}var c=o.digestLength;if(n>4294967295*c){var l=new Error("Derived key is too long.");if(a)return a(l);throw l}var u=Math.ceil(n/c),d=n-(u-1)*c,h=R0.hmac.create();h.start(o,t);var A="",p,g,E;if(!a){for(var v=1;v<=u;++v){h.start(null,null),h.update(e),h.update(R0.util.int32ToBytes(v)),p=E=h.digest().getBytes();for(var w=2;w<=r;++w)h.start(null,null),h.update(E),g=h.digest().getBytes(),p=R0.util.xorBytes(p,g,c),E=g;A+=v<u?p:p.substr(0,d)}return A}var v=1,w;function _(){if(v>u)return a(null,A);h.start(null,null),h.update(e),h.update(R0.util.int32ToBytes(v)),p=E=h.digest().getBytes(),w=2,S()}s(_,"outer");function S(){if(w<=r)return h.start(null,null),h.update(E),g=h.digest().getBytes(),p=R0.util.xorBytes(p,g,c),E=g,++w,R0.util.setImmediate(S);A+=v<u?p:p.substr(0,d),++v,_()}s(S,"inner"),_()}});var RX=q((ZKr,z_e)=>{f();var ph=rn();dh();ni();var W_e=z_e.exports=ph.sha256=ph.sha256||{};ph.md.sha256=ph.md.algorithms.sha256=W_e;W_e.create=function(){$_e||uht();var t=null,e=ph.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=ph.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=ph.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),V_e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=ph.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(BX.substr(0,n.blockLength-c));for(var l,u,d=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)l=n.fullMessageLength[h+1]*8,u=l/4294967296>>>0,d+=u,o.putInt32(d>>>0),d=l>>>0;o.putInt32(d);var A={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};V_e(A,r,o);var p=ph.util.createBuffer();return p.putInt32(A.h0),p.putInt32(A.h1),p.putInt32(A.h2),p.putInt32(A.h3),p.putInt32(A.h4),p.putInt32(A.h5),p.putInt32(A.h6),p.putInt32(A.h7),p},n};var BX=null,$_e=!1,Y_e=null;function uht(){BX="\x80",BX+=ph.util.fillString("\0",64),Y_e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],$_e=!0}s(uht,"_init");function V_e(t,e,r){for(var n,o,a,c,l,u,d,h,A,p,g,E,v,w,_,S=r.length();S>=64;){for(d=0;d<16;++d)e[d]=r.getInt32();for(;d<64;++d)n=e[d-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=e[d-15],o=(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,e[d]=n+e[d-7]+o+e[d-16]|0;for(h=t.h0,A=t.h1,p=t.h2,g=t.h3,E=t.h4,v=t.h5,w=t.h6,_=t.h7,d=0;d<64;++d)c=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),l=w^E&(v^w),a=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),u=h&A|p&(h^A),n=_+c+l+Y_e[d]+e[d],o=a+u,_=w,w=v,v=E,E=g+n>>>0,g=p,p=A,A=h,h=n+o>>>0;t.h0=t.h0+h|0,t.h1=t.h1+A|0,t.h2=t.h2+p|0,t.h3=t.h3+g|0,t.h4=t.h4+E|0,t.h5=t.h5+v|0,t.h6=t.h6+w|0,t.h7=t.h7+_|0,S-=64}}s(V_e,"_update")});var kX=q((rJr,j_e)=>{f();var mh=rn();ni();var FF=null;mh.util.isNodejs&&!mh.options.usePureJavaScript&&!process.versions["node-webkit"]&&(FF=require("crypto"));var fht=j_e.exports=mh.prng=mh.prng||{};fht.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),o=0;o<32;++o)n[o]=r.create();e.pools=n,e.pool=0,e.generate=function(d,h){if(!h)return e.generateSync(d);var A=e.plugin.cipher,p=e.plugin.increment,g=e.plugin.formatKey,E=e.plugin.formatSeed,v=mh.util.createBuffer();e.key=null,w();function w(_){if(_)return h(_);if(v.length()>=d)return h(null,v.getBytes(d));if(e.generated>1048575&&(e.key=null),e.key===null)return mh.util.nextTick(function(){a(w)});var S=A(e.key,e.seed);e.generated+=S.length,v.putBytes(S),e.key=g(A(e.key,p(e.seed))),e.seed=E(A(e.key,e.seed)),mh.util.setImmediate(w)}s(w,"generate")},e.generateSync=function(d){var h=e.plugin.cipher,A=e.plugin.increment,p=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var E=mh.util.createBuffer();E.length()<d;){e.generated>1048575&&(e.key=null),e.key===null&&c();var v=h(e.key,e.seed);e.generated+=v.length,E.putBytes(v),e.key=p(h(e.key,A(e.seed))),e.seed=g(h(e.key,e.seed))}return E.getBytes(d)};function a(d){if(e.pools[0].messageLength>=32)return l(),d();var h=32-e.pools[0].messageLength<<5;e.seedFile(h,function(A,p){if(A)return d(A);e.collect(p),l(),d()})}s(a,"_reseed");function c(){if(e.pools[0].messageLength>=32)return l();var d=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(d)),l()}s(c,"_reseedSync");function l(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var d=e.plugin.md.create();d.update(e.keyBytes);for(var h=1,A=0;A<32;++A)e.reseeds%h===0&&(d.update(e.pools[A].digest().getBytes()),e.pools[A].start()),h=h<<1;e.keyBytes=d.digest().getBytes(),d.start(),d.update(e.keyBytes);var p=d.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(p),e.generated=0}s(l,"_seed");function u(d){var h=null,A=mh.util.globalScope,p=A.crypto||A.msCrypto;p&&p.getRandomValues&&(h=s(function(P){return p.getRandomValues(P)},"getRandomValues"));var g=mh.util.createBuffer();if(h)for(;g.length()<d;){var E=Math.max(1,Math.min(d-g.length(),65536)/4),v=new Uint32Array(Math.floor(E));try{h(v);for(var w=0;w<v.length;++w)g.putInt32(v[w])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(g.length()<d)for(var _,S,D,N=Math.floor(Math.random()*65536);g.length()<d;){S=16807*(N&65535),_=16807*(N>>16),S+=(_&32767)<<16,S+=_>>15,S=(S&2147483647)+(S>>31),N=S&4294967295;for(var w=0;w<3;++w)D=N>>>(w<<3),D^=Math.floor(Math.random()*256),g.putByte(D&255)}return g.getBytes(d)}return s(u,"defaultSeedFile"),FF?(e.seedFile=function(d,h){FF.randomBytes(d,function(A,p){if(A)return h(A);h(null,p.toString())})},e.seedFileSync=function(d){return FF.randomBytes(d).toString()}):(e.seedFile=function(d,h){try{h(null,u(d))}catch(A){h(A)}},e.seedFileSync=u),e.collect=function(d){for(var h=d.length,A=0;A<h;++A)e.pools[e.pool].update(d.substr(A,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(d,h){for(var A="",p=0;p<h;p+=8)A+=String.fromCharCode(d>>p&255);e.collect(A)},e.registerWorker=function(d){if(d===self)e.seedFile=function(A,p){function g(E){var v=E.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",g),p(v.forge.prng.err,v.forge.prng.bytes))}s(g,"listener"),self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:A}}})};else{var h=s(function(A){var p=A.data;p.forge&&p.forge.prng&&e.seedFile(p.forge.prng.needed,function(g,E){d.postMessage({forge:{prng:{err:g,bytes:E}}})})},"listener");d.addEventListener("message",h)}},e}});var mu=q((oJr,DX)=>{f();var la=rn();I1();RX();kX();ni();(function(){if(la.random&&la.random.getBytes){DX.exports=la.random;return}(function(t){var e={},r=new Array(4),n=la.util.createBuffer();e.formatKey=function(A){var p=la.util.createBuffer(A);return A=new Array(4),A[0]=p.getInt32(),A[1]=p.getInt32(),A[2]=p.getInt32(),A[3]=p.getInt32(),la.aes._expandKey(A,!1)},e.formatSeed=function(A){var p=la.util.createBuffer(A);return A=new Array(4),A[0]=p.getInt32(),A[1]=p.getInt32(),A[2]=p.getInt32(),A[3]=p.getInt32(),A},e.cipher=function(A,p){return la.aes._updateBlock(A,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(A){return++A[3],A},e.md=la.md.sha256;function o(){var A=la.prng.create(e);return A.getBytes=function(p,g){return A.generate(p,g)},A.getBytesSync=function(p){return A.generate(p)},A}s(o,"spawnPrng");var a=o(),c=null,l=la.util.globalScope,u=l.crypto||l.msCrypto;if(u&&u.getRandomValues&&(c=s(function(A){return u.getRandomValues(A)},"getRandomValues")),la.options.usePureJavaScript||!la.util.isNodejs&&!c){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var d="";for(var h in navigator)try{typeof navigator[h]=="string"&&(d+=navigator[h])}catch{}a.collect(d),d=null}t&&(t().mousemove(function(A){a.collectInt(A.clientX,16),a.collectInt(A.clientY,16)}),t().keypress(function(A){a.collectInt(A.charCode,8)}))}if(!la.random)la.random=a;else for(var h in a)la.random[h]=a[h];la.random.createInstance=o,DX.exports=la.random})(typeof jQuery<"u"?jQuery:null)})()});var QX=q((cJr,X_e)=>{f();var Ic=rn();ni();var NX=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],K_e=[1,2,3,5],dht=s(function(t,e){return t<<e&65535|(t&65535)>>16-e},"rol"),hht=s(function(t,e){return(t&65535)>>e|t<<16-e&65535},"ror");X_e.exports=Ic.rc2=Ic.rc2||{};Ic.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ic.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),o=e,a=Math.ceil(o/8),c=255>>(o&7),l;for(l=n;l<128;l++)r.putByte(NX[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-a,NX[r.at(128-a)&c]),l=127-a;l>=0;l--)r.setAt(l,NX[r.at(l+1)^r.at(l+a)]);return r};var J_e=s(function(t,e,r){var n=!1,o=null,a=null,c=null,l,u,d,h,A=[];for(t=Ic.rc2.expandKey(t,e),d=0;d<64;d++)A.push(t.getInt16Le());r?(l=s(function(E){for(d=0;d<4;d++)E[d]+=A[h]+(E[(d+3)%4]&E[(d+2)%4])+(~E[(d+3)%4]&E[(d+1)%4]),E[d]=dht(E[d],K_e[d]),h++},"mixRound"),u=s(function(E){for(d=0;d<4;d++)E[d]+=A[E[(d+3)%4]&63]},"mashRound")):(l=s(function(E){for(d=3;d>=0;d--)E[d]=hht(E[d],K_e[d]),E[d]-=A[h]+(E[(d+3)%4]&E[(d+2)%4])+(~E[(d+3)%4]&E[(d+1)%4]),h--},"mixRound"),u=s(function(E){for(d=3;d>=0;d--)E[d]-=A[E[(d+3)%4]&63]},"mashRound"));var p=s(function(E){var v=[];for(d=0;d<4;d++){var w=o.getInt16Le();c!==null&&(r?w^=c.getInt16Le():c.putInt16Le(w)),v.push(w&65535)}h=r?0:63;for(var _=0;_<E.length;_++)for(var S=0;S<E[_][0];S++)E[_][1](v);for(d=0;d<4;d++)c!==null&&(r?c.putInt16Le(v[d]):v[d]^=c.getInt16Le()),a.putInt16Le(v[d])},"runPlan"),g=null;return g={start:s(function(E,v){E&&typeof E=="string"&&(E=Ic.util.createBuffer(E)),n=!1,o=Ic.util.createBuffer(),a=v||new Ic.util.createBuffer,c=E,g.output=a},"start"),update:s(function(E){for(n||o.putBuffer(E);o.length()>=8;)p([[5,l],[1,u],[6,l],[1,u],[5,l]])},"update"),finish:s(function(E){var v=!0;if(r)if(E)v=E(8,o,!r);else{var w=o.length()===8?8:8-o.length();o.fillWithByte(w,w)}if(v&&(n=!0,g.update()),!r&&(v=o.length()===0,v))if(E)v=E(8,a,!r);else{var _=a.length(),S=a.at(_-1);S>_?v=!1:a.truncate(S)}return v},"finish")},g},"createCipher");Ic.rc2.startEncrypting=function(t,e,r){var n=Ic.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ic.rc2.createEncryptionCipher=function(t,e){return J_e(t,e,!0)};Ic.rc2.startDecrypting=function(t,e,r){var n=Ic.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ic.rc2.createDecryptionCipher=function(t,e){return J_e(t,e,!1)}});var LS=q((fJr,s4e)=>{f();var PX=rn();s4e.exports=PX.jsbn=PX.jsbn||{};var sp,Aht=0xdeadbeefcafe,Z_e=(Aht&16777215)==15715070;function it(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}s(it,"BigInteger");PX.jsbn.BigInteger=it;function ii(){return new it(null)}s(ii,"nbi");function pht(t,e,r,n,o,a){for(;--a>=0;){var c=e*this.data[t++]+r.data[n]+o;o=Math.floor(c/67108864),r.data[n++]=c&67108863}return o}s(pht,"am1");function mht(t,e,r,n,o,a){for(var c=e&32767,l=e>>15;--a>=0;){var u=this.data[t]&32767,d=this.data[t++]>>15,h=l*u+d*c;u=c*u+((h&32767)<<15)+r.data[n]+(o&1073741823),o=(u>>>30)+(h>>>15)+l*d+(o>>>30),r.data[n++]=u&1073741823}return o}s(mht,"am2");function e4e(t,e,r,n,o,a){for(var c=e&16383,l=e>>14;--a>=0;){var u=this.data[t]&16383,d=this.data[t++]>>14,h=l*u+d*c;u=c*u+((h&16383)<<14)+r.data[n]+o,o=(u>>28)+(h>>14)+l*d,r.data[n++]=u&268435455}return o}s(e4e,"am3");typeof navigator>"u"?(it.prototype.am=e4e,sp=28):Z_e&&navigator.appName=="Microsoft Internet Explorer"?(it.prototype.am=mht,sp=30):Z_e&&navigator.appName!="Netscape"?(it.prototype.am=pht,sp=26):(it.prototype.am=e4e,sp=28);it.prototype.DB=sp;it.prototype.DM=(1<<sp)-1;it.prototype.DV=1<<sp;var FX=52;it.prototype.FV=Math.pow(2,FX);it.prototype.F1=FX-sp;it.prototype.F2=2*sp-FX;var ght="0123456789abcdefghijklmnopqrstuvwxyz",LF=new Array,r5,gu;r5=48;for(gu=0;gu<=9;++gu)LF[r5++]=gu;r5=97;for(gu=10;gu<36;++gu)LF[r5++]=gu;r5=65;for(gu=10;gu<36;++gu)LF[r5++]=gu;function t4e(t){return ght.charAt(t)}s(t4e,"int2char");function r4e(t,e){var r=LF[t.charCodeAt(e)];return r??-1}s(r4e,"intAt");function yht(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}s(yht,"bnpCopyTo");function Cht(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}s(Cht,"bnpFromInt");function v1(t){var e=ii();return e.fromInt(t),e}s(v1,"nbv");function Eht(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,o=!1,a=0;--n>=0;){var c=r==8?t[n]&255:r4e(t,n);if(c<0){t.charAt(n)=="-"&&(o=!0);continue}o=!1,a==0?this.data[this.t++]=c:a+r>this.DB?(this.data[this.t-1]|=(c&(1<<this.DB-a)-1)<<a,this.data[this.t++]=c>>this.DB-a):this.data[this.t-1]|=c<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&it.ZERO.subTo(this,this)}s(Eht,"bnpFromString");function Iht(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}s(Iht,"bnpClamp");function xht(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,o=!1,a="",c=this.t,l=this.DB-c*this.DB%e;if(c-- >0)for(l<this.DB&&(n=this.data[c]>>l)>0&&(o=!0,a=t4e(n));c>=0;)l<e?(n=(this.data[c]&(1<<l)-1)<<e-l,n|=this.data[--c]>>(l+=this.DB-e)):(n=this.data[c]>>(l-=e)&r,l<=0&&(l+=this.DB,--c)),n>0&&(o=!0),o&&(a+=t4e(n));return o?a:"0"}s(xht,"bnToString");function vht(){var t=ii();return it.ZERO.subTo(this,t),t}s(vht,"bnNegate");function bht(){return this.s<0?this.negate():this}s(bht,"bnAbs");function Tht(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}s(Tht,"bnCompareTo");function MF(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}s(MF,"nbits");function _ht(){return this.t<=0?0:this.DB*(this.t-1)+MF(this.data[this.t-1]^this.s&this.DM)}s(_ht,"bnBitLength");function wht(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}s(wht,"bnpDLShiftTo");function Sht(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}s(Sht,"bnpDRShiftTo");function Bht(t,e){var r=t%this.DB,n=this.DB-r,o=(1<<n)-1,a=Math.floor(t/this.DB),c=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)e.data[l+a+1]=this.data[l]>>n|c,c=(this.data[l]&o)<<r;for(l=a-1;l>=0;--l)e.data[l]=0;e.data[a]=c,e.t=this.t+a+1,e.s=this.s,e.clamp()}s(Bht,"bnpLShiftTo");function Rht(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,o=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var c=r+1;c<this.t;++c)e.data[c-r-1]|=(this.data[c]&a)<<o,e.data[c-r]=this.data[c]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<o),e.t=this.t-r,e.clamp()}s(Rht,"bnpRShiftTo");function kht(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}s(kht,"bnpSubTo");function Dht(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e.data[o]=0;for(o=0;o<n.t;++o)e.data[o+r.t]=r.am(0,n.data[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&it.ZERO.subTo(e,e)}s(Dht,"bnpMultiplyTo");function Nht(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}s(Nht,"bnpSquareTo");function Qht(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ii());var a=ii(),c=this.s,l=t.s,u=this.DB-MF(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),o.lShiftTo(u,r)):(n.copyTo(a),o.copyTo(r));var d=a.t,h=a.data[d-1];if(h!=0){var A=h*(1<<this.F1)+(d>1?a.data[d-2]>>this.F2:0),p=this.FV/A,g=(1<<this.F1)/A,E=1<<this.F2,v=r.t,w=v-d,_=e??ii();for(a.dlShiftTo(w,_),r.compareTo(_)>=0&&(r.data[r.t++]=1,r.subTo(_,r)),it.ONE.dlShiftTo(d,_),_.subTo(a,a);a.t<d;)a.data[a.t++]=0;for(;--w>=0;){var S=r.data[--v]==h?this.DM:Math.floor(r.data[v]*p+(r.data[v-1]+E)*g);if((r.data[v]+=a.am(0,S,r,w,0,d))<S)for(a.dlShiftTo(w,_),r.subTo(_,r);r.data[v]<--S;)r.subTo(_,r)}e!=null&&(r.drShiftTo(d,e),c!=l&&it.ZERO.subTo(e,e)),r.t=d,r.clamp(),u>0&&r.rShiftTo(u,r),c<0&&it.ZERO.subTo(r,r)}}}s(Qht,"bnpDivRemTo");function Pht(t){var e=ii();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(it.ZERO)>0&&t.subTo(e,e),e}s(Pht,"bnMod");function VE(t){this.m=t}s(VE,"Classic");function Fht(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}s(Fht,"cConvert");function Lht(t){return t}s(Lht,"cRevert");function Mht(t){t.divRemTo(this.m,null,t)}s(Mht,"cReduce");function Oht(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(Oht,"cMulTo");function Uht(t,e){t.squareTo(e),this.reduce(e)}s(Uht,"cSqrTo");VE.prototype.convert=Fht;VE.prototype.revert=Lht;VE.prototype.reduce=Mht;VE.prototype.mulTo=Oht;VE.prototype.sqrTo=Uht;function Hht(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}s(Hht,"bnpInvDigit");function WE(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}s(WE,"Montgomery");function qht(t){var e=ii();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(it.ZERO)>0&&this.m.subTo(e,e),e}s(qht,"montConvert");function Ght(t){var e=ii();return t.copyTo(e),this.reduce(e),e}s(Ght,"montRevert");function Vht(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}s(Vht,"montReduce");function Wht(t,e){t.squareTo(e),this.reduce(e)}s(Wht,"montSqrTo");function $ht(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s($ht,"montMulTo");WE.prototype.convert=qht;WE.prototype.revert=Ght;WE.prototype.reduce=Vht;WE.prototype.mulTo=$ht;WE.prototype.sqrTo=Wht;function Yht(){return(this.t>0?this.data[0]&1:this.s)==0}s(Yht,"bnpIsEven");function zht(t,e){if(t>4294967295||t<1)return it.ONE;var r=ii(),n=ii(),o=e.convert(this),a=MF(t)-1;for(o.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,o,r);else{var c=r;r=n,n=c}return e.revert(r)}s(zht,"bnpExp");function jht(t,e){var r;return t<256||e.isEven()?r=new VE(e):r=new WE(e),this.exp(t,r)}s(jht,"bnModPowInt");it.prototype.copyTo=yht;it.prototype.fromInt=Cht;it.prototype.fromString=Eht;it.prototype.clamp=Iht;it.prototype.dlShiftTo=wht;it.prototype.drShiftTo=Sht;it.prototype.lShiftTo=Bht;it.prototype.rShiftTo=Rht;it.prototype.subTo=kht;it.prototype.multiplyTo=Dht;it.prototype.squareTo=Nht;it.prototype.divRemTo=Qht;it.prototype.invDigit=Hht;it.prototype.isEven=Yht;it.prototype.exp=zht;it.prototype.toString=xht;it.prototype.negate=vht;it.prototype.abs=bht;it.prototype.compareTo=Tht;it.prototype.bitLength=_ht;it.prototype.mod=Pht;it.prototype.modPowInt=jht;it.ZERO=v1(0);it.ONE=v1(1);function Kht(){var t=ii();return this.copyTo(t),t}s(Kht,"bnClone");function Jht(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(Jht,"bnIntValue");function Xht(){return this.t==0?this.s:this.data[0]<<24>>24}s(Xht,"bnByteValue");function Zht(){return this.t==0?this.s:this.data[0]<<16>>16}s(Zht,"bnShortValue");function eAt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}s(eAt,"bnpChunkSize");function tAt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(tAt,"bnSigNum");function rAt(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=v1(r),o=ii(),a=ii(),c="";for(this.divRemTo(n,o,a);o.signum()>0;)c=(r+a.intValue()).toString(t).substr(1)+c,o.divRemTo(n,o,a);return a.intValue().toString(t)+c}s(rAt,"bnpToRadix");function nAt(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,a=0,c=0,l=0;l<t.length;++l){var u=r4e(t,l);if(u<0){t.charAt(l)=="-"&&this.signum()==0&&(o=!0);continue}c=e*c+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(c,0),a=0,c=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(c,0)),o&&it.ZERO.subTo(this,this)}s(nAt,"bnpFromRadix");function iAt(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(it.ONE.shiftLeft(t-1),LX,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(it.ONE.shiftLeft(t-1),this);else{var n=new Array,o=t&7;n.length=(t>>3)+1,e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}}s(iAt,"bnpFromNumber");function oAt(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,o=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[o++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),o==0&&(this.s&128)!=(n&128)&&++o,(o>0||n!=this.s)&&(e[o++]=n);return e}s(oAt,"bnToByteArray");function sAt(t){return this.compareTo(t)==0}s(sAt,"bnEquals");function aAt(t){return this.compareTo(t)<0?this:t}s(aAt,"bnMin");function cAt(t){return this.compareTo(t)>0?this:t}s(cAt,"bnMax");function lAt(t,e,r){var n,o,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(o=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(o,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}s(lAt,"bnpBitwiseTo");function uAt(t,e){return t&e}s(uAt,"op_and");function fAt(t){var e=ii();return this.bitwiseTo(t,uAt,e),e}s(fAt,"bnAnd");function LX(t,e){return t|e}s(LX,"op_or");function dAt(t){var e=ii();return this.bitwiseTo(t,LX,e),e}s(dAt,"bnOr");function n4e(t,e){return t^e}s(n4e,"op_xor");function hAt(t){var e=ii();return this.bitwiseTo(t,n4e,e),e}s(hAt,"bnXor");function i4e(t,e){return t&~e}s(i4e,"op_andnot");function AAt(t){var e=ii();return this.bitwiseTo(t,i4e,e),e}s(AAt,"bnAndNot");function pAt(){for(var t=ii(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}s(pAt,"bnNot");function mAt(t){var e=ii();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}s(mAt,"bnShiftLeft");function gAt(t){var e=ii();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}s(gAt,"bnShiftRight");function yAt(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}s(yAt,"lbit");function CAt(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+yAt(this.data[t]);return this.s<0?this.t*this.DB:-1}s(CAt,"bnGetLowestSetBit");function EAt(t){for(var e=0;t!=0;)t&=t-1,++e;return e}s(EAt,"cbit");function IAt(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=EAt(this.data[r]^e);return t}s(IAt,"bnBitCount");function xAt(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}s(xAt,"bnTestBit");function vAt(t,e){var r=it.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}s(vAt,"bnpChangeBit");function bAt(t){return this.changeBit(t,LX)}s(bAt,"bnSetBit");function TAt(t){return this.changeBit(t,i4e)}s(TAt,"bnClearBit");function _At(t){return this.changeBit(t,n4e)}s(_At,"bnFlipBit");function wAt(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}s(wAt,"bnpAddTo");function SAt(t){var e=ii();return this.addTo(t,e),e}s(SAt,"bnAdd");function BAt(t){var e=ii();return this.subTo(t,e),e}s(BAt,"bnSubtract");function RAt(t){var e=ii();return this.multiplyTo(t,e),e}s(RAt,"bnMultiply");function kAt(t){var e=ii();return this.divRemTo(t,e,null),e}s(kAt,"bnDivide");function DAt(t){var e=ii();return this.divRemTo(t,null,e),e}s(DAt,"bnRemainder");function NAt(t){var e=ii(),r=ii();return this.divRemTo(t,e,r),new Array(e,r)}s(NAt,"bnDivideAndRemainder");function QAt(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}s(QAt,"bnpDMultiply");function PAt(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}s(PAt,"bnpDAddOffset");function FS(){}s(FS,"NullExp");function o4e(t){return t}s(o4e,"nNop");function FAt(t,e,r){t.multiplyTo(e,r)}s(FAt,"nMulTo");function LAt(t,e){t.squareTo(e)}s(LAt,"nSqrTo");FS.prototype.convert=o4e;FS.prototype.revert=o4e;FS.prototype.mulTo=FAt;FS.prototype.sqrTo=LAt;function MAt(t){return this.exp(t,new FS)}s(MAt,"bnPow");function OAt(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var o;for(o=r.t-this.t;n<o;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}s(OAt,"bnpMultiplyLowerTo");function UAt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}s(UAt,"bnpMultiplyUpperTo");function n5(t){this.r2=ii(),this.q3=ii(),it.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}s(n5,"Barrett");function HAt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ii();return t.copyTo(e),this.reduce(e),e}s(HAt,"barrettConvert");function qAt(t){return t}s(qAt,"barrettRevert");function GAt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}s(GAt,"barrettReduce");function VAt(t,e){t.squareTo(e),this.reduce(e)}s(VAt,"barrettSqrTo");function WAt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}s(WAt,"barrettMulTo");n5.prototype.convert=HAt;n5.prototype.revert=qAt;n5.prototype.reduce=GAt;n5.prototype.mulTo=WAt;n5.prototype.sqrTo=VAt;function $At(t,e){var r=t.bitLength(),n,o=v1(1),a;if(r<=0)return o;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new VE(e):e.isEven()?a=new n5(e):a=new WE(e);var c=new Array,l=3,u=n-1,d=(1<<n)-1;if(c[1]=a.convert(this),n>1){var h=ii();for(a.sqrTo(c[1],h);l<=d;)c[l]=ii(),a.mulTo(h,c[l-2],c[l]),l+=2}var A=t.t-1,p,g=!0,E=ii(),v;for(r=MF(t.data[A])-1;A>=0;){for(r>=u?p=t.data[A]>>r-u&d:(p=(t.data[A]&(1<<r+1)-1)<<u-r,A>0&&(p|=t.data[A-1]>>this.DB+r-u)),l=n;(p&1)==0;)p>>=1,--l;if((r-=l)<0&&(r+=this.DB,--A),g)c[p].copyTo(o),g=!1;else{for(;l>1;)a.sqrTo(o,E),a.sqrTo(E,o),l-=2;l>0?a.sqrTo(o,E):(v=o,o=E,E=v),a.mulTo(E,c[p],o)}for(;A>=0&&(t.data[A]&1<<r)==0;)a.sqrTo(o,E),v=o,o=E,E=v,--r<0&&(r=this.DB-1,--A)}return a.revert(o)}s($At,"bnModPow");function YAt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(o<a&&(a=o),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}s(YAt,"bnGCD");function zAt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}s(zAt,"bnpModInt");function jAt(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return it.ZERO;for(var r=t.clone(),n=this.clone(),o=v1(1),a=v1(0),c=v1(0),l=v1(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!c.isEven()||!l.isEven())&&(c.addTo(this,c),l.subTo(t,l)),c.rShiftTo(1,c)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(c,o),a.subTo(l,a)):(n.subTo(r,n),e&&c.subTo(o,c),l.subTo(a,l))}if(n.compareTo(it.ONE)!=0)return it.ZERO;if(l.compareTo(t)>=0)return l.subtract(t);if(l.signum()<0)l.addTo(t,l);else return l;return l.signum()<0?l.add(t):l}s(jAt,"bnModInverse");var Ff=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],KAt=(1<<26)/Ff[Ff.length-1];function JAt(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Ff[Ff.length-1]){for(e=0;e<Ff.length;++e)if(r.data[0]==Ff[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Ff.length;){for(var n=Ff[e],o=e+1;o<Ff.length&&n<KAt;)n*=Ff[o++];for(n=r.modInt(n);e<o;)if(n%Ff[e++]==0)return!1}return r.millerRabin(t)}s(JAt,"bnIsProbablePrime");function XAt(t){var e=this.subtract(it.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),o=ZAt(),a,c=0;c<t;++c){do a=new it(this.bitLength(),o);while(a.compareTo(it.ONE)<=0||a.compareTo(e)>=0);var l=a.modPow(n,this);if(l.compareTo(it.ONE)!=0&&l.compareTo(e)!=0){for(var u=1;u++<r&&l.compareTo(e)!=0;)if(l=l.modPowInt(2,this),l.compareTo(it.ONE)==0)return!1;if(l.compareTo(e)!=0)return!1}}return!0}s(XAt,"bnpMillerRabin");function ZAt(){return{nextBytes:s(function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)},"nextBytes")}}s(ZAt,"bnGetPrng");it.prototype.chunkSize=eAt;it.prototype.toRadix=rAt;it.prototype.fromRadix=nAt;it.prototype.fromNumber=iAt;it.prototype.bitwiseTo=lAt;it.prototype.changeBit=vAt;it.prototype.addTo=wAt;it.prototype.dMultiply=QAt;it.prototype.dAddOffset=PAt;it.prototype.multiplyLowerTo=OAt;it.prototype.multiplyUpperTo=UAt;it.prototype.modInt=zAt;it.prototype.millerRabin=XAt;it.prototype.clone=Kht;it.prototype.intValue=Jht;it.prototype.byteValue=Xht;it.prototype.shortValue=Zht;it.prototype.signum=tAt;it.prototype.toByteArray=oAt;it.prototype.equals=sAt;it.prototype.min=aAt;it.prototype.max=cAt;it.prototype.and=fAt;it.prototype.or=dAt;it.prototype.xor=hAt;it.prototype.andNot=AAt;it.prototype.not=pAt;it.prototype.shiftLeft=mAt;it.prototype.shiftRight=gAt;it.prototype.getLowestSetBit=CAt;it.prototype.bitCount=IAt;it.prototype.testBit=xAt;it.prototype.setBit=bAt;it.prototype.clearBit=TAt;it.prototype.flipBit=_At;it.prototype.add=SAt;it.prototype.subtract=BAt;it.prototype.multiply=RAt;it.prototype.divide=kAt;it.prototype.remainder=DAt;it.prototype.divideAndRemainder=NAt;it.prototype.modPow=$At;it.prototype.modInverse=jAt;it.prototype.pow=MAt;it.prototype.gcd=YAt;it.prototype.isProbablePrime=JAt});var i5=q((AJr,u4e)=>{f();var gh=rn();dh();ni();var c4e=u4e.exports=gh.sha1=gh.sha1||{};gh.md.sha1=gh.md.algorithms.sha1=c4e;c4e.create=function(){l4e||ept();var t=null,e=gh.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var o=n.messageLengthSize/4,a=0;a<o;++a)n.fullMessageLength.push(0);return e=gh.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(o,a){a==="utf8"&&(o=gh.util.encodeUtf8(o));var c=o.length;n.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=c[1],c[1]=c[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return e.putBytes(o),a4e(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var o=gh.util.createBuffer();o.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,c=a&n.blockLength-1;o.putBytes(MX.substr(0,n.blockLength-c));for(var l,u,d=n.fullMessageLength[0]*8,h=0;h<n.fullMessageLength.length-1;++h)l=n.fullMessageLength[h+1]*8,u=l/4294967296>>>0,d+=u,o.putInt32(d>>>0),d=l>>>0;o.putInt32(d);var A={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a4e(A,r,o);var p=gh.util.createBuffer();return p.putInt32(A.h0),p.putInt32(A.h1),p.putInt32(A.h2),p.putInt32(A.h3),p.putInt32(A.h4),p},n};var MX=null,l4e=!1;function ept(){MX="\x80",MX+=gh.util.fillString("\0",64),l4e=!0}s(ept,"_init");function a4e(t,e,r){for(var n,o,a,c,l,u,d,h,A=r.length();A>=64;){for(o=t.h0,a=t.h1,c=t.h2,l=t.h3,u=t.h4,h=0;h<16;++h)n=r.getInt32(),e[h]=n,d=l^a&(c^l),n=(o<<5|o>>>27)+d+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<20;++h)n=e[h-3]^e[h-8]^e[h-14]^e[h-16],n=n<<1|n>>>31,e[h]=n,d=l^a&(c^l),n=(o<<5|o>>>27)+d+u+1518500249+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<32;++h)n=e[h-3]^e[h-8]^e[h-14]^e[h-16],n=n<<1|n>>>31,e[h]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<40;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+1859775393+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<60;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,d=a&c|l&(a^c),n=(o<<5|o>>>27)+d+u+2400959708+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;for(;h<80;++h)n=e[h-6]^e[h-16]^e[h-28]^e[h-32],n=n<<2|n>>>30,e[h]=n,d=a^c^l,n=(o<<5|o>>>27)+d+u+3395469782+n,u=l,l=c,c=(a<<30|a>>>2)>>>0,a=o,o=n;t.h0=t.h0+o|0,t.h1=t.h1+a|0,t.h2=t.h2+c|0,t.h3=t.h3+l|0,t.h4=t.h4+u|0,A-=64}}s(a4e,"_update")});var OX=q((gJr,d4e)=>{f();var yh=rn();ni();mu();i5();var f4e=d4e.exports=yh.pkcs1=yh.pkcs1||{};f4e.encode_rsa_oaep=function(t,e,r){var n,o,a,c;typeof r=="string"?(n=r,o=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,o=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),a?a.start():a=yh.md.sha1.create(),c||(c=a);var l=Math.ceil(t.n.bitLength()/8),u=l-2*a.digestLength-2;if(e.length>u){var d=new Error("RSAES-OAEP input message length is too long.");throw d.length=e.length,d.maxLength=u,d}n||(n=""),a.update(n,"raw");for(var h=a.digest(),A="",p=u-e.length,g=0;g<p;g++)A+="\0";var E=h.getBytes()+A+""+e;if(!o)o=yh.random.getBytes(a.digestLength);else if(o.length!==a.digestLength){var d=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw d.seedLength=o.length,d.digestLength=a.digestLength,d}var v=OF(o,l-a.digestLength-1,c),w=yh.util.xorBytes(E,v,E.length),_=OF(w,a.digestLength,c),S=yh.util.xorBytes(o,_,o.length);return"\0"+S+w};f4e.decode_rsa_oaep=function(t,e,r){var n,o,a;typeof r=="string"?(n=r,o=arguments[3]||void 0):r&&(n=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var c=Math.ceil(t.n.bitLength()/8);if(e.length!==c){var w=new Error("RSAES-OAEP encoded message length is invalid.");throw w.length=e.length,w.expectedLength=c,w}if(o===void 0?o=yh.md.sha1.create():o.start(),a||(a=o),c<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),o.update(n,"raw");for(var l=o.digest().getBytes(),u=e.charAt(0),d=e.substring(1,o.digestLength+1),h=e.substring(1+o.digestLength),A=OF(h,o.digestLength,a),p=yh.util.xorBytes(d,A,d.length),g=OF(p,c-o.digestLength-1,a),E=yh.util.xorBytes(h,g,h.length),v=E.substring(0,o.digestLength),w=u!=="\0",_=0;_<o.digestLength;++_)w|=l.charAt(_)!==v.charAt(_);for(var S=1,D=o.digestLength,N=o.digestLength;N<E.length;N++){var P=E.charCodeAt(N),O=P&1^1,Y=S?65534:0;w|=P&Y,S=S&O,D+=S}if(w||E.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return E.substring(D+1)};function OF(t,e,r){r||(r=yh.md.sha1.create());for(var n="",o=Math.ceil(e/r.digestLength),a=0;a<o;++a){var c=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+c),n+=r.digest().getBytes()}return n.substring(0,e)}s(OF,"rsa_mgf1")});var HX=q((EJr,UX)=>{f();var b1=rn();ni();LS();mu();(function(){if(b1.prime){UX.exports=b1.prime;return}var t=UX.exports=b1.prime=b1.prime||{},e=b1.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var o=s(function(A,p){return A|p},"op_or");t.generateProbablePrime=function(A,p,g){typeof p=="function"&&(g=p,p={}),p=p||{};var E=p.algorithm||"PRIMEINC";typeof E=="string"&&(E={name:E}),E.options=E.options||{};var v=p.prng||b1.random,w={nextBytes:s(function(_){for(var S=v.getBytesSync(_.length),D=0;D<_.length;++D)_[D]=S.charCodeAt(D)},"nextBytes")};if(E.name==="PRIMEINC")return a(A,w,E.options,g);throw new Error("Invalid prime generation algorithm: "+E.name)};function a(A,p,g,E){return"workers"in g?u(A,p,g,E):c(A,p,g,E)}s(a,"primeincFindPrime");function c(A,p,g,E){var v=d(A,p),w=0,_=h(v.bitLength());"millerRabinTests"in g&&(_=g.millerRabinTests);var S=10;"maxBlockTime"in g&&(S=g.maxBlockTime),l(v,A,p,w,_,S,E)}s(c,"primeincFindPrimeWithoutWorkers");function l(A,p,g,E,v,w,_){var S=+new Date;do{if(A.bitLength()>p&&(A=d(p,g)),A.isProbablePrime(v))return _(null,A);A.dAddOffset(r[E++%8],0)}while(w<0||+new Date-S<w);b1.util.setImmediate(function(){l(A,p,g,E,v,w,_)})}s(l,"_primeinc");function u(A,p,g,E){if(typeof Worker>"u")return c(A,p,g,E);var v=d(A,p),w=g.workers,_=g.workLoad||100,S=_*30/8,D=g.workerScript||"forge/prime.worker.js";if(w===-1)return b1.util.estimateCores(function(P,O){P&&(O=2),w=O-1,N()});N();function N(){w=Math.max(1,w);for(var P=[],O=0;O<w;++O)P[O]=new Worker(D);for(var Y=w,O=0;O<w;++O)P[O].addEventListener("message",oe);var ne=!1;function oe(he){if(!ne){--Y;var $=he.data;if($.found){for(var K=0;K<P.length;++K)P[K].terminate();return ne=!0,E(null,new e($.prime,16))}v.bitLength()>A&&(v=d(A,p));var xe=v.toString(16);he.target.postMessage({hex:xe,workLoad:_}),v.dAddOffset(S,0)}}s(oe,"workerMessage")}s(N,"generate")}s(u,"primeincFindPrimeWithWorkers");function d(A,p){var g=new e(A,p),E=A-1;return g.testBit(E)||g.bitwiseTo(e.ONE.shiftLeft(E),o,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}s(d,"generateRandom");function h(A){return A<=100?27:A<=150?18:A<=200?15:A<=250?12:A<=300?9:A<=350?8:A<=400?7:A<=500?6:A<=600?5:A<=800?4:A<=1250?3:2}s(h,"getMillerRabinTests")})()});var MS=q((vJr,C4e)=>{f();var er=rn();Pf();LS();x1();OX();HX();mu();ni();typeof zn>"u"&&(zn=er.jsbn.BigInteger);var zn,qX=er.util.isNodejs?require("crypto"):null,ke=er.asn1,yu=er.util;er.pki=er.pki||{};C4e.exports=er.pki.rsa=er.rsa=er.rsa||{};var Yr=er.pki,tpt=[6,4,2,4,2,4,6,2],rpt={name:"PrivateKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},npt={name:"RSAPrivateKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},ipt={name:"RSAPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ke.Class.UNIVERSAL,type:ke.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},opt=er.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},spt={name:"DigestInfo",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ke.Class.UNIVERSAL,type:ke.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ke.Class.UNIVERSAL,type:ke.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ke.Class.UNIVERSAL,type:ke.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},apt=s(function(t){var e;if(t.algorithm in Yr.oids)e=Yr.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=ke.oidToDer(e).getBytes(),o=ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[]),a=ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[]);a.value.push(ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,n)),a.value.push(ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,""));var c=ke.create(ke.Class.UNIVERSAL,ke.Type.OCTETSTRING,!1,t.digest().getBytes());return o.value.push(a),o.value.push(c),ke.toDer(o).getBytes()},"emsaPkcs1v15encode"),g4e=s(function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(zn.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(zn.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new zn(er.util.bytesToHex(er.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(zn.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var o=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);o.compareTo(a)<0;)o=o.add(e.p);var c=o.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return c=c.multiply(n.modInverse(e.n)).mod(e.n),c},"_modPow");Yr.rsa.encrypt=function(t,e,r){var n=r,o,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,o=y4e(t,e,r)):(o=er.util.createBuffer(),o.putBytes(t));for(var c=new zn(o.toHex(),16),l=g4e(c,e,n),u=l.toString(16),d=er.util.createBuffer(),h=a-Math.ceil(u.length/2);h>0;)d.putByte(0),--h;return d.putBytes(er.util.hexToBytes(u)),d.getBytes()};Yr.rsa.decrypt=function(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=o,a}var c=new zn(er.util.createBuffer(t).toHex(),16);if(c.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=g4e(c,e,r),u=l.toString(16),d=er.util.createBuffer(),h=o-Math.ceil(u.length/2);h>0;)d.putByte(0),--h;return d.putBytes(er.util.hexToBytes(u)),n!==!1?UF(d.getBytes(),e,r):d.getBytes()};Yr.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||er.random,o={nextBytes:s(function(l){for(var u=n.getBytesSync(l.length),d=0;d<l.length;++d)l[d]=u.charCodeAt(d)},"nextBytes")},a=r.algorithm||"PRIMEINC",c;if(a==="PRIMEINC")c={algorithm:a,state:0,bits:t,rng:o,eInt:e||65537,e:new zn(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},c.e.fromInt(c.eInt);else throw new Error("Invalid key generation algorithm: "+a);return c};Yr.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new zn(null);r.fromInt(30);for(var n=0,o=s(function(A,p){return A|p},"op_or"),a=+new Date,c,l=0;t.keys===null&&(e<=0||l<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,d=u-1;t.pqState===0?(t.num=new zn(u,t.rng),t.num.testBit(d)||t.num.bitwiseTo(zn.ONE.shiftLeft(d),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(lpt(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(tpt[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(zn.ONE),t.q1=t.q.subtract(zn.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(zn.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var h=t.e.modInverse(t.phi);t.keys={privateKey:Yr.rsa.setPrivateKey(t.n,t.e,h,t.p,t.q,h.mod(t.p1),h.mod(t.q1),t.q.modInverse(t.p)),publicKey:Yr.rsa.setPublicKey(t.n,t.e)}}c=+new Date,l+=c-a,a=c}return t.keys!==null};Yr.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!er.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(h4e("generateKeyPair"))return qX.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,u,d){if(l)return n(l);n(null,{privateKey:Yr.privateKeyFromPem(d),publicKey:Yr.publicKeyFromPem(u)})});if(A4e("generateKey")&&A4e("exportKey"))return yu.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:m4e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return yu.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var u=Yr.privateKeyFromAsn1(ke.fromDer(er.util.createBuffer(l)));n(null,{privateKey:u,publicKey:Yr.setRsaPublicKey(u.n,u.e)})}});if(p4e("generateKey")&&p4e("exportKey")){var o=yu.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:m4e(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);o.oncomplete=function(l){var u=l.target.result,d=yu.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);d.oncomplete=function(h){var A=h.target.result,p=Yr.privateKeyFromAsn1(ke.fromDer(er.util.createBuffer(A)));n(null,{privateKey:p,publicKey:Yr.setRsaPublicKey(p.n,p.e)})},d.onerror=function(h){n(h)}},o.onerror=function(l){n(l)};return}}else if(h4e("generateKeyPairSync")){var a=qX.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Yr.privateKeyFromPem(a.privateKey),publicKey:Yr.publicKeyFromPem(a.publicKey)}}}var c=Yr.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Yr.rsa.stepKeyPairGenerationState(c,0),c.keys;cpt(c,r,n)};Yr.setRsaPublicKey=Yr.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,o,a){if(typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSAES-PKCS1-V1_5"),o==="RSAES-PKCS1-V1_5")o={encode:s(function(l,u,d){return y4e(l,u,2).getBytes()},"encode")};else if(o==="RSA-OAEP"||o==="RSAES-OAEP")o={encode:s(function(l,u){return er.pkcs1.encode_rsa_oaep(u,l,a)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(o)!==-1)o={encode:s(function(l){return l},"encode")};else if(typeof o=="string")throw new Error('Unsupported encryption scheme: "'+o+'".');var c=o.encode(n,r,!0);return Yr.rsa.encrypt(c,r,!0)},r.verify=function(n,o,a,c){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),c===void 0&&(c={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in c||(c._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:s(function(u,d){d=UF(d,r,!0);var h=ke.fromDer(d,{parseAllBytes:c._parseAllDigestBytes}),A={},p=[];if(!ke.validate(h,spt,A,p)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=p,g}var E=ke.derToOid(A.algorithmIdentifier);if(!(E===er.oids.md2||E===er.oids.md5||E===er.oids.sha1||E===er.oids.sha224||E===er.oids.sha256||E===er.oids.sha384||E===er.oids.sha512||E===er.oids["sha512-224"]||E===er.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=E,g}if((E===er.oids.md2||E===er.oids.md5)&&!("parameters"in A))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===A.digest},"verify")}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:s(function(u,d){return d=UF(d,r,!0),u===d},"verify")});var l=Yr.rsa.decrypt(o,r,!0,!1);return a.verify(n,l,r.n.bitLength())},r};Yr.setRsaPrivateKey=Yr.rsa.setPrivateKey=function(t,e,r,n,o,a,c,l){var u={n:t,e,d:r,p:n,q:o,dP:a,dQ:c,qInv:l};return u.decrypt=function(d,h,A){typeof h=="string"?h=h.toUpperCase():h===void 0&&(h="RSAES-PKCS1-V1_5");var p=Yr.rsa.decrypt(d,u,!1,!1);if(h==="RSAES-PKCS1-V1_5")h={decode:UF};else if(h==="RSA-OAEP"||h==="RSAES-OAEP")h={decode:s(function(g,E){return er.pkcs1.decode_rsa_oaep(E,g,A)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(h)!==-1)h={decode:s(function(g){return g},"decode")};else throw new Error('Unsupported encryption scheme: "'+h+'".');return h.decode(p,u,!1)},u.sign=function(d,h){var A=!1;typeof h=="string"&&(h=h.toUpperCase()),h===void 0||h==="RSASSA-PKCS1-V1_5"?(h={encode:apt},A=1):(h==="NONE"||h==="NULL"||h===null)&&(h={encode:s(function(){return d},"encode")},A=1);var p=h.encode(d,u.n.bitLength());return Yr.rsa.encrypt(p,u,A)},u};Yr.wrapRsaPrivateKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,ke.integerToDer(0).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,ke.oidToDer(Yr.oids.rsaEncryption).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,"")]),ke.create(ke.Class.UNIVERSAL,ke.Type.OCTETSTRING,!1,ke.toDer(t).getBytes())])};Yr.privateKeyFromAsn1=function(t){var e={},r=[];if(ke.validate(t,rpt,e,r)&&(t=ke.fromDer(er.util.createBuffer(e.privateKey))),e={},r=[],!ke.validate(t,npt,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var o,a,c,l,u,d,h,A;return o=er.util.createBuffer(e.privateKeyModulus).toHex(),a=er.util.createBuffer(e.privateKeyPublicExponent).toHex(),c=er.util.createBuffer(e.privateKeyPrivateExponent).toHex(),l=er.util.createBuffer(e.privateKeyPrime1).toHex(),u=er.util.createBuffer(e.privateKeyPrime2).toHex(),d=er.util.createBuffer(e.privateKeyExponent1).toHex(),h=er.util.createBuffer(e.privateKeyExponent2).toHex(),A=er.util.createBuffer(e.privateKeyCoefficient).toHex(),Yr.setRsaPrivateKey(new zn(o,16),new zn(a,16),new zn(c,16),new zn(l,16),new zn(u,16),new zn(d,16),new zn(h,16),new zn(A,16))};Yr.privateKeyToAsn1=Yr.privateKeyToRSAPrivateKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,ke.integerToDer(0).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.n)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.e)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.d)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.p)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.q)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.dP)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.dQ)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.qInv))])};Yr.publicKeyFromAsn1=function(t){var e={},r=[];if(ke.validate(t,opt,e,r)){var n=ke.derToOid(e.publicKeyOid);if(n!==Yr.oids.rsaEncryption){var o=new Error("Cannot read public key. Unknown OID.");throw o.oid=n,o}t=e.rsaPublicKey}if(r=[],!ke.validate(t,ipt,e,r)){var o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw o.errors=r,o}var a=er.util.createBuffer(e.publicKeyModulus).toHex(),c=er.util.createBuffer(e.publicKeyExponent).toHex();return Yr.setRsaPublicKey(new zn(a,16),new zn(c,16))};Yr.publicKeyToAsn1=Yr.publicKeyToSubjectPublicKeyInfo=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.OID,!1,ke.oidToDer(Yr.oids.rsaEncryption).getBytes()),ke.create(ke.Class.UNIVERSAL,ke.Type.NULL,!1,"")]),ke.create(ke.Class.UNIVERSAL,ke.Type.BITSTRING,!1,[Yr.publicKeyToRSAPublicKey(t)])])};Yr.publicKeyToRSAPublicKey=function(t){return ke.create(ke.Class.UNIVERSAL,ke.Type.SEQUENCE,!0,[ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.n)),ke.create(ke.Class.UNIVERSAL,ke.Type.INTEGER,!1,Ch(t.e))])};function y4e(t,e,r){var n=er.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=o-11,a}n.putByte(0),n.putByte(r);var c=o-3-t.length,l;if(r===0||r===1){l=r===0?0:255;for(var u=0;u<c;++u)n.putByte(l)}else for(;c>0;){for(var d=0,h=er.random.getBytes(c),u=0;u<c;++u)l=h.charCodeAt(u),l===0?++d:n.putByte(l);c=d}return n.putByte(0),n.putBytes(t),n}s(y4e,"_encodePkcs1_v1_5");function UF(t,e,r,n){var o=Math.ceil(e.n.bitLength()/8),a=er.util.createBuffer(t),c=a.getByte(),l=a.getByte();if(c!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(l===0){u=o-3-n;for(var d=0;d<u;++d)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(u=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++u}else if(l===2)for(u=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++u}var h=a.getByte();if(h!==0||u!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}s(UF,"_decodePkcs1_v1_5");function cpt(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),o();function o(){a(t.pBits,function(l,u){if(l)return r(l);if(t.p=u,t.q!==null)return c(l,t.q);a(t.qBits,c)})}s(o,"generate");function a(l,u){er.prime.generateProbablePrime(l,n,u)}s(a,"getPrime");function c(l,u){if(l)return r(l);if(t.q=u,t.p.compareTo(t.q)<0){var d=t.p;t.p=t.q,t.q=d}if(t.p.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)!==0){t.p=null,o();return}if(t.q.subtract(zn.ONE).gcd(t.e).compareTo(zn.ONE)!==0){t.q=null,a(t.qBits,c);return}if(t.p1=t.p.subtract(zn.ONE),t.q1=t.q.subtract(zn.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(zn.ONE)!==0){t.p=t.q=null,o();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,c);return}var h=t.e.modInverse(t.phi);t.keys={privateKey:Yr.rsa.setPrivateKey(t.n,t.e,h,t.p,t.q,h.mod(t.p1),h.mod(t.q1),t.q.modInverse(t.p)),publicKey:Yr.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}s(c,"finish")}s(cpt,"_generateKeyPair");function Ch(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=er.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Ch,"_bnToBytes");function lpt(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}s(lpt,"_getMillerRabinTests");function h4e(t){return er.util.isNodejs&&typeof qX[t]=="function"}s(h4e,"_detectNodeCrypto");function A4e(t){return typeof yu.globalScope<"u"&&typeof yu.globalScope.crypto=="object"&&typeof yu.globalScope.crypto.subtle=="object"&&typeof yu.globalScope.crypto.subtle[t]=="function"}s(A4e,"_detectSubtleCrypto");function p4e(t){return typeof yu.globalScope<"u"&&typeof yu.globalScope.msCrypto=="object"&&typeof yu.globalScope.msCrypto.subtle=="object"&&typeof yu.globalScope.msCrypto.subtle[t]=="function"}s(p4e,"_detectSubtleMsCrypto");function m4e(t){for(var e=er.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}s(m4e,"_intToUint8Array")});var GX=q((_Jr,b4e)=>{f();var kt=rn();I1();Pf();PS();dh();x1();PF();GE();mu();QX();MS();ni();typeof E4e>"u"&&(E4e=kt.jsbn.BigInteger);var E4e,We=kt.asn1,Zr=kt.pki=kt.pki||{};b4e.exports=Zr.pbe=kt.pbe=kt.pbe||{};var $E=Zr.oids,upt={name:"EncryptedPrivateKeyInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},fpt={name:"PBES2Algorithms",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},dpt={name:"pkcs-12PbeParams",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"iterations"}]};Zr.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=kt.random.getBytesSync(r.saltSize),o=r.count,a=We.integerToDer(o),c,l,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var d,h,A;switch(r.algorithm){case"aes128":c=16,d=16,h=$E["aes128-CBC"],A=kt.aes.createEncryptionCipher;break;case"aes192":c=24,d=16,h=$E["aes192-CBC"],A=kt.aes.createEncryptionCipher;break;case"aes256":c=32,d=16,h=$E["aes256-CBC"],A=kt.aes.createEncryptionCipher;break;case"des":c=8,d=8,h=$E.desCBC,A=kt.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),E=v4e(g),v=kt.pkcs5.pbkdf2(e,n,o,c,E),w=kt.random.getBytesSync(d),_=A(v);_.start(w),_.update(We.toDer(t)),_.finish(),u=_.output.getBytes();var S=hpt(n,a,c,g);l=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer($E.pkcs5PBES2).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer($E.pkcs5PBKDF2).getBytes()),S]),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(h).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,w)])])])}else if(r.algorithm==="3des"){c=24;var D=new kt.util.ByteBuffer(n),v=Zr.pbe.generatePkcs12Key(e,D,1,o,c),w=Zr.pbe.generatePkcs12Key(e,D,2,o,c),_=kt.des.createEncryptionCipher(v);_.start(w),_.update(We.toDer(t)),_.finish(),u=_.output.getBytes(),l=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer($E["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,n),We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,a.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var N=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[l,We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,u)]);return N};Zr.decryptPrivateKeyInfo=function(t,e){var r=null,n={},o=[];if(!We.validate(t,upt,n,o)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=We.derToOid(n.encryptionOid),l=Zr.pbe.getCipher(c,n.encryptionParams,e),u=kt.util.createBuffer(n.encryptedData);return l.update(u),l.finish()&&(r=We.fromDer(l.output)),r};Zr.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:We.toDer(t).getBytes()};return kt.pem.encode(r,{maxline:e})};Zr.encryptedPrivateKeyFromPem=function(t){var e=kt.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return We.fromDer(e.body)};Zr.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Zr.wrapRsaPrivateKey(Zr.privateKeyToAsn1(t));return n=Zr.encryptPrivateKeyInfo(n,e,r),Zr.encryptedPrivateKeyToPem(n)}var o,a,c,l;switch(r.algorithm){case"aes128":o="AES-128-CBC",c=16,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,a=kt.random.getBytesSync(16),l=kt.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,a=kt.random.getBytesSync(8),l=kt.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,a=kt.random.getBytesSync(8),l=kt.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var d=kt.pbe.opensslDeriveBytes(e,a.substr(0,8),c),h=l(d);h.start(a),h.update(We.toDer(Zr.privateKeyToAsn1(t))),h.finish();var A={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:kt.util.bytesToHex(a).toUpperCase()},body:h.output.getBytes()};return kt.pem.encode(A)};Zr.decryptRsaPrivateKey=function(t,e){var r=null,n=kt.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var o=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw o.headerType=o,o}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,c;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,c=kt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,c=kt.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,c=kt.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,c=kt.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,c=kt.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,c=s(function(A){return kt.rc2.createDecryptionCipher(A,40)},"cipherFn");break;case"RC2-64-CBC":a=8,c=s(function(A){return kt.rc2.createDecryptionCipher(A,64)},"cipherFn");break;case"RC2-128-CBC":a=16,c=s(function(A){return kt.rc2.createDecryptionCipher(A,128)},"cipherFn");break;default:var o=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw o.algorithm=n.dekInfo.algorithm,o}var l=kt.util.hexToBytes(n.dekInfo.parameters),u=kt.pbe.opensslDeriveBytes(e,l.substr(0,8),a),d=c(u);if(d.start(l),d.update(kt.util.createBuffer(n.body)),d.finish())r=d.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Zr.decryptPrivateKeyInfo(We.fromDer(r),e):r=We.fromDer(r),r!==null&&(r=Zr.privateKeyFromAsn1(r)),r};Zr.pbe.generatePkcs12Key=function(t,e,r,n,o,a){var c,l;if(typeof a>"u"||a===null){if(!("sha1"in kt.md))throw new Error('"sha1" hash algorithm unavailable.');a=kt.md.sha1.create()}var u=a.digestLength,d=a.blockLength,h=new kt.util.ByteBuffer,A=new kt.util.ByteBuffer;if(t!=null){for(l=0;l<t.length;l++)A.putInt16(t.charCodeAt(l));A.putInt16(0)}var p=A.length(),g=e.length(),E=new kt.util.ByteBuffer;E.fillWithByte(r,d);var v=d*Math.ceil(g/d),w=new kt.util.ByteBuffer;for(l=0;l<v;l++)w.putByte(e.at(l%g));var _=d*Math.ceil(p/d),S=new kt.util.ByteBuffer;for(l=0;l<_;l++)S.putByte(A.at(l%p));var D=w;D.putBuffer(S);for(var N=Math.ceil(o/u),P=1;P<=N;P++){var O=new kt.util.ByteBuffer;O.putBytes(E.bytes()),O.putBytes(D.bytes());for(var Y=0;Y<n;Y++)a.start(),a.update(O.getBytes()),O=a.digest();var ne=new kt.util.ByteBuffer;for(l=0;l<d;l++)ne.putByte(O.at(l%u));var oe=Math.ceil(g/d)+Math.ceil(p/d),he=new kt.util.ByteBuffer;for(c=0;c<oe;c++){var $=new kt.util.ByteBuffer(D.getBytes(d)),K=511;for(l=ne.length()-1;l>=0;l--)K=K>>8,K+=ne.at(l)+$.at(l),$.setAt(l,K&255);he.putBuffer($)}D=he,h.putBuffer(O)}return h.truncate(h.length()-o),h};Zr.pbe.getCipher=function(t,e,r){switch(t){case Zr.oids.pkcs5PBES2:return Zr.pbe.getCipherForPBES2(t,e,r);case Zr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Zr.oids["pbewithSHAAnd40BitRC2-CBC"]:return Zr.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Zr.pbe.getCipherForPBES2=function(t,e,r){var n={},o=[];if(!We.validate(e,fpt,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}if(t=We.derToOid(n.kdfOid),t!==Zr.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=We.derToOid(n.encOid),t!==Zr.oids["aes128-CBC"]&&t!==Zr.oids["aes192-CBC"]&&t!==Zr.oids["aes256-CBC"]&&t!==Zr.oids["des-EDE3-CBC"]&&t!==Zr.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var c=n.kdfSalt,l=kt.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var u,d;switch(Zr.oids[t]){case"aes128-CBC":u=16,d=kt.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,d=kt.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,d=kt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,d=kt.des.createDecryptionCipher;break;case"desCBC":u=8,d=kt.des.createDecryptionCipher;break}var h=x4e(n.prfOid),A=kt.pkcs5.pbkdf2(r,c,l,u,h),p=n.encIv,g=d(A);return g.start(p),g};Zr.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},o=[];if(!We.validate(e,dpt,n,o)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=o,a}var c=kt.util.createBuffer(n.salt),l=kt.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var u,d,h;switch(t){case Zr.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,d=8,h=kt.des.startDecrypting;break;case Zr.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,d=8,h=s(function(v,w){var _=kt.rc2.createDecryptionCipher(v,40);return _.start(w,null),_},"cipherFn");break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var A=x4e(n.prfOid),p=Zr.pbe.generatePkcs12Key(r,c,1,l,u,A);A.start();var g=Zr.pbe.generatePkcs12Key(r,c,2,l,d,A);return h(p,g)};Zr.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in kt.md))throw new Error('"md5" hash algorithm unavailable.');n=kt.md.md5.create()}e===null&&(e="");for(var o=[I4e(n,t+e)],a=16,c=1;a<r;++c,a+=16)o.push(I4e(n,o[c-1]+t+e));return o.join("").substr(0,r)};function I4e(t,e){return t.start().update(e).digest().getBytes()}s(I4e,"hash");function x4e(t){var e;if(!t)e="hmacWithSHA1";else if(e=Zr.oids[We.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return v4e(e)}s(x4e,"prfOidToMessageDigest");function v4e(t){var e=kt.md;switch(t){case"hmacWithSHA224":e=kt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}s(v4e,"prfAlgorithmToMessageDigest");function hpt(t,e,r,n){var o=We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OCTETSTRING,!1,t),We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&o.value.push(We.create(We.Class.UNIVERSAL,We.Type.INTEGER,!1,kt.util.hexToBytes(r.toString(16))),We.create(We.Class.UNIVERSAL,We.Type.SEQUENCE,!0,[We.create(We.Class.UNIVERSAL,We.Type.OID,!1,We.oidToDer(Zr.oids[n]).getBytes()),We.create(We.Class.UNIVERSAL,We.Type.NULL,!1,"")])),o}s(hpt,"createPbkdf2Params")});var VX=q((BJr,w4e)=>{f();var o5=rn();Pf();ni();var Bt=o5.asn1,s5=w4e.exports=o5.pkcs7asn1=o5.pkcs7asn1||{};o5.pkcs7=o5.pkcs7||{};o5.pkcs7.asn1=s5;var T4e={name:"ContentInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s5.contentInfoValidator=T4e;var _4e={name:"EncryptedContentInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s5.envelopedDataValidator={name:"EnvelopedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(_4e)};s5.encryptedDataValidator={name:"EncryptedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"}].concat(_4e)};var Apt={name:"SignerInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s5.signedDataValidator={name:"SignedData",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},T4e,{name:"SignedData.Certificates",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Bt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SET,capture:"signerInfos",optional:!0,value:[Apt]}]};s5.recipientInfoValidator={name:"RecipientInfo",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Bt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Bt.Class.UNIVERSAL,type:Bt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var WX=q((kJr,S4e)=>{f();var YE=rn();ni();YE.mgf=YE.mgf||{};var ppt=S4e.exports=YE.mgf.mgf1=YE.mgf1=YE.mgf1||{};ppt.create=function(t){var e={generate:s(function(r,n){for(var o=new YE.util.ByteBuffer,a=Math.ceil(n/t.digestLength),c=0;c<a;c++){var l=new YE.util.ByteBuffer;l.putInt32(c),t.start(),t.update(r+l.getBytes()),o.putBuffer(t.digest())}return o.truncate(o.length()-n),o.getBytes()},"generate")};return e}});var R4e=q((QJr,B4e)=>{f();var HF=rn();WX();B4e.exports=HF.mgf=HF.mgf||{};HF.mgf.mgf1=HF.mgf1});var qF=q((FJr,k4e)=>{f();var zE=rn();mu();ni();var mpt=k4e.exports=zE.pss=zE.pss||{};mpt.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,o=t.salt||null;typeof o=="string"&&(o=zE.util.createBuffer(o));var a;if("saltLength"in t)a=t.saltLength;else if(o!==null)a=o.length();else throw new Error("Salt length not specified or specific salt not given.");if(o!==null&&o.length()!==a)throw new Error("Given salt length does not match length of given salt.");var c=t.prng||zE.random,l={};return l.encode=function(u,d){var h,A=d-1,p=Math.ceil(A/8),g=u.digest().getBytes();if(p<n+a+2)throw new Error("Message is too long to encrypt.");var E;o===null?E=c.getBytesSync(a):E=o.bytes();var v=new zE.util.ByteBuffer;v.fillWithByte(0,8),v.putBytes(g),v.putBytes(E),e.start(),e.update(v.getBytes());var w=e.digest().getBytes(),_=new zE.util.ByteBuffer;_.fillWithByte(0,p-a-n-2),_.putByte(1),_.putBytes(E);var S=_.getBytes(),D=p-n-1,N=r.generate(w,D),P="";for(h=0;h<D;h++)P+=String.fromCharCode(S.charCodeAt(h)^N.charCodeAt(h));var O=65280>>8*p-A&255;return P=String.fromCharCode(P.charCodeAt(0)&~O)+P.substr(1),P+w+"\xBC"},l.verify=function(u,d,h){var A,p=h-1,g=Math.ceil(p/8);if(d=d.substr(-g),g<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(d.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var E=g-n-1,v=d.substr(0,E),w=d.substr(E,n),_=65280>>8*g-p&255;if((v.charCodeAt(0)&_)!==0)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(w,E),D="";for(A=0;A<E;A++)D+=String.fromCharCode(v.charCodeAt(A)^S.charCodeAt(A));D=String.fromCharCode(D.charCodeAt(0)&~_)+D.substr(1);var N=g-n-a-2;for(A=0;A<N;A++)if(D.charCodeAt(A)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(N)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=D.substr(-a),O=new zE.util.ByteBuffer;O.fillWithByte(0,8),O.putBytes(u),O.putBytes(P),e.start(),e.update(O.getBytes());var Y=e.digest().getBytes();return w===Y},l}});var WF=q((MJr,F4e)=>{f();var tr=rn();I1();Pf();PS();dh();R4e();x1();GE();qF();MS();ni();var U=tr.asn1,yt=F4e.exports=tr.pki=tr.pki||{},jn=yt.oids,$o={};$o.CN=jn.commonName;$o.commonName="CN";$o.C=jn.countryName;$o.countryName="C";$o.L=jn.localityName;$o.localityName="L";$o.ST=jn.stateOrProvinceName;$o.stateOrProvinceName="ST";$o.O=jn.organizationName;$o.organizationName="O";$o.OU=jn.organizationalUnitName;$o.organizationalUnitName="OU";$o.E=jn.emailAddress;$o.emailAddress="E";var N4e=tr.pki.rsa.publicKeyValidator,gpt={name:"Certificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:U.Class.UNIVERSAL,type:U.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:U.Class.UNIVERSAL,type:U.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},N4e,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},ypt={name:"rsapss",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:U.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:U.Class.UNIVERSAL,type:U.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:U.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:U.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:U.Class.UNIVERSAL,type:U.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},Cpt={name:"CertificationRequestInfo",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:U.Class.UNIVERSAL,type:U.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},N4e,{name:"CertificationRequestInfo.attributes",tagClass:U.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:U.Class.UNIVERSAL,type:U.Type.SET,constructed:!0}]}]}]},Ept={name:"CertificationRequest",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[Cpt,{name:"CertificationRequest.signatureAlgorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:U.Class.UNIVERSAL,type:U.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:U.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:U.Class.UNIVERSAL,type:U.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};yt.RDNAttributesAsArray=function(t,e){for(var r=[],n,o,a,c=0;c<t.value.length;++c){n=t.value[c];for(var l=0;l<n.value.length;++l)a={},o=n.value[l],a.type=U.derToOid(o.value[0].value),a.value=o.value[1].value,a.valueTagClass=o.value[1].type,a.type in jn&&(a.name=jn[a.type],a.name in $o&&(a.shortName=$o[a.name])),e&&(e.update(a.type),e.update(a.value)),r.push(a)}return r};yt.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],o=U.derToOid(n.value[0].value),a=n.value[1].value,c=0;c<a.length;++c){var l={};if(l.type=o,l.value=a[c].value,l.valueTagClass=a[c].type,l.type in jn&&(l.name=jn[l.type],l.name in $o&&(l.shortName=$o[l.name])),l.type===jn.extensionRequest){l.extensions=[];for(var u=0;u<l.value.length;++u)l.extensions.push(yt.certificateExtensionFromAsn1(l.value[u]))}e.push(l)}return e};function T1(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,o=0;r===null&&o<t.attributes.length;++o)n=t.attributes[o],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}s(T1,"_getAttribute");var GF=s(function(t,e,r){var n={};if(t!==jn["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:jn.sha1},mgf:{algorithmOid:jn.mgf1,hash:{algorithmOid:jn.sha1}},saltLength:20});var o={},a=[];if(!U.validate(e,ypt,o,a)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=a,c}return o.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=U.derToOid(o.hashOid)),o.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=U.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=U.derToOid(o.maskGenHashOid)),o.saltLength!==void 0&&(n.saltLength=o.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),VF=s(function(t){switch(jn[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return tr.md.sha1.create();case"md5WithRSAEncryption":return tr.md.md5.create();case"sha256WithRSAEncryption":return tr.md.sha256.create();case"sha384WithRSAEncryption":return tr.md.sha384.create();case"sha512WithRSAEncryption":return tr.md.sha512.create();case"RSASSA-PSS":return tr.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},"_createSignatureDigest"),Q4e=s(function(t){var e=t.certificate,r;switch(e.signatureOid){case jn.sha1WithRSAEncryption:case jn.sha1WithRSASignature:break;case jn["RSASSA-PSS"]:var n,o;if(n=jn[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||tr.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(o=jn[e.signatureParameters.mgf.algorithmOid],o===void 0||tr.mgf[o]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=o,a}if(o=tr.mgf[o].create(tr.md[n].create()),n=jn[e.signatureParameters.hash.algorithmOid],n===void 0||tr.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=e.signatureParameters.hash.algorithmOid,a.name=n,a}r=tr.pss.create(tr.md[n].create(),o,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)},"_verifySignature");yt.certificateFromPem=function(t,e,r){var n=tr.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=U.fromDer(n.body,r);return yt.certificateFromAsn1(a,e)};yt.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:U.toDer(yt.certificateToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.publicKeyFromPem=function(t){var e=tr.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=U.fromDer(e.body);return yt.publicKeyFromAsn1(n)};yt.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:U.toDer(yt.publicKeyToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:U.toDer(yt.publicKeyToRSAPublicKey(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||tr.md.sha1.create(),n=e.type||"RSAPublicKey",o;switch(n){case"RSAPublicKey":o=U.toDer(yt.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":o=U.toDer(yt.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(o);var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};yt.certificationRequestFromPem=function(t,e,r){var n=tr.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=n.type,o}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=U.fromDer(n.body,r);return yt.certificationRequestFromAsn1(a,e)};yt.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:U.toDer(yt.certificationRequestToAsn1(t)).getBytes()};return tr.pem.encode(r,{maxline:e})};yt.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return T1(t.issuer,e)},t.issuer.addField=function(e){Cu([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return T1(t.subject,e)},t.subject.addField=function(e){Cu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Cu(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Cu(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)P4e(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,o=0;r===null&&o<t.extensions.length;++o)n=t.extensions[o],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||tr.md.sha1.create();var n=jn[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=yt.getTBSCertificate(t);var a=U.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,o=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=o.attributes,a.actualIssuer=n.attributes,a}var c=e.md;if(c===null){c=VF({signatureOid:e.signatureOid,type:"certificate"});var l=e.tbsCertificate||yt.getTBSCertificate(e),u=U.toDer(l);c.update(u.getBytes())}return c!==null&&(r=Q4e({certificate:t,md:c,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,o=e.subject;if(n.hash&&o.hash)r=n.hash===o.hash;else if(n.attributes.length===o.attributes.length){r=!0;for(var a,c,l=0;r&&l<n.attributes.length;++l)a=n.attributes[l],c=o.attributes[l],(a.type!==c.type||a.value!==c.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return yt.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=jn.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return tr.util.hexToBytes(n.subjectKeyIdentifier)===o}}return!1},t};yt.certificateFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,gpt,r,n)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=n,o}var a=U.derToOid(r.publicKeyOid);if(a!==yt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=yt.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=tr.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=tr.asn1.derToOid(r.certSignatureOid),c.signatureParameters=GF(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=tr.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=GF(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(U.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(U.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(U.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(U.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=u[0],c.validity.notAfter=u[1],c.tbsCertificate=r.tbsCertificate,e){c.md=VF({signatureOid:c.signatureOid,type:"certificate"});var d=U.toDer(c.tbsCertificate);c.md.update(d.getBytes())}var h=tr.md.sha1.create(),A=U.toDer(r.certIssuer);h.update(A.getBytes()),c.issuer.getField=function(E){return T1(c.issuer,E)},c.issuer.addField=function(E){Cu([E]),c.issuer.attributes.push(E)},c.issuer.attributes=yt.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=h.digest().toHex();var p=tr.md.sha1.create(),g=U.toDer(r.certSubject);return p.update(g.getBytes()),c.subject.getField=function(E){return T1(c.subject,E)},c.subject.addField=function(E){Cu([E]),c.subject.attributes.push(E)},c.subject.attributes=yt.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=p.digest().toHex(),r.certExtensions?c.extensions=yt.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=yt.publicKeyFromAsn1(r.subjectPublicKeyInfo),c};yt.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],o=0;o<n.value.length;++o)e.push(yt.certificateExtensionFromAsn1(n.value[o]));return e};yt.certificateExtensionFromAsn1=function(t){var e={};if(e.id=U.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===U.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in jn){if(e.name=jn[e.id],e.name==="keyUsage"){var r=U.fromDer(e.value),n=0,o=0;r.value.length>1&&(n=r.value.charCodeAt(1),o=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(o&128)===128}else if(e.name==="basicConstraints"){var r=U.fromDer(e.value);r.value.length>0&&r.value[0].type===U.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===U.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(e.pathLenConstraint=U.derToInteger(a))}else if(e.name==="extKeyUsage")for(var r=U.fromDer(e.value),c=0;c<r.value.length;++c){var l=U.derToOid(r.value[c].value);l in jn?e[jn[l]]=!0:e[l]=!0}else if(e.name==="nsCertType"){var r=U.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var u,r=U.fromDer(e.value),d=0;d<r.value.length;++d){u=r.value[d];var h={type:u.type,value:u.value};switch(e.altNames.push(h),u.type){case 1:case 2:case 6:break;case 7:h.ip=tr.util.bytesToIP(u.value);break;case 8:h.oid=U.derToOid(u.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=U.fromDer(e.value);e.subjectKeyIdentifier=tr.util.bytesToHex(r.value)}}return e};yt.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!U.validate(t,Ept,r,n)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=n,o}var a=U.derToOid(r.publicKeyOid);if(a!==yt.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=yt.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=tr.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=GF(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=tr.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=GF(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,e){c.md=VF({signatureOid:c.signatureOid,type:"certification request"});var l=U.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var u=tr.md.sha1.create();return c.subject.getField=function(d){return T1(c.subject,d)},c.subject.addField=function(d){Cu([d]),c.subject.attributes.push(d)},c.subject.attributes=yt.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),c.subject.hash=u.digest().toHex(),c.publicKey=yt.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(d){return T1(c,d)},c.addAttribute=function(d){Cu([d]),c.attributes.push(d)},c.attributes=yt.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c};yt.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return T1(t.subject,e)},t.subject.addField=function(e){Cu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return T1(t,e)},t.addAttribute=function(e){Cu([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Cu(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Cu(e),t.attributes=e},t.sign=function(e,r){t.md=r||tr.md.sha1.create();var n=jn[t.md.algorithm+"WithRSAEncryption"];if(!n){var o=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw o.algorithm=t.md.algorithm,o}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=yt.getCertificationRequestInfo(t);var a=U.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=VF({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||yt.getCertificationRequestInfo(t),o=U.toDer(n);r.update(o.getBytes())}return r!==null&&(e=Q4e({certificate:t,md:r,signature:t.signature})),e},t};function a5(t){for(var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),r,n,o=t.attributes,a=0;a<o.length;++a){r=o[a];var c=r.value,l=U.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===U.Type.UTF8&&(c=tr.util.encodeUtf8(c))),n=U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(r.type).getBytes()),U.create(U.Class.UNIVERSAL,l,!1,c)])]),e.value.push(n)}return e}s(a5,"_dnToAsn1");function Cu(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in yt.oids?e.name=yt.oids[e.type]:e.shortName&&e.shortName in $o&&(e.name=yt.oids[$o[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in yt.oids)e.type=yt.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in $o&&(e.shortName=$o[e.name]),e.type===jn.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=U.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var o=0;o<e.extensions.length;++o)e.value.push(yt.certificateExtensionToAsn1(P4e(e.extensions[o])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}s(Cu,"_fillMissingFields");function P4e(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in yt.oids&&(t.name=yt.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in yt.oids)t.id=yt.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,o=0,a=0;t.digitalSignature&&(o|=128,n=7),t.nonRepudiation&&(o|=64,n=6),t.keyEncipherment&&(o|=32,n=5),t.dataEncipherment&&(o|=16,n=4),t.keyAgreement&&(o|=8,n=3),t.keyCertSign&&(o|=4,n=2),t.cRLSign&&(o|=2,n=1),t.encipherOnly&&(o|=1,n=0),t.decipherOnly&&(a|=128,n=7);var c=String.fromCharCode(n);a!==0?c+=String.fromCharCode(o)+String.fromCharCode(a):o!==0&&(c+=String.fromCharCode(o)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,c)}else if(t.name==="basicConstraints")t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var l=t.value.value;for(var u in t)t[u]===!0&&(u in jn?l.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(jn[u]).getBytes())):u.indexOf(".")!==-1&&l.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(u).getBytes())))}else if(t.name==="nsCertType"){var n=0,o=0;t.client&&(o|=128,n=7),t.server&&(o|=64,n=6),t.email&&(o|=32,n=5),t.objsign&&(o|=16,n=4),t.reserved&&(o|=8,n=3),t.sslCA&&(o|=4,n=2),t.emailCA&&(o|=2,n=1),t.objCA&&(o|=1,n=0);var c=String.fromCharCode(n);o!==0&&(c+=String.fromCharCode(o)),t.value=U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,c)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var d,h=0;h<t.altNames.length;++h){d=t.altNames[h];var c=d.value;if(d.type===7&&d.ip){if(c=tr.util.bytesFromIP(d.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?c=U.oidToDer(U.oidToDer(d.oid)):c=U.oidToDer(c));t.value.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,c))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=U.create(U.Class.UNIVERSAL,U.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var A=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=A.toHex(),t.value=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,A.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);var l=t.value.value;if(t.keyIdentifier){var p=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;l.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!1,p))}if(t.authorityCertIssuer){var g=[U.create(U.Class.CONTEXT_SPECIFIC,4,!0,[a5(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];l.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,g))}if(t.serialNumber){var E=tr.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);l.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!1,E))}}else if(t.name==="cRLDistributionPoints"){t.value=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);for(var l=t.value.value,v=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]),w=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]),d,h=0;h<t.altNames.length;++h){d=t.altNames[h];var c=d.value;if(d.type===7&&d.ip){if(c=tr.util.bytesFromIP(d.ip),c===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else d.type===8&&(d.oid?c=U.oidToDer(U.oidToDer(d.oid)):c=U.oidToDer(c));w.value.push(U.create(U.Class.CONTEXT_SPECIFIC,d.type,!1,c))}v.value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[w])),l.push(v)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}s(P4e,"_fillMissingExtensionFields");function $X(t,e){switch(t){case jn["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.mgf.hash.algorithmOid).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.saltLength).getBytes())])),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,r);default:return U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")}}s($X,"_signatureParametersToAsn1");function Ipt(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var o=r[n],a=o.value,c=U.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===U.Type.UTF8&&(a=tr.util.encodeUtf8(a));var l=!1;"valueConstructed"in o&&(l=o.valueConstructed);var u=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(o.type).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[U.create(U.Class.UNIVERSAL,c,l,a)])]);e.value.push(u)}return e}s(Ipt,"_CRIAttributesToAsn1");var xpt=new Date("1950-01-01T00:00:00Z"),vpt=new Date("2050-01-01T00:00:00Z");function D4e(t){return t>=xpt&&t<vpt?U.create(U.Class.UNIVERSAL,U.Type.UTCTIME,!1,U.dateToUtcTime(t)):U.create(U.Class.UNIVERSAL,U.Type.GENERALIZEDTIME,!1,U.dateToGeneralizedTime(t))}s(D4e,"_dateToAsn1");yt.getTBSCertificate=function(t){var e=D4e(t.validity.notBefore),r=D4e(t.validity.notAfter),n=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes())]),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,tr.util.hexToBytes(t.serialNumber)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.siginfo.algorithmOid).getBytes()),$X(t.siginfo.algorithmOid,t.siginfo.parameters)]),a5(t.issuer),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,r]),a5(t.subject),yt.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(U.create(U.Class.CONTEXT_SPECIFIC,2,!0,[U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(yt.certificateExtensionsToAsn1(t.extensions)),n};yt.getCertificationRequestInfo=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),a5(t.subject),yt.publicKeyToAsn1(t.publicKey),Ipt(t)]);return e};yt.distinguishedNameToAsn1=function(t){return a5(t)};yt.certificateToAsn1=function(t){var e=t.tbsCertificate||yt.getTBSCertificate(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),$X(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.signature)])};yt.certificateExtensionsToAsn1=function(t){var e=U.create(U.Class.CONTEXT_SPECIFIC,3,!0,[]),r=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(yt.certificateExtensionToAsn1(t[n]));return e};yt.certificateExtensionToAsn1=function(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[]);e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.id).getBytes())),t.critical&&e.value.push(U.create(U.Class.UNIVERSAL,U.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=U.toDer(r).getBytes()),e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,r)),e};yt.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||yt.getCertificationRequestInfo(t);return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[e,U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureOid).getBytes()),$X(t.signatureOid,t.signatureParameters)]),U.create(U.Class.UNIVERSAL,U.Type.BITSTRING,!1,"\0"+t.signature)])};yt.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(c){var l=r(c.issuer);return l},e.addCertificate=function(c){if(typeof c=="string"&&(c=tr.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))if(c.subject.hash in e.certs){var l=e.certs[c.subject.hash];tr.util.isArray(l)||(l=[l]),l.push(c),e.certs[c.subject.hash]=l}else e.certs[c.subject.hash]=c},e.hasCertificate=function(c){typeof c=="string"&&(c=tr.pki.certificateFromPem(c));var l=r(c.subject);if(!l)return!1;tr.util.isArray(l)||(l=[l]);for(var u=U.toDer(yt.certificateToAsn1(c)).getBytes(),d=0;d<l.length;++d){var h=U.toDer(yt.certificateToAsn1(l[d])).getBytes();if(u===h)return!0}return!1},e.listAllCertificates=function(){var c=[];for(var l in e.certs)if(e.certs.hasOwnProperty(l)){var u=e.certs[l];if(!tr.util.isArray(u))c.push(u);else for(var d=0;d<u.length;++d)c.push(u[d])}return c},e.removeCertificate=function(c){var l;if(typeof c=="string"&&(c=tr.pki.certificateFromPem(c)),n(c.subject),!e.hasCertificate(c))return null;var u=r(c.subject);if(!tr.util.isArray(u))return l=e.certs[c.subject.hash],delete e.certs[c.subject.hash],l;for(var d=U.toDer(yt.certificateToAsn1(c)).getBytes(),h=0;h<u.length;++h){var A=U.toDer(yt.certificateToAsn1(u[h])).getBytes();d===A&&(l=u[h],u.splice(h,1))}return u.length===0&&delete e.certs[c.subject.hash],l};function r(c){return n(c),e.certs[c.hash]||null}s(r,"getBySubject");function n(c){if(!c.hash){var l=tr.md.sha1.create();c.attributes=yt.RDNAttributesAsArray(a5(c),l),c.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),t)for(var o=0;o<t.length;++o){var a=t[o];e.addCertificate(a)}return e};yt.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};yt.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),o=r.validityCheckDate;typeof o>"u"&&(o=new Date);var a=!0,c=null,l=0;do{var u=e.shift(),d=null,h=!1;if(o&&(o<u.validity.notBefore||o>u.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:yt.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:o}),c===null){if(d=e[0]||t.getIssuer(u),d===null&&u.isIssuer(u)&&(h=!0,d=u),d){var A=d;tr.util.isArray(A)||(A=[A]);for(var p=!1;!p&&A.length>0;){d=A.shift();try{p=d.verify(u)}catch{}}p||(c={message:"Certificate signature is invalid.",error:yt.certificateError.bad_certificate})}c===null&&(!d||h)&&!t.hasCertificate(u)&&(c={message:"Certificate is not trusted.",error:yt.certificateError.unknown_ca})}if(c===null&&d&&!u.isIssuer(d)&&(c={message:"Certificate issuer is invalid.",error:yt.certificateError.bad_certificate}),c===null)for(var g={keyUsage:!0,basicConstraints:!0},E=0;c===null&&E<u.extensions.length;++E){var v=u.extensions[E];v.critical&&!(v.name in g)&&(c={message:"Certificate has an unsupported critical extension.",error:yt.certificateError.unsupported_certificate})}if(c===null&&(!a||e.length===0&&(!d||h))){var w=u.getExtension("basicConstraints"),_=u.getExtension("keyUsage");if(_!==null&&(!_.keyCertSign||w===null)&&(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:yt.certificateError.bad_certificate}),c===null&&w!==null&&!w.cA&&(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:yt.certificateError.bad_certificate}),c===null&&_!==null&&"pathLenConstraint"in w){var S=l-1;S>w.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:yt.certificateError.bad_certificate})}}var D=c===null?!0:c.error,N=r.verify?r.verify(D,l,n):D;if(N===!0)c=null;else throw D===!0&&(c={message:"The application rejected the certificate.",error:yt.certificateError.bad_certificate}),(N||N===0)&&(typeof N=="object"&&!tr.util.isArray(N)?(N.message&&(c.message=N.message),N.error&&(c.error=N.error)):typeof N=="string"&&(c.error=N)),c;a=!1,++l}while(e.length>0);return!0}});var zX=q((HJr,M4e)=>{f();var Gi=rn();Pf();e5();x1();VX();GX();mu();MS();i5();ni();WF();var me=Gi.asn1,En=Gi.pki,US=M4e.exports=Gi.pkcs12=Gi.pkcs12||{},L4e={name:"ContentInfo",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},bpt={name:"PFX",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,capture:"version"},L4e,{name:"PFX.macData",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:me.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},Tpt={name:"SafeBag",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:me.Class.UNIVERSAL,type:me.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},_pt={name:"Attribute",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:me.Class.UNIVERSAL,type:me.Type.SET,constructed:!0,capture:"values"}]},wpt={name:"CertBag",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:me.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:me.Class.UNIVERSAL,type:me.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function OS(t,e,r,n){for(var o=[],a=0;a<t.length;a++)for(var c=0;c<t[a].safeBags.length;c++){var l=t[a].safeBags[c];if(!(n!==void 0&&l.type!==n)){if(e===null){o.push(l);continue}l.attributes[e]!==void 0&&l.attributes[e].indexOf(r)>=0&&o.push(l)}}return o}s(OS,"_getBagsByAttribute");US.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},o=[];if(!me.validate(t,bpt,n,o)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var c={version:n.version.charCodeAt(0),safeContents:[],getBags:s(function(w){var _={},S;return"localKeyId"in w?S=w.localKeyId:"localKeyIdHex"in w&&(S=Gi.util.hexToBytes(w.localKeyIdHex)),S===void 0&&!("friendlyName"in w)&&"bagType"in w&&(_[w.bagType]=OS(c.safeContents,null,null,w.bagType)),S!==void 0&&(_.localKeyId=OS(c.safeContents,"localKeyId",S,w.bagType)),"friendlyName"in w&&(_.friendlyName=OS(c.safeContents,"friendlyName",w.friendlyName,w.bagType)),_},"getBags"),getBagsByFriendlyName:s(function(w,_){return OS(c.safeContents,"friendlyName",w,_)},"getBagsByFriendlyName"),getBagsByLocalKeyId:s(function(w,_){return OS(c.safeContents,"localKeyId",w,_)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(me.derToOid(n.contentType)!==En.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=me.derToOid(n.contentType),a}var l=n.content.value[0];if(l.tagClass!==me.Class.UNIVERSAL||l.type!==me.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=YX(l),n.mac){var u=null,d=0,h=me.derToOid(n.macAlgorithm);switch(h){case En.oids.sha1:u=Gi.md.sha1.create(),d=20;break;case En.oids.sha256:u=Gi.md.sha256.create(),d=32;break;case En.oids.sha384:u=Gi.md.sha384.create(),d=48;break;case En.oids.sha512:u=Gi.md.sha512.create(),d=64;break;case En.oids.md5:u=Gi.md.md5.create(),d=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+h);var A=new Gi.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(Gi.util.bytesToHex(n.macIterations),16):1,g=US.generateKey(r,A,3,p,d,u),E=Gi.hmac.create();E.start(u,g),E.update(l.value);var v=E.getMac();if(v.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return Spt(c,l.value,e,r),c};function YX(t){if(t.composed||t.constructed){for(var e=Gi.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}s(YX,"_decodePkcs7Data");function Spt(t,e,r,n){if(e=me.fromDer(e,r),e.tagClass!==me.Class.UNIVERSAL||e.type!==me.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<e.value.length;o++){var a=e.value[o],c={},l=[];if(!me.validate(a,L4e,c,l)){var u=new Error("Cannot read ContentInfo.");throw u.errors=l,u}var d={encrypted:!1},h=null,A=c.content.value[0];switch(me.derToOid(c.contentType)){case En.oids.data:if(A.tagClass!==me.Class.UNIVERSAL||A.type!==me.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=YX(A).value;break;case En.oids.encryptedData:h=Bpt(A,n),d.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=me.derToOid(c.contentType),u}d.safeBags=Rpt(h,r,n),t.safeContents.push(d)}}s(Spt,"_decodeAuthenticatedSafe");function Bpt(t,e){var r={},n=[];if(!me.validate(t,Gi.pkcs7.asn1.encryptedDataValidator,r,n)){var o=new Error("Cannot read EncryptedContentInfo.");throw o.errors=n,o}var a=me.derToOid(r.contentType);if(a!==En.oids.data){var o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw o.oid=a,o}a=me.derToOid(r.encAlgorithm);var c=En.pbe.getCipher(a,r.encParameter,e),l=YX(r.encryptedContentAsn1),u=Gi.util.createBuffer(l.value);if(c.update(u),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}s(Bpt,"_decryptSafeContents");function Rpt(t,e,r){if(!e&&t.length===0)return[];if(t=me.fromDer(t,e),t.tagClass!==me.Class.UNIVERSAL||t.type!==me.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<t.value.length;o++){var a=t.value[o],c={},l=[];if(!me.validate(a,Tpt,c,l)){var u=new Error("Cannot read SafeBag.");throw u.errors=l,u}var d={type:me.derToOid(c.bagId),attributes:kpt(c.bagAttributes)};n.push(d);var h,A,p=c.bagValue.value[0];switch(d.type){case En.oids.pkcs8ShroudedKeyBag:if(p=En.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case En.oids.keyBag:try{d.key=En.privateKeyFromAsn1(p)}catch{d.key=null,d.asn1=p}continue;case En.oids.certBag:h=wpt,A=s(function(){if(me.derToOid(c.certId)!==En.oids.x509Certificate){var E=new Error("Unsupported certificate type, only X.509 supported.");throw E.oid=me.derToOid(c.certId),E}var v=me.fromDer(c.cert,e);try{d.cert=En.certificateFromAsn1(v,!0)}catch{d.cert=null,d.asn1=v}},"decoder");break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=d.type,u}if(h!==void 0&&!me.validate(p,h,c,l)){var u=new Error("Cannot read PKCS#12 "+h.name);throw u.errors=l,u}A()}return n}s(Rpt,"_decodeSafeContents");function kpt(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},o=[];if(!me.validate(t[r],_pt,n,o)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=o,a}var c=me.derToOid(n.oid);if(En.oids[c]!==void 0){e[En.oids[c]]=[];for(var l=0;l<n.values.length;++l)e[En.oids[c]].push(n.values[l].value)}}return e}s(kpt,"_decodeBagAttributes");US.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var o=n.localKeyId,a;if(o!==null)o=Gi.util.hexToBytes(o);else if(n.generateLocalKeyId)if(e){var c=Gi.util.isArray(e)?e[0]:e;typeof c=="string"&&(c=En.certificateFromPem(c));var l=Gi.md.sha1.create();l.update(me.toDer(En.certificateToAsn1(c)).getBytes()),o=l.digest().getBytes()}else o=Gi.random.getBytes(20);var u=[];o!==null&&u.push(me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.localKeyId).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SET,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,o)])])),"friendlyName"in n&&u.push(me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.friendlyName).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SET,!0,[me.create(me.Class.UNIVERSAL,me.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(a=me.create(me.Class.UNIVERSAL,me.Type.SET,!0,u));var d=[],h=[];e!==null&&(Gi.util.isArray(e)?h=e:h=[e]);for(var A=[],p=0;p<h.length;++p){e=h[p],typeof e=="string"&&(e=En.certificateFromPem(e));var g=p===0?a:void 0,E=En.certificateToAsn1(e),v=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.certBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.x509Certificate).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(E).getBytes())])])]),g]);A.push(v)}if(A.length>0){var w=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,A),_=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(w).getBytes())])]);d.push(_)}var S=null;if(t!==null){var D=En.wrapRsaPrivateKey(En.privateKeyToAsn1(t));r===null?S=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.keyBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[D]),a]):S=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.pkcs8ShroudedKeyBag).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[En.encryptPrivateKeyInfo(D,r,n)]),a]);var N=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[S]),P=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(N).getBytes())])]);d.push(P)}var O=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,d),Y;if(n.useMac){var l=Gi.md.sha1.create(),ne=new Gi.util.ByteBuffer(Gi.random.getBytes(n.saltSize)),oe=n.count,t=US.generateKey(r,ne,3,oe,20),he=Gi.hmac.create();he.start(l,t),he.update(me.toDer(O).getBytes());var $=he.getMac();Y=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.sha1).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.NULL,!1,"")]),me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,$.getBytes())]),me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,ne.getBytes()),me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,me.integerToDer(oe).getBytes())])}return me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,me.integerToDer(3).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(En.oids.data).getBytes()),me.create(me.Class.CONTEXT_SPECIFIC,0,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,me.toDer(O).getBytes())])]),Y])};US.generateKey=Gi.pbe.generatePkcs12Key});var KX=q((VJr,O4e)=>{f();var _1=rn();Pf();x1();GX();GE();PF();zX();qF();MS();ni();WF();var jX=_1.asn1,c5=O4e.exports=_1.pki=_1.pki||{};c5.pemToDer=function(t){var e=_1.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return _1.util.createBuffer(e.body)};c5.privateKeyFromPem=function(t){var e=_1.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=jX.fromDer(e.body);return c5.privateKeyFromAsn1(n)};c5.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:jX.toDer(c5.privateKeyToAsn1(t)).getBytes()};return _1.pem.encode(r,{maxline:e})};c5.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:jX.toDer(t).getBytes()};return _1.pem.encode(r,{maxline:e})}});var rZ=q(($Jr,Y4e)=>{f();var ot=rn();Pf();e5();kF();GE();KX();mu();i5();ni();var jF=s(function(t,e,r,n){var o=ot.util.createBuffer(),a=t.length>>1,c=a+(t.length&1),l=t.substr(0,c),u=t.substr(a,c),d=ot.util.createBuffer(),h=ot.hmac.create();r=e+r;var A=Math.ceil(n/16),p=Math.ceil(n/20);h.start("MD5",l);var g=ot.util.createBuffer();d.putBytes(r);for(var E=0;E<A;++E)h.start(null,null),h.update(d.getBytes()),d.putBuffer(h.digest()),h.start(null,null),h.update(d.bytes()+r),g.putBuffer(h.digest());h.start("SHA1",u);var v=ot.util.createBuffer();d.clear(),d.putBytes(r);for(var E=0;E<p;++E)h.start(null,null),h.update(d.getBytes()),d.putBuffer(h.digest()),h.start(null,null),h.update(d.bytes()+r),v.putBuffer(h.digest());return o.putBytes(ot.util.xorBytes(g.getBytes(),v.getBytes(),n)),o},"prf_TLS1"),Dpt=s(function(t,e,r){var n=ot.hmac.create();n.start("SHA1",t);var o=ot.util.createBuffer();return o.putInt32(e[0]),o.putInt32(e[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),n.update(o.getBytes()),n.digest().getBytes()},"hmac_sha1"),Npt=s(function(t,e,r){var n=!1;try{var o=t.deflate(e.fragment.getBytes());e.fragment=ot.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"deflate"),Qpt=s(function(t,e,r){var n=!1;try{var o=t.inflate(e.fragment.getBytes());e.fragment=ot.util.createBuffer(o),e.length=o.length,n=!0}catch{}return n},"inflate"),Al=s(function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return ot.util.createBuffer(t.getBytes(r))},"readVector"),Eu=s(function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},"writeVector"),G={};G.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};G.SupportedVersions=[G.Versions.TLS_1_1,G.Versions.TLS_1_0];G.Version=G.SupportedVersions[0];G.MaxFragment=15360;G.ConnectionEnd={server:0,client:1};G.PRFAlgorithm={tls_prf_sha256:0};G.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};G.CipherType={stream:0,block:1,aead:2};G.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};G.CompressionMethod={none:0,deflate:1};G.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};G.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};G.Alert={};G.Alert.Level={warning:1,fatal:2};G.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};G.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};G.CipherSuites={};G.getCipherSuite=function(t){var e=null;for(var r in G.CipherSuites){var n=G.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};G.handleUnexpected=function(t,e){var r=!t.open&&t.entity===G.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})};G.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(G.queue(t,G.createAlert(t,{level:G.Alert.Level.warning,description:G.Alert.Description.no_renegotiation})),G.flush(t)),t.process()};G.parseHelloMessage=function(t,e,r){var n=null,o=t.entity===G.ConnectionEnd.client;if(r<38)t.error(t,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});else{var a=e.fragment,c=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:ot.util.createBuffer(a.getBytes(32)),session_id:Al(a,1),extensions:[]},o?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=Al(a,2),n.compression_methods=Al(a,1)),c=r-(c-a.length()),c>0){for(var l=Al(a,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Al(l,2)});if(!o)for(var u=0;u<n.extensions.length;++u){var d=n.extensions[u];if(d.type[0]===0&&d.type[1]===0)for(var h=Al(d.data,2);h.length()>0;){var A=h.getByte();if(A!==0)break;t.session.extensions.server_name.serverNameList.push(Al(h,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});if(o)t.session.cipherSuite=G.getCipherSuite(n.cipher_suite);else for(var p=ot.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(t.session.cipherSuite=G.getCipherSuite(p.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure},cipherSuite:ot.util.bytesToHex(n.cipher_suite)});o?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=G.CompressionMethod.none}return n};G.createSecurityParameters=function(t,e){var r=t.entity===G.ConnectionEnd.client,n=e.random.bytes(),o=r?t.session.sp.client_random:n,a=r?n:G.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:G.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:a}};G.handleServerHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}});t.session.version=t.version;var o=n.session_id.bytes();o.length>0&&o===t.session.id?(t.expect=q4e,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=Fpt,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.session.id=o,t.process()}};G.handleClientHello=function(t,e,r){var n=G.parseHelloMessage(t,e,r);if(!t.fail){var o=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(o),a===null?o="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,o="")),o.length===0&&(o=ot.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var c,l=1;l<G.SupportedVersions.length&&(c=G.SupportedVersions[l],!(c.minor<=n.version.minor));++l);t.version={major:c.major,minor:c.minor},t.session.version=t.version}a!==null?(t.expect=eZ,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?Gpt:ZX,t.session.resuming=!1,G.createSecurityParameters(t,n)),t.open=!0,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHello(t)})),t.session.resuming?(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.pending=G.createConnectionState(t),t.state.current.write=t.state.pending.write,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))):(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)})),t.fail||(G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerKeyExchange(t)})),t.verifyClient!==!1&&G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificateRequest(t)})),G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createServerHelloDone(t)})))),G.flush(t),t.process()}};G.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_list:Al(n,3)},a,c,l=[];try{for(;o.certificate_list.length()>0;)a=Al(o.certificate_list,3),c=ot.asn1.fromDer(a),a=ot.pki.certificateFromAsn1(c,!0),l.push(a)}catch(d){return t.error(t,{message:"Could not parse certificate list.",cause:d,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var u=t.entity===G.ConnectionEnd.client;(u||t.verifyClient===!0)&&l.length===0?t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}}):l.length===0?t.expect=u?U4e:ZX:(u?t.session.serverCertificate=l[0]:t.session.clientCertificate=l[0],G.verifyCertificateChain(t,l)&&(t.expect=u?U4e:ZX)),t.process()};G.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});t.expect=Lpt,t.process()};G.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unsupported_certificate}});var n=e.fragment,o={enc_pre_master_secret:Al(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=ot.pki.privateKeyFromPem(a)}catch(u){t.error(t,{message:"Could not get private key.",cause:u,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}if(a===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}});try{var c=t.session.sp;c.pre_master_secret=a.decrypt(o.enc_pre_master_secret);var l=t.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{c.pre_master_secret=ot.random.getBytes(48)}t.expect=eZ,t.session.clientCertificate!==null&&(t.expect=Vpt),t.process()};G.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment,o={certificate_types:Al(n,1),certificate_authorities:Al(n,2)};t.session.certificateRequest=o,t.expect=Mpt,t.process()};G.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a={signature:Al(n,2).getBytes()},c=ot.util.createBuffer();c.putBuffer(t.session.md5.digest()),c.putBuffer(t.session.sha1.digest()),c=c.getBytes();try{var l=t.session.clientCertificate;if(!l.publicKey.verify(c,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(o),t.session.sha1.update(o)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.handshake_failure}})}t.expect=eZ,t.process()};G.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.insufficient_security}},o=0,a=t.verify(t,n.alert.description,o,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!ot.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),t.error(t,n)}t.session.certificateRequest!==null&&(e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createCertificate(t)}),G.queue(t,e)),e=G.createRecord(t,{type:G.ContentType.handshake,data:G.createClientKeyExchange(t)}),G.queue(t,e),t.expect=Hpt;var c=s(function(l,u){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&G.queue(l,G.createRecord(l,{type:G.ContentType.handshake,data:G.createCertificateVerify(l,u)})),G.queue(l,G.createRecord(l,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),l.state.pending=G.createConnectionState(l),l.state.current.write=l.state.pending.write,G.queue(l,G.createRecord(l,{type:G.ContentType.handshake,data:G.createFinished(l)})),l.expect=q4e,G.flush(l),l.process()},"callback");if(t.session.certificateRequest===null||t.session.clientCertificate===null)return c(t,null);G.getClientSignature(t,c)};G.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.illegal_parameter}});var r=t.entity===G.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=G.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Opt:Wpt,t.process()};G.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var o=n.bytes();n.read+=4;var a=e.fragment.getBytes();n=ot.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var c=t.entity===G.ConnectionEnd.client,l=c?"server finished":"client finished",u=t.session.sp,d=12,h=jF;if(n=h(u.master_secret,l,n.getBytes(),d),n.getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decrypt_error}});t.session.md5.update(o),t.session.sha1.update(o),(t.session.resuming&&c||!t.session.resuming&&!c)&&(G.queue(t,G.createRecord(t,{type:G.ContentType.change_cipher_spec,data:G.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,G.queue(t,G.createRecord(t,{type:G.ContentType.handshake,data:G.createFinished(t)}))),t.expect=c?Upt:$pt,t.handshaking=!1,++t.handshakes,t.peerCertificate=c?t.session.serverCertificate:t.session.clientCertificate,G.flush(t),t.isConnected=!0,t.connected(t),t.process()};G.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},o;switch(n.description){case G.Alert.Description.close_notify:o="Connection closed.";break;case G.Alert.Description.unexpected_message:o="Unexpected message.";break;case G.Alert.Description.bad_record_mac:o="Bad record MAC.";break;case G.Alert.Description.decryption_failed:o="Decryption failed.";break;case G.Alert.Description.record_overflow:o="Record overflow.";break;case G.Alert.Description.decompression_failure:o="Decompression failed.";break;case G.Alert.Description.handshake_failure:o="Handshake failure.";break;case G.Alert.Description.bad_certificate:o="Bad certificate.";break;case G.Alert.Description.unsupported_certificate:o="Unsupported certificate.";break;case G.Alert.Description.certificate_revoked:o="Certificate revoked.";break;case G.Alert.Description.certificate_expired:o="Certificate expired.";break;case G.Alert.Description.certificate_unknown:o="Certificate unknown.";break;case G.Alert.Description.illegal_parameter:o="Illegal parameter.";break;case G.Alert.Description.unknown_ca:o="Unknown certificate authority.";break;case G.Alert.Description.access_denied:o="Access denied.";break;case G.Alert.Description.decode_error:o="Decode error.";break;case G.Alert.Description.decrypt_error:o="Decrypt error.";break;case G.Alert.Description.export_restriction:o="Export restriction.";break;case G.Alert.Description.protocol_version:o="Unsupported protocol version.";break;case G.Alert.Description.insufficient_security:o="Insufficient security.";break;case G.Alert.Description.internal_error:o="Internal error.";break;case G.Alert.Description.user_canceled:o="User canceled.";break;case G.Alert.Description.no_renegotiation:o="Renegotiation not supported.";break;default:o="Unknown error.";break}if(n.description===G.Alert.Description.close_notify)return t.close();t.error(t,{message:o,send:!1,origin:t.entity===G.ConnectionEnd.client?"server":"client",alert:n}),t.process()};G.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt24();if(o>r.length())return t.fragmented=e,e.fragment=ot.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(o+4);r.read+=4,n in zF[t.entity][t.expect]?(t.entity===G.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:ot.md.md5.create(),sha1:ot.md.sha1.create()}),n!==G.HandshakeType.hello_request&&n!==G.HandshakeType.certificate_verify&&n!==G.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),zF[t.entity][t.expect][n](t,e,o)):G.handleUnexpected(t,e)};G.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};G.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),o=r.getInt16(),a=r.getBytes(o);if(n===G.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>a.length)return t.process();G.queue(t,G.createRecord(t,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_response,a)})),G.flush(t)}else if(n===G.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,ot.util.createBuffer(a))}t.process()};var Ppt=0,Fpt=1,U4e=2,Lpt=3,Mpt=4,q4e=5,Opt=6,Upt=7,Hpt=8,qpt=0,Gpt=1,ZX=2,Vpt=3,eZ=4,Wpt=5,$pt=6,H=G.handleUnexpected,G4e=G.handleChangeCipherSpec,Qa=G.handleAlert,k0=G.handleHandshake,V4e=G.handleApplicationData,Pa=G.handleHeartbeat,tZ=[];tZ[G.ConnectionEnd.client]=[[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[G4e,Qa,H,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,V4e,Pa],[H,Qa,k0,H,Pa]];tZ[G.ConnectionEnd.server]=[[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,H,Pa],[G4e,Qa,H,H,Pa],[H,Qa,k0,H,Pa],[H,Qa,k0,V4e,Pa],[H,Qa,k0,H,Pa]];var w1=G.handleHelloRequest,Ypt=G.handleServerHello,W4e=G.handleCertificate,H4e=G.handleServerKeyExchange,JX=G.handleCertificateRequest,$F=G.handleServerHelloDone,$4e=G.handleFinished,zF=[];zF[G.ConnectionEnd.client]=[[H,H,Ypt,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,W4e,H4e,JX,$F,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H4e,JX,$F,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H,JX,$F,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H,H,$F,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,$4e],[w1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[w1,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];var zpt=G.handleClientHello,jpt=G.handleClientKeyExchange,Kpt=G.handleCertificateVerify;zF[G.ConnectionEnd.server]=[[H,zpt,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,W4e,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,jpt,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,Kpt,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,$4e],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]];G.generateKeys=function(t,e){var r=jF,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var o=2*e.mac_key_length+2*e.enc_key_length,a=t.version.major===G.Versions.TLS_1_0.major&&t.version.minor===G.Versions.TLS_1_0.minor;a&&(o+=2*e.fixed_iv_length);var c=r(e.master_secret,"key expansion",n,o),l={client_write_MAC_key:c.getBytes(e.mac_key_length),server_write_MAC_key:c.getBytes(e.mac_key_length),client_write_key:c.getBytes(e.enc_key_length),server_write_key:c.getBytes(e.enc_key_length)};return a&&(l.client_write_IV=c.getBytes(e.fixed_iv_length),l.server_write_IV=c.getBytes(e.fixed_iv_length)),l};G.createConnectionState=function(t){var e=t.entity===G.ConnectionEnd.client,r=s(function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:s(function(c){return!0},"cipherFunction"),compressionState:null,compressFunction:s(function(c){return!0},"compressFunction"),updateSequenceNumber:s(function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]},"updateSequenceNumber")};return a},"createMode"),n={read:r(),write:r()};if(n.read.update=function(a,c){return n.read.cipherFunction(c,n.read)?n.read.compressFunction(a,c,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,c){return n.write.compressFunction(a,c,n.write)?n.write.cipherFunction(c,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}),!a.fail},t.session){var o=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(o),o.keys=G.generateKeys(t,o),n.read.macKey=e?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=e?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,o),o.compression_algorithm){case G.CompressionMethod.none:break;case G.CompressionMethod.deflate:n.read.compressFunction=Qpt,n.write.compressFunction=Npt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};G.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=ot.util.createBuffer();return r.putInt32(e),r.putBytes(ot.random.getBytes(28)),r};G.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};G.createAlert=function(t,e){var r=ot.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),G.createRecord(t,{type:G.ContentType.alert,data:r})};G.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=ot.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var o=e.length(),a=ot.util.createBuffer();a.putByte(G.CompressionMethod.none);var c=a.length(),l=ot.util.createBuffer();if(t.virtualHost){var u=ot.util.createBuffer();u.putByte(0),u.putByte(0);var d=ot.util.createBuffer();d.putByte(0),Eu(d,2,ot.util.createBuffer(t.virtualHost));var h=ot.util.createBuffer();Eu(h,2,d),Eu(u,2,h),l.putBuffer(u)}var A=l.length();A>0&&(A+=2);var p=t.session.id,g=p.length+1+2+4+28+2+o+1+c+A,E=ot.util.createBuffer();return E.putByte(G.HandshakeType.client_hello),E.putInt24(g),E.putByte(t.version.major),E.putByte(t.version.minor),E.putBytes(t.session.sp.client_random),Eu(E,1,ot.util.createBuffer(p)),Eu(E,2,e),Eu(E,1,a),A>0&&Eu(E,2,l),E};G.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=ot.util.createBuffer();return n.putByte(G.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),Eu(n,1,ot.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};G.createCertificate=function(t){var e=t.entity===G.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var o=ot.util.createBuffer();if(r!==null)try{ot.util.isArray(r)||(r=[r]);for(var a=null,c=0;c<r.length;++c){var l=ot.pem.decode(r[c])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=l.type,u}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=ot.util.createBuffer(l.body);a===null&&(a=ot.asn1.fromDer(d.bytes(),!1));var h=ot.util.createBuffer();Eu(h,3,d),o.putBuffer(h)}r=ot.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(g){return t.error(t,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate}})}var A=3+o.length(),p=ot.util.createBuffer();return p.putByte(G.HandshakeType.certificate),p.putInt24(A),Eu(p,3,o),p};G.createClientKeyExchange=function(t){var e=ot.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(ot.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var o=e.length+2,a=ot.util.createBuffer();return a.putByte(G.HandshakeType.client_key_exchange),a.putInt24(o),a.putInt16(e.length),a.putBytes(e),a};G.createServerKeyExchange=function(t){var e=0,r=ot.util.createBuffer();return e>0&&(r.putByte(G.HandshakeType.server_key_exchange),r.putInt24(e)),r};G.getClientSignature=function(t,e){var r=ot.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,o,a){var c=null;if(n.getPrivateKey)try{c=n.getPrivateKey(n,n.session.clientCertificate),c=ot.pki.privateKeyFromPem(c)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}})}c===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.internal_error}}):o=c.sign(o,null),a(n,o)},t.getSignature(t,r,e)};G.createCertificateVerify=function(t,e){var r=e.length+2,n=ot.util.createBuffer();return n.putByte(G.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};G.createCertificateRequest=function(t){var e=ot.util.createBuffer();e.putByte(1);var r=ot.util.createBuffer();for(var n in t.caStore.certs){var o=t.caStore.certs[n],a=ot.pki.distinguishedNameToAsn1(o.subject),c=ot.asn1.toDer(a);r.putInt16(c.length()),r.putBuffer(c)}var l=1+e.length()+2+r.length(),u=ot.util.createBuffer();return u.putByte(G.HandshakeType.certificate_request),u.putInt24(l),Eu(u,1,e),Eu(u,2,r),u};G.createServerHelloDone=function(t){var e=ot.util.createBuffer();return e.putByte(G.HandshakeType.server_hello_done),e.putInt24(0),e};G.createChangeCipherSpec=function(){var t=ot.util.createBuffer();return t.putByte(1),t};G.createFinished=function(t){var e=ot.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===G.ConnectionEnd.client,n=t.session.sp,o=12,a=jF,c=r?"client finished":"server finished";e=a(n.master_secret,c,e.getBytes(),o);var l=ot.util.createBuffer();return l.putByte(G.HandshakeType.finished),l.putInt24(e.length()),l.putBuffer(e),l};G.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=ot.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var o=n.length(),a=Math.max(16,o-r-3);return n.putBytes(ot.random.getBytes(a)),n};G.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===G.ContentType.handshake||e.type===G.ContentType.alert||e.type===G.ContentType.change_cipher_spec))){if(e.type===G.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=G.MaxFragment)n=[e];else{n=[];for(var o=e.fragment.bytes();o.length>G.MaxFragment;)n.push(G.createRecord(t,{type:e.type,data:ot.util.createBuffer(o.slice(0,G.MaxFragment))})),o=o.slice(G.MaxFragment);o.length>0&&n.push(G.createRecord(t,{type:e.type,data:ot.util.createBuffer(o)}))}for(var a=0;a<n.length&&!t.fail;++a){var c=n[a],l=t.state.current.write;l.update(t,c)&&t.records.push(c)}}};G.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var XX=s(function(t){switch(t){case!0:return!0;case ot.pki.certificateError.bad_certificate:return G.Alert.Description.bad_certificate;case ot.pki.certificateError.unsupported_certificate:return G.Alert.Description.unsupported_certificate;case ot.pki.certificateError.certificate_revoked:return G.Alert.Description.certificate_revoked;case ot.pki.certificateError.certificate_expired:return G.Alert.Description.certificate_expired;case ot.pki.certificateError.certificate_unknown:return G.Alert.Description.certificate_unknown;case ot.pki.certificateError.unknown_ca:return G.Alert.Description.unknown_ca;default:return G.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Jpt=s(function(t){switch(t){case!0:return!0;case G.Alert.Description.bad_certificate:return ot.pki.certificateError.bad_certificate;case G.Alert.Description.unsupported_certificate:return ot.pki.certificateError.unsupported_certificate;case G.Alert.Description.certificate_revoked:return ot.pki.certificateError.certificate_revoked;case G.Alert.Description.certificate_expired:return ot.pki.certificateError.certificate_expired;case G.Alert.Description.certificate_unknown:return ot.pki.certificateError.certificate_unknown;case G.Alert.Description.unknown_ca:return ot.pki.certificateError.unknown_ca;default:return ot.pki.certificateError.bad_certificate}},"_alertDescToCertError");G.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(a,c,l){var u=XX(a),d=t.verify(t,a,c,l);if(d!==!0){if(typeof d=="object"&&!ot.util.isArray(d)){var h=new Error("The application rejected the certificate.");throw h.send=!0,h.alert={level:G.Alert.Level.fatal,description:G.Alert.Description.bad_certificate},d.message&&(h.message=d.message),d.alert&&(h.alert.description=d.alert),h}d!==a&&(d=Jpt(d))}return d},ot.pki.verifyCertificateChain(t.caStore,e,r)}catch(a){var o=a;(typeof o!="object"||ot.util.isArray(o))&&(o={send:!0,alert:{level:G.Alert.Level.fatal,description:XX(a)}}),"send"in o||(o.send=!0),"alert"in o||(o.alert={level:G.Alert.Level.fatal,description:XX(o.error)}),t.error(t,o)}return!t.fail};G.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(o){var a=null,c=null;if(o?c=ot.util.bytesToHex(o):r.order.length>0&&(c=r.order[0]),c!==null&&c in r.cache){a=r.cache[c],delete r.cache[c];for(var l in r.order)if(r.order[l]===c){r.order.splice(l,1);break}}return a},r.setSession=function(o,a){if(r.order.length===r.capacity){var c=r.order.shift();delete r.cache[c]}var c=ot.util.bytesToHex(o);r.order.push(c),r.cache[c]=a}}return r};G.createConnection=function(t){var e=null;t.caStore?ot.util.isArray(t.caStore)?e=ot.pki.createCaStore(t.caStore):e=t.caStore:e=ot.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in G.CipherSuites)r.push(G.CipherSuites[n])}var o=t.server?G.ConnectionEnd.server:G.ConnectionEnd.client,a=t.sessionCache?G.createSessionCache(t.sessionCache):null,c={version:{major:G.Version.major,minor:G.Version.minor},entity:o,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(h,A,p,g){return A},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:ot.util.createBuffer(),tlsData:ot.util.createBuffer(),data:ot.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:s(function(h,A){A.origin=A.origin||(h.entity===G.ConnectionEnd.client?"client":"server"),A.send&&(G.queue(h,G.createAlert(h,A.alert)),G.flush(h));var p=A.fatal!==!1;p&&(h.fail=!0),t.error(h,A),p&&h.close(!1)},"error"),deflate:t.deflate||null,inflate:t.inflate||null};c.reset=function(h){c.version={major:G.Version.major,minor:G.Version.minor},c.record=null,c.session=null,c.peerCertificate=null,c.state={pending:null,current:null},c.expect=c.entity===G.ConnectionEnd.client?Ppt:qpt,c.fragmented=null,c.records=[],c.open=!1,c.handshakes=0,c.handshaking=!1,c.isConnected=!1,c.fail=!(h||typeof h>"u"),c.input.clear(),c.tlsData.clear(),c.data.clear(),c.state.current=G.createConnectionState(c)},c.reset();var l=s(function(h,A){var p=A.type-G.ContentType.change_cipher_spec,g=tZ[h.entity][h.expect];p in g?g[p](h,A):G.handleUnexpected(h,A)},"_update"),u=s(function(h){var A=0,p=h.input,g=p.length();if(g<5)A=5-g;else{h.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:ot.util.createBuffer(),ready:!1};var E=h.record.version.major===h.version.major;E&&h.session&&h.session.version&&(E=h.record.version.minor===h.version.minor),E||h.error(h,{message:"Incompatible TLS version.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.protocol_version}})}return A},"_readRecordHeader"),d=s(function(h){var A=0,p=h.input,g=p.length();if(g<h.record.length)A=h.record.length-g;else{h.record.fragment.putBytes(p.getBytes(h.record.length)),p.compact();var E=h.state.current.read;E.update(h,h.record)&&(h.fragmented!==null&&(h.fragmented.type===h.record.type?(h.fragmented.fragment.putBuffer(h.record.fragment),h.record=h.fragmented):h.error(h,{message:"Invalid fragmented record.",send:!0,alert:{level:G.Alert.Level.fatal,description:G.Alert.Description.unexpected_message}})),h.record.ready=!0)}return A},"_readRecord");return c.handshake=function(h){if(c.entity!==G.ConnectionEnd.client)c.error(c,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(c.handshaking)c.error(c,{message:"Handshake already in progress.",fatal:!1});else{c.fail&&!c.open&&c.handshakes===0&&(c.fail=!1),c.handshaking=!0,h=h||"";var A=null;h.length>0&&(c.sessionCache&&(A=c.sessionCache.getSession(h)),A===null&&(h="")),h.length===0&&c.sessionCache&&(A=c.sessionCache.getSession(),A!==null&&(h=A.id)),c.session={id:h,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:ot.md.md5.create(),sha1:ot.md.sha1.create()},A&&(c.version=A.version,c.session.sp=A.sp),c.session.sp.client_random=G.createRandom().getBytes(),c.open=!0,G.queue(c,G.createRecord(c,{type:G.ContentType.handshake,data:G.createClientHello(c)})),G.flush(c)}},c.process=function(h){var A=0;return h&&c.input.putBytes(h),c.fail||(c.record!==null&&c.record.ready&&c.record.fragment.isEmpty()&&(c.record=null),c.record===null&&(A=u(c)),!c.fail&&c.record!==null&&!c.record.ready&&(A=d(c)),!c.fail&&c.record!==null&&c.record.ready&&l(c,c.record)),A},c.prepare=function(h){return G.queue(c,G.createRecord(c,{type:G.ContentType.application_data,data:ot.util.createBuffer(h)})),G.flush(c)},c.prepareHeartbeatRequest=function(h,A){return h instanceof ot.util.ByteBuffer&&(h=h.bytes()),typeof A>"u"&&(A=h.length),c.expectedHeartbeatPayload=h,G.queue(c,G.createRecord(c,{type:G.ContentType.heartbeat,data:G.createHeartbeat(G.HeartbeatMessageType.heartbeat_request,h,A)})),G.flush(c)},c.close=function(h){if(!c.fail&&c.sessionCache&&c.session){var A={id:c.session.id,version:c.session.version,sp:c.session.sp};A.sp.keys=null,c.sessionCache.setSession(A.id,A)}c.open&&(c.open=!1,c.input.clear(),(c.isConnected||c.handshaking)&&(c.isConnected=c.handshaking=!1,G.queue(c,G.createAlert(c,{level:G.Alert.Level.warning,description:G.Alert.Description.close_notify})),G.flush(c)),c.closed(c)),c.reset(h)},c};Y4e.exports=ot.tls=ot.tls||{};for(YF in G)typeof G[YF]!="function"&&(ot.tls[YF]=G[YF]);var YF;ot.tls.prf_tls1=jF;ot.tls.hmac_sha1=Dpt;ot.tls.createSessionCache=G.createSessionCache;ot.tls.createConnection=G.createConnection});var K4e=q((jJr,j4e)=>{f();var S1=rn();I1();rZ();var Iu=j4e.exports=S1.tls;Iu.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=Iu.BulkCipherAlgorithm.aes,t.cipher_type=Iu.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Iu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:z4e};Iu.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:s(function(t){t.bulk_cipher_algorithm=Iu.BulkCipherAlgorithm.aes,t.cipher_type=Iu.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Iu.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},"initSecurityParameters"),initConnectionState:z4e};function z4e(t,e,r){var n=e.entity===S1.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:S1.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:S1.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=tmt,t.write.cipherFunction=Xpt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=Iu.hmac_sha1}s(z4e,"initConnectionState");function Xpt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var o;t.version.minor===Iu.Versions.TLS_1_0.minor?o=e.cipherState.init?null:e.cipherState.iv:o=S1.random.getBytesSync(16),e.cipherState.init=!0;var a=e.cipherState.cipher;return a.start({iv:o}),t.version.minor>=Iu.Versions.TLS_1_1.minor&&a.output.putBytes(o),a.update(t.fragment),a.finish(Zpt)&&(t.fragment=a.output,t.length=t.fragment.length(),r=!0),r}s(Xpt,"encrypt_aes_cbc_sha1");function Zpt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}s(Zpt,"encrypt_aes_cbc_sha1_padding");function emt(t,e,r){var n=!0;if(r){for(var o=e.length(),a=e.last(),c=o-1-a;c<o-1;++c)n=n&&e.at(c)==a;n&&e.truncate(a+1)}return n}s(emt,"decrypt_aes_cbc_sha1_padding");function tmt(t,e){var r=!1,n;t.version.minor===Iu.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var o=e.cipherState.cipher;o.start({iv:n}),o.update(t.fragment),r=o.finish(emt);var a=e.macLength,c=S1.random.getBytesSync(a),l=o.output.length();l>=a?(t.fragment=o.output.getBytes(l-a),c=o.output.getBytes(a)):t.fragment=o.output.getBytes(),t.fragment=S1.util.createBuffer(t.fragment),t.length=t.fragment.length();var u=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=rmt(e.macKey,c,u)&&r,r}s(tmt,"decrypt_aes_cbc_sha1");function rmt(t,e,r){var n=S1.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}s(rmt,"compareMacs")});var oZ=q((XJr,ewe)=>{f();var no=rn();dh();ni();var HS=ewe.exports=no.sha512=no.sha512||{};no.md.sha512=no.md.algorithms.sha512=HS;var X4e=no.sha384=no.sha512.sha384=no.sha512.sha384||{};X4e.create=function(){return HS.create("SHA-384")};no.md.sha384=no.md.algorithms.sha384=X4e;no.sha512.sha256=no.sha512.sha256||{create:s(function(){return HS.create("SHA-512/256")},"create")};no.md["sha512/256"]=no.md.algorithms["sha512/256"]=no.sha512.sha256;no.sha512.sha224=no.sha512.sha224||{create:s(function(){return HS.create("SHA-512/224")},"create")};no.md["sha512/224"]=no.md.algorithms["sha512/224"]=no.sha512.sha224;HS.create=function(t){if(Z4e||nmt(),typeof t>"u"&&(t="SHA-512"),!(t in jE))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=jE[t],r=null,n=no.util.createBuffer(),o=new Array(80),a=0;a<80;++a)o[a]=new Array(2);var c=64;switch(t){case"SHA-384":c=48;break;case"SHA-512/256":c=32;break;case"SHA-512/224":c=28;break}var l={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:c,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var u=l.messageLengthSize/4,d=0;d<u;++d)l.fullMessageLength.push(0);n=no.util.createBuffer(),r=new Array(e.length);for(var d=0;d<e.length;++d)r[d]=e[d].slice(0);return l},l.start(),l.update=function(u,d){d==="utf8"&&(u=no.util.encodeUtf8(u));var h=u.length;l.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var A=l.fullMessageLength.length-1;A>=0;--A)l.fullMessageLength[A]+=h[1],h[1]=h[0]+(l.fullMessageLength[A]/4294967296>>>0),l.fullMessageLength[A]=l.fullMessageLength[A]>>>0,h[0]=h[1]/4294967296>>>0;return n.putBytes(u),J4e(r,o,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var u=no.util.createBuffer();u.putBytes(n.bytes());var d=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,h=d&l.blockLength-1;u.putBytes(nZ.substr(0,l.blockLength-h));for(var A,p,g=l.fullMessageLength[0]*8,E=0;E<l.fullMessageLength.length-1;++E)A=l.fullMessageLength[E+1]*8,p=A/4294967296>>>0,g+=p,u.putInt32(g>>>0),g=A>>>0;u.putInt32(g);for(var v=new Array(r.length),E=0;E<r.length;++E)v[E]=r[E].slice(0);J4e(v,o,u);var w=no.util.createBuffer(),_;t==="SHA-512"?_=v.length:t==="SHA-384"?_=v.length-2:_=v.length-4;for(var E=0;E<_;++E)w.putInt32(v[E][0]),(E!==_-1||t!=="SHA-512/224")&&w.putInt32(v[E][1]);return w},l};var nZ=null,Z4e=!1,iZ=null,jE=null;function nmt(){nZ="\x80",nZ+=no.util.fillString("\0",128),iZ=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],jE={},jE["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],jE["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],jE["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],jE["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Z4e=!0}s(nmt,"_init");function J4e(t,e,r){for(var n,o,a,c,l,u,d,h,A,p,g,E,v,w,_,S,D,N,P,O,Y,ne,oe,he,$,K,xe,ce,J,W,Z,re,te,ie,ue,Ae=r.length();Ae>=128;){for(J=0;J<16;++J)e[J][0]=r.getInt32()>>>0,e[J][1]=r.getInt32()>>>0;for(;J<80;++J)re=e[J-2],W=re[0],Z=re[1],n=((W>>>19|Z<<13)^(Z>>>29|W<<3)^W>>>6)>>>0,o=((W<<13|Z>>>19)^(Z<<3|W>>>29)^(W<<26|Z>>>6))>>>0,ie=e[J-15],W=ie[0],Z=ie[1],a=((W>>>1|Z<<31)^(W>>>8|Z<<24)^W>>>7)>>>0,c=((W<<31|Z>>>1)^(W<<24|Z>>>8)^(W<<25|Z>>>7))>>>0,te=e[J-7],ue=e[J-16],Z=o+te[1]+c+ue[1],e[J][0]=n+te[0]+a+ue[0]+(Z/4294967296>>>0)>>>0,e[J][1]=Z>>>0;for(v=t[0][0],w=t[0][1],_=t[1][0],S=t[1][1],D=t[2][0],N=t[2][1],P=t[3][0],O=t[3][1],Y=t[4][0],ne=t[4][1],oe=t[5][0],he=t[5][1],$=t[6][0],K=t[6][1],xe=t[7][0],ce=t[7][1],J=0;J<80;++J)d=((Y>>>14|ne<<18)^(Y>>>18|ne<<14)^(ne>>>9|Y<<23))>>>0,h=((Y<<18|ne>>>14)^(Y<<14|ne>>>18)^(ne<<23|Y>>>9))>>>0,A=($^Y&(oe^$))>>>0,p=(K^ne&(he^K))>>>0,l=((v>>>28|w<<4)^(w>>>2|v<<30)^(w>>>7|v<<25))>>>0,u=((v<<4|w>>>28)^(w<<30|v>>>2)^(w<<25|v>>>7))>>>0,g=(v&_|D&(v^_))>>>0,E=(w&S|N&(w^S))>>>0,Z=ce+h+p+iZ[J][1]+e[J][1],n=xe+d+A+iZ[J][0]+e[J][0]+(Z/4294967296>>>0)>>>0,o=Z>>>0,Z=u+E,a=l+g+(Z/4294967296>>>0)>>>0,c=Z>>>0,xe=$,ce=K,$=oe,K=he,oe=Y,he=ne,Z=O+o,Y=P+n+(Z/4294967296>>>0)>>>0,ne=Z>>>0,P=D,O=N,D=_,N=S,_=v,S=w,Z=o+c,v=n+a+(Z/4294967296>>>0)>>>0,w=Z>>>0;Z=t[0][1]+w,t[0][0]=t[0][0]+v+(Z/4294967296>>>0)>>>0,t[0][1]=Z>>>0,Z=t[1][1]+S,t[1][0]=t[1][0]+_+(Z/4294967296>>>0)>>>0,t[1][1]=Z>>>0,Z=t[2][1]+N,t[2][0]=t[2][0]+D+(Z/4294967296>>>0)>>>0,t[2][1]=Z>>>0,Z=t[3][1]+O,t[3][0]=t[3][0]+P+(Z/4294967296>>>0)>>>0,t[3][1]=Z>>>0,Z=t[4][1]+ne,t[4][0]=t[4][0]+Y+(Z/4294967296>>>0)>>>0,t[4][1]=Z>>>0,Z=t[5][1]+he,t[5][0]=t[5][0]+oe+(Z/4294967296>>>0)>>>0,t[5][1]=Z>>>0,Z=t[6][1]+K,t[6][0]=t[6][0]+$+(Z/4294967296>>>0)>>>0,t[6][1]=Z>>>0,Z=t[7][1]+ce,t[7][0]=t[7][0]+xe+(Z/4294967296>>>0)>>>0,t[7][1]=Z>>>0,Ae-=128}}s(J4e,"_update")});var twe=q(sZ=>{f();var imt=rn();Pf();var ua=imt.asn1;sZ.privateKeyValidator={name:"PrivateKeyInfo",tagClass:ua.Class.UNIVERSAL,type:ua.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ua.Class.UNIVERSAL,type:ua.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ua.Class.UNIVERSAL,type:ua.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ua.Class.UNIVERSAL,type:ua.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ua.Class.UNIVERSAL,type:ua.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};sZ.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ua.Class.UNIVERSAL,type:ua.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ua.Class.UNIVERSAL,type:ua.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ua.Class.UNIVERSAL,type:ua.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:ua.Class.UNIVERSAL,type:ua.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Awe=q((nXr,hwe)=>{f();var Fa=rn();LS();mu();oZ();ni();var awe=twe(),omt=awe.publicKeyValidator,smt=awe.privateKeyValidator;typeof rwe>"u"&&(rwe=Fa.jsbn.BigInteger);var rwe,lZ=Fa.util.ByteBuffer,xc=typeof Buffer>"u"?Uint8Array:Buffer;Fa.pki=Fa.pki||{};hwe.exports=Fa.pki.ed25519=Fa.ed25519=Fa.ed25519||{};var In=Fa.ed25519;In.constants={};In.constants.PUBLIC_KEY_BYTE_LENGTH=32;In.constants.PRIVATE_KEY_BYTE_LENGTH=64;In.constants.SEED_BYTE_LENGTH=32;In.constants.SIGN_BYTE_LENGTH=64;In.constants.HASH_BYTE_LENGTH=64;In.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Fa.random.getBytesSync(In.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==In.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+In.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ap({message:e,encoding:"binary"});for(var r=new xc(In.constants.PUBLIC_KEY_BYTE_LENGTH),n=new xc(In.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)n[o]=e[o];return umt(r,n),{publicKey:r,privateKey:n}};In.privateKeyFromAsn1=function(t){var e={},r=[],n=Fa.asn1.validate(t,smt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=Fa.asn1.derToOid(e.privateKeyOid),c=Fa.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.privateKey,u=ap({message:Fa.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:u}};In.publicKeyFromAsn1=function(t){var e={},r=[],n=Fa.asn1.validate(t,omt,e,r);if(!n){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=Fa.asn1.derToOid(e.publicKeyOid),c=Fa.oids.EdDSA25519;if(a!==c)throw new Error('Invalid OID "'+a+'"; OID must be "'+c+'".');var l=e.ed25519PublicKey;if(l.length!==In.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ap({message:l,encoding:"binary"})};In.publicKeyFromPrivateKey=function(t){t=t||{};var e=ap({message:t.privateKey,encoding:"binary"});if(e.length!==In.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+In.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new xc(In.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};In.sign=function(t){t=t||{};var e=ap(t),r=ap({message:t.privateKey,encoding:"binary"});if(r.length===In.constants.SEED_BYTE_LENGTH){var n=In.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==In.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+In.constants.SEED_BYTE_LENGTH+" or "+In.constants.PRIVATE_KEY_BYTE_LENGTH);var o=new xc(In.constants.SIGN_BYTE_LENGTH+e.length);fmt(o,e,e.length,r);for(var a=new xc(In.constants.SIGN_BYTE_LENGTH),c=0;c<a.length;++c)a[c]=o[c];return a};In.verify=function(t){t=t||{};var e=ap(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ap({message:t.signature,encoding:"binary"});if(r.length!==In.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+In.constants.SIGN_BYTE_LENGTH);var n=ap({message:t.publicKey,encoding:"binary"});if(n.length!==In.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+In.constants.PUBLIC_KEY_BYTE_LENGTH);var o=new xc(In.constants.SIGN_BYTE_LENGTH+e.length),a=new xc(In.constants.SIGN_BYTE_LENGTH+e.length),c;for(c=0;c<In.constants.SIGN_BYTE_LENGTH;++c)o[c]=r[c];for(c=0;c<e.length;++c)o[c+In.constants.SIGN_BYTE_LENGTH]=e[c];return dmt(a,o,o.length,n)>=0};function ap(t){var e=t.message;if(e instanceof Uint8Array||e instanceof xc)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new lZ(e,r)}else if(!(e instanceof lZ))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new xc(e.length()),o=0;o<n.length;++o)n[o]=e.at(o);return n}s(ap,"messageToNativeBuffer");var uZ=hr(),KF=hr([1]),amt=hr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),cmt=hr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),nwe=hr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),iwe=hr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),aZ=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),lmt=hr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function qS(t,e){var r=Fa.md.sha512.create(),n=new lZ(t);r.update(n.getBytes(e),"binary");var o=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(o,"binary");for(var a=new xc(In.constants.HASH_BYTE_LENGTH),c=0;c<64;++c)a[c]=o.charCodeAt(c);return a}s(qS,"sha512");function umt(t,e){var r=[hr(),hr(),hr(),hr()],n,o=qS(e,32);for(o[0]&=248,o[31]&=127,o[31]|=64,AZ(r,o),hZ(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}s(umt,"crypto_sign_keypair");function fmt(t,e,r,n){var o,a,c=new Float64Array(64),l=[hr(),hr(),hr(),hr()],u=qS(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var d=r+64;for(o=0;o<r;++o)t[64+o]=e[o];for(o=0;o<32;++o)t[32+o]=u[32+o];var h=qS(t.subarray(32),r+32);for(fZ(h),AZ(l,h),hZ(t,l),o=32;o<64;++o)t[o]=n[o];var A=qS(t,r+64);for(fZ(A),o=32;o<64;++o)c[o]=0;for(o=0;o<32;++o)c[o]=h[o];for(o=0;o<32;++o)for(a=0;a<32;a++)c[o+a]+=A[o]*u[a];return cwe(t.subarray(32),c),d}s(fmt,"crypto_sign");function dmt(t,e,r,n){var o,a,c=new xc(32),l=[hr(),hr(),hr(),hr()],u=[hr(),hr(),hr(),hr()];if(a=-1,r<64||hmt(u,n))return-1;for(o=0;o<r;++o)t[o]=e[o];for(o=0;o<32;++o)t[o+32]=n[o];var d=qS(t,r);if(fZ(d),fwe(l,u,d),AZ(u,e.subarray(32)),dZ(l,u),hZ(c,l),r-=64,lwe(e,0,c,0)){for(o=0;o<r;++o)t[o]=0;return-1}for(o=0;o<r;++o)t[o]=e[o+64];return a=r,a}s(dmt,"crypto_sign_open");function cwe(t,e){var r,n,o,a;for(n=63;n>=32;--n){for(r=0,o=n-32,a=n-12;o<a;++o)e[o]+=r-16*e[n]*aZ[o-(n-32)],r=e[o]+128>>8,e[o]-=r*256;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;++o)e[o]+=r-(e[31]>>4)*aZ[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;++o)e[o]-=r*aZ[o];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}s(cwe,"modL");function fZ(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;cwe(t,e)}s(fZ,"reduce");function dZ(t,e){var r=hr(),n=hr(),o=hr(),a=hr(),c=hr(),l=hr(),u=hr(),d=hr(),h=hr();u5(r,t[1],t[0]),u5(h,e[1],e[0]),Qi(r,r,h),l5(n,t[0],t[1]),l5(h,e[0],e[1]),Qi(n,n,h),Qi(o,t[3],e[3]),Qi(o,o,cmt),Qi(a,t[2],e[2]),l5(a,a,a),u5(c,n,r),u5(l,a,o),l5(u,a,o),l5(d,n,r),Qi(t[0],c,l),Qi(t[1],d,u),Qi(t[2],u,l),Qi(t[3],c,d)}s(dZ,"add");function owe(t,e,r){for(var n=0;n<4;++n)dwe(t[n],e[n],r)}s(owe,"cswap");function hZ(t,e){var r=hr(),n=hr(),o=hr();gmt(o,e[2]),Qi(r,e[0],o),Qi(n,e[1],o),JF(t,n),t[31]^=uwe(r)<<7}s(hZ,"pack");function JF(t,e){var r,n,o,a=hr(),c=hr();for(r=0;r<16;++r)c[r]=e[r];for(cZ(c),cZ(c),cZ(c),n=0;n<2;++n){for(a[0]=c[0]-65517,r=1;r<15;++r)a[r]=c[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=c[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,dwe(c,a,1-o)}for(r=0;r<16;r++)t[2*r]=c[r]&255,t[2*r+1]=c[r]>>8}s(JF,"pack25519");function hmt(t,e){var r=hr(),n=hr(),o=hr(),a=hr(),c=hr(),l=hr(),u=hr();return B1(t[2],KF),Amt(t[1],e),KE(o,t[1]),Qi(a,o,amt),u5(o,o,t[2]),l5(a,t[2],a),KE(c,a),KE(l,c),Qi(u,l,c),Qi(r,u,o),Qi(r,r,a),pmt(r,r),Qi(r,r,o),Qi(r,r,a),Qi(r,r,a),Qi(t[0],r,a),KE(n,t[0]),Qi(n,n,a),swe(n,o)&&Qi(t[0],t[0],lmt),KE(n,t[0]),Qi(n,n,a),swe(n,o)?-1:(uwe(t[0])===e[31]>>7&&u5(t[0],uZ,t[0]),Qi(t[3],t[0],t[1]),0)}s(hmt,"unpackneg");function Amt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}s(Amt,"unpack25519");function pmt(t,e){var r=hr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)KE(r,r),n!==1&&Qi(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(pmt,"pow2523");function swe(t,e){var r=new xc(32),n=new xc(32);return JF(r,t),JF(n,e),lwe(r,0,n,0)}s(swe,"neq25519");function lwe(t,e,r,n){return mmt(t,e,r,n,32)}s(lwe,"crypto_verify_32");function mmt(t,e,r,n,o){var a,c=0;for(a=0;a<o;++a)c|=t[e+a]^r[n+a];return(1&c-1>>>8)-1}s(mmt,"vn");function uwe(t){var e=new xc(32);return JF(e,t),e[0]&1}s(uwe,"par25519");function fwe(t,e,r){var n,o;for(B1(t[0],uZ),B1(t[1],KF),B1(t[2],KF),B1(t[3],uZ),o=255;o>=0;--o)n=r[o/8|0]>>(o&7)&1,owe(t,e,n),dZ(e,t),dZ(t,t),owe(t,e,n)}s(fwe,"scalarmult");function AZ(t,e){var r=[hr(),hr(),hr(),hr()];B1(r[0],nwe),B1(r[1],iwe),B1(r[2],KF),Qi(r[3],nwe,iwe),fwe(t,r,e)}s(AZ,"scalarbase");function B1(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}s(B1,"set25519");function gmt(t,e){var r=hr(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)KE(r,r),n!==2&&n!==4&&Qi(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}s(gmt,"inv25519");function cZ(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}s(cZ,"car25519");function dwe(t,e,r){for(var n,o=~(r-1),a=0;a<16;++a)n=o&(t[a]^e[a]),t[a]^=n,e[a]^=n}s(dwe,"sel25519");function hr(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}s(hr,"gf");function l5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}s(l5,"A");function u5(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}s(u5,"Z");function KE(t,e){Qi(t,e,e)}s(KE,"S");function Qi(t,e,r){var n,o,a=0,c=0,l=0,u=0,d=0,h=0,A=0,p=0,g=0,E=0,v=0,w=0,_=0,S=0,D=0,N=0,P=0,O=0,Y=0,ne=0,oe=0,he=0,$=0,K=0,xe=0,ce=0,J=0,W=0,Z=0,re=0,te=0,ie=r[0],ue=r[1],Ae=r[2],Je=r[3],rt=r[4],lt=r[5],Ct=r[6],Vt=r[7],Hr=r[8],Dn=r[9],br=r[10],le=r[11],Xe=r[12],ge=r[13],ft=r[14],st=r[15];n=e[0],a+=n*ie,c+=n*ue,l+=n*Ae,u+=n*Je,d+=n*rt,h+=n*lt,A+=n*Ct,p+=n*Vt,g+=n*Hr,E+=n*Dn,v+=n*br,w+=n*le,_+=n*Xe,S+=n*ge,D+=n*ft,N+=n*st,n=e[1],c+=n*ie,l+=n*ue,u+=n*Ae,d+=n*Je,h+=n*rt,A+=n*lt,p+=n*Ct,g+=n*Vt,E+=n*Hr,v+=n*Dn,w+=n*br,_+=n*le,S+=n*Xe,D+=n*ge,N+=n*ft,P+=n*st,n=e[2],l+=n*ie,u+=n*ue,d+=n*Ae,h+=n*Je,A+=n*rt,p+=n*lt,g+=n*Ct,E+=n*Vt,v+=n*Hr,w+=n*Dn,_+=n*br,S+=n*le,D+=n*Xe,N+=n*ge,P+=n*ft,O+=n*st,n=e[3],u+=n*ie,d+=n*ue,h+=n*Ae,A+=n*Je,p+=n*rt,g+=n*lt,E+=n*Ct,v+=n*Vt,w+=n*Hr,_+=n*Dn,S+=n*br,D+=n*le,N+=n*Xe,P+=n*ge,O+=n*ft,Y+=n*st,n=e[4],d+=n*ie,h+=n*ue,A+=n*Ae,p+=n*Je,g+=n*rt,E+=n*lt,v+=n*Ct,w+=n*Vt,_+=n*Hr,S+=n*Dn,D+=n*br,N+=n*le,P+=n*Xe,O+=n*ge,Y+=n*ft,ne+=n*st,n=e[5],h+=n*ie,A+=n*ue,p+=n*Ae,g+=n*Je,E+=n*rt,v+=n*lt,w+=n*Ct,_+=n*Vt,S+=n*Hr,D+=n*Dn,N+=n*br,P+=n*le,O+=n*Xe,Y+=n*ge,ne+=n*ft,oe+=n*st,n=e[6],A+=n*ie,p+=n*ue,g+=n*Ae,E+=n*Je,v+=n*rt,w+=n*lt,_+=n*Ct,S+=n*Vt,D+=n*Hr,N+=n*Dn,P+=n*br,O+=n*le,Y+=n*Xe,ne+=n*ge,oe+=n*ft,he+=n*st,n=e[7],p+=n*ie,g+=n*ue,E+=n*Ae,v+=n*Je,w+=n*rt,_+=n*lt,S+=n*Ct,D+=n*Vt,N+=n*Hr,P+=n*Dn,O+=n*br,Y+=n*le,ne+=n*Xe,oe+=n*ge,he+=n*ft,$+=n*st,n=e[8],g+=n*ie,E+=n*ue,v+=n*Ae,w+=n*Je,_+=n*rt,S+=n*lt,D+=n*Ct,N+=n*Vt,P+=n*Hr,O+=n*Dn,Y+=n*br,ne+=n*le,oe+=n*Xe,he+=n*ge,$+=n*ft,K+=n*st,n=e[9],E+=n*ie,v+=n*ue,w+=n*Ae,_+=n*Je,S+=n*rt,D+=n*lt,N+=n*Ct,P+=n*Vt,O+=n*Hr,Y+=n*Dn,ne+=n*br,oe+=n*le,he+=n*Xe,$+=n*ge,K+=n*ft,xe+=n*st,n=e[10],v+=n*ie,w+=n*ue,_+=n*Ae,S+=n*Je,D+=n*rt,N+=n*lt,P+=n*Ct,O+=n*Vt,Y+=n*Hr,ne+=n*Dn,oe+=n*br,he+=n*le,$+=n*Xe,K+=n*ge,xe+=n*ft,ce+=n*st,n=e[11],w+=n*ie,_+=n*ue,S+=n*Ae,D+=n*Je,N+=n*rt,P+=n*lt,O+=n*Ct,Y+=n*Vt,ne+=n*Hr,oe+=n*Dn,he+=n*br,$+=n*le,K+=n*Xe,xe+=n*ge,ce+=n*ft,J+=n*st,n=e[12],_+=n*ie,S+=n*ue,D+=n*Ae,N+=n*Je,P+=n*rt,O+=n*lt,Y+=n*Ct,ne+=n*Vt,oe+=n*Hr,he+=n*Dn,$+=n*br,K+=n*le,xe+=n*Xe,ce+=n*ge,J+=n*ft,W+=n*st,n=e[13],S+=n*ie,D+=n*ue,N+=n*Ae,P+=n*Je,O+=n*rt,Y+=n*lt,ne+=n*Ct,oe+=n*Vt,he+=n*Hr,$+=n*Dn,K+=n*br,xe+=n*le,ce+=n*Xe,J+=n*ge,W+=n*ft,Z+=n*st,n=e[14],D+=n*ie,N+=n*ue,P+=n*Ae,O+=n*Je,Y+=n*rt,ne+=n*lt,oe+=n*Ct,he+=n*Vt,$+=n*Hr,K+=n*Dn,xe+=n*br,ce+=n*le,J+=n*Xe,W+=n*ge,Z+=n*ft,re+=n*st,n=e[15],N+=n*ie,P+=n*ue,O+=n*Ae,Y+=n*Je,ne+=n*rt,oe+=n*lt,he+=n*Ct,$+=n*Vt,K+=n*Hr,xe+=n*Dn,ce+=n*br,J+=n*le,W+=n*Xe,Z+=n*ge,re+=n*ft,te+=n*st,a+=38*P,c+=38*O,l+=38*Y,u+=38*ne,d+=38*oe,h+=38*he,A+=38*$,p+=38*K,g+=38*xe,E+=38*ce,v+=38*J,w+=38*W,_+=38*Z,S+=38*re,D+=38*te,o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=g+o+65535,o=Math.floor(n/65536),g=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=w+o+65535,o=Math.floor(n/65536),w=n-o*65536,n=_+o+65535,o=Math.floor(n/65536),_=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=D+o+65535,o=Math.floor(n/65536),D=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,a+=o-1+37*(o-1),o=1,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=g+o+65535,o=Math.floor(n/65536),g=n-o*65536,n=E+o+65535,o=Math.floor(n/65536),E=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=w+o+65535,o=Math.floor(n/65536),w=n-o*65536,n=_+o+65535,o=Math.floor(n/65536),_=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=D+o+65535,o=Math.floor(n/65536),D=n-o*65536,n=N+o+65535,o=Math.floor(n/65536),N=n-o*65536,a+=o-1+37*(o-1),t[0]=a,t[1]=c,t[2]=l,t[3]=u,t[4]=d,t[5]=h,t[6]=A,t[7]=p,t[8]=g,t[9]=E,t[10]=v,t[11]=w,t[12]=_,t[13]=S,t[14]=D,t[15]=N}s(Qi,"M")});var ywe=q((sXr,gwe)=>{f();var pl=rn();ni();mu();LS();gwe.exports=pl.kem=pl.kem||{};var pwe=pl.jsbn.BigInteger;pl.kem.rsa={};pl.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||pl.random,n={};return n.encrypt=function(o,a){var c=Math.ceil(o.n.bitLength()/8),l;do l=new pwe(pl.util.bytesToHex(r.getBytesSync(c)),16).mod(o.n);while(l.compareTo(pwe.ONE)<=0);l=pl.util.hexToBytes(l.toString(16));var u=c-l.length;u>0&&(l=pl.util.fillString("\0",u)+l);var d=o.encrypt(l,"NONE"),h=t.generate(l,a);return{encapsulation:d,key:h}},n.decrypt=function(o,a,c){var l=o.decrypt(a,"NONE");return t.generate(l,c)},n};pl.kem.kdf1=function(t,e){mwe(this,t,0,e||t.digestLength)};pl.kem.kdf2=function(t,e){mwe(this,t,1,e||t.digestLength)};function mwe(t,e,r,n){t.generate=function(o,a){for(var c=new pl.util.ByteBuffer,l=Math.ceil(a/n)+r,u=new pl.util.ByteBuffer,d=r;d<l;++d){u.putInt32(d),e.start(),e.update(o+u.getBytes());var h=e.digest();c.putBytes(h.getBytes(n))}return c.truncate(c.length()-a),c.getBytes()}}s(mwe,"_createKDF")});var xwe=q((lXr,Iwe)=>{f();var kn=rn();ni();Iwe.exports=kn.log=kn.log||{};kn.log.levels=["none","error","warning","info","debug","verbose","max"];var XF={},gZ=[],VS=null;kn.log.LEVEL_LOCKED=2;kn.log.NO_LEVEL_CHECK=4;kn.log.INTERPOLATE=8;for(Eh=0;Eh<kn.log.levels.length;++Eh)pZ=kn.log.levels[Eh],XF[pZ]={index:Eh,name:pZ.toUpperCase()};var pZ,Eh;kn.log.logMessage=function(t){for(var e=XF[t.level].index,r=0;r<gZ.length;++r){var n=gZ[r];if(n.flags&kn.log.NO_LEVEL_CHECK)n.f(t);else{var o=XF[n.level].index;e<=o&&n.f(n,t)}}};kn.log.prepareStandard=function(t){"standard"in t||(t.standard=XF[t.level].name+" ["+t.category+"] "+t.message)};kn.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=kn.util.format.apply(this,e)}};kn.log.prepareStandardFull=function(t){"standardFull"in t||(kn.log.prepareStandard(t),t.standardFull=t.standard)};for(mZ=["error","warning","info","debug","verbose"],Eh=0;Eh<mZ.length;++Eh)(function(e){kn.log[e]=function(r,n){var o=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:r,message:n,arguments:o};kn.log.logMessage(a)}})(mZ[Eh]);var mZ,Eh;kn.log.makeLogger=function(t){var e={flags:0,f:t};return kn.log.setLevel(e,"none"),e};kn.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&kn.log.LEVEL_LOCKED))for(var n=0;n<kn.log.levels.length;++n){var o=kn.log.levels[n];if(e==o){t.level=e,r=!0;break}}return r};kn.log.lock=function(t,e){typeof e>"u"||e?t.flags|=kn.log.LEVEL_LOCKED:t.flags&=~kn.log.LEVEL_LOCKED};kn.log.addLogger=function(t){gZ.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(Cwe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},WS=s(function(t,e){kn.log.prepareStandard(e);var r=Cwe[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},"f"),f5=kn.log.makeLogger(WS)):(WS=s(function(e,r){kn.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),f5=kn.log.makeLogger(WS)),kn.log.setLevel(f5,"debug"),kn.log.addLogger(f5),VS=f5):console={log:s(function(){},"log")};var f5,Cwe,WS;VS!==null&&typeof window<"u"&&window.location&&(GS=new URL(window.location.href).searchParams,GS.has("console.level")&&kn.log.setLevel(VS,GS.get("console.level").slice(-1)[0]),GS.has("console.lock")&&(Ewe=GS.get("console.lock").slice(-1)[0],Ewe=="true"&&kn.log.lock(VS)));var GS,Ewe;kn.log.consoleLogger=VS});var bwe=q((dXr,vwe)=>{f();vwe.exports=dh();kF();i5();RX();oZ()});var wwe=q((AXr,_we)=>{f();var xt=rn();I1();Pf();PS();x1();GE();VX();mu();ni();WF();var Ie=xt.asn1,D0=_we.exports=xt.pkcs7=xt.pkcs7||{};D0.messageFromPem=function(t){var e=xt.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Ie.fromDer(e.body);return D0.messageFromAsn1(n)};D0.messageToPem=function(t,e){var r={type:"PKCS7",body:Ie.toDer(t.toAsn1()).getBytes()};return xt.pem.encode(r,{maxline:e})};D0.messageFromAsn1=function(t){var e={},r=[];if(!Ie.validate(t,D0.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var o=Ie.derToOid(e.contentType),a;switch(o){case xt.pki.oids.envelopedData:a=D0.createEnvelopedData();break;case xt.pki.oids.encryptedData:a=D0.createEncryptedData();break;case xt.pki.oids.signedData:a=D0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+o+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a};D0.createSignedData=function(){var t=null;return t={type:xt.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:s(function(n){if(CZ(t,n,D0.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var o=t.rawCapture.certificates.value,a=0;a<o.length;++a)t.certificates.push(xt.pki.certificateFromAsn1(o[a]))},"fromAsn1"),toAsn1:s(function(){t.contentInfo||t.sign();for(var n=[],o=0;o<t.certificates.length;++o)n.push(xt.pki.certificateToAsn1(t.certificates[o]));var a=[],c=Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&c.value[0].value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&c.value[0].value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,1,!0,a)),c.value[0].value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,t.signerInfos)),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),c])},"toAsn1"),addSigner:s(function(n){var o=n.issuer,a=n.serialNumber;if(n.certificate){var c=n.certificate;typeof c=="string"&&(c=xt.pki.certificateFromPem(c)),o=c.issuer.attributes,a=c.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=xt.pki.privateKeyFromPem(l));var u=n.digestAlgorithm||xt.pki.oids.sha1;switch(u){case xt.pki.oids.sha1:case xt.pki.oids.sha256:case xt.pki.oids.sha384:case xt.pki.oids.sha512:case xt.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var d=n.authenticatedAttributes||[];if(d.length>0){for(var h=!1,A=!1,p=0;p<d.length;++p){var g=d[p];if(!h&&g.type===xt.pki.oids.contentType){if(h=!0,A)break;continue}if(!A&&g.type===xt.pki.oids.messageDigest){if(A=!0,h)break;continue}}if(!h||!A)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:l,version:1,issuer:o,serialNumber:a,digestAlgorithm:u,signatureAlgorithm:xt.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:d,unauthenticatedAttributes:[]})},"addSigner"),sign:s(function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(xt.pki.oids.data).getBytes())]),"content"in t)){var o;t.content instanceof xt.util.ByteBuffer?o=t.content.bytes():typeof t.content=="string"&&(o=xt.util.encodeUtf8(t.content)),n.detached?t.detachedContent=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,o):t.contentInfo.value.push(Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,o)]))}if(t.signers.length!==0){var a=e();r(a)}},"sign"),verify:s(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:s(function(n){typeof n=="string"&&(n=xt.pki.certificateFromPem(n)),t.certificates.push(n)},"addCertificate"),addCertificateRevokationList:s(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},t;function e(){for(var n={},o=0;o<t.signers.length;++o){var a=t.signers[o],c=a.digestAlgorithm;c in n||(n[c]=xt.md[xt.pki.oids[c]].create()),a.authenticatedAttributes.length===0?a.md=n[c]:a.md=xt.md[xt.pki.oids[c]].create()}t.digestAlgorithmIdentifiers=[];for(var c in n)t.digestAlgorithmIdentifiers.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(c).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")]));return n}s(e,"addDigestAlgorithmIds");function r(n){var o;if(t.detachedContent?o=t.detachedContent:(o=t.contentInfo.value[1],o=o.value[0]),!o)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=Ie.derToOid(t.contentInfo.value[0].value),c=Ie.toDer(o);c.getByte(),Ie.getBerValueLength(c),c=c.getBytes();for(var l in n)n[l].start().update(c);for(var u=new Date,d=0;d<t.signers.length;++d){var h=t.signers[d];if(h.authenticatedAttributes.length===0){if(a!==xt.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var A=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,[]),p=0;p<h.authenticatedAttributes.length;++p){var g=h.authenticatedAttributes[p];g.type===xt.pki.oids.messageDigest?g.value=n[h.digestAlgorithm].digest():g.type===xt.pki.oids.signingTime&&(g.value||(g.value=u)),A.value.push(yZ(g)),h.authenticatedAttributesAsn1.value.push(yZ(g))}c=Ie.toDer(A).getBytes(),h.md.start().update(c)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=vmt(t.signers)}s(r,"addSignerInfos")};D0.createEncryptedData=function(){var t=null;return t={type:xt.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:xt.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){CZ(t,e,D0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:s(function(e){e!==void 0&&(t.encryptedContent.key=e),Twe(t)},"decrypt")},t};D0.createEnvelopedData=function(){var t=null;return t={type:xt.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:xt.pki.oids["aes256-CBC"]},fromAsn1:s(function(e){var r=CZ(t,e,D0.asn1.envelopedDataValidator);t.recipients=Emt(r.recipientInfos.value)},"fromAsn1"),toAsn1:s(function(){return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,Imt(t.recipients)),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,bmt(t.encryptedContent))])])])},"toAsn1"),findRecipient:s(function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var o=t.recipients[n],a=o.issuer;if(o.serialNumber===e.serialNumber&&a.length===r.length){for(var c=!0,l=0;l<r.length;++l)if(a[l].type!==r[l].type||a[l].value!==r[l].value){c=!1;break}if(c)return o}}return null},"findRecipient"),decrypt:s(function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case xt.pki.oids.rsaEncryption:case xt.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=xt.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}Twe(t)},"decrypt"),addRecipient:s(function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:xt.pki.oids.rsaEncryption,key:e.publicKey}})},"addRecipient"),encrypt:s(function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,o,a;switch(r){case xt.pki.oids["aes128-CBC"]:n=16,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["aes192-CBC"]:n=24,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["aes256-CBC"]:n=32,o=16,a=xt.aes.createEncryptionCipher;break;case xt.pki.oids["des-EDE3-CBC"]:n=24,o=8,a=xt.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=xt.util.createBuffer(xt.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=xt.util.createBuffer(xt.random.getBytes(o));var c=a(e);if(c.start(t.encryptedContent.parameter.copy()),c.update(t.content),!c.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=c.output}for(var l=0;l<t.recipients.length;++l){var u=t.recipients[l];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case xt.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}},"encrypt")},t};function ymt(t){var e={},r=[];if(!Ie.validate(t,D0.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:xt.pki.RDNAttributesAsArray(e.issuer),serialNumber:xt.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Ie.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}s(ymt,"_recipientFromAsn1");function Cmt(t){return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[xt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,xt.util.hexToBytes(t.serialNumber))]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.encryptedContent.algorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.encryptedContent.content)])}s(Cmt,"_recipientToAsn1");function Emt(t){for(var e=[],r=0;r<t.length;++r)e.push(ymt(t[r]));return e}s(Emt,"_recipientsFromAsn1");function Imt(t){for(var e=[],r=0;r<t.length;++r)e.push(Cmt(t[r]));return e}s(Imt,"_recipientsToAsn1");function xmt(t){var e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,Ie.integerToDer(t.version).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[xt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.INTEGER,!1,xt.util.hexToBytes(t.serialNumber))]),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.digestAlgorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.signatureAlgorithm).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.NULL,!1,"")])),e.value.push(Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=Ie.create(Ie.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var o=t.unauthenticatedAttributes[n];r.values.push(yZ(o))}e.value.push(r)}return e}s(xmt,"_signerToAsn1");function vmt(t){for(var e=[],r=0;r<t.length;++r)e.push(xmt(t[r]));return e}s(vmt,"_signersToAsn1");function yZ(t){var e;if(t.type===xt.pki.oids.contentType)e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.value).getBytes());else if(t.type===xt.pki.oids.messageDigest)e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===xt.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),o=t.value;if(typeof o=="string"){var a=Date.parse(o);isNaN(a)?o.length===13?o=Ie.utcTimeToDate(o):o=Ie.generalizedTimeToDate(o):o=new Date(a)}o>=r&&o<n?e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.UTCTIME,!1,Ie.dateToUtcTime(o)):e=Ie.create(Ie.Class.UNIVERSAL,Ie.Type.GENERALIZEDTIME,!1,Ie.dateToGeneralizedTime(o))}return Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.type).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SET,!0,[e])])}s(yZ,"_attributeToAsn1");function bmt(t){return[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(xt.pki.oids.data).getBytes()),Ie.create(Ie.Class.UNIVERSAL,Ie.Type.SEQUENCE,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OID,!1,Ie.oidToDer(t.algorithm).getBytes()),t.parameter?Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),Ie.create(Ie.Class.CONTEXT_SPECIFIC,0,!0,[Ie.create(Ie.Class.UNIVERSAL,Ie.Type.OCTETSTRING,!1,t.content.getBytes())])]}s(bmt,"_encryptedContentToAsn1");function CZ(t,e,r){var n={},o=[];if(!Ie.validate(e,r,n,o)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var c=Ie.derToOid(n.contentType);if(c!==xt.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(xt.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==Ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[u].value}else l=n.encryptedContent;t.encryptedContent={algorithm:Ie.derToOid(n.encAlgorithm),parameter:xt.util.createBuffer(n.encParameter.value),content:xt.util.createBuffer(l)}}if(n.content){var l="";if(xt.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==Ie.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[u].value}else l=n.content;t.content=xt.util.createBuffer(l)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}s(CZ,"_fromAsn1");function Twe(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case xt.pki.oids["aes128-CBC"]:case xt.pki.oids["aes192-CBC"]:case xt.pki.oids["aes256-CBC"]:e=xt.aes.createDecryptionCipher(t.encryptedContent.key);break;case xt.pki.oids.desCBC:case xt.pki.oids["des-EDE3-CBC"]:e=xt.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}s(Twe,"_decryptContent")});var Bwe=q((gXr,Swe)=>{f();var _s=rn();I1();e5();kF();i5();ni();var eL=Swe.exports=_s.ssh=_s.ssh||{};eL.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",o=e===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+o+`\r
`,a+="Comment: "+r+`\r
`;var c=_s.util.createBuffer();d5(c,n),Ih(c,t.e),Ih(c,t.n);var l=_s.util.encode64(c.bytes(),64),u=Math.floor(l.length/66)+1;a+="Public-Lines: "+u+`\r
`,a+=l;var d=_s.util.createBuffer();Ih(d,t.d),Ih(d,t.p),Ih(d,t.q),Ih(d,t.qInv);var h;if(!e)h=_s.util.encode64(d.bytes(),64);else{var A=d.length()+16-1;A-=A%16;var p=ZF(d.bytes());p.truncate(p.length()-A+d.length()),d.putBuffer(p);var g=_s.util.createBuffer();g.putBuffer(ZF("\0\0\0\0",e)),g.putBuffer(ZF("\0\0\0",e));var E=_s.aes.createEncryptionCipher(g.truncate(8),"CBC");E.start(_s.util.createBuffer().fillWithByte(0,16)),E.update(d.copy()),E.finish();var v=E.output;v.truncate(16),h=_s.util.encode64(v.bytes(),64)}u=Math.floor(h.length/66)+1,a+=`\r
Private-Lines: `+u+`\r
`,a+=h;var w=ZF("putty-private-key-file-mac-key",e),_=_s.util.createBuffer();d5(_,n),d5(_,o),d5(_,r),_.putInt32(c.length()),_.putBuffer(c),_.putInt32(d.length()),_.putBuffer(d);var S=_s.hmac.create();return S.start("sha1",w),S.update(_.bytes()),a+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,a};eL.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=_s.util.createBuffer();return d5(n,r),Ih(n,t.e),Ih(n,t.n),r+" "+_s.util.encode64(n.bytes())+" "+e};eL.privateKeyToOpenSSH=function(t,e){return e?_s.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):_s.pki.privateKeyToPem(t)};eL.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||_s.md.md5.create(),n="ssh-rsa",o=_s.util.createBuffer();d5(o,n),Ih(o,t.e),Ih(o,t.n),r.start(),r.update(o.getBytes());var a=r.digest();if(e.encoding==="hex"){var c=a.toHex();return e.delimiter?c.match(/.{2}/g).join(e.delimiter):c}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};function Ih(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=_s.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}s(Ih,"_addBigIntegerToBuffer");function d5(t,e){t.putInt32(e.length),t.putString(e)}s(d5,"_addStringToBuffer");function ZF(){for(var t=_s.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}s(ZF,"_sha1")});var kwe=q((EXr,Rwe)=>{f();Rwe.exports=rn();I1();K4e();Pf();bF();PS();Awe();e5();ywe();xwe();bwe();WX();PF();GE();OX();zX();wwe();KX();HX();kX();qF();mu();QX();Bwe();rZ();ni()});var Qwe=q(JE=>{"use strict";f();Object.defineProperty(JE,"__esModule",{value:!0});JE.convert=JE.Format=void 0;var $S=kwe(),R1;(function(t){t.der="der",t.pem="pem",t.txt="txt",t.asn1="asn1",t.x509="x509",t.fingerprint="fingerprint"})(R1=JE.Format||(JE.Format={}));function Dwe(t){var e=$S.pki.pemToDer(t),r=$S.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,o=n[0],a=o.tagClass===r.Class.CONTEXT_SPECIFIC&&o.type===0&&o.constructed,c=n.slice(a);return{serial:c[0],issuer:c[2],valid:c[3],subject:c[4]}}s(Dwe,"myASN");function Tmt(t){var e=Dwe(t),r=e.subject.value.map(function(o){return o.value[0].value[1].value}).join("/"),n=e.valid.value.map(function(o){return o.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(t)].join(`
`)}s(Tmt,"txtFormat");function Nwe(t,e){switch(e){case R1.der:return $S.pki.pemToDer(t);case R1.pem:return t;case R1.txt:return Tmt(t);case R1.asn1:return Dwe(t);case R1.fingerprint:var r=$S.md.sha1.create(),n=Nwe(t,R1.der);return r.update(n.getBytes()),r.digest().toHex();case R1.x509:return $S.pki.certificateFromPem(t);default:throw new Error("unknown format ".concat(e))}}s(Nwe,"convert");JE.convert=Nwe});var Uwe=q(vc=>{"use strict";f();var k1=vc&&vc.__assign||function(){return k1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},k1.apply(this,arguments)},tL=vc&&vc.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,a;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(vc,"__esModule",{value:!0});vc.convert=vc.Format=vc.addToGlobalAgent=vc.get=void 0;var EZ=require("https"),_mt=require("tls"),Pwe=require("child_process"),Fwe=p_e(),cp=Qwe();Object.defineProperty(vc,"Format",{enumerable:!0,get:s(function(){return cp.Format},"get")});Object.defineProperty(vc,"convert",{enumerable:!0,get:s(function(){return cp.convert},"get")});var Lwe=process.platform==="darwin",Mwe=EZ.globalAgent,nL={keychain:"all",unique:!0,excludeBundled:!0,format:cp.Format.pem};function Owe(t){if(t===void 0&&(t=nL),!Lwe)return[];t=k1(k1({},nL),t);var e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(t.keychain==="all"||t.keychain==="SystemRootCertificates"){var o="/System/Library/Keychains/SystemRootCertificates.keychain",a=(0,Pwe.spawnSync)("/usr/bin/security",r.concat(o)).stdout.toString().split(e).map(function(d){return d.trim()});n=tL(tL([],n,!0),a,!0)}if(t.keychain==="all"||t.keychain==="current"){var c=(0,Pwe.spawnSync)("/usr/bin/security",r).stdout.toString().split(e).map(function(d){return d.trim()});n=tL(tL([],n,!0),c,!0)}if(t.unique||t.excludeBundled){var l=n.map(function(d){return(0,cp.convert)(d,cp.Format.fingerprint)}),u=t.excludeBundled?_mt.rootCertificates.map(function(d){return(0,cp.convert)(d,cp.Format.fingerprint)}):[];n=n.filter(function(d,h){var A=l[h];return!(t.unique&&h!==l.indexOf(A)||t.excludeBundled&&u.includes(A))})}return n.map(function(d){return(0,cp.convert)(d,t.format)})}s(Owe,"get");vc.get=Owe;var rL=Mwe.options.ca,wmt=s(function(t){if(t===void 0&&(t=nL),!!Lwe){var e;Array.isArray(rL)?e=Array.from(rL):e=typeof rL<"u"?[rL]:[],Owe(k1(k1(k1({},nL),t),{format:cp.Format.pem,excludeBundled:!1})).forEach(function(r){return e.push(r)}),Mwe.options.ca=e,EZ.Agent=function(r){var n=s(function(o){var a=typeof o<"u"?k1({},o):{};return typeof a.ca>"u"&&(a.ca=e),r.call(this,a)},"newAgent");return n.prototype=r.prototype,n}(EZ.Agent),(0,Fwe.setGlobalDispatcher)(new Fwe.Agent({connect:{ca:e}}))}},"addToGlobalAgent");vc.addToGlobalAgent=wmt});var Hwe=q((SXr,IZ)=>{f();function Smt(){let{X509Certificate:t}=require("crypto"),{join:e}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=process.arch==="arm64"?"crypt32-arm64.node":"crypt32.node",o=r(e(__dirname,n)),a=[],c=new o.Crypt32;try{let l;for(;l=c.next();){let u=new t(l);a.push(u.toString())}}finally{c.done()}return Array.from(new Set(a))}s(Smt,"all");process.platform!=="win32"?IZ.exports.all=()=>[]:IZ.exports.all=Smt});var Jwe=q((PXr,Kwe)=>{f();var RZ=require("fs"),oL=require("path"),YS=oL.join,Rmt=oL.dirname,zwe=RZ.accessSync&&function(t){try{RZ.accessSync(t)}catch{return!1}return!0}||RZ.existsSync||oL.existsSync,jwe={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function kmt(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(jwe).map(function(u){u in t||(t[u]=jwe[u])}),t.module_root||(t.module_root=Dmt(__filename)),oL.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,o=t.try.length,a,c,l;n<o;n++){a=YS.apply(null,t.try[n].map(function(u){return t[u]||u})),r.push(a);try{return c=t.path?e.resolve(a):e(a),t.path||(c.path=a),c}catch(u){if(u.code!=="MODULE_NOT_FOUND"&&u.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(u.message))throw u}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(u){return t.arrow+u}).join(`
`)),l.tries=r,l}s(kmt,"bindings");Kwe.exports=kmt;function Dmt(t){for(var e=Rmt(t),r;;){if(e==="."&&(e=process.cwd()),zwe(YS(e,"dist")))return YS(e,"dist");if(zwe(YS(e,"compiled")))return e;if(r===e)throw new Error('Could not find module root given file: "'+t+'". Do you have a `dist` or `compiled` directory? ');r=e,e=YS(e,"..")}}s(Dmt,"getRoot")});var e3e=q((MXr,Zwe)=>{"use strict";f();function Xwe(t,e,r){let n=e[r];if(t==null&&n.required===!1)return;if(t==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let o=typeof t;if(n.type&&o!==n.type){if(n.required===!1&&e.slice(r).some(a=>a.type===o))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof t}\``)}return!0}s(Xwe,"validateParameter");function Nmt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}s(Nmt,"hasOwnProperty");function Qmt(t,e){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let a=0,c=0;a<e.length;++a,++c){let l=e[a],u=r[c];Nmt(l,"default")&&u==null&&(u=l.default),l.type==="object"&&l.default!=null&&(u=Object.assign({},l.default,u)),l.name==="options"&&(typeof u=="function"||u==null)&&(u={}),Xwe(u,e,a)?n.push(u):c--}if(typeof arguments[arguments.length-1]!="function")return new Promise((a,c)=>{n.push((l,u)=>{if(l)return c(l);a(u)}),t.apply(this,n)});t.apply(this,n)}}s(Qmt,"defineOperation");Zwe.exports={defineOperation:Qmt,validateParameter:Xwe}});var kZ=q((HXr,n3e)=>{"use strict";f();var p5=Jwe()("kerberos"),A5=p5.KerberosClient,t3e=p5.KerberosServer,D1=e3e().defineOperation,Pmt=1,Fmt=2,Lmt=4,Mmt=8,Omt=16,Umt=32,Hmt=64,qmt=128,Gmt=256,r3e=0,Vmt=9,Wmt=6;A5.prototype.step=D1(A5.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);A5.prototype.wrap=D1(A5.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);A5.prototype.unwrap=D1(A5.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);t3e.prototype.step=D1(t3e.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var $mt=D1(p5.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Ymt=D1(p5.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),zmt=D1(p5.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:r3e}},{name:"callback",type:"function",required:!1}]),jmt=D1(p5.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);n3e.exports={initializeClient:zmt,initializeServer:jmt,principalDetails:Ymt,checkPassword:$mt,GSS_C_DELEG_FLAG:Pmt,GSS_C_MUTUAL_FLAG:Fmt,GSS_C_REPLAY_FLAG:Lmt,GSS_C_SEQUENCE_FLAG:Mmt,GSS_C_CONF_FLAG:Omt,GSS_C_INTEG_FLAG:Umt,GSS_C_ANON_FLAG:Hmt,GSS_C_PROT_READY_FLAG:qmt,GSS_C_TRANS_FLAG:Gmt,GSS_C_NO_OID:r3e,GSS_MECH_OID_KRB5:Vmt,GSS_MECH_OID_SPNEGO:Wmt}});var i3e=q((GXr,Kmt)=>{Kmt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var s3e=q((VXr,o3e)=>{"use strict";f();var Jmt=require("dns"),Xmt=kZ(),DZ=class{static{s(this,"MongoAuthProcess")}constructor(e,r,n,o){o=o||{},this.host=e,this.port=r,this.serviceName=n||o.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof o.gssapiCanonicalizeHostName=="boolean"?o.gssapiCanonicalizeHostName:!1,this._transition=Zmt(this),this.retries=10}init(e,r,n){let o=this;this.username=e,this.password=r;function a(c,l,u){if(!c)return u();Jmt.resolveCname(l,(d,h)=>{if(d)return u(d);Array.isArray(h)&&h.length>0&&(o.host=h[0]),u()})}s(a,"performGssapiCanonicalizeHostName"),a(this.canonicalizeHostName,this.host,c=>{if(c)return n(c);let l={};r!=null&&Object.assign(l,{user:e,password:r});let u=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Xmt.initializeClient(u,l,(d,h)=>{if(d)return n(d,null);o.client=h,n(null,h)})})}transition(e,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(e,r)}};function Zmt(t){return(e,r)=>{t.client.step("",(n,o)=>{if(n)return r(n);t._transition=egt(t),r(null,o)})}}s(Zmt,"firstTransition");function egt(t){return(e,r)=>{t.client.step(e,(n,o)=>{if(n&&t.retries===0)return r(n);if(n)return t.retries=t.retries-1,t.transition(e,r);t._transition=tgt(t),r(null,o||"")})}}s(egt,"secondTransition");function tgt(t){return(e,r)=>{t.client.unwrap(e,(n,o)=>{if(n)return r(n,!1);t.client.wrap(o,{user:t.username},(a,c)=>{if(a)return r(a,!1);t._transition=rgt(t),r(null,c)})})}}s(tgt,"thirdTransition");function rgt(t){return(e,r)=>{t._transition=null,r(null,!0)}}s(rgt,"fourthTransition");o3e.exports={MongoAuthProcess:DZ}});var c3e=q((YXr,zS)=>{"use strict";f();var a3e=kZ();zS.exports=a3e;zS.exports.Kerberos=a3e;zS.exports.version=i3e().version;zS.exports.processes={MongoAuthProcess:s3e().MongoAuthProcess}});var GZ=q((zZr,S3e)=>{f();var jS=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Igt=typeof AbortController=="function",uL=Igt?AbortController:class{static{s(this,"AbortController")}constructor(){this.signal=new T3e}abort(){this.signal.dispatchEvent("abort")}},xgt=typeof AbortSignal=="function",vgt=typeof uL.AbortSignal=="function",T3e=xgt?AbortSignal:vgt?uL.AbortController:class{static{s(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},HZ=new Set,MZ=s((t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;fL(r)&&qZ(r,`${t} option`,`options.${e}`,y5)},"deprecatedOption"),OZ=s((t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(fL(r)){let{prototype:n}=y5,{get:o}=Object.getOwnPropertyDescriptor(n,t);qZ(r,`${t} method`,`cache.${e}()`,o)}},"deprecatedMethod"),bgt=s((t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(fL(r)){let{prototype:n}=y5,{get:o}=Object.getOwnPropertyDescriptor(n,t);qZ(r,`${t} property`,`cache.${e}`,o)}},"deprecatedProperty"),_3e=s((...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},"emitWarning"),fL=s(t=>!HZ.has(t),"shouldWarn"),qZ=s((t,e,r,n)=>{HZ.add(t);let o=`The ${e} is deprecated. Please use ${r} instead.`;_3e(o,"DeprecationWarning",t,n)},"warn"),eI=s(t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),"isPosInt"),w3e=s(t=>eI(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?g5:null:null,"getUintArray"),g5=class extends Array{static{s(this,"ZeroArray")}constructor(e){super(e),this.fill(0)}},UZ=class{static{s(this,"Stack")}constructor(e){if(e===0)return[];let r=w3e(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},y5=class t{static{s(this,"LRUCache")}constructor(e={}){let{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:c,updateAgeOnHas:l,allowStale:u,dispose:d,disposeAfter:h,noDisposeOnSet:A,noUpdateTTL:p,maxSize:g=0,sizeCalculation:E,fetchMethod:v,fetchContext:w,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:S}=e,{length:D,maxAge:N,stale:P}=e instanceof t?{}:e;if(r!==0&&!eI(r))throw new TypeError("max option must be a nonnegative integer");let O=r?w3e(r):Array;if(!O)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=g,this.sizeCalculation=E||D,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=v||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=w,!this.fetchMethod&&w!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new O(r),this.prev=new O(r),this.head=0,this.tail=0,this.free=new UZ(r),this.initialFill=1,this.size=0,typeof d=="function"&&(this.dispose=d),typeof h=="function"?(this.disposeAfter=h,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!A,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!_,this.maxSize!==0){if(!eI(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!P,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!c,this.updateAgeOnHas=!!l,this.ttlResolution=eI(o)||o===0?o:1,this.ttlAutopurge=!!a,this.ttl=n||N||0,this.ttl){if(!eI(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let Y="LRU_CACHE_UNBOUNDED";fL(Y)&&(HZ.add(Y),_3e("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,t))}P&&MZ("stale","allowStale"),N&&MZ("maxAge","ttl"),D&&MZ("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new g5(this.max),this.starts=new g5(this.max),this.setItemTTL=(n,o,a=jS.now())=>{if(this.starts[n]=o!==0?a:0,this.ttls[n]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},o+1);c.unref&&c.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?jS.now():0};let e=0,r=s(()=>{let n=jS.now();if(this.ttlResolution>0){e=n;let o=setTimeout(()=>e=0,this.ttlResolution);o.unref&&o.unref()}return n},"getNow");this.getRemainingTTL=n=>{let o=this.keyMap.get(n);return o===void 0?0:this.ttls[o]===0||this.starts[o]===0?1/0:this.starts[o]+this.ttls[o]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new g5(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,o)=>{if(!eI(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(r,e),!eI(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,o){if(n||o)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return OZ("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],o=this.valList[r],c={value:this.isBackgroundFetch(o)?o.__staleWhileFetching:o};if(this.ttls){c.ttl=this.ttls[r];let l=jS.now()-this.starts[r];c.start=Math.floor(Date.now()-l)}this.sizes&&(c.size=this.sizes[r]),e.unshift([n,c])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let o=Date.now()-n.start;n.start=jS.now()-o}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL}={}){if(c=this.requireSize(e,r,c,l),this.maxSize&&c>this.maxSize)return this;let d=this.size===0?void 0:this.keyMap.get(e);if(d===void 0)d=this.newIndex(),this.keyList[d]=e,this.valList[d]=r,this.keyMap.set(e,d),this.next[this.tail]=d,this.prev[d]=this.tail,this.tail=d,this.size++,this.addItemSize(d,c),u=!1;else{let h=this.valList[d];r!==h&&(this.isBackgroundFetch(h)?h.__abortController.abort():a||(this.dispose(h,e,"set"),this.disposeAfter&&this.disposed.push([h,e,"set"])),this.removeItemSize(d),this.valList[d]=r,this.addItemSize(d,c)),this.moveToTail(d)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(d,n,o),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],o=this.valList[r];return this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,n,"evict"),this.disposeAfter&&this.disposed.push([o,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let o=this.valList[n];return this.isBackgroundFetch(o)?o.__staleWhileFetching:o}}backgroundFetch(e,r,n,o){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let c=new uL,l={signal:c.signal,options:n,context:o},u=s(p=>(c.signal.aborted||this.set(e,p,l.options),p),"cb"),d=s(p=>{if(this.valList[r]===A&&(!n.noDeleteOnFetchRejection||A.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=A.__staleWhileFetching),A.__returned===A)throw p},"eb"),h=s(p=>p(this.fetchMethod(e,a,l)),"pcall"),A=new Promise(h).then(u,d);return A.__abortController=c,A.__staleWhileFetching=a,A.__returned=null,r===void 0?(this.set(e,A,l.options),r=this.keyMap.get(e)):this.valList[r]=A,A}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:l=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,fetchContext:A=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:c,size:l,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h},E=this.keyMap.get(e);if(E===void 0){let v=this.backgroundFetch(e,E,g,A);return v.__returned=v}else{let v=this.valList[E];if(this.isBackgroundFetch(v))return r&&v.__staleWhileFetching!==void 0?v.__staleWhileFetching:v.__returned=v;if(!p&&!this.isStale(E))return this.moveToTail(E),n&&this.updateItemAge(E),v;let w=this.backgroundFetch(e,E,g,A);return r&&w.__staleWhileFetching!==void 0?w.__staleWhileFetching:w.__returned=w}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet}={}){let a=this.keyMap.get(e);if(a!==void 0){let c=this.valList[a],l=this.isBackgroundFetch(c);return this.isStale(a)?l?r?c.__staleWhileFetching:void 0:(o||this.delete(e),r?c:void 0):l?void 0:(this.moveToTail(a),n&&this.updateItemAge(a),c)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return OZ("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let o=this.valList[n];this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,e,"delete"),this.disposeAfter&&this.disposed.push([o,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return OZ("reset","clear"),this.clear}get length(){return bgt("length","size"),this.size}static get AbortController(){return uL}static get AbortSignal(){return T3e}};S3e.exports=y5});var $Z=q((JZr,B3e)=>{"use strict";f();var KS=class extends Error{static{s(this,"FetchBaseError")}constructor(e,r,n){super(e),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},VZ=class extends KS{static{s(this,"FetchError")}constructor(e,r,n){super(e,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},WZ=class extends KS{static{s(this,"AbortError")}constructor(e,r="aborted"){super(e,r,"AbortError")}};B3e.exports={FetchBaseError:KS,FetchError:VZ,AbortError:WZ}});var lp=q((een,k3e)=>{"use strict";f();var{constants:{MAX_LENGTH:Tgt}}=require("buffer"),{pipeline:dL,PassThrough:_gt}=require("stream"),{promisify:wgt}=require("util"),{createGunzip:Sgt,createInflate:Bgt,createBrotliDecompress:Rgt,constants:{Z_SYNC_FLUSH:R3e}}=require("zlib"),kgt=Qd()("helix-fetch:utils"),Dgt=wgt(dL),Ngt=s((t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),"canDecode"),Qgt=s((t,e,r,n)=>{if(!Ngt(t,e))return r;let o=s(a=>{a&&(kgt(`encountered error while decoding stream: ${a}`),n(a))},"cb");switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return dL(r,Sgt({flush:R3e,finishFlush:R3e}),o);case"deflate":case"x-deflate":return dL(r,Bgt(),o);case"br":return dL(r,Rgt(),o);default:return r}},"decodeStream"),Pgt=s(t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},"isPlainObject"),hL=s((t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?Fgt(t,e):Lgt(t,e);default:return 0}},"calcSize"),Fgt=s((t,e)=>(e.add(t),t.map(r=>e.has(r)?0:hL(r,e)).reduce((r,n)=>r+n,0)),"calcArraySize"),Lgt=s((t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let o in t)n.push(o);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(o=>{if(r+=hL(o,e),typeof t[o]=="object"&&t[o]!==null){if(e.has(t[o]))return;e.add(t[o])}r+=hL(t[o],e)}),r},"calcObjectSize"),Mgt=s(t=>hL(t,new WeakSet),"sizeof"),Ogt=s(async t=>{let e=new _gt,r=0,n=[];return e.on("data",o=>{if(r+o.length>Tgt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(o),r+=o.length}),await Dgt(t,e),Buffer.concat(n,r)},"streamToBuffer");k3e.exports={decodeStream:Qgt,isPlainObject:Pgt,sizeof:Mgt,streamToBuffer:Ogt}});var pL=q((nen,P3e)=>{"use strict";f();var{PassThrough:D3e,Readable:up}=require("stream"),{types:{isAnyArrayBuffer:Q3e}}=require("util"),{FetchError:Ugt,FetchBaseError:Hgt}=$Z(),{streamToBuffer:qgt}=lp(),Ggt=Buffer.alloc(0),xu=Symbol("Body internals"),Vgt=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),N3e=s(async t=>{if(t[xu].disturbed)throw new TypeError("Already read");if(t[xu].error)throw new TypeError(`Stream had error: ${t[xu].error.message}`);t[xu].disturbed=!0;let{stream:e}=t[xu];return e===null?Ggt:qgt(e)},"consume"),AL=class{static{s(this,"Body")}constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=up.from(e.toString()):e instanceof up?r=e:Buffer.isBuffer(e)?r=up.from(e):Q3e(e)?r=up.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=up.from(e):r=up.from(String(e)),this[xu]={stream:r,disturbed:!1,error:null},e instanceof up&&r.on("error",n=>{let o=n instanceof Hgt?n:new Ugt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[xu].error=o})}get body(){return this[xu].stream}get bodyUsed(){return this[xu].disturbed}async buffer(){return N3e(this)}async arrayBuffer(){return Vgt(await this.buffer())}async text(){return(await N3e(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(AL.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Wgt=s(t=>{if(t[xu].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[xu],r=e;if(e instanceof up){r=new D3e;let n=new D3e;e.pipe(r),e.pipe(n),t[xu].stream=n}return r},"cloneStream"),$gt=s(t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||Q3e(t)||t instanceof up?null:"text/plain; charset=utf-8","guessContentType");P3e.exports={Body:AL,cloneStream:Wgt,guessContentType:$gt}});var C5=q((sen,O3e)=>{"use strict";f();var{validateHeaderName:F3e,validateHeaderValue:L3e}=require("http"),{isPlainObject:Ygt}=lp(),fp=Symbol("Headers internals"),JS=s(t=>{let e=typeof t!="string"?String(t):t;if(typeof F3e=="function")F3e(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},"normalizeName"),M3e=s((t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof L3e=="function")L3e(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),mL=class t{static{s(this,"Headers")}constructor(e={}){if(this[fp]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(Ygt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[fp].map.set(JS(e),M3e(r,e))}has(e){return this[fp].map.has(JS(e))}get(e){let r=this[fp].map.get(JS(e));return r===void 0?null:r}append(e,r){let n=JS(e),o=M3e(r,e),a=this[fp].map.get(n);this[fp].map.set(n,a?`${a}, ${o}`:o)}delete(e){this[fp].map.delete(JS(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[fp].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[fp].map)}};Object.defineProperties(mL.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));O3e.exports={Headers:mL}});var YZ=q((len,U3e)=>{"use strict";f();var{EventEmitter:zgt}=require("events"),Lf=Symbol("AbortSignal internals"),E5=class{static{s(this,"AbortSignal")}constructor(){this[Lf]={eventEmitter:new zgt,onabort:null,aborted:!1}}get aborted(){return this[Lf].aborted}get onabort(){return this[Lf].onabort}set onabort(e){this[Lf].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[Lf].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[Lf].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[Lf][n]=="function"&&this[n](r),this[Lf].eventEmitter.emit(e,r)}fire(){this[Lf].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(E5.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var yL=class extends E5{static{s(this,"TimeoutSignal")}constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[Lf].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[Lf].timerId)}};Object.defineProperties(yL.prototype,{clear:{enumerable:!0}});var gL=Symbol("AbortController internals"),CL=class{static{s(this,"AbortController")}constructor(){this[gL]={signal:new E5}}get signal(){return this[gL].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[gL].signal.aborted||this[gL].signal.fire()}};Object.defineProperties(CL.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});U3e.exports={AbortController:CL,AbortSignal:E5,TimeoutSignal:yL}});var XS=q((den,G3e)=>{"use strict";f();var{randomBytes:jgt}=require("crypto"),{Readable:Kgt}=require("stream"),jZ=s(t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),"isBlob"),Jgt=s(t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData","isFormData"),H3e=s(t=>`--${t}--\r
\r
`,"getFooter"),q3e=s((t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,jZ(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*Xgt(t,e){for(let[r,n]of t)yield q3e(e,r,n),jZ(n)?yield*n.stream():yield n,yield`\r
`;yield H3e(e)}s(Xgt,"formDataIterator");var Zgt=s((t,e)=>{let r=0;for(let[n,o]of t)r+=Buffer.byteLength(q3e(e,n,o)),r+=jZ(o)?o.size:Buffer.byteLength(String(o)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(H3e(e)),r},"getFormDataLength"),zZ=class{static{s(this,"FormDataSerializer")}constructor(e){this.fd=e,this.boundary=jgt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=Zgt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return Kgt.from(Xgt(this.fd,this.boundary))}};G3e.exports={isFormData:Jgt,FormDataSerializer:zZ}});var W3e=q((men,V3e)=>{"use strict";f();var{AbortSignal:pen}=YZ(),{Body:e1t,cloneStream:t1t,guessContentType:r1t}=pL(),{Headers:n1t}=C5(),{isPlainObject:i1t}=lp(),{isFormData:o1t,FormDataSerializer:s1t}=XS(),a1t=20,Q1=Symbol("Request internals"),EL=class t extends e1t{static{s(this,"Request")}constructor(e,r={}){let n=e instanceof t?e:null,o=n?new URL(n.url):new URL(e),a=r.method||n&&n.method||"GET";if(a=a.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(a))throw new TypeError("Request with GET/HEAD method cannot have body");let c=r.body||(n&&n.body?t1t(n):null),l=new n1t(r.headers||n&&n.headers||{});if(o1t(c)&&!l.has("content-type")){let A=new s1t(c);c=A.stream(),l.set("content-type",A.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",A.length())}if(!l.has("content-type"))if(i1t(c))c=JSON.stringify(c),l.set("content-type","application/json");else{let A=r1t(c);A&&l.set("content-type",A)}super(c);let u=n?n.signal:null;"signal"in r&&(u=r.signal);let d=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(d))throw new TypeError(`'${d}' is not a valid redirect option`);let h=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(h))throw new TypeError(`'${h}' is not a valid cache option`);this[Q1]={init:{...r},method:a,redirect:d,cache:h,headers:l,parsedURL:o,signal:u},r.follow===void 0?!n||n.follow===void 0?this.follow=a1t:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Q1].method}get url(){return this[Q1].parsedURL.toString()}get headers(){return this[Q1].headers}get redirect(){return this[Q1].redirect}get cache(){return this[Q1].cache}get signal(){return this[Q1].signal}clone(){return new t(this)}get init(){return this[Q1].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(EL.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});V3e.exports={Request:EL}});var KZ=q((Cen,$3e)=>{"use strict";f();var{Body:c1t,cloneStream:l1t,guessContentType:u1t}=pL(),{Headers:f1t}=C5(),{isPlainObject:d1t}=lp(),{isFormData:h1t,FormDataSerializer:A1t}=XS(),Mf=Symbol("Response internals"),IL=class t extends c1t{static{s(this,"Response")}constructor(e=null,r={}){let n=new f1t(r.headers),o=e;if(h1t(o)&&!n.has("content-type")){let a=new A1t(o);o=a.stream(),n.set("content-type",a.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",a.length())}if(o!==null&&!n.has("content-type"))if(d1t(o))o=JSON.stringify(o),n.set("content-type","application/json");else{let a=u1t(o);a&&n.set("content-type",a)}super(o),this[Mf]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Mf].url||""}get status(){return this[Mf].status}get statusText(){return this[Mf].statusText}get ok(){return this[Mf].status>=200&&this[Mf].status<300}get redirected(){return this[Mf].counter>0}get headers(){return this[Mf].headers}get httpVersion(){return this[Mf].httpVersion}get decoded(){return this[Mf].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(l1t(this),{...this[Mf]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(IL.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});$3e.exports={Response:IL}});var z3e=q((ven,Y3e)=>{"use strict";f();var p1t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),m1t=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),g1t=new Set([500,502,503,504]),y1t={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},C1t={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function tI(t){let e=parseInt(t,10);return isFinite(e)?e:0}s(tI,"toNumberOrZero");function E1t(t){return t?g1t.has(t.status):!0}s(E1t,"isErrorResponse");function JZ(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[o,a]=n.split(/=/,2);e[o.trim()]=a===void 0?!0:a.trim().replace(/^"|"$/g,"")}return e}s(JZ,"parseCacheControl");function I1t(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}s(I1t,"formatCacheControl");Y3e.exports=class{static{s(this,"CachePolicy")}constructor(e,r,{shared:n,cacheHeuristic:o,immutableMinTimeToLive:a,ignoreCargoCult:c,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=o!==void 0?o:.1,this._immutableMinTtl=a!==void 0?a:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=JZ(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=JZ(e.headers["cache-control"]),c&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":I1t(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&m1t.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||p1t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=JZ(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)y1t[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let o of n)delete r[o]}if(r.warning){let n=r.warning.split(/,/).filter(o=>!/^\s*1[0-9][0-9]/.test(o));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return tI(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return tI(this._rescc["s-maxage"])}if(this._rescc["max-age"])return tI(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+tI(this._rescc["stale-if-error"]),n=e+tI(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+tI(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+tI(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let o=r["if-none-match"].split(/,/).filter(a=>!/^\s*W\//.test(a));o.length?r["if-none-match"]=o.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&E1t(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let o={};for(let c in this._resHeaders)o[c]=c in r.headers&&!C1t[c]?r.headers[c]:this._resHeaders[c];let a=Object.assign({},r,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(e,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var X3e=q((_en,J3e)=>{"use strict";f();var x1t=z3e(),{Headers:v1t}=C5(),j3e=s(t=>({url:t.url,method:t.method,headers:t.headers.plain()}),"convertRequest"),K3e=s(t=>({status:t.status,headers:t.headers.plain()}),"convertResponse"),XZ=class{static{s(this,"CachePolicyWrapper")}constructor(e,r,n){this.policy=new x1t(j3e(e),K3e(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(j3e(e))}responseHeaders(e){return new v1t(this.policy.responseHeaders(K3e(e)))}timeToLive(){return this.policy.timeToLive()}};J3e.exports=XZ});var tSe=q((Ben,eSe)=>{"use strict";f();var{Readable:b1t}=require("stream"),{Headers:Z3e}=C5(),{Response:T1t}=KZ(),P1=Symbol("CacheableResponse internals"),_1t=s(t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),"toArrayBuffer"),ZZ=class t extends T1t{static{s(this,"CacheableResponse")}constructor(e,r){super(e,r);let n=new Z3e(r.headers);this[P1]={headers:n,bufferedBody:e}}get headers(){return this[P1].headers}set headers(e){if(e instanceof Z3e)this[P1].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return b1t.from(this[P1].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[P1].bufferedBody}async arrayBuffer(){return _1t(this[P1].bufferedBody)}async text(){return this[P1].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l}=this;return new t(this[P1].bufferedBody,{url:e,status:r,statusText:n,headers:o,httpVersion:a,decoded:c,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},w1t=s(async t=>{let e=await t.buffer(),{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u}=t;return new ZZ(e,{url:r,status:n,statusText:o,headers:a,httpVersion:c,decoded:l,counter:u})},"cacheableResponse");eSe.exports={cacheableResponse:w1t}});var xL=q((Den,rSe)=>{"use strict";f();var eee=class extends Error{static{s(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};rSe.exports={RequestAbortedError:eee}});var aSe=q((Pen,sSe)=>{"use strict";f();var iSe=require("http"),oSe=require("https"),{Readable:S1t}=require("stream"),dp=Qd()("helix-fetch:h1"),{RequestAbortedError:nSe}=xL(),{decodeStream:B1t}=lp(),R1t=s((t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:o}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof o=="boolean"?(r.httpsAgent=new oSe.Agent(typeof o=="boolean"?{...n||{},rejectUnauthorized:o}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new iSe.Agent(n),r.httpAgent):void 0},"getAgent"),k1t=s(t=>{t.h1={}},"setupContext"),D1t=s(async({h1:t})=>{t.httpAgent&&(dp("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(dp("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},"resetContext"),N1t=s((t,e,r)=>{let{statusCode:n,statusMessage:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u}=t,d=e?B1t(n,u,t,r):t;return{statusCode:n,statusText:o,httpVersion:a,httpVersionMajor:c,httpVersionMinor:l,headers:u,readable:d,decoded:!!(e&&d!==t)}},"createResponse"),Q1t=s(async(t,e,r)=>{let{request:n}=e.protocol==="https:"?oSe:iSe,o=R1t(t,e.protocol),a={...r,agent:o},{socket:c,body:l}=a;return c&&(delete a.socket,c.assigned||(c.assigned=!0,o?a.agent=new Proxy(o,{get:s((u,d)=>d==="createConnection"&&!c.inUse?(h,A)=>{dp(`agent reusing socket #${c.id} (${c.servername})`),c.inUse=!0,A(null,c)}:u[d],"get")}):a.createConnection=(u,d)=>{dp(`reusing socket #${c.id} (${c.servername})`),c.inUse=!0,d(null,c)})),new Promise((u,d)=>{dp(`${a.method} ${e.href}`);let h,{signal:A}=a,p=s(()=>{A.removeEventListener("abort",p),c&&!c.inUse&&(dp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),d(new nSe),h&&h.abort()},"onAbortSignal");if(A){if(A.aborted){d(new nSe);return}A.addEventListener("abort",p)}h=n(e,a),h.once("response",g=>{A&&A.removeEventListener("abort",p),c&&!c.inUse&&(dp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),u(N1t(g,a.decode,d))}),h.once("error",g=>{A&&A.removeEventListener("abort",p),c&&!c.inUse&&(dp(`discarding redundant socket used for ALPN: #${c.id} ${c.servername}`),c.destroy()),h.aborted||(dp(`${a.method} ${e.href} failed with: ${g.message}`),h.abort(),d(g))}),l instanceof S1t?l.pipe(h):(l&&h.write(l),h.end())})},"h1Request");sSe.exports={request:Q1t,setupContext:k1t,resetContext:D1t}});var fSe=q((Men,uSe)=>{"use strict";f();var{connect:P1t,constants:F1t}=require("http2"),{Readable:L1t}=require("stream"),io=Qd()("helix-fetch:h2"),{RequestAbortedError:cSe}=xL(),{decodeStream:M1t}=lp(),{NGHTTP2_CANCEL:ZS}=F1t,O1t=300*1e3,U1t=5e3,H1t=s(t=>{t.h2={sessionCache:{}}},"setupContext"),q1t=s(async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),io(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),"resetContext"),lSe=s((t,e,r,n=()=>{})=>{let o={...t},a=o[":status"];delete o[":status"];let c=r?M1t(a,t,e,n):e;return{statusCode:a,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:o,readable:c,decoded:!!(r&&c!==e)}},"createResponse"),G1t=s((t,e,r,n,o,a)=>{let{options:{h2:{pushPromiseHandler:c,pushHandler:l,pushedStreamIdleTimeout:u=U1t}}}=t,d=o[":path"],h=`${e}${d}`;io(`received PUSH_PROMISE: ${h}, stream #${n.id}, headers: ${JSON.stringify(o)}, flags: ${a}`),c&&c(h,o,s(()=>{n.close(ZS)},"rejectPush")),n.on("push",(A,p)=>{io(`received push headers for ${e}${d}, stream #${n.id}, headers: ${JSON.stringify(A)}, flags: ${p}`),n.setTimeout(u,()=>{io(`closing pushed stream #${n.id} after ${u} ms of inactivity`),n.close(ZS)}),l&&l(h,o,lSe(A,n,r))}),n.on("aborted",()=>{io(`pushed stream #${n.id} aborted`)}),n.on("error",A=>{io(`pushed stream #${n.id} encountered error: ${A}`)}),n.on("frameError",(A,p,g)=>{io(`pushed stream #${n.id} encountered frameError: type: ${A}, code: ${p}, id: ${g}`)})},"handlePush"),V1t=s(async(t,e,r)=>{let{origin:n,pathname:o,search:a,hash:c}=e,l=`${o}${a}${c}`,{options:{h2:u={}},h2:{sessionCache:d}}=t,{idleSessionTimeout:h=O1t,pushPromiseHandler:A,pushHandler:p}=u,g={...r},{method:E,headers:v,socket:w,body:_,decode:S}=g;return w&&delete g.socket,v.host&&(v[":authority"]=v.host,delete v.host),new Promise((D,N)=>{let P=d[n];if(!P||P.closed||P.destroyed){let he=!(t.options.rejectUnauthorized===!1||u.rejectUnauthorized===!1),$={...u,rejectUnauthorized:he};w&&!w.inUse&&($.createConnection=()=>(io(`reusing socket #${w.id} (${w.servername})`),w.inUse=!0,w)),P=P1t(n,{...$,settings:{enablePush:!!(A||p)}}),P.setMaxListeners(1e3),P.setTimeout(h,()=>{io(`closing session ${n} after ${h} ms of inactivity`),P.close()}),P.once("connect",()=>{io(`session ${n} established`),io(`caching session ${n}`),d[n]=P}),P.on("localSettings",xe=>{io(`session ${n} localSettings: ${JSON.stringify(xe)}`)}),P.on("remoteSettings",xe=>{io(`session ${n} remoteSettings: ${JSON.stringify(xe)}`)}),P.once("close",()=>{io(`session ${n} closed`),d[n]===P&&(io(`discarding cached session ${n}`),delete d[n])}),P.once("error",xe=>{io(`session ${n} encountered error: ${xe}`),d[n]===P&&(io(`discarding cached session ${n}`),delete d[n])}),P.on("frameError",(xe,ce,J)=>{io(`session ${n} encountered frameError: type: ${xe}, code: ${ce}, id: ${J}`)}),P.once("goaway",(xe,ce,J)=>{io(`session ${n} received GOAWAY frame: errorCode: ${xe}, lastStreamID: ${ce}, opaqueData: ${J?J.toString():void 0}`)}),P.on("stream",(xe,ce,J)=>{G1t(t,n,S,xe,ce,J)})}else w&&w.id!==P.socket.id&&!w.inUse&&(io(`discarding redundant socket used for ALPN: #${w.id} ${w.servername}`),w.destroy());io(`${E} ${e.host}${l}`);let O,{signal:Y}=g,ne=s(()=>{Y.removeEventListener("abort",ne),N(new cSe),O&&O.close(ZS)},"onAbortSignal");if(Y){if(Y.aborted){N(new cSe);return}Y.addEventListener("abort",ne)}let oe=s(he=>{io(`session ${n} encountered error during ${g.method} ${e.href}: ${he}`),N(he)},"onSessionError");P.once("error",oe),O=P.request({":method":E,":path":l,...v}),O.once("response",he=>{P.off("error",oe),Y&&Y.removeEventListener("abort",ne),D(lSe(he,O,g.decode,N))}),O.once("error",he=>{P.off("error",oe),Y&&Y.removeEventListener("abort",ne),O.rstCode!==ZS&&(io(`${g.method} ${e.href} failed with: ${he.message}`),O.close(ZS),N(he))}),O.once("frameError",(he,$,K)=>{P.off("error",oe),io(`encountered frameError during ${g.method} ${e.href}: type: ${he}, code: ${$}, id: ${K}`)}),O.on("push",(he,$)=>{io(`received 'push' event: headers: ${JSON.stringify(he)}, flags: ${$}`)}),_ instanceof L1t?_.pipe(O):(_&&O.write(_),O.end())})},"request");uSe.exports={request:V1t,setupContext:H1t,resetContext:q1t}});var hSe=q((Hen,dSe)=>{"use strict";f();var{EventEmitter:W1t}=require("events"),$1t=s(()=>{let t={},e=new W1t;return e.setMaxListeners(0),{acquire:s(r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let o=s(a=>{t[r]||(t[r]=!0,e.removeListener(r,o),n(a))},"tryAcquire");e.on(r,o)}),"acquire"),release:s((r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))},"release")}},"lock");dSe.exports=$1t});var ASe=q((Ven,Y1t)=>{Y1t.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var CSe=q((Wen,ySe)=>{"use strict";f();var{Readable:z1t}=require("stream"),j1t=require("tls"),{types:{isAnyArrayBuffer:K1t}}=require("util"),J1t=GZ(),tee=Qd()("helix-fetch:core"),{RequestAbortedError:vL}=xL(),ree=aSe(),bL=fSe(),X1t=hSe(),{isPlainObject:Z1t}=lp(),{isFormData:eyt,FormDataSerializer:tyt}=XS(),{version:ryt}=ASe(),nee="h2",iee="h2c",oee="http/1.0",rI="http/1.1",nyt=100,iyt=3600*1e3,oyt=[nee,rI,oee],syt=`helix-fetch/${ryt}`,ayt={method:"GET",compress:!0,decode:!0},pSe=0,mSe=X1t(),gSe=s((t,e)=>new Promise((r,n)=>{let{signal:o}=e,a,c=s(()=>{o.removeEventListener("abort",c);let d=new vL;n(d),a&&a.destroy(d)},"onAbortSignal");if(o){if(o.aborted){n(new vL);return}o.addEventListener("abort",c)}let l=+t.port||443,u=s(d=>{o&&o.removeEventListener("abort",c),d instanceof vL||(tee(`connecting to ${t.hostname}:${l} failed with: ${d.message}`),n(d))},"onError");a=j1t.connect(l,t.hostname,e),a.once("secureConnect",()=>{o&&o.removeEventListener("abort",c),a.off("error",u),pSe+=1,a.id=pSe,a.secureConnecting=!1,tee(`established TLS connection: #${a.id} (${a.servername})`),r(a)}),a.once("error",u)}),"connectTLS"),cyt=s(async(t,e)=>{let r=await mSe.acquire(t.origin);try{return r||(r=await gSe(t,e)),r}finally{mSe.release(t.origin,r)}},"connect"),lyt=s(async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,o=t.alpnCache.get(n);if(o)return{protocol:o};switch(e.protocol){case"http:":return o=rI,t.alpnCache.set(n,o),{protocol:o};case"http2:":return o=iee,t.alpnCache.set(n,o),{protocol:o};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:a,h1:c={},h2:l={}}}=t,u=!(a===!1||c.rejectUnauthorized===!1||l.rejectUnauthorized===!1),d={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:u};t.options.ca&&(d.ca=t.options.ca);let h=await cyt(e,d);return o=h.alpnProtocol,o||(o=rI),t.alpnCache.set(n,o),{protocol:o,socket:h}},"determineProtocol"),uyt=s(t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},"sanitizeHeaders"),fyt=s(async(t,e,r,n)=>{let o=e.protocol==="https:",a;e.port?a=e.port:o?a=443:a=80;let c={...r,host:e.host,hostname:e.hostname,port:a},l=await t(c);if(o){let d={...c,ALPNProtocols:n};d.socket=l,d.servername=c.host;let h=await gSe(e,d);return{protocol:h.alpnProtocol||rI,socket:h}}return{protocol:l.alpnProtocol||rI,socket:l}},"getProtocolAndSocketFromFactory"),dyt=s(async(t,e,r)=>{let n=new URL(e),o={...ayt,...r||{}};typeof o.method=="string"&&(o.method=o.method.toUpperCase()),o.headers=uyt(o.headers||{}),o.headers.host===void 0&&(o.headers.host=n.host),t.userAgent&&o.headers["user-agent"]===void 0&&(o.headers["user-agent"]=t.userAgent);let a;if(o.body instanceof URLSearchParams)a="application/x-www-form-urlencoded; charset=utf-8",o.body=o.body.toString();else if(eyt(o.body)){let d=new tyt(o.body);a=d.contentType(),o.body=d.stream(),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(d.length()))}else typeof o.body=="string"||o.body instanceof String?a="text/plain; charset=utf-8":Z1t(o.body)?(o.body=JSON.stringify(o.body),a="application/json"):K1t(o.body)&&(o.body=Buffer.from(o.body));o.headers["content-type"]===void 0&&a!==void 0&&(o.headers["content-type"]=a),o.body!=null&&(o.body instanceof z1t||(!(typeof o.body=="string"||o.body instanceof String)&&!Buffer.isBuffer(o.body)&&(o.body=String(o.body)),o.headers["transfer-encoding"]===void 0&&o.headers["content-length"]===void 0&&(o.headers["content-length"]=String(Buffer.isBuffer(o.body)?o.body.length:Buffer.byteLength(o.body,"utf-8"))))),o.headers.accept===void 0&&(o.headers.accept="*/*"),o.body==null&&["POST","PUT"].includes(o.method)&&(o.headers["content-length"]="0"),o.compress&&o.headers["accept-encoding"]===void 0&&(o.headers["accept-encoding"]="gzip,deflate,br");let{signal:c}=o,{protocol:l,socket:u=null}=t.socketFactory?await fyt(t.socketFactory,n,o,t.alpnProtocols):await lyt(t,n,c);switch(tee(`${n.host} -> ${l}`),l){case nee:try{return await bL.request(t,n,u?{...o,socket:u}:o)}catch(d){let{code:h,message:A}=d;throw h==="ERR_HTTP2_ERROR"&&A==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),d}case iee:return bL.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),u?{...o,socket:u}:o);case oee:case rI:return ree.request(t,n,u?{...o,socket:u}:o);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),hyt=s(async t=>(t.alpnCache.clear(),Promise.all([ree.resetContext(t),bL.resetContext(t)])),"resetContext"),Ayt=s(t=>{let{options:{alpnProtocols:e=oyt,alpnCacheTTL:r=iyt,alpnCacheSize:n=nyt,userAgent:o=syt,socketFactory:a}}=t;t.alpnProtocols=e,t.alpnCache=new J1t({max:n,ttl:r}),t.userAgent=o,t.socketFactory=a,ree.setupContext(t),bL.setupContext(t)},"setupContext");ySe.exports={request:dyt,setupContext:Ayt,resetContext:hyt,RequestAbortedError:vL,ALPN_HTTP2:nee,ALPN_HTTP2C:iee,ALPN_HTTP1_1:rI,ALPN_HTTP1_0:oee}});var ISe=q((zen,ESe)=>{"use strict";f();var pyt=Qd()("helix-fetch:core"),{request:myt,setupContext:gyt,resetContext:yyt,RequestAbortedError:Cyt,ALPN_HTTP2:Eyt,ALPN_HTTP2C:Iyt,ALPN_HTTP1_1:xyt,ALPN_HTTP1_0:vyt}=CSe(),see=class t{static{s(this,"RequestContext")}constructor(e){this.options={...e||{}},gyt(this)}api(){return{request:s(async(e,r)=>this.request(e,r),"request"),context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),reset:s(async()=>this.reset(),"reset"),RequestAbortedError:Cyt,ALPN_HTTP2:Eyt,ALPN_HTTP2C:Iyt,ALPN_HTTP1_1:xyt,ALPN_HTTP1_0:vyt}}async request(e,r){return myt(this,e,r)}setCA(e){this.options.ca=e}async reset(){return pyt("resetting context"),yyt(this)}};ESe.exports=new see().api()});var _Se=q((Jen,TSe)=>{"use strict";f();var{EventEmitter:byt}=require("events"),{Readable:eB}=require("stream"),aee=Qd()("helix-fetch"),Tyt=GZ(),{Body:_yt}=pL(),{Headers:fee}=C5(),{Request:nI}=W3e(),{Response:lee}=KZ(),{FetchBaseError:wyt,FetchError:tB,AbortError:TL}=$Z(),{AbortController:Syt,AbortSignal:Byt,TimeoutSignal:Ryt}=YZ(),kyt=X3e(),{cacheableResponse:Dyt}=tSe(),{sizeof:Nyt}=lp(),{isFormData:Qyt}=XS(),{context:Pyt,RequestAbortedError:Fyt}=ISe(),xSe=["GET","HEAD"],Lyt=500,Myt=100*1024*1024,cee="push",vSe=s(async(t,e,r)=>{let{request:n}=t.context,o=e instanceof nI&&typeof r>"u"?e:new nI(e,r),{method:a,body:c,signal:l,compress:u,decode:d,follow:h,redirect:A,init:{body:p}}=o,g;if(l&&l.aborted){let P=new TL("The operation was aborted.");throw o.init.body instanceof eB&&o.init.body.destroy(P),P}try{g=await n(o.url,{...r,method:a,headers:o.headers.plain(),body:p&&!(p instanceof eB)&&!Qyt(p)?p:c,compress:u,decode:d,follow:h,redirect:A,signal:l})}catch(P){throw p instanceof eB&&p.destroy(P),P instanceof TypeError?P:P instanceof Fyt?new TL("The operation was aborted."):new tB(P.message,"system",P)}let E=s(()=>{l.removeEventListener("abort",E);let P=new TL("The operation was aborted.");o.init.body instanceof eB&&o.init.body.destroy(P),g.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",E);let{statusCode:v,statusText:w,httpVersion:_,headers:S,readable:D,decoded:N}=g;if([301,302,303,307,308].includes(v)){let{location:P}=S,O=P==null?null:new URL(P,o.url);switch(o.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",E),new tB(`uri requested responds with a redirect, redirect mode is set to 'error': ${o.url}`,"no-redirect");case"follow":{if(O===null)break;if(o.counter>=o.follow)throw l&&l.removeEventListener("abort",E),new tB(`maximum redirect reached at: ${o.url}`,"max-redirect");let Y={headers:new fee(o.headers),follow:o.follow,compress:o.compress,decode:o.decode,counter:o.counter+1,method:o.method,body:o.body,signal:o.signal};if(v!==303&&o.body&&o.init.body instanceof eB)throw l&&l.removeEventListener("abort",E),new tB("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(v===303||(v===301||v===302)&&o.method==="POST")&&(Y.method="GET",Y.body=void 0,Y.headers.delete("content-length")),l&&l.removeEventListener("abort",E),vSe(t,new nI(O,Y))}default:}}return l&&(D.once("end",()=>{l.removeEventListener("abort",E)}),D.once("error",()=>{l.removeEventListener("abort",E)})),new lee(D,{url:o.url,status:v,statusText:w,headers:S,httpVersion:_,decoded:N,counter:o.counter})},"fetch"),bSe=s(async(t,e,r)=>{if(t.options.maxCacheSize===0||!xSe.includes(e.method))return r;let n=new kyt(e,r,{shared:!1});if(n.storable()){let o=await Dyt(r);return t.cache.set(e.url,{policy:n,response:o},n.timeToLive()),o}else return r},"cacheResponse"),Oyt=s(async(t,e,r)=>{let n=new nI(e,r);if(t.options.maxCacheSize!==0&&xSe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:c,response:l}=t.cache.get(n.url)||{};if(c&&c.satisfiesWithoutRevalidation(n)){l.headers=new fee(c.responseHeaders(l));let u=l.clone();return u.fromCache=!0,u}}let a=await vSe(t,n);return n.cache!=="no-store"?bSe(t,n,a):a},"cachingFetch"),Uyt=s((t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,o])=>{Array.isArray(o)?o.forEach(a=>r.searchParams.append(n,a)):r.searchParams.append(n,o)}),r.href},"createUrl"),Hyt=s(t=>new Ryt(t),"timeoutSignal"),uee=class t{static{s(this,"FetchContext")}constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:Myt,o=Lyt;n===0&&(n=1,o=1);let a=s(({response:l},u)=>Nyt(l),"sizeCalculation");this.cache=new Tyt({max:o,maxSize:n,sizeCalculation:a}),this.eventEmitter=new byt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:c}=this.options.h2;c&&(this.options.h2.pushPromiseHandler=(l,u,d)=>{let h={...u};Object.keys(h).filter(A=>A.startsWith(":")).forEach(A=>delete h[A]),this.pushPromiseHandler(l,h,d)},this.options.h2.pushHandler=(l,u,d)=>{let h={...u};Object.keys(h).filter(_=>_.startsWith(":")).forEach(_=>delete h[_]);let{statusCode:A,statusText:p,httpVersion:g,headers:E,readable:v,decoded:w}=d;this.pushHandler(l,h,new lee(v,{url:l,status:A,statusText:p,headers:E,httpVersion:g,decoded:w}))}),this.context=Pyt(this.options)}api(){return{fetch:s(async(e,r)=>this.fetch(e,r),"fetch"),Body:_yt,Headers:fee,Request:nI,Response:lee,AbortController:Syt,AbortSignal:Byt,FetchBaseError:wyt,FetchError:tB,AbortError:TL,context:s((e={})=>new t(e).api(),"context"),setCA:s(e=>this.setCA(e),"setCA"),noCache:s((e={})=>new t({...e,maxCacheSize:0}).api(),"noCache"),h1:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:s((e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:s((e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:s(async()=>this.context.reset(),"reset"),onPush:s(e=>this.onPush(e),"onPush"),offPush:s(e=>this.offPush(e),"offPush"),createUrl:Uyt,timeoutSignal:Hyt,clearCache:s(()=>this.clearCache(),"clearCache"),cacheStats:s(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return Oyt(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(cee,e)}offPush(e){return this.eventEmitter.off(cee,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){aee(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let o=new nI(e,{headers:r}),{policy:a}=this.cache.get(e)||{};a&&a.satisfiesWithoutRevalidation(o)&&(aee(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){aee(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let o=await bSe(this,new nI(e,{headers:r}),n);this.eventEmitter.emit(cee,e,o)}};TSe.exports=new uee().api()});var SSe=q((etn,wSe)=>{"use strict";f();wSe.exports=_Se()});f();f();f();f();f();var Bm=class extends Error{static{s(this,"CopilotAuthError")}constructor(e,r){super(e,{cause:r}),this.name="CopilotAuthError"}};f();f();var WT="github.copilot";f();f();f();f();f();function mte(t){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>t.includes(r))}s(mte,"findKnownOrg");function gte(t){let e=t.organization_list??[];return mte(e)??""}s(gte,"getUserKind");f();var L8=(o=>(o[o.DEBUG=4]="DEBUG",o[o.INFO=3]="INFO",o[o.WARN=2]="WARN",o[o.ERROR=1]="ERROR",o))(L8||{}),Qy=class{static{s(this,"LogTarget")}},Rm=class{static{s(this,"TelemetryLogSender")}},Vr=class{constructor(e){this.category=e}static{s(this,"Logger")}log(e,r,...n){e.get(Qy).logIt(e,r,this.category,...n)}debug(e,...r){this.log(e,4,...r)}info(e,...r){this.log(e,3,...r)}warn(e,...r){this.log(e,2,...r)}error(e,...r){e.get(Rm).sendError(e,this.category,...r),this.log(e,1,...r)}exception(e,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let o=n;n.startsWith(".")&&(o=n.substring(1),n=`${this.category}${n}`),e.get(Rm).sendException(e,r,n);let a=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(e,1,`${o}:`,a)}},Qo=new Vr("default");f();f();f();var $T=class extends Error{static{s(this,"HttpTimeoutError")}constructor(e,r){super(e,{cause:r}),this.name="HttpTimeoutError"}};function km(t){return!t||typeof t!="object"?!1:t instanceof $T||"name"in t&&t.name==="AbortError"||"code"in t&&t.code==="ABORT_ERR"}s(km,"isAbortError");var E2=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{s(this,"JsonParseError")}},jh=class extends Error{static{s(this,"FetchResponseError")}constructor(e,r=`HTTP ${e.status} ${e.statusText}`){super(r),this.name="FetchResponseError",this.code=`HTTP${e.status}`}},n8e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function lO(t,e=!0){return t instanceof Error?e&&"cause"in t&&lO(t.cause,!1)?!0:t.name==="EditorFetcherError"||t.name==="FetchError"||t instanceof E2||t instanceof jh||t?.message?.startsWith("net::")||n8e.has(t.code??""):!1}s(lO,"isNetworkError");var M8=class{constructor(e,r,n,o,a){this.status=e;this.statusText=r;this.headers=n;this.getText=o;this.getBody=a;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{s(this,"Response")}async text(){return this.getText()}async json(){let e=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new E2(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(e)}catch(n){if(n instanceof SyntaxError){let o=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(o&&parseInt(o[2],10)==e.length||n.message==="Unexpected end of JSON input"){let a=new TextEncoder().encode(e).length,c=this.headers.get("content-length");throw c===null?new E2(`Response body truncated: actualLength=${a}`,"Truncated"):new E2(`Response body truncated: actualLength=${a}, headerLength=${c}`,"Truncated")}}throw n}}body(){return this.getBody()}};var ms=class{static{s(this,"Fetcher")}getImplementation(){return this}};function uO(t,e,r,n,o,a,c,l,u,d){let h={...l,Authorization:`Bearer ${r}`,...Py(t)};d===void 0&&(h["Openai-Organization"]="github-copilot",h["X-Request-Id"]=o,h["VScode-SessionId"]=t.get(Ys).sessionId,h["VScode-MachineId"]=t.get(Ys).machineId,h["X-GitHub-Api-Version"]=O8),n&&(h["OpenAI-Intent"]=n);let A={method:"POST",headers:h,json:a,timeout:u},p=t.get(ms);if(c){let E=new AbortController;c.onCancellationRequested(()=>{ir(t,"networking.cancelRequest",on.createAndMarkAsIssued({headerRequestId:o})),E.abort()}),A.signal=E.signal}return p.fetch(e,A).catch(E=>{if(i8e(E))return ir(t,"networking.disconnectAll"),p.disconnectAll().then(()=>p.fetch(e,A));throw E})}s(uO,"postRequest");function i8e(t){return t instanceof Error?t.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in t?t.code=="ECONNRESET"||t.code=="ETIMEDOUT"||t.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}s(i8e,"isInterruptedNetworkError");f();function yte(){return typeof process>"u"}s(yte,"isWeb");function YT(){return typeof process<"u"&&process.env.MSBENCH_MODE==="true"}s(YT,"isMsBenchModeEnabled");var fO=class extends jh{static{s(this,"ProxiedResponseError")}constructor(e){super(e,`HTTP ${e.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`)}};async function zT(t,e,r,n={}){n={...n,headers:{Authorization:`Bearer ${e.accessToken}`,...yte()?{}:Py(t),...n.headers}};let o=await t.get(ms).fetch(new URL(r,e.apiUrl).href,n);if(o.status>=500)throw new jh(o);if(!o.headers.get("x-github-request-id"))throw new fO(o);return o}s(zT,"apiFetch");f();f();f();var _re=Et(KT());var jr=class{constructor(e=10){this.valueMap=new Map;if(e<1)throw new Error("Size limit must be at least 1");this.sizeLimit=e}static{s(this,"LRUCacheMap")}set(e,r){if(this.has(e))this.valueMap.delete(e);else if(this.valueMap.size>=this.sizeLimit){let n=this.valueMap.keys().next().value;this.delete(n)}return this.valueMap.set(e,r),this}get(e){if(this.valueMap.has(e)){let r=this.valueMap.get(e);return this.valueMap.delete(e),this.valueMap.set(e,r),r}}delete(e){return this.valueMap.delete(e)}clear(){this.valueMap.clear()}get size(){return this.valueMap.size}keys(){return new Map(this.valueMap).keys()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(e){return this.valueMap.has(e)}forEach(e,r){new Map(this.valueMap).forEach(e,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(e){return this.valueMap.get(e)}},b6=class extends jr{constructor(r,n=120*1e3){super(r);this.defaultTtl=n;this.expiration=new Map}static{s(this,"LRUExpirationCacheMap")}has(r){let n=!1,o=this.expiration.get(r);return o!==void 0&&(o>performance.now()&&(n=super.has(r)),n||this.delete(r)),n}get(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.get(r);this.delete(r)}}peek(r){let n=this.expiration.get(r);if(n!==void 0){if(n>performance.now())return super.peek(r);this.delete(r)}}set(r,n,o=this.defaultTtl){if(o<=0)throw new Error("TTL must be greater than 0");let a=super.set(r,n);return this.expiration.set(r,performance.now()+o),a}clear(){super.clear(),this.expiration.clear()}delete(r){return this.expiration.delete(r),super.delete(r)}get[Symbol.toStringTag](){return"LRUExpirationCacheMap"}},T6=class extends jr{static{s(this,"LRUDisposableCacheMap")}delete(e){let r=this.peek(e);return r&&r.dispose(),super.delete(e)}clear(){for(let e of this.values())e.dispose();super.clear()}uncache(e){let r=this.peek(e);return super.delete(e),r}dispose(){this.clear()}};var I2=class{constructor(){this.recentNotifications=new jr(100)}static{s(this,"NotificationSender")}async showWarningMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showWarningMessage(r,...n)}async showInformationMessageOnlyOnce(e,r,...n){if(!this.recentNotifications.has(e??r))return this.recentNotifications.set(e??r,!0),this.showInformationMessage(r,...n)}};f();var Qm=class t{constructor(e){this.flags=e}static{s(this,"RuntimeMode")}static fromEnvironment(e,r=process.argv,n=process.env){return new t({debug:Bre(r,n),verboseLogging:s8e(r,n),testMode:e,simulation:o8e(n)})}};function Fy(t){return t.get(Qm).flags.testMode}s(Fy,"isRunningInTest");function JT(t){return Fy(t)}s(JT,"shouldFailForDebugPurposes");function wre(t){return t.get(Qm).flags.debug}s(wre,"isDebugEnabled");function Sre(t){return t.get(Qm).flags.verboseLogging}s(Sre,"isVerboseLoggingEnabled");function Bre(t,e){return t.includes("--debug")||AO(e,"DEBUG")}s(Bre,"determineDebugFlag");function o8e(t){return AO(t,"SIMULATION")}s(o8e,"determineSimulationFlag");function s8e(t,e){return e.COPILOT_AGENT_VERBOSE==="1"||e.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||AO(e,"VERBOSE")||Bre(t,e)}s(s8e,"determineVerboseLoggingEnabled");function AO(t,e){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=t[`${r}${e}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}s(AO,"determineEnvFlagEnabled");f();var Dre=require("os"),_6=require("path");f();var Rre;(()=>{"use strict";var t={975:$=>{function K(J){if(typeof J!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(J))}s(K,"e");function xe(J,W){for(var Z,re="",te=0,ie=-1,ue=0,Ae=0;Ae<=J.length;++Ae){if(Ae<J.length)Z=J.charCodeAt(Ae);else{if(Z===47)break;Z=47}if(Z===47){if(!(ie===Ae-1||ue===1))if(ie!==Ae-1&&ue===2){if(re.length<2||te!==2||re.charCodeAt(re.length-1)!==46||re.charCodeAt(re.length-2)!==46){if(re.length>2){var Je=re.lastIndexOf("/");if(Je!==re.length-1){Je===-1?(re="",te=0):te=(re=re.slice(0,Je)).length-1-re.lastIndexOf("/"),ie=Ae,ue=0;continue}}else if(re.length===2||re.length===1){re="",te=0,ie=Ae,ue=0;continue}}W&&(re.length>0?re+="/..":re="..",te=2)}else re.length>0?re+="/"+J.slice(ie+1,Ae):re=J.slice(ie+1,Ae),te=Ae-ie-1;ie=Ae,ue=0}else Z===46&&ue!==-1?++ue:ue=-1}return re}s(xe,"r");var ce={resolve:s(function(){for(var J,W="",Z=!1,re=arguments.length-1;re>=-1&&!Z;re--){var te;re>=0?te=arguments[re]:(J===void 0&&(J=process.cwd()),te=J),K(te),te.length!==0&&(W=te+"/"+W,Z=te.charCodeAt(0)===47)}return W=xe(W,!Z),Z?W.length>0?"/"+W:"/":W.length>0?W:"."},"resolve"),normalize:s(function(J){if(K(J),J.length===0)return".";var W=J.charCodeAt(0)===47,Z=J.charCodeAt(J.length-1)===47;return(J=xe(J,!W)).length!==0||W||(J="."),J.length>0&&Z&&(J+="/"),W?"/"+J:J},"normalize"),isAbsolute:s(function(J){return K(J),J.length>0&&J.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var J,W=0;W<arguments.length;++W){var Z=arguments[W];K(Z),Z.length>0&&(J===void 0?J=Z:J+="/"+Z)}return J===void 0?".":ce.normalize(J)},"join"),relative:s(function(J,W){if(K(J),K(W),J===W||(J=ce.resolve(J))===(W=ce.resolve(W)))return"";for(var Z=1;Z<J.length&&J.charCodeAt(Z)===47;++Z);for(var re=J.length,te=re-Z,ie=1;ie<W.length&&W.charCodeAt(ie)===47;++ie);for(var ue=W.length-ie,Ae=te<ue?te:ue,Je=-1,rt=0;rt<=Ae;++rt){if(rt===Ae){if(ue>Ae){if(W.charCodeAt(ie+rt)===47)return W.slice(ie+rt+1);if(rt===0)return W.slice(ie+rt)}else te>Ae&&(J.charCodeAt(Z+rt)===47?Je=rt:rt===0&&(Je=0));break}var lt=J.charCodeAt(Z+rt);if(lt!==W.charCodeAt(ie+rt))break;lt===47&&(Je=rt)}var Ct="";for(rt=Z+Je+1;rt<=re;++rt)rt!==re&&J.charCodeAt(rt)!==47||(Ct.length===0?Ct+="..":Ct+="/..");return Ct.length>0?Ct+W.slice(ie+Je):(ie+=Je,W.charCodeAt(ie)===47&&++ie,W.slice(ie))},"relative"),_makeLong:s(function(J){return J},"_makeLong"),dirname:s(function(J){if(K(J),J.length===0)return".";for(var W=J.charCodeAt(0),Z=W===47,re=-1,te=!0,ie=J.length-1;ie>=1;--ie)if((W=J.charCodeAt(ie))===47){if(!te){re=ie;break}}else te=!1;return re===-1?Z?"/":".":Z&&re===1?"//":J.slice(0,re)},"dirname"),basename:s(function(J,W){if(W!==void 0&&typeof W!="string")throw new TypeError('"ext" argument must be a string');K(J);var Z,re=0,te=-1,ie=!0;if(W!==void 0&&W.length>0&&W.length<=J.length){if(W.length===J.length&&W===J)return"";var ue=W.length-1,Ae=-1;for(Z=J.length-1;Z>=0;--Z){var Je=J.charCodeAt(Z);if(Je===47){if(!ie){re=Z+1;break}}else Ae===-1&&(ie=!1,Ae=Z+1),ue>=0&&(Je===W.charCodeAt(ue)?--ue==-1&&(te=Z):(ue=-1,te=Ae))}return re===te?te=Ae:te===-1&&(te=J.length),J.slice(re,te)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===47){if(!ie){re=Z+1;break}}else te===-1&&(ie=!1,te=Z+1);return te===-1?"":J.slice(re,te)},"basename"),extname:s(function(J){K(J);for(var W=-1,Z=0,re=-1,te=!0,ie=0,ue=J.length-1;ue>=0;--ue){var Ae=J.charCodeAt(ue);if(Ae!==47)re===-1&&(te=!1,re=ue+1),Ae===46?W===-1?W=ue:ie!==1&&(ie=1):W!==-1&&(ie=-1);else if(!te){Z=ue+1;break}}return W===-1||re===-1||ie===0||ie===1&&W===re-1&&W===Z+1?"":J.slice(W,re)},"extname"),format:s(function(J){if(J===null||typeof J!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof J);return function(W,Z){var re=Z.dir||Z.root,te=Z.base||(Z.name||"")+(Z.ext||"");return re?re===Z.root?re+te:re+"/"+te:te}(0,J)},"format"),parse:s(function(J){K(J);var W={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return W;var Z,re=J.charCodeAt(0),te=re===47;te?(W.root="/",Z=1):Z=0;for(var ie=-1,ue=0,Ae=-1,Je=!0,rt=J.length-1,lt=0;rt>=Z;--rt)if((re=J.charCodeAt(rt))!==47)Ae===-1&&(Je=!1,Ae=rt+1),re===46?ie===-1?ie=rt:lt!==1&&(lt=1):ie!==-1&&(lt=-1);else if(!Je){ue=rt+1;break}return ie===-1||Ae===-1||lt===0||lt===1&&ie===Ae-1&&ie===ue+1?Ae!==-1&&(W.base=W.name=ue===0&&te?J.slice(1,Ae):J.slice(ue,Ae)):(ue===0&&te?(W.name=J.slice(1,ie),W.base=J.slice(1,Ae)):(W.name=J.slice(ue,ie),W.base=J.slice(ue,Ae)),W.ext=J.slice(ie,Ae)),ue>0?W.dir=J.slice(0,ue-1):te&&(W.dir="/"),W},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ce.posix=ce,$.exports=ce}},e={};function r($){var K=e[$];if(K!==void 0)return K.exports;var xe=e[$]={exports:{}};return t[$](xe,xe.exports,r),xe.exports}s(r,"r"),r.d=($,K)=>{for(var xe in K)r.o(K,xe)&&!r.o($,xe)&&Object.defineProperty($,xe,{enumerable:!0,get:K[xe]})},r.o=($,K)=>Object.prototype.hasOwnProperty.call($,K),r.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var n={};let o;r.r(n),r.d(n,{URI:s(()=>p,"URI"),Utils:s(()=>he,"Utils")}),typeof process=="object"?o=process.platform==="win32":typeof navigator=="object"&&(o=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,c=/^\//,l=/^\/\//;function u($,K){if(!$.scheme&&K)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${$.authority}", path: "${$.path}", query: "${$.query}", fragment: "${$.fragment}"}`);if($.scheme&&!a.test($.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if($.path){if($.authority){if(!c.test($.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test($.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(u,"a");let d="",h="/",A=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static{s(this,"l")}static isUri(K){return K instanceof p||!!K&&typeof K.authority=="string"&&typeof K.fragment=="string"&&typeof K.path=="string"&&typeof K.query=="string"&&typeof K.scheme=="string"&&typeof K.fsPath=="string"&&typeof K.with=="function"&&typeof K.toString=="function"}scheme;authority;path;query;fragment;constructor(K,xe,ce,J,W,Z=!1){typeof K=="object"?(this.scheme=K.scheme||d,this.authority=K.authority||d,this.path=K.path||d,this.query=K.query||d,this.fragment=K.fragment||d):(this.scheme=function(re,te){return re||te?re:"file"}(K,Z),this.authority=xe||d,this.path=function(re,te){switch(re){case"https":case"http":case"file":te?te[0]!==h&&(te=h+te):te=h}return te}(this.scheme,ce||d),this.query=J||d,this.fragment=W||d,u(this,Z))}get fsPath(){return S(this,!1)}with(K){if(!K)return this;let{scheme:xe,authority:ce,path:J,query:W,fragment:Z}=K;return xe===void 0?xe=this.scheme:xe===null&&(xe=d),ce===void 0?ce=this.authority:ce===null&&(ce=d),J===void 0?J=this.path:J===null&&(J=d),W===void 0?W=this.query:W===null&&(W=d),Z===void 0?Z=this.fragment:Z===null&&(Z=d),xe===this.scheme&&ce===this.authority&&J===this.path&&W===this.query&&Z===this.fragment?this:new E(xe,ce,J,W,Z)}static parse(K,xe=!1){let ce=A.exec(K);return ce?new E(ce[2]||d,O(ce[4]||d),O(ce[5]||d),O(ce[7]||d),O(ce[9]||d),xe):new E(d,d,d,d,d)}static file(K){let xe=d;if(o&&(K=K.replace(/\\/g,h)),K[0]===h&&K[1]===h){let ce=K.indexOf(h,2);ce===-1?(xe=K.substring(2),K=h):(xe=K.substring(2,ce),K=K.substring(ce)||h)}return new E("file",xe,K,d,d)}static from(K){let xe=new E(K.scheme,K.authority,K.path,K.query,K.fragment);return u(xe,!0),xe}toString(K=!1){return D(this,K)}toJSON(){return this}static revive(K){if(K){if(K instanceof p)return K;{let xe=new E(K);return xe._formatted=K.external,xe._fsPath=K._sep===g?K.fsPath:null,xe}}return K}}let g=o?1:void 0;class E extends p{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=S(this,!1)),this._fsPath}toString(K=!1){return K?D(this,!0):(this._formatted||(this._formatted=D(this,!1)),this._formatted)}toJSON(){let K={$mid:1};return this._fsPath&&(K.fsPath=this._fsPath,K._sep=g),this._formatted&&(K.external=this._formatted),this.path&&(K.path=this.path),this.scheme&&(K.scheme=this.scheme),this.authority&&(K.authority=this.authority),this.query&&(K.query=this.query),this.fragment&&(K.fragment=this.fragment),K}}let v={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function w($,K,xe){let ce,J=-1;for(let W=0;W<$.length;W++){let Z=$.charCodeAt(W);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||K&&Z===47||xe&&Z===91||xe&&Z===93||xe&&Z===58)J!==-1&&(ce+=encodeURIComponent($.substring(J,W)),J=-1),ce!==void 0&&(ce+=$.charAt(W));else{ce===void 0&&(ce=$.substr(0,W));let re=v[Z];re!==void 0?(J!==-1&&(ce+=encodeURIComponent($.substring(J,W)),J=-1),ce+=re):J===-1&&(J=W)}}return J!==-1&&(ce+=encodeURIComponent($.substring(J))),ce!==void 0?ce:$}s(w,"m");function _($){let K;for(let xe=0;xe<$.length;xe++){let ce=$.charCodeAt(xe);ce===35||ce===63?(K===void 0&&(K=$.substr(0,xe)),K+=v[ce]):K!==void 0&&(K+=$[xe])}return K!==void 0?K:$}s(_,"y");function S($,K){let xe;return xe=$.authority&&$.path.length>1&&$.scheme==="file"?`//${$.authority}${$.path}`:$.path.charCodeAt(0)===47&&($.path.charCodeAt(1)>=65&&$.path.charCodeAt(1)<=90||$.path.charCodeAt(1)>=97&&$.path.charCodeAt(1)<=122)&&$.path.charCodeAt(2)===58?K?$.path.substr(1):$.path[1].toLowerCase()+$.path.substr(2):$.path,o&&(xe=xe.replace(/\//g,"\\")),xe}s(S,"v");function D($,K){let xe=K?_:w,ce="",{scheme:J,authority:W,path:Z,query:re,fragment:te}=$;if(J&&(ce+=J,ce+=":"),(W||J==="file")&&(ce+=h,ce+=h),W){let ie=W.indexOf("@");if(ie!==-1){let ue=W.substr(0,ie);W=W.substr(ie+1),ie=ue.lastIndexOf(":"),ie===-1?ce+=xe(ue,!1,!1):(ce+=xe(ue.substr(0,ie),!1,!1),ce+=":",ce+=xe(ue.substr(ie+1),!1,!0)),ce+="@"}W=W.toLowerCase(),ie=W.lastIndexOf(":"),ie===-1?ce+=xe(W,!1,!0):(ce+=xe(W.substr(0,ie),!1,!0),ce+=W.substr(ie))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58){let ie=Z.charCodeAt(1);ie>=65&&ie<=90&&(Z=`/${String.fromCharCode(ie+32)}:${Z.substr(3)}`)}else if(Z.length>=2&&Z.charCodeAt(1)===58){let ie=Z.charCodeAt(0);ie>=65&&ie<=90&&(Z=`${String.fromCharCode(ie+32)}:${Z.substr(2)}`)}ce+=xe(Z,!0,!1)}return re&&(ce+="?",ce+=xe(re,!1,!1)),te&&(ce+="#",ce+=K?te:w(te,!1,!1)),ce}s(D,"b");function N($){try{return decodeURIComponent($)}catch{return $.length>3?$.substr(0,3)+N($.substr(3)):$}}s(N,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O($){return $.match(P)?$.replace(P,K=>N(K)):$}s(O,"w");var Y=r(975);let ne=Y.posix||Y,oe="/";var he;(function($){$.joinPath=function(K,...xe){return K.with({path:ne.join(K.path,...xe)})},$.resolvePath=function(K,...xe){let ce=K.path,J=!1;ce[0]!==oe&&(ce=oe+ce,J=!0);let W=ne.resolve(ce,...xe);return J&&W[0]===oe&&!K.authority&&(W=W.substring(1)),K.with({path:W})},$.dirname=function(K){if(K.path.length===0||K.path===oe)return K;let xe=ne.dirname(K.path);return xe.length===1&&xe.charCodeAt(0)===46&&(xe=""),K.with({path:xe})},$.basename=function(K){return ne.basename(K.path)},$.extname=function(K){return ne.extname(K.path)}})(he||(he={})),Rre=n})();var{URI:Pm,Utils:XT}=Rre;function Nre(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substring(0,3)+Nre(t.substring(3)):t}}s(Nre,"decodeURIComponentGraceful");var kre=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function pO(t){return t.match(kre)?t.replace(kre,e=>Nre(e)):t}s(pO,"percentDecode");function w6(t){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(t))throw new Error("Path must not contain a scheme");if(!t)throw new Error("Path must not be empty");return Pm.file(t).toString()}s(w6,"makeFsUri");function Ly(t){if(typeof t!="string"&&(t=t.uri),/^[A-Za-z]:\\/.test(t))throw new Error(`Could not parse <${t}>: Windows-style path`);try{let e=t.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return e?Pm.parse(e[1]+e[2],!0):Pm.parse(t,!0)}catch(e){throw new Error(`Could not parse <${t}>`,{cause:e})}}s(Ly,"parseUri");function Qre(t){return Ly(t),t}s(Qre,"validateUri");function yd(t){try{return Ly(t).toString()}catch{return t}}s(yd,"normalizeUri");var Pre=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function a8e(t){let e=Ly(t);if(!Pre.has(e.scheme))throw new Error(`Copilot currently does not support URI with scheme: ${e.scheme}`);if((0,Dre.platform)()==="win32"){let r=e.path;return e.authority?r=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,_6.normalize)(r)}else{if(e.authority)throw new Error("Unsupported remote file path");return e.path}}s(a8e,"fsPath");function S6(t){try{return a8e(t)}catch{return}}s(S6,"getFsPath");function Fre(t){let e=S6(t);if(e)return Pm.file(e).toString()}s(Fre,"getFsUri");function My(t,...e){let r,n=S6(t);return n?r=w6((0,_6.resolve)(n,...e)):r=XT.resolvePath(Ly(t),...e.map(o=>Lre(o))).toString(),typeof t=="string"?r:{uri:r}}s(My,"resolveFilePath");function zs(t,...e){let r=XT.joinPath(Ly(t),...e.map(Lre)).toString();return typeof t=="string"?r:{uri:r}}s(zs,"joinPath");function Lre(t){return c8e(t)?t.replaceAll("\\","/"):t}s(Lre,"pathToURIPath");function c8e(t){return/^[^/\\]*\\/.test(t)}s(c8e,"isWinPath");function Fm(t){return pO((typeof t=="string"?t:t.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}s(Fm,"basename");function Jh(t){let e=XT.dirname(Ly(t)),r;return Pre.has(e.scheme)&&e.scheme!=="file"?r=e.with({scheme:"file",fragment:""}).toString():r=e.toString(),typeof t=="string"?r:{uri:r}}s(Jh,"dirname");function Mre(t){return XT.extname(Ly(t))}s(Mre,"extname");var Lm=class{static{s(this,"NetworkConfiguration")}};function gO(t,e){try{let r=new URL(e??"");if(r.protocol==="https:"||!CO(t)&&r.protocol==="http:")return r.href}catch{}}s(gO,"ensurePermittedUrl");var x2={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function mO(t,e,r){if(r&&Fy(t)){for(let n of r){let o=es(t,n);if(o)return o}return}for(let n of e){let o=es(t,n);if(o)return o}}s(mO,"urlConfigOverride");function l8e(t,e){switch(e){case"api":return mO(t,[Ft.DebugOverrideCapiUrl,Ft.DebugOverrideCapiUrlLegacy],[Ft.DebugTestOverrideCapiUrl,Ft.DebugTestOverrideCapiUrlLegacy]);case"proxy":return mO(t,[Ft.DebugOverrideProxyUrl,Ft.DebugOverrideProxyUrlLegacy],[Ft.DebugTestOverrideProxyUrl,Ft.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!CO(t))return mO(t,[Ft.DebugSnippyOverrideUrl])}}s(l8e,"getEndpointOverrideUrl");function ZT(t,e,r,...n){let o=l8e(t,r)??e.endpoints[r];return zs(o,...n)}s(ZT,"getEndpointUrl");function B6(t){return yO(t)?.endpoints??x2}s(B6,"getLastKnownEndpoints");f();f();function Ga(t,e){let r=Xh(t,e,"event.CopilotToken");return t.get(Ei).onDidChangeTokenResult(n=>{n.copilotToken&&r(n.copilotToken)})}s(Ga,"onCopilotToken");function Ore(t){let e=t.getTokenValue("tid"),r=t.organization_list,n=t.enterprise_list,o=t.getTokenValue("sku");if(!e)return;let a={copilot_trackingId:e};return r&&(a.organizations_list=r.toString()),n&&(a.enterprise_list=n.toString()),o&&(a.sku=o),a}s(Ore,"propertiesFromCopilotToken");var V0=class{constructor(e){this.#e={};this.optedIn=!1;this.ftFlag="";Ga(e,r=>this.updateFromToken(r))}static{s(this,"TelemetryUserConfig")}#e;getProperties(){return this.#e}get trackingId(){return this.#e.copilot_trackingId}updateFromToken(e){let r=Ore(e);r&&(this.#e=r,this.optedIn=e.getTokenValue("rt")==="1",this.ftFlag=e.getTokenValue("ft")??"")}};f();var e_=class{static{s(this,"UrlOpener")}};var v2=new Vr("auth");function Oy(t){let e=t.serverUrl?.match(/^https?:\/\//)?t.serverUrl:"",r=t.apiUrl?.match(/^https?:\/\//)?t.apiUrl:"";return e?r||=e.replace("://","://api."):r?.includes("://api.")&&(e||=r.replace("://api.","://")),(!e||!r)&&(e="https://github.com/",r="https://api.github.com/"),{apiUrl:r,serverUrl:e}}s(Oy,"fillGitHubUrls");var R6=class{static{s(this,"CopilotTokenFetcher")}};f();f();f();f();f();var Wre=Et(qre()),$re=Et(Vre()),Nc=Et(require("os"));var T2=class{constructor(e,r,n,o,a=!1){this.ctx=e;this.namespace=r;this.includeAuthorizationHeader=a;this.onCopilotToken=s(e=>{this.token=e;let r=e.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:s((e,r)=>{if(typeof e.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof e.data}`);let n=e.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let o={method:"POST",headers:n,body:e.data};this.ctx.get(ms).fetch(e.urlString,o).then(a=>a.text().then(c=>{r(a.status,Object.fromEntries(a.headers),c)})).catch(a=>{Qo.debug(this.ctx,"Error sending telemetry",a),r(0,{})})},"sendPOST")};this.client=new $re.ApplicationInsights({instrumentationKey:o,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:n,extensionConfig:{[Wre.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=u8e(e),this.commonProperties=f8e(e),this.#e=Ga(e,this.onCopilotToken)}static{s(this,"AppInsightsReporter")}#e;sendTelemetryEvent(e,r,n){r={...r,...this.commonProperties};let o=this.qualifyEventName(e);this.client.track({name:o,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:o,properties:r,measurements:n}})}sendTelemetryErrorEvent(e,r,n){this.sendTelemetryEvent(this.qualifyEventName(e),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(e){return e.startsWith(this.namespace)?e:`${this.namespace}/${e}`}};function u8e(t){let e={},r=t.get(Ys);e["ai.session.id"]=r.sessionId;let n=t.get(V0);return n.trackingId&&(e["ai.user.id"]=n.trackingId),e["ai.cloud.roleInstance"]="REDACTED",e["ai.device.osVersion"]=`${Nc.type()} ${Nc.release()}`,e["ai.device.osArchitecture"]=Nc.arch(),e["ai.device.osPlatform"]=Nc.platform(),e["ai.cloud.role"]="Web",e["ai.application.ver"]=t.get(Ks).getVersion(),e}s(u8e,"getTags");function f8e(t){let e={};e.common_os=Nc.platform(),e.common_platformversion=Nc.release(),e.common_arch=Nc.arch(),e.common_cpu=Array.from(new Set(Nc.cpus().map(n=>n.model))).join();let r=t.get(Ys);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.common_uikind=r.uiKind,e.common_remotename=r.remoteName,e.common_isnewappinstall="",e}s(f8e,"getCommonProperties");var zre="7d7048df-6dd0-4048-bb23-b716c1461f8f",jre="3fdd7f28-937a-48c8-9a21-ba337db23bd1",d8e="f0000000-0000-0000-0000-000000000000";function Yre(t){return new URL(t).hostname==="github.com"?x2.telemetry:t.replace("://","://copilot-telemetry-service.")}s(Yre,"getEndpointForServerUrl");var Vu=class{constructor(e,r){this.ctx=e;this.namespace=r;this.serverUrl="https://github.com/";this.rootUrl=Yre(this.serverUrl);this.shuttingDown=new Set;Ga(e,n=>this.updateServiceEndpoints(n.endpoints))}static{s(this,"TelemetryInitialization")}get endpointUrl(){return this.overrideEndpointUrlForTesting||new URL("telemetry",this.rootUrl).href}get isInitialized(){return this.initializedWith!==void 0}get isEnabled(){return this._enabled??!1}initialize(e){let r=this.ctx;this._enabled=e;let n=this.endpointUrl;if(!(this.initializedWith?.enabled===this._enabled&&this.initializedWith?.endpointUrl===this.endpointUrl)&&(this.shutdownWithoutWaiting(),this.initializedWith={endpointUrl:n,enabled:this._enabled},e)){let o=r.get(Qc);o.setReporter(new T2(r,this.namespace,n,zre)),o.setRestrictedReporter(new T2(r,this.namespace,n,jre)),o.setFTReporter(new T2(r,this.namespace,n,d8e,!0))}}setCustomReporters(e,r){this.shutdownWithoutWaiting();let n=this.ctx.get(Qc);n.setReporter(e),n.setRestrictedReporter(r)}async shutdown(){this.shutdownWithoutWaiting(),await Promise.all(this.shuttingDown)}shutdownWithoutWaiting(){this.initializedWith=void 0;let e=this.ctx.get(Qc).deactivate().finally(()=>{this.shuttingDown.delete(e)});this.shuttingDown.add(e)}updateSessionConfig(e){e?.serverUrl&&e.serverUrl!==this.serverUrl&&(this.serverUrl=e.serverUrl,this.rootUrl=Yre(e.serverUrl)),this.isInitialized&&this.initialize(this._enabled)}updateServiceEndpoints(e){this.rootUrl=e.telemetry,this.isInitialized&&this.initialize(this._enabled)}};async function A8e(t,e){let r="copilot_internal/subscribe_limited_user";try{return(await(await zT(t,e,r,{method:"POST",headers:{"X-GitHub-Api-Version":"2025-05-01"},body:JSON.stringify({restricted_telemetry:t.get(Vu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json()).subscribed}catch(n){return v2.exception(t,n,"signUpLimited failed"),!1}}s(A8e,"apiFetchSignUpLimited");async function EO(t,e,r){let n=await t.get(Ei).getTokenResult();switch(n.failureKind){case void 0:return"OK";case"HTTP401":case"NotSignedIn":return"NotSignedIn";case"NotAuthorized":return r&&n.canSignUpForLimited&&await A8e(t,e)?EO(t,e,!1):"NotAuthorized";case"Exception":throw n.exception}}s(EO,"getTokenWithSignUpLimited");var N6=class{constructor(e,r){this.ctx=e;this.env=r}static{s(this,"AuthManager")}hasTransientSession(){return this.transientSession!==void 0}get _copilotTokenManager(){return this.ctx.get(Ei)}getConfiguredUrls(){return this.ctx.get(Lm).getConfiguredUrls()}async checkAndUpdateStatus(e){let r=e?.localChecksOnly??!1,n;return e?.githubAppId!==void 0?n=await this.getPersistedSession(e):n=await this.getSession(),n===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):r?{status:"MaybeOK",user:n.login}:(e?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await EO(this.ctx,n,e?.freshSignIn??!1),user:n.login})}async getSession(){await this.ctx.get(W0).requireReady();let e=p8e(this.env)??await this.transientSession;if(!(e&&e.accessToken===void 0))return e?{...e,...Oy(e)}:await this.getPersistedSession()}setTransientSession(e){this.transientSession=e&&Promise.resolve(e),this._copilotTokenManager.resetToken()}getAuthAuthority(){return new URL(this.getConfiguredUrls().serverUrl).hostname}};function p8e(t){if(t.GH_COPILOT_TOKEN&&!/=/.test(t.GH_COPILOT_TOKEN))return{...Oy({apiUrl:t.GH_COPILOT_API_URL,serverUrl:t.GH_COPILOT_SERVER_URL}),login:"<GH_COPILOT_TOKEN-user>",accessToken:t.GH_COPILOT_TOKEN};if(t.GITHUB_COPILOT_TOKEN)return{...Oy({apiUrl:t.GITHUB_COPILOT_API_URL,serverUrl:t.GITHUB_COPILOT_SERVER_URL}),login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:t.GITHUB_COPILOT_TOKEN};if(t.CODESPACES==="true"&&t.GITHUB_TOKEN)return{...Oy({apiUrl:t.GITHUB_API_URL,serverUrl:t.GITHUB_SERVER_URL}),login:t.GITHUB_USER||"<codespaces-user>",accessToken:t.GITHUB_TOKEN}}s(p8e,"getSessionFromEnv");f();var g8e=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Kre="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Jre="https://gh.io/copilot-network-errors",Mm=class{constructor(){this.notifiedErrorCodes=[]}static{s(this,"UserErrorNotifier")}notifyUser(e,r){if(!(r instanceof Error))return;let n=r;n.code&&g8e.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(e,n))}async displayCertificateErrorNotification(e,r){new Vr("certificates").error(e,`${Kre} Please visit ${Jre} to learn more. Original cause:`,r);let n={title:"Learn more"};return e.get(I2).showWarningMessage(Kre,n).then(o=>{if(o?.title===n.title)return e.get(e_).open(Jre)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};f();var ks=class{static{s(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(e){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),e().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(e,r,n){this.#t===e&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=e,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(e,r){this.forceStatus("Error",e,r)}setWarning(e){this.#t!=="Error"&&this.forceStatus("Warning",e)}setInactive(e){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",e)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let e={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(e)}};f();var wse=Et(Ca());var zm=class extends wse.Emitter{static{s(this,"Emitter")}get event(){return super.event}};var jU=class extends Bm{constructor(r){super("message"in r?r.message:`${r.failureKind}`);this.result=r}static{s(this,"TokenResultError")}},Ei=class{constructor(e,r=!1){this.ctx=e;this.primed=r;this.lastToken=void 0;this.activeToken=void 0;this.tokenPromise=void 0;this.tokenPrimingError=void 0;this.didChangeTokenResult=new zm;this.onDidChangeTokenResult=this.didChangeTokenResult.event;this.didResetToken=new zm;this.onDidResetToken=this.didResetToken.event}static{s(this,"CopilotTokenManager")}async getGitHubSession(){return await this.ctx.get(N6).getSession()}primeToken(){if(this.tokenPrimingError)return Promise.reject(this.tokenPrimingError);this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}async fetchTokenResult(e){return await this.ctx.get(R6).fetchTokenResult(this.ctx,e,this.lastToken)}setToken(e){this.activeToken=this.lastToken=e}async getTokenResult(){if(!this.primed){let e=new Error("Token requested before initialization");if(Sse(this.ctx))throw this.tokenPrimingError=e,e;v2.exception(this.ctx,e,".getToken")}if(!this.tokenPromise&&(!this.activeToken||this.activeToken?.needsRefresh())){let r=this.getGitHubSession().then(async n=>n?await this.fetchTokenResult(n):{failureKind:"NotSignedIn"}).catch(n=>{if(!(n instanceof Error))throw n;return{failureKind:"Exception",message:String(n),exception:n}}).then(n=>(this.tokenPromise!==r||(this.tokenPromise=void 0,this.handleTokenResult(n)),n));this.tokenPromise=r}return this.activeToken&&!this.activeToken.isExpired()?{copilotToken:this.activeToken}:await this.tokenPromise}handleTokenResult(e){let r=this.ctx.get(ks);switch(e.failureKind){case"NotSignedIn":r.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":r.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":r.setError(e.message);break;case"Exception":r.setWarning(e.message),this.ctx.get(Mm).notifyUser(this.ctx,e.exception);break;case void 0:r.forceNormal(),this.setToken(e.copilotToken)}this.didChangeTokenResult.fire(e)}async getToken(){let e=await this.getTokenResult();if(e.copilotToken)return e.copilotToken;throw e.exception?e.exception:new jU(e)}resetToken(e){e!==void 0?(ir(this.ctx,"auth.reset_token_"+e),v2.debug(this.ctx,`Resetting copilot token on HTTP error ${e}`)):v2.debug(this.ctx,"Resetting copilot token"),!(!this.activeToken&&!this.tokenPromise)&&(this.activeToken=void 0,this.tokenPromise=void 0,this.didResetToken.fire())}getLastToken(){return this.lastToken}};function yO(t){return t.get(Ei).getLastToken()}s(yO,"getLastCopilotToken");f();var Wy=class{static{s(this,"Clock")}now(){return new Date}};f();f();f();var jm=class{static{s(this,"InlineCompletionsUnification")}},I6e={codeUnification:!1,modelUnification:!1,expAssignments:[]},ER=class extends jm{constructor(){super(...arguments);this.inlineCompletionsUnificationState=I6e;this.onDidChangeState=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeState")}static{s(this,"NullInlineCompletionsUnification")}};var Yu=class t{static{s(this,"ExpConfig")}constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return Rse(e,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e,r){let o=e.get(jm).inlineCompletionsUnificationState.expAssignments.filter(c=>!this.assignmentContext.includes(c)),a=[this.assignmentContext,...o].filter(Boolean).join(";");r.properties["VSCode.ABExp.Features"]=this.features,r.properties["abexp.assignmentcontext"]=a}};f();var $y=class{static{s(this,"ExpConfigMaker")}},IR=class extends $y{constructor(r={}){super();this.defaultFilters=r}static{s(this,"ExpConfigFromTAS")}async fetchExperiments(r,n,o){let a=r.get(ms),c=Object.keys(o).length===0?this.defaultFilters:o,l=new URL("telemetry",n.telemetry).href,u;try{u=await a.fetch(l,{method:"GET",headers:c,timeout:5e3})}catch(p){return Yu.createFallbackConfig(r,`Error fetching ExP config: ${String(p)}`)}if(!u.ok)return Yu.createFallbackConfig(r,`ExP responded with ${u.status}`);let d;try{d=await u.json()}catch(p){if(p instanceof SyntaxError)return xd(r,p,"fetchExperiments"),Yu.createFallbackConfig(r,"ExP responded with invalid JSON");throw p}let h=d.Configs.find(p=>p.Id==="vscode")??{Id:"vscode",Parameters:{}},A=Object.entries(h.Parameters).map(([p,g])=>p+(g?"":"cf"));return new Yu(h.Parameters,d.AssignmentContext,A.join(";"))}};f();var Ql="X-Copilot-RelatedPluginVersion-",KU=(te=>(te.Market="X-MSEdge-Market",te.CorpNet="X-FD-Corpnet",te.Build="X-VSCode-Build",te.ApplicationVersion="X-VSCode-AppVersion",te.TargetPopulation="X-VSCode-TargetPopulation",te.ClientId="X-MSEdge-ClientId",te.ExtensionName="X-VSCode-ExtensionName",te.ExtensionVersion="X-VSCode-ExtensionVersion",te.ExtensionRelease="X-VSCode-ExtensionRelease",te.CompletionsInChatExtensionVersion="X-VSCode-CompletionsInChatExtensionVersion",te.Language="X-VSCode-Language",te.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",te.CopilotEngine="X-Copilot-Engine",te.CopilotOverrideEngine="X-Copilot-OverrideEngine",te.CopilotRepository="X-Copilot-Repository",te.CopilotFileType="X-Copilot-FileType",te.CopilotUserKind="X-Copilot-UserKind",te.CopilotDogfood="X-Copilot-Dogfood",te.CopilotCustomModel="X-Copilot-CustomModel",te.CopilotOrgs="X-Copilot-Orgs",te.CopilotCustomModelNames="X-Copilot-CustomModelNames",te.CopilotTrackingId="X-Copilot-CopilotTrackingId",te.CopilotClientVersion="X-Copilot-ClientVersion",te.CopilotRelatedPluginVersionCppTools=Ql+"msvscodecpptools",te.CopilotRelatedPluginVersionCMakeTools=Ql+"msvscodecmaketools",te.CopilotRelatedPluginVersionMakefileTools=Ql+"msvscodemakefiletools",te.CopilotRelatedPluginVersionCSharpDevKit=Ql+"msdotnettoolscsdevkit",te.CopilotRelatedPluginVersionPython=Ql+"mspythonpython",te.CopilotRelatedPluginVersionPylance=Ql+"mspythonvscodepylance",te.CopilotRelatedPluginVersionJavaPack=Ql+"vscjavavscodejavapack",te.CopilotRelatedPluginVersionTypescript=Ql+"vscodetypescriptlanguagefeatures",te.CopilotRelatedPluginVersionTypescriptNext=Ql+"msvscodevscodetypescriptnext",te.CopilotRelatedPluginVersionCSharp=Ql+"msdotnettoolscsharp",te.CopilotRelatedPluginVersionGithubCopilotChat=Ql+"githubcopilotchat",te.CopilotRelatedPluginVersionGithubCopilot=Ql+"githubcopilot",te))(KU||{});var x6e={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Yy=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{s(this,"FilterSettings")}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let o=x6e[r];o!==void 0&&(e.properties[o]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};f();f();var xR=class{constructor(e){this.prefix=e}static{s(this,"GranularityImplementation")}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},JU=class extends xR{static{s(this,"ConstantGranularity")}getValue(e){return this.prefix}getUpcomingValues(e){return[]}},kse=s(t=>new JU(t),"DEFAULT_GRANULARITY"),vR=class extends xR{constructor(r,n=.5,o=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=o}static{s(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],o=this.getUpcomingTimePeriodBucketStrings(r),a=this.getUpcomingByCallBucketStrings();for(let c of o)for(let l of a)n.push(this.prefix+c+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var Dse="X-Copilot-ClientTimeBucket",bR=class{constructor(e,r){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=kse(e)}static{s(this,"GranularityDirectory")}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let o=new vR(this.prefix);isNaN(r)||o.setByCallBuckets(r),isNaN(n)||o.setTimePeriod(n*3600*1e3),this.specs.set(e,o)}}extendFilters(e){let r=this.selectGranularity(e),[n,o]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(Dse,n),otherFilterSettingsToPrefetch:o.map(a=>e.withChange(Dse,a))}}};f();f();f();f();var XU=new Map;async function v6e(t){if(XU.has(t))return XU.get(t);let e=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return XU.set(t,e),e}s(v6e,"getCachedHmacKey");async function b6e(t){if(t)try{let e=await v6e(t),r=Math.floor(Date.now()/1e3).toString(),n=new TextEncoder().encode(r),o=await crypto.subtle.sign("HMAC",e,n),c=Array.from(new Uint8Array(o)).map(l=>l.toString(16).padStart(2,"0")).join("");return`${r}.${c}`}catch{return}}s(b6e,"createRequestHMAC");async function Nse(t){let e=await b6e(t);return e?{"Request-Hmac":e,"Copilot-Integration-Id":"jetbrains-chat-dev"}:{}}s(Nse,"createMsBenchHmacHeaders");f();f();f();f();var _R="4.11.0",zy="04b07795-8ddb-461a-bbee-02f9e1bf7b46",Qse="common",TR;(function(t){t.AzureChina="https://login.chinacloudapi.cn",t.AzureGermany="https://login.microsoftonline.de",t.AzureGovernment="https://login.microsoftonline.us",t.AzurePublicCloud="https://login.microsoftonline.com"})(TR||(TR={}));var u_=TR.AzurePublicCloud,Pse="login.microsoftonline.com",Fse=["*"],Lse="cae",Mse="nocae",Ose="msal.cache";var ZU;var Use,wR,eH;function Hse(){return wR!==void 0&&eH!==void 0}s(Hse,"hasVSCodePlugin");function T6e(t){let e={cache:{},broker:{...t.brokerOptions,isEnabled:t.brokerOptions?.enabled??!1,enableMsaPassthrough:t.brokerOptions?.legacyEnableMsaPassthrough??!1}};if(t.tokenCachePersistenceOptions?.enabled){if(ZU===void 0)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));let r=t.tokenCachePersistenceOptions.name||Ose;e.cache.cachePlugin=ZU({name:`${r}.${Mse}`,...t.tokenCachePersistenceOptions}),e.cache.cachePluginCae=ZU({name:`${r}.${Lse}`,...t.tokenCachePersistenceOptions})}if(t.brokerOptions?.enabled)if(t.isVSCodeCredential){if(eH===void 0)throw new Error(["Visual Studio Code Credential was requested, but no plugin was configured or no authentication record was found.","You must install the identity-vscode plugin package (`npm install --save @azure/identity-vscode`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(vsCodePlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=eH.broker}else{if(Use===void 0)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(brokerPlugin)` before using `enableBroker`."].join(" "));e.broker.nativeBrokerPlugin=Use.broker}return e}s(T6e,"generatePluginConfiguration");var qse={generatePluginConfiguration:T6e};f();f();f();function _6e(t){return t&&typeof t.error=="string"&&typeof t.error_description=="string"}s(_6e,"isErrorResponse");var Vse="CredentialUnavailableError",Ot=class extends Error{static{s(this,"CredentialUnavailableError")}constructor(e,r){super(e,r),this.name=Vse}},SR="AuthenticationError",Km=class extends Error{static{s(this,"AuthenticationError")}statusCode;errorResponse;constructor(e,r,n){let o={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(_6e(r))o=Gse(r);else if(typeof r=="string")try{let a=JSON.parse(r);o=Gse(a)}catch{e===400?o={error:"invalid_request",errorDescription:`The service indicated that the request was invalid.

${r}`}:o={error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${r}`}}else o={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${o.error} Status code: ${e}
More details:
${o.errorDescription},`,n),this.statusCode=e,this.errorResponse=o,this.name=SR}},Wse="AggregateAuthenticationError",f_=class extends Error{static{s(this,"AggregateAuthenticationError")}errors;constructor(e,r){let n=e.join(`
`);super(`${r}
${n}`),this.errors=e,this.name=Wse}};function Gse(t){return{error:t.error,errorDescription:t.error_description,correlationId:t.correlation_id,errorCodes:t.error_codes,timestamp:t.timestamp,traceId:t.trace_id}}s(Gse,"convertOAuthErrorResponseToErrorResponse");var Pl=class extends Error{static{s(this,"AuthenticationRequiredError")}scopes;getTokenOptions;constructor(e){super(e.message,e.cause?{cause:e.cause}:void 0),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}};f();f();f();f();var $se=require("node:os"),Yse=Et(require("node:util"),1),zse=Et(require("node:process"),1);function jse(t,...e){zse.stderr.write(`${Yse.default.format(t,...e)}${$se.EOL}`)}s(jse,"log");var Kse=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Jse,tH=[],rH=[],BR=[];Kse&&nH(Kse);var Xse=Object.assign(t=>Zse(t),{enable:nH,enabled:iH,disable:w6e,log:jse});function nH(t){Jse=t,tH=[],rH=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?rH.push(new RegExp(`^${n.substr(1)}$`)):tH.push(new RegExp(`^${n}$`));for(let n of BR)n.enabled=iH(n.namespace)}s(nH,"enable");function iH(t){if(t.endsWith("*"))return!0;for(let e of rH)if(e.test(t))return!1;for(let e of tH)if(e.test(t))return!0;return!1}s(iH,"enabled");function w6e(){let t=Jse||"";return nH(""),t}s(w6e,"disable");function Zse(t){let e=Object.assign(r,{enabled:iH(t),destroy:S6e,log:Xse.log,namespace:t,extend:B6e});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),BR.push(e),e}s(Zse,"createDebugger");function S6e(){let t=BR.indexOf(this);return t>=0?(BR.splice(t,1),!0):!1}s(S6e,"destroy");function B6e(t){let e=Zse(`${this.namespace}:${t}`);return e.log=this.log,e}s(B6e,"extend");var W2=Xse;var tae=new Set,RR=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,DR,oH=W2("azure");oH.log=(...t)=>{W2.log(...t)};var sH=["verbose","info","warning","error"];RR&&(iae(RR)?R6e(RR):console.error(`AZURE_LOG_LEVEL set to unknown log level '${RR}'; logging is not enabled. Acceptable values: ${sH.join(", ")}.`));function R6e(t){if(t&&!iae(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${sH.join(",")}`);DR=t;let e=[];for(let r of tae)nae(r)&&e.push(r.namespace);W2.enable(e.join(","))}s(R6e,"setLogLevel");function NR(){return DR}s(NR,"getLogLevel");var eae={verbose:400,info:300,warning:200,error:100};function Jm(t){let e=oH.extend(t);return rae(oH,e),{error:kR(e,"error"),warning:kR(e,"warning"),info:kR(e,"info"),verbose:kR(e,"verbose")}}s(Jm,"createClientLogger");function rae(t,e){e.log=(...r)=>{t.log(...r)}}s(rae,"patchLogMethod");function kR(t,e){let r=Object.assign(t.extend(e),{level:e});if(rae(t,r),nae(r)){let n=W2.disable();W2.enable(n+","+r.namespace)}return tae.add(r),r}s(kR,"createLogger");function nae(t){return!!(DR&&eae[t.level]<=eae[DR])}s(nae,"shouldEnable");function iae(t){return sH.includes(t)}s(iae,"isAzureLogLevel");var Lc=Jm("identity");function QR(t){return t.reduce((e,r)=>(process.env[r]?e.assigned.push(r):e.missing.push(r),e),{missing:[],assigned:[]})}s(QR,"processEnvVars");function Ds(t){return`SUCCESS. Scopes: ${Array.isArray(t)?t.join(", "):t}.`}s(Ds,"formatSuccess");function Pn(t,e){let r="ERROR.";return t?.length&&(r+=` Scopes: ${Array.isArray(t)?t.join(", "):t}.`),`${r} Error message: ${typeof e=="string"?e:e.message}.`}s(Pn,"formatError");function oae(t,e,r=Lc){let n=e?`${e.fullTitle} ${t}`:t;function o(u){r.info(`${n} =>`,u)}s(o,"info");function a(u){r.warning(`${n} =>`,u)}s(a,"warning");function c(u){r.verbose(`${n} =>`,u)}s(c,"verbose");function l(u){r.error(`${n} =>`,u)}return s(l,"error"),{title:t,fullTitle:n,info:o,warning:a,verbose:c,error:l}}s(oae,"credentialLoggerInstance");function kr(t,e=Lc){let r=oae(t,void 0,e);return{...r,parent:e,getToken:oae("=> getToken()",r,e)}}s(kr,"credentialLogger");f();f();f();f();var $2={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function sae(t={}){let e=new aH(t.parentContext);return t.span&&(e=e.setValue($2.span,t.span)),t.namespace&&(e=e.setValue($2.namespace,t.namespace)),e}s(sae,"createTracingContext");var aH=class t{static{s(this,"TracingContextImpl")}constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}};f();var cae=Et(aae(),1),FR=cae.state;function k6e(){return{end:s(()=>{},"end"),isRecording:s(()=>!1,"isRecording"),recordException:s(()=>{},"recordException"),setAttribute:s(()=>{},"setAttribute"),setStatus:s(()=>{},"setStatus"),addEvent:s(()=>{},"addEvent")}}s(k6e,"createDefaultTracingSpan");function D6e(){return{createRequestHeaders:s(()=>({}),"createRequestHeaders"),parseTraceparentHeader:s(()=>{},"parseTraceparentHeader"),startSpan:s((t,e)=>({span:k6e(),tracingContext:sae({parentContext:e.tracingContext})}),"startSpan"),withContext(t,e,...r){return e(...r)}}}s(D6e,"createDefaultInstrumenter");function d_(){return FR.instrumenterImplementation||(FR.instrumenterImplementation=D6e()),FR.instrumenterImplementation}s(d_,"getInstrumenter");f();function h_(t){let{namespace:e,packageName:r,packageVersion:n}=t;function o(d,h,A){var p;let g=d_().startSpan(d,Object.assign(Object.assign({},A),{packageName:r,packageVersion:n,tracingContext:(p=h?.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),E=g.tracingContext,v=g.span;E.getValue($2.namespace)||(E=E.setValue($2.namespace,e)),v.setAttribute("az.namespace",E.getValue($2.namespace));let w=Object.assign({},h,{tracingOptions:Object.assign(Object.assign({},h?.tracingOptions),{tracingContext:E})});return{span:v,updatedOptions:w}}s(o,"startSpan");async function a(d,h,A,p){let{span:g,updatedOptions:E}=o(d,h,p);try{let v=await c(E.tracingOptions.tracingContext,()=>Promise.resolve(A(E,g)));return g.setStatus({status:"success"}),v}catch(v){throw g.setStatus({status:"error",error:v}),v}finally{g.end()}}s(a,"withSpan");function c(d,h,...A){return d_().withContext(d,h,...A)}s(c,"withContext");function l(d){return d_().parseTraceparentHeader(d)}s(l,"parseTraceparentHeader");function u(d){return d_().createRequestHeaders(d)}return s(u,"createRequestHeaders"),{startSpan:o,withSpan:a,withContext:c,parseTraceparentHeader:l,createRequestHeaders:u}}s(h_,"createTracingClient");var Ai=h_({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:_R});var cH=kr("ChainedTokenCredential"),A_=class{static{s(this,"ChainedTokenCredential")}_sources=[];constructor(...e){this._sources=e}async getToken(e,r={}){let{token:n}=await this.getTokenInternal(e,r);return n}async getTokenInternal(e,r={}){let n=null,o,a=[];return Ai.withSpan("ChainedTokenCredential.getToken",r,async c=>{for(let l=0;l<this._sources.length&&n===null;l++)try{n=await this._sources[l].getToken(e,c),o=this._sources[l]}catch(u){if(u.name==="CredentialUnavailableError"||u.name==="AuthenticationRequiredError")a.push(u);else throw cH.getToken.info(Pn(e,u)),u}if(!n&&a.length>0){let l=new f_(a,"ChainedTokenCredential authentication failed.");throw cH.getToken.info(Pn(e,l)),l}if(cH.getToken.info(`Result for ${o.constructor.name}: ${Ds(e)}`),n===null)throw new Ot("Failed to retrieve a valid token");return{token:n,successfulCredential:o}})}};f();f();f();f();var Gc={};Io(Gc,{AuthError:()=>Pr,AuthErrorCodes:()=>K2,AuthErrorMessage:()=>uH,AzureCloudInstance:()=>aA,ClientApplication:()=>yg,ClientAssertion:()=>pA,ClientAuthError:()=>og,ClientAuthErrorCodes:()=>wi,ClientAuthErrorMessage:()=>dH,ClientConfigurationError:()=>rx,ClientConfigurationErrorCodes:()=>tx,ClientConfigurationErrorMessage:()=>gH,ClientCredentialClient:()=>Cg,ConfidentialClientApplication:()=>bx,CryptoProvider:()=>Bd,DeviceCodeClient:()=>Ix,DistributedCachePlugin:()=>d7,InteractionRequiredAuthError:()=>Uc,InteractionRequiredAuthErrorCodes:()=>s9,InteractionRequiredAuthErrorMessage:()=>vq,LogLevel:()=>vo,Logger:()=>Mc,ManagedIdentityApplication:()=>Tx,ManagedIdentitySourceNames:()=>wr,OnBehalfOfClient:()=>vx,PromptValue:()=>Zm,ProtocolMode:()=>Ya,PublicClientApplication:()=>xx,ResponseMode:()=>vd,ServerError:()=>m0,TokenCache:()=>ux,TokenCacheContext:()=>Hc,UsernamePasswordClient:()=>Ex,internals:()=>bq,version:()=>Ju});f();var bq={};Io(bq,{Deserializer:()=>hA,Serializer:()=>Xm});f();f();var Xm=class{static{s(this,"Serializer")}static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,realm:o.realm,local_account_id:o.localAccountId,username:o.username,authority_type:o.authorityType,name:o.name,client_info:o.clientInfo,last_modification_time:o.lastModificationTime,last_modification_app:o.lastModificationApp,tenantProfiles:o.tenantProfiles?.map(a=>JSON.stringify(a))}}),r}static serializeIdTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm}}),r}static serializeAccessTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,realm:o.realm,target:o.target,cached_at:o.cachedAt,expires_on:o.expiresOn,extended_expires_on:o.extendedExpiresOn,refresh_on:o.refreshOn,key_id:o.keyId,token_type:o.tokenType,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash}}),r}static serializeRefreshTokens(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={home_account_id:o.homeAccountId,environment:o.environment,credential_type:o.credentialType,client_id:o.clientId,secret:o.secret,family_id:o.familyId,target:o.target,realm:o.realm}}),r}static serializeAppMetadata(e){let r={};return Object.keys(e).map(function(n){let o=e[n];r[n]={client_id:o.clientId,environment:o.environment,family_id:o.familyId}}),r}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}};f();f();f();f();f();f();f();f();f();var Fe={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Qr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},K0=[Fe.OPENID_SCOPE,Fe.PROFILE_SCOPE,Fe.OFFLINE_ACCESS_SCOPE],lH=[...K0,Fe.EMAIL_SCOPE],Fi={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"};var J0={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},jy={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Zm={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},LR={PLAIN:"plain",S256:"S256"},Y2={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"};var vd={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},X0={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Ky={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Fo={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},qn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var p_="appmetadata",lae="client_info",rA="1",z2={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},h0={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ns={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Tn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},bd={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},m_={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},g_={username:"username",password:"password"},Jy={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},MR={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},ki={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"};var j2=300,Ea={BASE64:"base64",HEX:"hex",UTF8:"utf-8"};var K2={};Io(K2,{postRequestFailed:()=>C_,unexpectedError:()=>y_});f();var y_="unexpected_error",C_="post_request_failed";var OR={[y_]:"Unexpected error in authentication.",[C_]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},uH={unexpectedError:{code:y_,desc:OR[y_]},postRequestFailed:{code:C_,desc:OR[C_]}},Pr=class t extends Error{static{s(this,"AuthError")}constructor(e,r,n){let o=r?`${e}: ${r}`:e;super(o),Object.setPrototypeOf(this,t.prototype),this.errorCode=e||Fe.EMPTY_STRING,this.errorMessage=r||Fe.EMPTY_STRING,this.subError=n||Fe.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function fH(t,e){return new Pr(t,e?`${OR[t]} ${e}`:OR[t])}s(fH,"createAuthError");var wi={};Io(wi,{authTimeNotFound:()=>nA,authorizationCodeMissingFromServerResponse:()=>dC,bindingKeyNotRemoved:()=>R_,cannotAppendScopeSet:()=>lC,cannotRemoveEmptyScope:()=>cC,clientInfoDecodingError:()=>eg,clientInfoEmptyError:()=>Xy,deviceCodeExpired:()=>v_,deviceCodePollingCancelled:()=>x_,deviceCodeUnknownError:()=>b_,emptyInputScopeSet:()=>ng,endSessionEndpointNotSupported:()=>hC,endpointResolutionError:()=>A0,hashNotDeserialized:()=>rC,invalidAssertion:()=>w_,invalidCacheEnvironment:()=>oA,invalidCacheRecord:()=>uC,invalidClientCredential:()=>S_,invalidState:()=>zu,keyIdMissing:()=>AC,maxAgeTranspired:()=>oC,methodNotImplemented:()=>sn,missingTenantIdError:()=>N_,multipleMatchingAccounts:()=>I_,multipleMatchingAppMetadata:()=>sC,multipleMatchingTokens:()=>E_,nestedAppAuthBridgeDisabled:()=>Q_,networkError:()=>eC,noAccountFound:()=>T_,noAccountInSilentRequest:()=>iA,noCryptoObject:()=>ig,noNetworkConnectivity:()=>k_,nonceMismatch:()=>iC,nullOrEmptyToken:()=>Zy,openIdConfigError:()=>tC,requestCannotBeMade:()=>aC,stateMismatch:()=>nC,stateNotFound:()=>rg,tokenClaimsCnfRequiredForSignedJwt:()=>fC,tokenParsingError:()=>tg,tokenRefreshRequired:()=>sA,unexpectedCredentialType:()=>__,userCanceled:()=>D_,userTimeoutReached:()=>B_});f();var eg="client_info_decoding_error",Xy="client_info_empty_error",tg="token_parsing_error",Zy="null_or_empty_token",A0="endpoints_resolution_error",eC="network_error",tC="openid_config_error",rC="hash_not_deserialized",zu="invalid_state",nC="state_mismatch",rg="state_not_found",iC="nonce_mismatch",nA="auth_time_not_found",oC="max_age_transpired",E_="multiple_matching_tokens",I_="multiple_matching_accounts",sC="multiple_matching_appMetadata",aC="request_cannot_be_made",cC="cannot_remove_empty_scope",lC="cannot_append_scopeset",ng="empty_input_scopeset",x_="device_code_polling_cancelled",v_="device_code_expired",b_="device_code_unknown_error",iA="no_account_in_silent_request",uC="invalid_cache_record",oA="invalid_cache_environment",T_="no_account_found",ig="no_crypto_object",__="unexpected_credential_type",w_="invalid_assertion",S_="invalid_client_credential",sA="token_refresh_required",B_="user_timeout_reached",fC="token_claims_cnf_required_for_signedjwt",dC="authorization_code_missing_from_server_response",R_="binding_key_not_removed",hC="end_session_endpoint_not_supported",AC="key_id_missing",k_="no_network_connectivity",D_="user_canceled",N_="missing_tenant_id_error",sn="method_not_implemented",Q_="nested_app_auth_bridge_disabled";var Fr={[eg]:"The client info could not be parsed/decoded correctly",[Xy]:"The client info was empty",[tg]:"Token cannot be parsed",[Zy]:"The token is null or empty",[A0]:"Endpoints cannot be resolved",[eC]:"Network request failed",[tC]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[rC]:"The hash parameters could not be deserialized",[zu]:"State was not the expected format",[nC]:"State mismatch error",[rg]:"State not found",[iC]:"Nonce mismatch error",[nA]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[oC]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[E_]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[I_]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[sC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[aC]:"Token request cannot be made without authorization code or refresh token.",[cC]:"Cannot remove null or empty scope from ScopeSet",[lC]:"Cannot append ScopeSet",[ng]:"Empty input ScopeSet cannot be processed",[x_]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[v_]:"Device code is expired.",[b_]:"Device code stopped polling for unknown reasons.",[iA]:"Please pass an account object, silent flow is not supported without account information",[uC]:"Cache record object was null or undefined.",[oA]:"Invalid environment when attempting to create cache entry",[T_]:"No account found in cache for given key.",[ig]:"No crypto object detected.",[__]:"Unexpected credential type.",[w_]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[S_]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[sA]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[B_]:"User defined timeout for device code polling reached",[fC]:"Cannot generate a POP jwt if the token_claims are not populated",[dC]:"Server response does not contain an authorization code to proceed",[R_]:"Could not remove the credential's binding key from storage.",[hC]:"The provided authority does not support logout",[AC]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[k_]:"No network connectivity. Check your internet connection.",[D_]:"User cancelled the flow.",[N_]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[sn]:"This method has not been implemented",[Q_]:"The nested app auth bridge is disabled"},dH={clientInfoDecodingError:{code:eg,desc:Fr[eg]},clientInfoEmptyError:{code:Xy,desc:Fr[Xy]},tokenParsingError:{code:tg,desc:Fr[tg]},nullOrEmptyToken:{code:Zy,desc:Fr[Zy]},endpointResolutionError:{code:A0,desc:Fr[A0]},networkError:{code:eC,desc:Fr[eC]},unableToGetOpenidConfigError:{code:tC,desc:Fr[tC]},hashNotDeserialized:{code:rC,desc:Fr[rC]},invalidStateError:{code:zu,desc:Fr[zu]},stateMismatchError:{code:nC,desc:Fr[nC]},stateNotFoundError:{code:rg,desc:Fr[rg]},nonceMismatchError:{code:iC,desc:Fr[iC]},authTimeNotFoundError:{code:nA,desc:Fr[nA]},maxAgeTranspired:{code:oC,desc:Fr[oC]},multipleMatchingTokens:{code:E_,desc:Fr[E_]},multipleMatchingAccounts:{code:I_,desc:Fr[I_]},multipleMatchingAppMetadata:{code:sC,desc:Fr[sC]},tokenRequestCannotBeMade:{code:aC,desc:Fr[aC]},removeEmptyScopeError:{code:cC,desc:Fr[cC]},appendScopeSetError:{code:lC,desc:Fr[lC]},emptyInputScopeSetError:{code:ng,desc:Fr[ng]},DeviceCodePollingCancelled:{code:x_,desc:Fr[x_]},DeviceCodeExpired:{code:v_,desc:Fr[v_]},DeviceCodeUnknownError:{code:b_,desc:Fr[b_]},NoAccountInSilentRequest:{code:iA,desc:Fr[iA]},invalidCacheRecord:{code:uC,desc:Fr[uC]},invalidCacheEnvironment:{code:oA,desc:Fr[oA]},noAccountFound:{code:T_,desc:Fr[T_]},noCryptoObj:{code:ig,desc:Fr[ig]},unexpectedCredentialType:{code:__,desc:Fr[__]},invalidAssertion:{code:w_,desc:Fr[w_]},invalidClientCredential:{code:S_,desc:Fr[S_]},tokenRefreshRequired:{code:sA,desc:Fr[sA]},userTimeoutReached:{code:B_,desc:Fr[B_]},tokenClaimsRequired:{code:fC,desc:Fr[fC]},noAuthorizationCodeFromServer:{code:dC,desc:Fr[dC]},bindingKeyNotRemovedError:{code:R_,desc:Fr[R_]},logoutNotSupported:{code:hC,desc:Fr[hC]},keyIdMissing:{code:AC,desc:Fr[AC]},noNetworkConnectivity:{code:k_,desc:Fr[k_]},userCanceledError:{code:D_,desc:Fr[D_]},missingTenantIdError:{code:N_,desc:Fr[N_]},nestedAppAuthBridgeDisabled:{code:Q_,desc:Fr[Q_]}},og=class t extends Pr{static{s(this,"ClientAuthError")}constructor(e,r){super(e,r?`${Fr[e]}: ${r}`:Fr[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,t.prototype)}};function Ke(t,e){return new og(t,e)}s(Ke,"createClientAuthError");var J2={createNewGuid:s(()=>{throw Ke(sn)},"createNewGuid"),base64Decode:s(()=>{throw Ke(sn)},"base64Decode"),base64Encode:s(()=>{throw Ke(sn)},"base64Encode"),base64UrlEncode:s(()=>{throw Ke(sn)},"base64UrlEncode"),encodeKid:s(()=>{throw Ke(sn)},"encodeKid"),async getPublicKeyThumbprint(){throw Ke(sn)},async removeTokenBindingKey(){throw Ke(sn)},async clearKeystore(){throw Ke(sn)},async signJwt(){throw Ke(sn)},async hashString(){throw Ke(sn)}};f();var vo;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(vo||(vo={}));var Mc=class t{static{s(this,"Logger")}constructor(e,r,n){this.level=vo.Info;let o=s(()=>{},"defaultLoggerCallback"),a=e||t.createDefaultLoggerOptions();this.localCallback=a.loggerCallback||o,this.piiLoggingEnabled=a.piiLoggingEnabled||!1,this.level=typeof a.logLevel=="number"?a.logLevel:vo.Info,this.correlationId=a.correlationId||Fe.EMPTY_STRING,this.packageName=r||Fe.EMPTY_STRING,this.packageVersion=n||Fe.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info}}clone(e,r,n){return new t({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;let a=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${vo[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,a,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:vo.Error,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:vo.Error,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:vo.Warning,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:vo.Warning,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:vo.Info,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:vo.Info,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:vo.Verbose,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:vo.Verbose,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:vo.Trace,containsPii:!1,correlationId:r||Fe.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:vo.Trace,containsPii:!0,correlationId:r||Fe.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};f();var UR="@azure/msal-common",X2="15.8.1";f();var aA={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};f();var Qs={};Io(Qs,{createAccessTokenEntity:()=>pH,createIdTokenEntity:()=>AH,createRefreshTokenEntity:()=>mH,generateAppMetadataKey:()=>W6e,generateAuthorityMetadataExpiresAt:()=>GR,generateCredentialKey:()=>L_,isAccessTokenEntity:()=>P6e,isAppMetadataEntity:()=>$6e,isAuthorityMetadataEntity:()=>Y6e,isAuthorityMetadataExpired:()=>VR,isCredentialEntity:()=>qR,isIdTokenEntity:()=>F6e,isRefreshTokenEntity:()=>L6e,isServerTelemetryEntity:()=>G6e,isThrottlingEntity:()=>V6e,updateAuthorityEndpointMetadata:()=>ex,updateCloudDiscoveryMetadata:()=>M_});f();var HR={};Io(HR,{checkMaxAge:()=>P_,extractTokenClaims:()=>cA,getJWSPayload:()=>uae});f();function cA(t,e){let r=uae(t);try{let n=e(r);return JSON.parse(n)}catch{throw Ke(tg)}}s(cA,"extractTokenClaims");function uae(t){if(!t)throw Ke(Zy);let r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw Ke(tg);return r[2]}s(uae,"getJWSPayload");function P_(t,e){if(e===0||Date.now()-3e5>t+e)throw Ke(oC)}s(P_,"checkMaxAge");var zi={};Io(zi,{delay:()=>Q6e,isTokenExpired:()=>Z2,nowSeconds:()=>Oc,toDateFromSeconds:()=>F_,toSecondsFromDate:()=>N6e,wasClockTurnedBack:()=>hH});f();function Oc(){return Math.round(new Date().getTime()/1e3)}s(Oc,"nowSeconds");function N6e(t){return t.getTime()/1e3}s(N6e,"toSecondsFromDate");function F_(t){return t?new Date(Number(t)*1e3):new Date}s(F_,"toDateFromSeconds");function Z2(t,e){let r=Number(t)||0;return Oc()+e>r}s(Z2,"isTokenExpired");function hH(t){return Number(t)>Oc()}s(hH,"wasClockTurnedBack");function Q6e(t,e){return new Promise(r=>setTimeout(()=>r(e),t))}s(Q6e,"delay");function L_(t){return[M6e(t),O6e(t),U6e(t),H6e(t),q6e(t)].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(L_,"generateCredentialKey");function AH(t,e,r,n,o){return{credentialType:qn.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:o}}s(AH,"createIdTokenEntity");function pH(t,e,r,n,o,a,c,l,u,d,h,A,p,g,E){let v={homeAccountId:t,credentialType:qn.ACCESS_TOKEN,secret:r,cachedAt:Oc().toString(),expiresOn:c.toString(),extendedExpiresOn:l.toString(),environment:e,clientId:n,realm:o,target:a,tokenType:h||Tn.BEARER};if(A&&(v.userAssertionHash=A),d&&(v.refreshOn=d.toString()),g&&(v.requestedClaims=g,v.requestedClaimsHash=E),v.tokenType?.toLowerCase()!==Tn.BEARER.toLowerCase())switch(v.credentialType=qn.ACCESS_TOKEN_WITH_AUTH_SCHEME,v.tokenType){case Tn.POP:let w=cA(r,u);if(!w?.cnf?.kid)throw Ke(fC);v.keyId=w.cnf.kid;break;case Tn.SSH:v.keyId=p}return v}s(pH,"createAccessTokenEntity");function mH(t,e,r,n,o,a,c){let l={credentialType:qn.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return a&&(l.userAssertionHash=a),o&&(l.familyId=o),c&&(l.expiresOn=c.toString()),l}s(mH,"createRefreshTokenEntity");function qR(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}s(qR,"isCredentialEntity");function P6e(t){return t?qR(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===qn.ACCESS_TOKEN||t.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}s(P6e,"isAccessTokenEntity");function F6e(t){return t?qR(t)&&t.hasOwnProperty("realm")&&t.credentialType===qn.ID_TOKEN:!1}s(F6e,"isIdTokenEntity");function L6e(t){return t?qR(t)&&t.credentialType===qn.REFRESH_TOKEN:!1}s(L6e,"isRefreshTokenEntity");function M6e(t){return[t.homeAccountId,t.environment].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(M6e,"generateAccountId");function O6e(t){let e=t.credentialType===qn.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(O6e,"generateCredentialId");function U6e(t){return(t.target||"").toLowerCase()}s(U6e,"generateTarget");function H6e(t){return(t.requestedClaimsHash||"").toLowerCase()}s(H6e,"generateClaimsHash");function q6e(t){return t.tokenType&&t.tokenType.toLowerCase()!==Tn.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}s(q6e,"generateScheme");function G6e(t,e){let r=t.indexOf(Ns.CACHE_KEY)===0,n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}s(G6e,"isServerTelemetryEntity");function V6e(t,e){let r=!1;t&&(r=t.indexOf(bd.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}s(V6e,"isThrottlingEntity");function W6e({environment:t,clientId:e}){return[p_,t,e].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}s(W6e,"generateAppMetadataKey");function $6e(t,e){return e?t.indexOf(p_)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}s($6e,"isAppMetadataEntity");function Y6e(t,e){return e?t.indexOf(z2.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}s(Y6e,"isAuthorityMetadataEntity");function GR(){return Oc()+z2.REFRESH_TIME_SECONDS}s(GR,"generateAuthorityMetadataExpiresAt");function ex(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}s(ex,"updateAuthorityEndpointMetadata");function M_(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}s(M_,"updateCloudDiscoveryMetadata");function VR(t){return t.expiresAt<=Oc()}s(VR,"isAuthorityMetadataExpired");f();f();var tx={};Io(tx,{authorityMismatch:()=>$_,authorityUriInsecure:()=>mC,cannotAllowPlatformBroker:()=>W_,cannotSetOIDCOptions:()=>V_,claimsRequestParsingError:()=>O_,emptyInputScopesError:()=>yC,invalidAuthenticationHeader:()=>G_,invalidAuthorityMetadata:()=>xC,invalidClaims:()=>sg,invalidCloudDiscoveryMetadata:()=>ag,invalidCodeChallengeMethod:()=>U_,logoutRequestEmpty:()=>EC,missingNonceAuthenticationHeader:()=>q_,missingSshJwk:()=>lA,missingSshKid:()=>H_,pkceParamsMissing:()=>IC,redirectUriEmpty:()=>pC,tokenRequestEmpty:()=>CC,untrustedAuthority:()=>vC,urlEmptyError:()=>gC,urlParseError:()=>Td});f();var pC="redirect_uri_empty",O_="claims_request_parsing_error",mC="authority_uri_insecure",Td="url_parse_error",gC="empty_url_error",yC="empty_input_scopes_error",sg="invalid_claims",CC="token_request_empty",EC="logout_request_empty",U_="invalid_code_challenge_method",IC="pkce_params_missing",ag="invalid_cloud_discovery_metadata",xC="invalid_authority_metadata",vC="untrusted_authority",lA="missing_ssh_jwk",H_="missing_ssh_kid",q_="missing_nonce_authentication_header",G_="invalid_authentication_header",V_="cannot_set_OIDCOptions",W_="cannot_allow_platform_broker",$_="authority_mismatch";var Lo={[pC]:"A redirect URI is required for all calls, and none has been set.",[O_]:"Could not parse the given claims request object.",[mC]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Td]:"URL could not be parsed into appropriate segments.",[gC]:"URL was empty or null.",[yC]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[sg]:"Given claims parameter must be a stringified JSON object.",[CC]:"Token request was empty and not found in cache.",[EC]:"The logout request was null or undefined.",[U_]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[IC]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ag]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[xC]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[vC]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[lA]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[H_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[q_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[G_]:"Invalid authentication header provided",[V_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[W_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[$_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},gH={redirectUriNotSet:{code:pC,desc:Lo[pC]},claimsRequestParsingError:{code:O_,desc:Lo[O_]},authorityUriInsecure:{code:mC,desc:Lo[mC]},urlParseError:{code:Td,desc:Lo[Td]},urlEmptyError:{code:gC,desc:Lo[gC]},emptyScopesError:{code:yC,desc:Lo[yC]},invalidClaimsRequest:{code:sg,desc:Lo[sg]},tokenRequestEmptyError:{code:CC,desc:Lo[CC]},logoutRequestEmptyError:{code:EC,desc:Lo[EC]},invalidCodeChallengeMethod:{code:U_,desc:Lo[U_]},invalidCodeChallengeParams:{code:IC,desc:Lo[IC]},invalidCloudDiscoveryMetadata:{code:ag,desc:Lo[ag]},invalidAuthorityMetadata:{code:xC,desc:Lo[xC]},untrustedAuthority:{code:vC,desc:Lo[vC]},missingSshJwk:{code:lA,desc:Lo[lA]},missingSshKid:{code:H_,desc:Lo[H_]},missingNonceAuthenticationHeader:{code:q_,desc:Lo[q_]},invalidAuthenticationHeader:{code:G_,desc:Lo[G_]},cannotSetOIDCOptions:{code:V_,desc:Lo[V_]},cannotAllowPlatformBroker:{code:W_,desc:Lo[W_]},authorityMismatch:{code:$_,desc:Lo[$_]}},rx=class t extends Pr{static{s(this,"ClientConfigurationError")}constructor(e){super(e,Lo[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,t.prototype)}};function Si(t){return new rx(t)}s(Si,"createClientConfigurationError");f();var lo=class{static{s(this,"StringUtils")}static isEmptyObj(e){if(e)try{let r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){let r={},n=e.split("&"),o=s(a=>decodeURIComponent(a.replace(/\+/g," ")),"decode");return n.forEach(a=>{if(a.trim()){let[c,l]=a.split(/=(.+)/g,2);c&&l&&(r[o(c)]=o(l))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};var ys=class t{static{s(this,"ScopeSet")}constructor(e){let r=e?lo.trimArrayEntries([...e]):[],n=r?lo.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw Si(yC);this.scopes=new Set,n.forEach(o=>this.scopes.add(o))}static fromString(e){let n=(e||Fe.EMPTY_STRING).split(" ");return new t(n)}static createSearchScopes(e){let r=new t(e);return r.containsOnlyOIDCScopes()?r.removeScope(Fe.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){let r=this.printScopesLowerCase().split(" "),n=new t(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return lH.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw Ke(lC)}}removeScope(e){if(!e)throw Ke(cC);this.scopes.delete(e.trim())}removeOIDCScopes(){lH.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Ke(ng);let r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw Ke(ng);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let r=this.unionScopeSets(e),n=e.getScopeCount(),o=this.getScopeCount();return r.size<o+n}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):Fe.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};f();f();function nx(t,e){if(!t)throw Ke(Xy);try{let r=e(t);return JSON.parse(r)}catch{throw Ke(eg)}}s(nx,"buildClientInfo");function _d(t){if(!t)throw Ke(eg);let e=t.split(Fo.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Fe.EMPTY_STRING:e[1]}}s(_d,"buildClientInfoFromHomeAccountId");f();function fae(t,e){return!!t&&!!e&&t===e.split(".")[1]}s(fae,"tenantIdMatchesHomeTenant");function Y_(t,e,r,n){if(n){let{oid:o,sub:a,tid:c,name:l,tfp:u,acr:d}=n,h=c||u||d||"";return{tenantId:h,localAccountId:o||a||"",name:l,isHomeTenant:fae(h,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:fae(r,t)}}s(Y_,"buildTenantProfile");function WR(t,e,r,n){let o=t;if(e){let{isHomeTenant:a,...c}=e;o={...t,...c}}if(r){let{isHomeTenant:a,...c}=Y_(t.homeAccountId,t.localAccountId,t.tenantId,r);return o={...o,...c,idTokenClaims:r,idToken:n},o}return o}s(WR,"updateAccountTenantProfileData");f();var Fl={Default:0,Adfs:1,Dsts:2,Ciam:3};f();function $R(t){return t&&(t.tid||t.tfp||t.acr)||null}s($R,"getTenantIdFromIdTokenClaims");f();var Ya={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var Ia=class t{static{s(this,"AccountEntity")}generateAccountId(){return[this.homeAccountId,this.environment].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(Fo.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){let o=new t;r.authorityType===Fl.Adfs?o.authorityType=Ky.ADFS_ACCOUNT_TYPE:r.protocolMode===Ya.OIDC?o.authorityType=Ky.GENERIC_ACCOUNT_TYPE:o.authorityType=Ky.MSSTS_ACCOUNT_TYPE;let a;e.clientInfo&&n&&(a=nx(e.clientInfo,n)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;let c=e.environment||r&&r.getPreferredCache();if(!c)throw Ke(oA);o.environment=c,o.realm=a?.utid||$R(e.idTokenClaims)||"",o.localAccountId=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let l=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,u=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(o.username=l||u||"",o.name=e.idTokenClaims?.name||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{let d=Y_(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[d]}return o}static createFromAccountInfo(e,r,n){let o=new t;return o.authorityType=e.authorityType||Ky.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,r,n,o,a){if(!(r===Fl.Adfs||r===Fl.Dsts)){if(e)try{let c=nx(e,o.base64Decode);if(c.uid&&c.utid)return`${c.uid}.${c.utid}`}catch{}n.warning("No client info in response")}return a?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let o=!0;if(n){let a=e.idTokenClaims||{},c=r.idTokenClaims||{};o=a.iat===c.iat&&a.nonce===c.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&o}};f();f();var xa={};Io(xa,{getDeserializedResponse:()=>yH,mapToQueryString:()=>wd,stripLeadingHashOrQuery:()=>dae});f();function dae(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}s(dae,"stripLeadingHashOrQuery");function yH(t){if(!t||t.indexOf("=")<0)return null;try{let e=dae(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw Ke(rC)}return null}s(yH,"getDeserializedResponse");function wd(t,e=!0,r){let n=new Array;return t.forEach((o,a)=>{!e&&r&&a in r?n.push(`${a}=${o}`):n.push(`${a}=${encodeURIComponent(o)}`)}),n.join("&")}s(wd,"mapToQueryString");var an=class t{static{s(this,"UrlString")}get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Si(gC);e.includes("#")||(this._urlString=t.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return lo.endsWith(r,"?")?r=r.slice(0,-1):lo.endsWith(r,"?/")&&(r=r.slice(0,-2)),lo.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Si(Td)}if(!e.HostNameAndPort||!e.PathSegments)throw Si(Td);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Si(mC)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return t.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===J0.COMMON||n[0]===J0.ORGANIZATIONS)&&(n[0]=e),t.constructAuthorityUriFromObject(r)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw Si(Td);let n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},o=n.AbsolutePath.split("/");return o=o.filter(a=>a&&a.length>0),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){let r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw Si(Td);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===Fe.FORWARD_SLASH){let o=new t(r).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new t(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!yH(e)}};var Aae={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},CH=Aae.endpointMetadata,EH=Aae.instanceDiscoveryMetadata,IH=new Set;EH.metadata.forEach(t=>{t.aliases.forEach(e=>{IH.add(e)})});function pae(t,e){let r,n=t.canonicalAuthority;if(n){let o=new an(n).getUrlComponents().HostNameAndPort;r=hae(o,t.cloudDiscoveryMetadata?.metadata,h0.CONFIG,e)||hae(o,EH.metadata,h0.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}s(pae,"getAliasesFromStaticSources");function hae(t,e,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){let o=z_(e,t);if(o)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),o.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}s(hae,"getAliasesFromMetadata");function mae(t){return z_(EH.metadata,t)}s(mae,"getCloudDiscoveryMetadataFromHardcodedValues");function z_(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(n.aliases.includes(e))return n}return null}s(z_,"getCloudDiscoveryMetadataFromNetworkResponse");f();f();var xH="cache_quota_exceeded",YR="cache_error_unknown";var vH={[xH]:"Exceeded cache storage capacity.",[YR]:"Unexpected error occurred when using cache storage."},j_=class t extends Pr{static{s(this,"CacheError")}constructor(e,r){let n=r||(vH[e]?vH[e]:vH[YR]);super(`${e}: ${n}`),Object.setPrototypeOf(this,t.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}};function gae(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new j_(xH):new j_(t.name,t.message):new j_(YR)}s(gae,"createCacheError");var cg=class{static{s(this,"CacheManager")}constructor(e,r,n,o,a){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(UR,X2),this.staticAuthorityOptions=a,this.performanceClient=o}getAllAccounts(e,r){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,r),r,e)}getAccountInfoFilteredBy(e,r){let n=this.getAllAccounts(e,r);return n.length>1?n.sort(a=>a.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e,r){let n=this.getAccountsFilteredBy(e,r);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,r,n){return e.flatMap(o=>this.getTenantProfilesFromAccountEntity(o,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(e,r,n,o,a){let c=null,l;if(a&&!this.tenantProfileMatchesFilter(n,a))return null;let u=this.getIdToken(e,o,r,n.tenantId);return u&&(l=cA(u.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(l,a))?null:(c=WR(e,n,l,u?.secret),c)}getTenantProfilesFromAccountEntity(e,r,n,o){let a=e.getAccountInfo(),c=a.tenantProfiles||new Map,l=this.getTokenKeys();if(n){let d=c.get(n);if(d)c=new Map([[n,d]]);else return[]}let u=[];return c.forEach(d=>{let h=this.getTenantedAccountInfoByFilter(a,l,d,r,o);h&&u.push(h)}),u}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){if(!e)throw Ke(uC);try{e.account&&await this.setAccount(e.account,r),e.idToken&&n?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,r),e.accessToken&&n?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,r),e.refreshToken&&n?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,r)}catch(o){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),o instanceof Pr?o:gae(o)}}async saveAccessToken(e,r){let n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),a=ys.fromString(e.target);o.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,n,!1))return;let l=this.getAccessTokenCredential(c,r);l&&this.credentialMatchesFilter(l,n)&&ys.fromString(l.target).intersectingScopeSets(a)&&this.removeAccessToken(c,r)}),await this.setAccessTokenCredential(e,r)}getAccountsFilteredBy(e,r){let n=this.getAccountKeys(),o=[];return n.forEach(a=>{if(!this.isAccountKey(a,e.homeAccountId))return;let c=this.getAccount(a,r);if(!c||e.homeAccountId&&!this.matchHomeAccountId(c,e.homeAccountId)||e.username&&!this.matchUsername(c.username,e.username)||e.environment&&!this.matchEnvironment(c,e.environment)||e.realm&&!this.matchRealm(c,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(c,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(c,e.authorityType))return;let l={localAccountId:e?.localAccountId,name:e?.name},u=c.tenantProfiles?.filter(d=>this.tenantProfileMatchesFilter(d,l));u&&u.length===0||o.push(c)}),o}isAccountKey(e,r,n){return!(e.split(Fo.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(Fo.CACHE_KEY_SEPARATOR).length<6)return!1;let r=e.toLowerCase();if(r.indexOf(qn.ID_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf(qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf(qn.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf(qn.REFRESH_TOKEN.toLowerCase())>-1){let n=`${qn.REFRESH_TOKEN}${Fo.CACHE_KEY_SEPARATOR}${this.clientId}${Fo.CACHE_KEY_SEPARATOR}`,o=`${qn.REFRESH_TOKEN}${Fo.CACHE_KEY_SEPARATOR}${rA}${Fo.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(o.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===qn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===Tn.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){let r=this.getKeys(),n={};return r.forEach(o=>{if(!this.isAppMetadata(o))return;let a=this.getAppMetadata(o);a&&(e.environment&&!this.matchEnvironment(a,e.environment)||e.clientId&&!this.matchClientId(a,e.clientId)||(n[o]=a))}),n}getAuthorityMetadataByAlias(e){let r=this.getAuthorityMetadataKeys(),n=null;return r.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;let a=this.getAuthorityMetadata(o);a&&a.aliases.indexOf(e)!==-1&&(n=a)}),n}removeAllAccounts(e){this.getAccountKeys().forEach(n=>{this.removeAccount(n,e)})}removeAccount(e,r){let n=this.getAccount(e,r);n&&(this.removeAccountContext(n,r),this.removeItem(e,r))}removeAccountContext(e,r){let n=this.getTokenKeys(),o=e.generateAccountId();n.idToken.forEach(a=>{a.indexOf(o)===0&&this.removeIdToken(a,r)}),n.accessToken.forEach(a=>{a.indexOf(o)===0&&this.removeAccessToken(a,r)}),n.refreshToken.forEach(a=>{a.indexOf(o)===0&&this.removeRefreshToken(a,r)})}removeAccessToken(e,r){let n=this.getAccessTokenCredential(e,r);if(this.removeItem(e,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),!n||n.credentialType.toLowerCase()!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||n.tokenType!==Tn.POP)return;let o=n.keyId;o&&this.cryptoImpl.removeTokenBindingKey(o).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${o}`,r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}removeAppMetadata(e){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,e)}),!0}readAccountFromCache(e,r){let n=Ia.generateAccountCacheKey(e);return this.getAccount(n,r)}getIdToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getIdToken called");let c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.ID_TOKEN,clientId:this.clientId,realm:o},l=this.getIdTokensByFilter(c,r,n),u=l.size;if(u<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(u>1){let d=l;if(!o){let h=new Map;l.forEach((p,g)=>{p.realm===e.tenantId&&h.set(g,p)});let A=h.size;if(A<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(A===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),h.values().next().value;d=h}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),d.forEach((h,A)=>{this.removeIdToken(A,r)}),a&&r&&a.addFields({multiMatchedID:l.size},r),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(e,r,n){let o=n&&n.idToken||this.getTokenKeys().idToken,a=new Map;return o.forEach(c=>{if(!this.idTokenKeyMatchesFilter(c,{clientId:this.clientId,...e}))return;let l=this.getIdTokenCredential(c,r);l&&this.credentialMatchesFilter(l,e)&&a.set(c,l)}),a}idTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e,r){this.removeItem(e,r)}removeRefreshToken(e,r){this.removeItem(e,r)}getAccessToken(e,r,n,o){let a=r.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",a);let c=ys.createSearchScopes(r.scopes),l=r.authenticationScheme||Tn.BEARER,u=l&&l.toLowerCase()!==Tn.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:this.clientId,realm:o||e.tenantId,target:c,tokenType:l,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},h=n&&n.accessToken||this.getTokenKeys().accessToken,A=[];h.forEach(g=>{if(this.accessTokenKeyMatchesFilter(g,d,!0)){let E=this.getAccessTokenCredential(g,a);E&&this.credentialMatchesFilter(E,d)&&A.push(E)}});let p=A.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",a),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",a),A.forEach(g=>{this.removeAccessToken(L_(g),a)}),this.performanceClient.addFields({multiMatchedAT:A.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",a),A[0])}accessTokenKeyMatchesFilter(e,r,n){let o=e.toLowerCase();if(r.clientId&&o.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&o.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&o.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&o.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){let a=r.target.asArray();for(let c=0;c<a.length;c++){if(n&&!o.includes(a[c].toLowerCase()))return!1;if(!n&&o.includes(a[c].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,r){let n=this.getTokenKeys(),o=[];return n.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,e,!0))return;let c=this.getAccessTokenCredential(a,r);c&&this.credentialMatchesFilter(c,e)&&o.push(c)}),o}getRefreshToken(e,r,n,o,a){this.commonLogger.trace("CacheManager - getRefreshToken called");let c=r?rA:void 0,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:qn.REFRESH_TOKEN,clientId:this.clientId,familyId:c},u=o&&o.refreshToken||this.getTokenKeys().refreshToken,d=[];u.forEach(A=>{if(this.refreshTokenKeyMatchesFilter(A,l)){let p=this.getRefreshTokenCredential(A,n);p&&this.credentialMatchesFilter(p,l)&&d.push(p)}});let h=d.length;return h<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(h>1&&a&&n&&a.addFields({multiMatchedRT:h},n),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),d[0])}refreshTokenKeyMatchesFilter(e,r){let n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map(c=>n[c]),a=o.length;if(a<1)return null;if(a>1)throw Ke(sC);return o[0]}isAppMetadataFOCI(e){let r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===rA)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){let n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){return r.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,r){return!!(e&&typeof e=="string"&&r?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){let o=pae(this.staticAuthorityOptions,this.commonLogger);if(o.includes(r)&&o.includes(e.environment))return!0}let n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){return e.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==qn.ACCESS_TOKEN&&e.credentialType!==qn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:ys.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(p_)!==-1}isAuthorityMetadata(e){return e.indexOf(z2.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${z2.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(let n in r)e[n]=r[n];return e}},K_=class extends cg{static{s(this,"DefaultStorageClass")}async setAccount(){throw Ke(sn)}getAccount(){throw Ke(sn)}async setIdTokenCredential(){throw Ke(sn)}getIdTokenCredential(){throw Ke(sn)}async setAccessTokenCredential(){throw Ke(sn)}getAccessTokenCredential(){throw Ke(sn)}async setRefreshTokenCredential(){throw Ke(sn)}getRefreshTokenCredential(){throw Ke(sn)}setAppMetadata(){throw Ke(sn)}getAppMetadata(){throw Ke(sn)}setServerTelemetry(){throw Ke(sn)}getServerTelemetry(){throw Ke(sn)}setAuthorityMetadata(){throw Ke(sn)}getAuthorityMetadata(){throw Ke(sn)}getAuthorityMetadataKeys(){throw Ke(sn)}setThrottlingCache(){throw Ke(sn)}getThrottlingCache(){throw Ke(sn)}removeItem(){throw Ke(sn)}getKeys(){throw Ke(sn)}getAccountKeys(){throw Ke(sn)}getTokenKeys(){throw Ke(sn)}};f();f();var Ne={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},B4t=new Map([[Ne.AcquireTokenByCode,"ATByCode"],[Ne.AcquireTokenByRefreshToken,"ATByRT"],[Ne.AcquireTokenSilent,"ATS"],[Ne.AcquireTokenSilentAsync,"ATSAsync"],[Ne.AcquireTokenPopup,"ATPopup"],[Ne.AcquireTokenRedirect,"ATRedirect"],[Ne.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[Ne.CryptoOptsSignJwt,"CryptoSignJwt"],[Ne.SilentCacheClientAcquireToken,"SltCacheClientAT"],[Ne.SilentIframeClientAcquireToken,"SltIframeClientAT"],[Ne.SilentRefreshClientAcquireToken,"SltRClientAT"],[Ne.SsoSilent,"SsoSlt"],[Ne.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[Ne.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[Ne.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[Ne.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[Ne.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[Ne.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[Ne.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[Ne.BrokerHandhshake,"BrokerHandshake"],[Ne.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[Ne.AcquireTokenByBroker,"ATByBroker"],[Ne.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[Ne.RefreshTokenClientAcquireToken,"RTClientAT"],[Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[Ne.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[Ne.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[Ne.AcquireTokenFromCache,"ATFromCache"],[Ne.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[Ne.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[Ne.AcquireTokenBySilentIframe,"ATBySltIframe"],[Ne.InitializeBaseRequest,"InitBaseReq"],[Ne.InitializeSilentRequest,"InitSltReq"],[Ne.InitializeClientApplication,"InitClientApplication"],[Ne.InitializeCache,"InitCache"],[Ne.ImportExistingCache,"importCache"],[Ne.SetUserData,"setUserData"],[Ne.LocalStorageUpdated,"localStorageUpdated"],[Ne.SilentIframeClientTokenHelper,"SIClientTHelper"],[Ne.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[Ne.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[Ne.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[Ne.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[Ne.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[Ne.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[Ne.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[Ne.GetAuthCodeUrl,"GetAuthCodeUrl"],[Ne.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[Ne.HandleCodeResponse,"HandleCodeResp"],[Ne.HandleResponseEar,"HandleRespEar"],[Ne.HandleResponseCode,"HandleRespCode"],[Ne.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[Ne.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[Ne.AuthClientAcquireToken,"AuthClientAT"],[Ne.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[Ne.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[Ne.PopTokenGenerateCnf,"PopTGenCnf"],[Ne.PopTokenGenerateKid,"PopTGenKid"],[Ne.HandleServerTokenResponse,"HandleServerTRes"],[Ne.DeserializeResponse,"DeserializeRes"],[Ne.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[Ne.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[Ne.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[Ne.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[Ne.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[Ne.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[Ne.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[Ne.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[Ne.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[Ne.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[Ne.AcquireTokenByCodeAsync,"ATByCodeAsync"],[Ne.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[Ne.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[Ne.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[Ne.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[Ne.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[Ne.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[Ne.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[Ne.NativeGenerateAuthResult,"NtvGenAuthRes"],[Ne.RemoveHiddenIframe,"RemoveHiddenIframe"],[Ne.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[Ne.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[Ne.GeneratePkceCodes,"GenPkceCodes"],[Ne.GenerateCodeVerifier,"GenCodeVerifier"],[Ne.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[Ne.Sha256Digest,"Sha256Digest"],[Ne.GetRandomValues,"GetRandomValues"],[Ne.GenerateHKDF,"genHKDF"],[Ne.GenerateBaseKey,"genBaseKey"],[Ne.Base64Decode,"b64Decode"],[Ne.UrlEncodeArr,"urlEncArr"],[Ne.Encrypt,"encrypt"],[Ne.Decrypt,"decrypt"],[Ne.GenerateEarKey,"genEarKey"],[Ne.DecryptEarResponse,"decryptEarResp"]]),yae={NotStarted:0,InProgress:1,Completed:2};var zR=class{static{s(this,"StubPerformanceMeasurement")}startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},bC=class{static{s(this,"StubPerformanceClient")}generateId(){return"callback-id"}startMeasurement(e,r){return{end:s(()=>null,"end"),discard:s(()=>{},"discard"),add:s(()=>{},"add"),increment:s(()=>{},"increment"),event:{eventId:this.generateId(),status:yae.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new zR}}startPerformanceMeasurement(){return new zR}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var z6e={tokenRenewalOffsetSeconds:j2,preventCorsPreflight:!1},j6e={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info,correlationId:Fe.EMPTY_STRING},K6e={claimsBasedCachingEnabled:!1},J6e={async sendGetRequestAsync(){throw Ke(sn)},async sendPostRequestAsync(){throw Ke(sn)}},X6e={sku:Fe.SKU,version:X2,cpu:Fe.EMPTY_STRING,os:Fe.EMPTY_STRING},Z6e={clientSecret:Fe.EMPTY_STRING,clientAssertion:void 0},eRe={azureCloudInstance:aA.None,tenant:`${Fe.DEFAULT_COMMON_TENANT}`},tRe={application:{appName:"",appVersion:""}};function Cae({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:o,networkInterface:a,cryptoInterface:c,clientCredentials:l,libraryInfo:u,telemetry:d,serverTelemetryManager:h,persistencePlugin:A,serializableCache:p}){let g={...j6e,...r};return{authOptions:rRe(t),systemOptions:{...z6e,...e},loggerOptions:g,cacheOptions:{...K6e,...n},storageInterface:o||new K_(t.clientId,J2,new Mc(g),new bC),networkInterface:a||J6e,cryptoInterface:c||J2,clientCredentials:l||Z6e,libraryInfo:{...X6e,...u},telemetry:{...tRe,...d},serverTelemetryManager:h||null,persistencePlugin:A||null,serializableCache:p||null}}s(Cae,"buildClientConfiguration");function rRe(t){return{clientCapabilities:[],azureCloudOptions:eRe,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}s(rRe,"buildAuthOptions");function jR(t){return t.authOptions.authority.options.protocolMode===Ya.OIDC}s(jR,"isOidcProtocolMode");f();var p0={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var Tt={};Io(Tt,{addApplicationTelemetry:()=>Z_,addAuthorizationCode:()=>Aq,addBrokerParameters:()=>dA,addCcsOid:()=>uA,addCcsUpn:()=>lg,addClaims:()=>RC,addClientAssertion:()=>r4,addClientAssertionType:()=>n4,addClientCapabilitiesToClaims:()=>Eae,addClientId:()=>SC,addClientInfo:()=>DC,addClientSecret:()=>t4,addCodeChallengeParams:()=>gRe,addCodeVerifier:()=>mq,addCorrelationId:()=>kC,addDeviceCode:()=>yRe,addDomainHint:()=>fq,addEARParameters:()=>vRe,addExtraQueryParameters:()=>fA,addGrantType:()=>i4,addIdTokenHint:()=>uq,addInstanceAware:()=>o4,addLibraryInfo:()=>X_,addLoginHint:()=>ox,addLogoutHint:()=>gq,addNativeBroker:()=>mRe,addNonce:()=>hq,addOboAssertion:()=>CRe,addPassword:()=>xRe,addPopToken:()=>s4,addPostLogoutRedirectUri:()=>lq,addPrompt:()=>dq,addRedirectUri:()=>BC,addRefreshToken:()=>pq,addRequestTokenUse:()=>ERe,addResponseMode:()=>cq,addResponseType:()=>pRe,addScopes:()=>wC,addServerTelemetry:()=>c4,addSid:()=>t9,addSshJwk:()=>a4,addState:()=>e4,addThrottling:()=>l4,addUsername:()=>IRe,instrumentBrokerParams:()=>_C});f();var TC={};Io(TC,{ACCESS_TOKEN:()=>oRe,BROKER_CLIENT_ID:()=>J_,BROKER_REDIRECT_URI:()=>e9,CCS_HEADER:()=>hRe,CLAIMS:()=>wH,CLIENT_ASSERTION:()=>JH,CLIENT_ASSERTION_TYPE:()=>XH,CLIENT_ID:()=>Sd,CLIENT_INFO:()=>uRe,CLIENT_REQUEST_ID:()=>LH,CLIENT_SECRET:()=>KH,CODE:()=>NH,CODE_CHALLENGE:()=>QH,CODE_CHALLENGE_METHOD:()=>PH,CODE_VERIFIER:()=>FH,DEVICE_CODE:()=>jH,DOMAIN_HINT:()=>oq,EAR_JWE_CRYPTO:()=>aq,EAR_JWK:()=>sq,ERROR:()=>nRe,ERROR_DESCRIPTION:()=>iRe,EXPIRES_IN:()=>aRe,FOCI:()=>dRe,GRANT_TYPE:()=>_H,ID_TOKEN:()=>sRe,ID_TOKEN_HINT:()=>zH,INSTANCE_AWARE:()=>ix,LOGIN_HINT:()=>iq,LOGOUT_HINT:()=>rq,NATIVE_BROKER:()=>tq,NONCE:()=>kH,OBO_ASSERTION:()=>ZH,ON_BEHALF_OF:()=>fRe,POST_LOGOUT_URI:()=>YH,PROMPT:()=>DH,REDIRECT_URI:()=>KR,REFRESH_TOKEN:()=>BH,REFRESH_TOKEN_EXPIRES_IN:()=>cRe,REQUESTED_TOKEN_USE:()=>eq,REQ_CNF:()=>XR,RESPONSE_MODE:()=>TH,RESPONSE_TYPE:()=>bH,RETURN_SPA_CODE:()=>ZR,SCOPE:()=>SH,SESSION_STATE:()=>lRe,SID:()=>nq,STATE:()=>RH,TOKEN_TYPE:()=>JR,X_APP_NAME:()=>WH,X_APP_VER:()=>$H,X_CLIENT_CPU:()=>HH,X_CLIENT_CURR_TELEM:()=>qH,X_CLIENT_EXTRA_SKU:()=>ARe,X_CLIENT_LAST_TELEM:()=>GH,X_CLIENT_OS:()=>UH,X_CLIENT_SKU:()=>MH,X_CLIENT_VER:()=>OH,X_MS_LIB_CAPABILITY:()=>VH});f();var Sd="client_id",KR="redirect_uri",bH="response_type",TH="response_mode",_H="grant_type",wH="claims",SH="scope",nRe="error",iRe="error_description",oRe="access_token",sRe="id_token",BH="refresh_token",aRe="expires_in",cRe="refresh_token_expires_in",RH="state",kH="nonce",DH="prompt",lRe="session_state",uRe="client_info",NH="code",QH="code_challenge",PH="code_challenge_method",FH="code_verifier",LH="client-request-id",MH="x-client-SKU",OH="x-client-VER",UH="x-client-OS",HH="x-client-CPU",qH="x-client-current-telemetry",GH="x-client-last-telemetry",VH="x-ms-lib-capability",WH="x-app-name",$H="x-app-ver",YH="post_logout_redirect_uri",zH="id_token_hint",jH="device_code",KH="client_secret",JH="client_assertion",XH="client_assertion_type",JR="token_type",XR="req_cnf",ZH="assertion",eq="requested_token_use",fRe="on_behalf_of",dRe="foci",hRe="X-AnchorMailbox",ZR="return_spa_code",tq="nativebroker",rq="logout_hint",nq="sid",iq="login_hint",oq="domain_hint",ARe="x-client-xtra-sku",J_="brk_client_id",e9="brk_redirect_uri",ix="instance_aware",sq="ear_jwk",aq="ear_jwe_crypto";function _C(t,e,r){if(!e)return;let n=t.get(Sd);n&&t.has(J_)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:t.get(KR)},e)}s(_C,"instrumentBrokerParams");function pRe(t,e){t.set(bH,e)}s(pRe,"addResponseType");function cq(t,e){t.set(TH,e||vd.QUERY)}s(cq,"addResponseMode");function mRe(t){t.set(tq,"1")}s(mRe,"addNativeBroker");function wC(t,e,r=!0,n=K0){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");let o=r?[...e||[],...n]:e||[],a=new ys(o);t.set(SH,a.printScopes())}s(wC,"addScopes");function SC(t,e){t.set(Sd,e)}s(SC,"addClientId");function BC(t,e){t.set(KR,e)}s(BC,"addRedirectUri");function lq(t,e){t.set(YH,e)}s(lq,"addPostLogoutRedirectUri");function uq(t,e){t.set(zH,e)}s(uq,"addIdTokenHint");function fq(t,e){t.set(oq,e)}s(fq,"addDomainHint");function ox(t,e){t.set(iq,e)}s(ox,"addLoginHint");function lg(t,e){t.set(Fi.CCS_HEADER,`UPN:${e}`)}s(lg,"addCcsUpn");function uA(t,e){t.set(Fi.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}s(uA,"addCcsOid");function t9(t,e){t.set("sid",e)}s(t9,"addSid");function RC(t,e,r){let n=Eae(e,r);try{JSON.parse(n)}catch{throw Si(sg)}t.set(wH,n)}s(RC,"addClaims");function kC(t,e){t.set(LH,e)}s(kC,"addCorrelationId");function X_(t,e){t.set(MH,e.sku),t.set(OH,e.version),e.os&&t.set(UH,e.os),e.cpu&&t.set(HH,e.cpu)}s(X_,"addLibraryInfo");function Z_(t,e){e?.appName&&t.set(WH,e.appName),e?.appVersion&&t.set($H,e.appVersion)}s(Z_,"addApplicationTelemetry");function dq(t,e){t.set(DH,e)}s(dq,"addPrompt");function e4(t,e){e&&t.set(RH,e)}s(e4,"addState");function hq(t,e){t.set(kH,e)}s(hq,"addNonce");function gRe(t,e,r){if(e&&r)t.set(QH,e),t.set(PH,r);else throw Si(IC)}s(gRe,"addCodeChallengeParams");function Aq(t,e){t.set(NH,e)}s(Aq,"addAuthorizationCode");function yRe(t,e){t.set(jH,e)}s(yRe,"addDeviceCode");function pq(t,e){t.set(BH,e)}s(pq,"addRefreshToken");function mq(t,e){t.set(FH,e)}s(mq,"addCodeVerifier");function t4(t,e){t.set(KH,e)}s(t4,"addClientSecret");function r4(t,e){e&&t.set(JH,e)}s(r4,"addClientAssertion");function n4(t,e){e&&t.set(XH,e)}s(n4,"addClientAssertionType");function CRe(t,e){t.set(ZH,e)}s(CRe,"addOboAssertion");function ERe(t,e){t.set(eq,e)}s(ERe,"addRequestTokenUse");function i4(t,e){t.set(_H,e)}s(i4,"addGrantType");function DC(t){t.set(lae,"1")}s(DC,"addClientInfo");function o4(t){t.has(ix)||t.set(ix,"true")}s(o4,"addInstanceAware");function fA(t,e){Object.entries(e).forEach(([r,n])=>{!t.has(r)&&n&&t.set(r,n)})}s(fA,"addExtraQueryParameters");function Eae(t,e){let r;if(!t)r={};else try{r=JSON.parse(t)}catch{throw Si(sg)}return e&&e.length>0&&(r.hasOwnProperty(jy.ACCESS_TOKEN)||(r[jy.ACCESS_TOKEN]={}),r[jy.ACCESS_TOKEN][jy.XMS_CC]={values:e}),JSON.stringify(r)}s(Eae,"addClientCapabilitiesToClaims");function IRe(t,e){t.set(g_.username,e)}s(IRe,"addUsername");function xRe(t,e){t.set(g_.password,e)}s(xRe,"addPassword");function s4(t,e){e&&(t.set(JR,Tn.POP),t.set(XR,e))}s(s4,"addPopToken");function a4(t,e){e&&(t.set(JR,Tn.SSH),t.set(XR,e))}s(a4,"addSshJwk");function c4(t,e){t.set(qH,e.generateCurrentRequestHeaderValue()),t.set(GH,e.generateLastRequestHeaderValue())}s(c4,"addServerTelemetry");function l4(t){t.set(VH,bd.X_MS_LIB_CAPABILITY_VALUE)}s(l4,"addThrottling");function gq(t,e){t.set(rq,e)}s(gq,"addLogoutHint");function dA(t,e,r){t.has(J_)||t.set(J_,e),t.has(e9)||t.set(e9,r)}s(dA,"addBrokerParameters");function vRe(t,e){t.set(sq,encodeURIComponent(e)),t.set(aq,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}s(vRe,"addEARParameters");var n9={};Io(n9,{createDiscoveredInstance:()=>Cq});f();f();f();function Iae(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}s(Iae,"isOpenIdConfigResponse");f();function xae(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}s(xae,"isCloudInstanceDiscoveryResponse");f();function vae(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}s(vae,"isCloudInstanceDiscoveryErrorResponse");f();f();var bae=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}try{let l=t(...a);return c?.end({success:!0}),r.trace(`Returning result from ${e}`),l}catch(l){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l}},"invoke"),_n=s((t,e,r,n,o)=>(...a)=>{r.trace(`Executing function ${e}`);let c=n?.startMeasurement(e,o);if(o){let l=e+"CallCount";n?.incrementFields({[l]:1},o)}return n?.setPreQueueTime(e,o),t(...a).then(l=>(r.trace(`Returning result from ${e}`),c?.end({success:!0}),l)).catch(l=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(l))}catch{r.trace("Unable to print error message.")}throw c?.end({success:!1},l),l})},"invokeAsync");var u4=class t{static{s(this,"RegionDiscovery")}constructor(e,r,n,o){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=o}async detectRegion(e,r){this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=Jy.ENVIRONMENT_VARIABLE;else{let o=t.IMDS_OPTIONS;try{let a=await _n(this.getRegionFromIMDS.bind(this),Ne.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Fe.IMDS_VERSION,o);if(a.status===Qr.SUCCESS&&(n=a.body,r.region_source=Jy.IMDS),a.status===Qr.BAD_REQUEST){let c=await _n(this.getCurrentVersion.bind(this),Ne.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!c)return r.region_source=Jy.FAILED_AUTO_DETECTION,null;let l=await _n(this.getRegionFromIMDS.bind(this),Ne.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(c,o);l.status===Qr.SUCCESS&&(n=l.body,r.region_source=Jy.IMDS)}}catch{return r.region_source=Jy.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=Jy.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){return this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Fe.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,Fe.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Ne.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=await this.networkInterface.sendGetRequestAsync(`${Fe.IMDS_ENDPOINT}?format=json`,e);return r.status===Qr.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}};u4.IMDS_OPTIONS={headers:{Metadata:"true"}};var ju=class t{static{s(this,"Authority")}constructor(e,r,n,o,a,c,l,u){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=a,this.performanceClient=l,this.correlationId=c,this.managedIdentity=u||!1,this.regionDiscovery=new u4(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Fe.CIAM_AUTH_URL))return Fl.Ciam;let r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case Fe.ADFS:return Fl.Adfs;case Fe.DSTS:return Fl.Dsts}return Fl.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new an(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Ke(A0)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Ke(A0)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Ke(A0)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Ke(hC);return this.replacePath(this.metadata.end_session_endpoint)}else throw Ke(A0)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Ke(A0)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Ke(A0)}canReplaceTenant(e){return e.PathSegments.length===1&&!t.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Fl.Default&&this.protocolMode!==Ya.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e,o=new an(this.metadata.canonical_authority).getUrlComponents(),a=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,u)=>{let d=a[u];if(u===0&&this.canReplaceTenant(o)){let h=new an(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];d!==h&&(this.logger.verbose(`Replacing tenant domain name ${d} with id ${h}`),d=h)}l!==d&&(r=r.replace(`/${d}/`,`/${l}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Fl.Adfs||this.protocolMode===Ya.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),r=await _n(this.updateCloudDiscoveryMetadata.bind(this),Ne.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let n=await _n(this.updateEndpointMetadata.bind(this),Ne.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:GR(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==h0.CACHE&&n?.source!==h0.CACHE&&(e.expiresAt=GR(),e.canonical_authority=this.canonicalAuthority);let o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateEndpointMetadata,this.correlationId);let r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===h0.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){let o=await _n(this.updateMetadataWithRegionalInformation.bind(this),Ne.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);ex(e,o,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await _n(this.getEndpointMetadataFromNetwork.bind(this),Ne.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await _n(this.updateMetadataWithRegionalInformation.bind(this),Ne.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),ex(e,n,!0),h0.NETWORK;throw Ke(tC,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),ex(e,r,!1),{source:h0.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let o=this.getEndpointMetadataFromHardcodedValues();if(o)return ex(e,o,!1),{source:h0.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let n=VR(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:h0.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new an(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Si(xC)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{let n=await this.networkInterface.sendGetRequestAsync(r,e);return Iae(n.body)?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in CH?CH[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==Fe.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=MR.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,t.replaceWithRegionalInformation(e,r);let n=await _n(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Ne.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=MR.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,t.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=MR.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Ne.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;let n=await _n(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return M_(e,n,!0),h0.NETWORK;throw Si(vC)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Fe.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Fe.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Fe.NOT_APPLICABLE}`);let r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),M_(e,r,!1),h0.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let o=mae(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),M_(e,o,!1),h0.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=VR(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),h0.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Fl.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=z_(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Si(ag)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Ne.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${Fe.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={},n=null;try{let o=await this.networkInterface.sendGetRequestAsync(e,r),a,c;if(xae(o.body))a=o.body,c=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(vae(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===Fe.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=z_(c,this.hostnameAndPort)}catch(o){if(o instanceof Pr)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{let a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=t.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&an.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==aA.None){let o=r.tenant?r.tenant:Fe.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${o}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Fe.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ke(A0)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return IH.has(e)}static isPublicCloudAuthority(e){return Fe.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){let o=new an(e);o.validateAsUri();let a=o.getUrlComponents(),c=`${r}.${a.HostNameAndPort}`;this.isPublicCloudAuthority(a.HostNameAndPort)&&(c=`${r}.${Fe.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let l=an.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:c}).urlString;return n?`${l}?${n}`:l}static replaceWithRegionalInformation(e,r){let n={...e};return n.authorization_endpoint=t.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=t.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=t.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e,o=new an(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(Fe.CIAM_AUTH_URL)){let a=o.HostNameAndPort.split(".")[0];r=`${r}${a}${Fe.AAD_TENANT_DOMAIN_SUFFIX}`}return r}};ju.reservedTenantDomains=new Set(["{tenant}","{tenantid}",J0.COMMON,J0.CONSUMERS,J0.ORGANIZATIONS]);function Tae(t){let n=new an(t).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case J0.COMMON:case J0.ORGANIZATIONS:case J0.CONSUMERS:return;default:return n}}s(Tae,"getTenantFromAuthorityString");function r9(t){return t.endsWith(Fe.FORWARD_SLASH)?t:`${t}${Fe.FORWARD_SLASH}`}s(r9,"formatAuthorityUri");function yq(t){let e=t.cloudDiscoveryMetadata,r;if(e)try{r=JSON.parse(e)}catch{throw Si(ag)}return{canonicalAuthority:t.authority?r9(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}s(yq,"buildStaticAuthorityOptions");async function Cq(t,e,r,n,o,a,c){c?.addQueueMeasurement(Ne.AuthorityFactoryCreateDiscoveredInstance,a);let l=ju.transformCIAMAuthority(r9(t)),u=new ju(l,e,r,n,o,a,c);try{return await _n(u.resolveEndpointsAsync.bind(u),Ne.AuthorityResolveEndpointsAsync,o,c,a)(),u}catch{throw Ke(A0)}}s(Cq,"createDiscoveredInstance");f();f();var m0=class t extends Pr{static{s(this,"ServerError")}constructor(e,r,n,o,a){super(e,r,n),this.name="ServerError",this.errorNo=o,this.status=a,Object.setPrototypeOf(this,t.prototype)}};f();function sx(t,e,r){return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:r,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}s(sx,"getRequestThumbprint");var f4=class t{static{s(this,"ThrottlingUtils")}static generateThrottlingStorageKey(e){return`${bd.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r,n){let o=t.generateThrottlingStorageKey(r),a=e.getThrottlingCache(o);if(a){if(a.throttleTime<Date.now()){e.removeItem(o,n);return}throw new m0(a.errorCodes?.join(" ")||Fe.EMPTY_STRING,a.errorMessage,a.subError)}}static postProcess(e,r,n,o){if(t.checkResponseStatus(n)||t.checkResponseForRetryAfter(n)){let a={throttleTime:t.calculateThrottleTime(parseInt(n.headers[Fi.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(t.generateThrottlingStorageKey(r),a,o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Fi.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||bd.DEFAULT_THROTTLE_TIME_SECONDS),n+bd.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,o){let a=sx(r,n,o),c=this.generateThrottlingStorageKey(a);e.removeItem(c,n.correlationId)}};f();var i9=class t extends Pr{static{s(this,"NetworkError")}constructor(e,r,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,t.prototype),this.name="NetworkError",this.error=e,this.httpStatus=r,this.responseHeaders=n}};var va=class{static{s(this,"BaseClient")}constructor(e,r){this.config=Cae(e),this.logger=new Mc(this.config.loggerOptions,UR,X2),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){let r={};if(r[Fi.CONTENT_TYPE]=Fe.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case p0.HOME_ACCOUNT_ID:try{let n=_d(e.credential);r[Fi.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case p0.UPN:r[Fi.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,o,a,c){c&&this.performanceClient?.addQueueMeasurement(c,a);let l=await this.sendPostRequest(o,e,{body:r,headers:n},a);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l}async sendPostRequest(e,r,n,o){f4.preProcess(this.cacheManager,e,o);let a;try{a=await _n(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Ne.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(r,n);let c=a.headers||{};this.performanceClient?.addFields({refreshTokenSize:a.body.refresh_token?.length||0,httpVerToken:c[Fi.X_MS_HTTP_VERSION]||"",requestId:c[Fi.X_MS_REQUEST_ID]||""},o)}catch(c){if(c instanceof i9){let l=c.responseHeaders;throw l&&this.performanceClient?.addFields({httpVerToken:l[Fi.X_MS_HTTP_VERSION]||"",requestId:l[Fi.X_MS_REQUEST_ID]||"",contentTypeHeader:l[Fi.CONTENT_TYPE]||void 0,contentLengthHeader:l[Fi.CONTENT_LENGTH]||void 0,httpStatus:c.httpStatus},o),c.error}throw c instanceof Pr?c:Ke(eC)}return f4.postProcess(this.cacheManager,e,a,o),a}async updateAuthority(e,r){this.performanceClient?.addQueueMeasurement(Ne.UpdateTokenEndpointAuthority,r);let n=`https://${e}/${this.authority.tenant}/`,o=await Cq(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=o}createTokenQueryParameters(e){let r=new Map;return e.embeddedClientId&&dA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&fA(r,e.tokenQueryParameters),kC(r,e.correlationId),_C(r,e.correlationId,this.performanceClient),wd(r)}};f();f();var s9={};Io(s9,{badToken:()=>fg,consentRequired:()=>Iq,interactionRequired:()=>Eq,loginRequired:()=>xq,nativeAccountUnavailable:()=>d4,noTokensFound:()=>ug,refreshTokenExpired:()=>h4,uxNotAllowed:()=>o9});f();var ug="no_tokens_found",d4="native_account_unavailable",h4="refresh_token_expired",o9="ux_not_allowed",Eq="interaction_required",Iq="consent_required",xq="login_required",fg="bad_token";var _ae=[Eq,Iq,xq,fg,o9],bRe=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],a9={[ug]:"No refresh token found in the cache. Please sign-in.",[d4]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[h4]:"Refresh token has expired.",[fg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[o9]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."},vq={noTokensFoundError:{code:ug,desc:a9[ug]},native_account_unavailable:{code:d4,desc:a9[d4]},bad_token:{code:fg,desc:a9[fg]}},Uc=class t extends Pr{static{s(this,"InteractionRequiredAuthError")}constructor(e,r,n,o,a,c,l,u){super(e,r,n),Object.setPrototypeOf(this,t.prototype),this.timestamp=o||Fe.EMPTY_STRING,this.traceId=a||Fe.EMPTY_STRING,this.correlationId=c||Fe.EMPTY_STRING,this.claims=l||Fe.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=u}};function c9(t,e,r){let n=!!t&&_ae.indexOf(t)>-1,o=!!r&&bRe.indexOf(r)>-1,a=!!e&&_ae.some(c=>e.indexOf(c)>-1);return n||a||o}s(c9,"isInteractionRequiredError");function l9(t){return new Uc(t,a9[t])}s(l9,"createInteractionRequiredAuthError");f();var u9=class t{static{s(this,"ProtocolUtils")}static setRequestState(e,r,n){let o=t.generateLibraryState(e,n);return r?`${o}${Fe.RESOURCE_DELIM}${r}`:o}static generateLibraryState(e,r){if(!e)throw Ke(ig);let n={id:e.createNewGuid()};r&&(n.meta=r);let o=JSON.stringify(n);return e.base64Encode(o)}static parseRequestState(e,r){if(!e)throw Ke(ig);if(!r)throw Ke(zu);try{let n=r.split(Fe.RESOURCE_DELIM),o=n[0],a=n.length>1?n.slice(1).join(Fe.RESOURCE_DELIM):Fe.EMPTY_STRING,c=e.base64Decode(o),l=JSON.parse(c);return{userRequestState:a||Fe.EMPTY_STRING,libraryState:l}}catch{throw Ke(zu)}}};f();var TRe={SW:"sw"},dg=class{static{s(this,"PopTokenGenerator")}constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){this.performanceClient?.addQueueMeasurement(Ne.PopTokenGenerateCnf,e.correlationId);let n=await _n(this.generateKid.bind(this),Ne.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:o}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(Ne.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:TRe.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,o){let{resourceRequestMethod:a,resourceRequestUri:c,shrClaims:l,shrNonce:u,shrOptions:d}=n,A=(c?new an(c):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Oc(),m:a?.toUpperCase(),u:A?.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:A?.AbsolutePath,q:A?.QueryString?[[],A.QueryString]:void 0,client_claims:l||void 0,...o},r,d,n.correlationId)}};f();var Hc=class{static{s(this,"TokenCacheContext")}constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var ts=class t{static{s(this,"ResponseHandler")}constructor(e,r,n,o,a,c,l){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=o,this.serializableCache=a,this.persistencePlugin=c,this.performanceClient=l}validateTokenResponse(e,r){if(e.error||e.error_description||e.suberror){let n=`Error(s): ${e.error_codes||Fe.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Fe.NOT_AVAILABLE} - Description: ${e.error_description||Fe.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Fe.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Fe.NOT_AVAILABLE}`,o=e.error_codes?.length?e.error_codes[0]:void 0,a=new m0(e.error,n,e.suberror,o,e.status);if(r&&e.status&&e.status>=Qr.SERVER_ERROR_RANGE_START&&e.status<=Qr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(r&&e.status&&e.status>=Qr.CLIENT_ERROR_RANGE_START&&e.status<=Qr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw c9(e.error,e.error_description,e.suberror)?new Uc(e.error,e.error_description,e.suberror,e.timestamp||Fe.EMPTY_STRING,e.trace_id||Fe.EMPTY_STRING,e.correlation_id||Fe.EMPTY_STRING,e.claims||Fe.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,r,n,o,a,c,l,u,d){this.performanceClient?.addQueueMeasurement(Ne.HandleServerTokenResponse,e.correlation_id);let h;if(e.id_token){if(h=cA(e.id_token||Fe.EMPTY_STRING,this.cryptoObj.base64Decode),a&&a.nonce&&h.nonce!==a.nonce)throw Ke(iC);if(o.maxAge||o.maxAge===0){let E=h.auth_time;if(!E)throw Ke(nA);P_(E,o.maxAge)}}this.homeAccountIdentifier=Ia.generateHomeAccountId(e.client_info||Fe.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,h);let A;a&&a.state&&(A=u9.parseRequestState(this.cryptoObj,a.state)),e.key_id=e.key_id||o.sshKid||void 0;let p=this.generateCacheRecord(e,r,n,o,h,c,a),g;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new Hc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(g)),l&&!u&&p.account){let E=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(E,o.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,h,A,void 0,d)}await this.cacheStorage.saveCacheRecord(p,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&g&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(g))}return t.generateAuthenticationResult(this.cryptoObj,r,p,!1,o,h,A,e,d)}generateCacheRecord(e,r,n,o,a,c,l){let u=r.getPreferredCache();if(!u)throw Ke(oA);let d=$R(a),h,A;e.id_token&&a&&(h=AH(this.homeAccountIdentifier,u,e.id_token,this.clientId,d||""),A=wae(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o.correlationId,a,e.client_info,u,d,l,void 0,this.logger));let p=null;if(e.access_token){let v=e.scope?ys.fromString(e.scope):new ys(o.scopes||[]),w=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,_=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,S=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,D=n+w,N=D+_,P=S&&S>0?n+S:void 0;p=pH(this.homeAccountIdentifier,u,e.access_token,this.clientId,d||r.tenant||"",v.printScopes(),D,N,this.cryptoObj.base64Decode,P,e.token_type,c,e.key_id,o.claims,o.requestedClaimsHash)}let g=null;if(e.refresh_token){let v;if(e.refresh_token_expires_in){let w=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;v=n+w}g=mH(this.homeAccountIdentifier,u,e.refresh_token,this.clientId,e.foci,c,v)}let E=null;return e.foci&&(E={clientId:this.clientId,environment:u,familyId:e.foci}),{account:A,idToken:h,accessToken:p,refreshToken:g,appMetadata:E}}static async generateAuthenticationResult(e,r,n,o,a,c,l,u,d){let h=Fe.EMPTY_STRING,A=[],p=null,g,E,v=Fe.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===Tn.POP&&!a.popKid){let D=new dg(e),{secret:N,keyId:P}=n.accessToken;if(!P)throw Ke(AC);h=await D.signPopToken(N,P,a)}else h=n.accessToken.secret;A=ys.fromString(n.accessToken.target).asArray(),p=F_(n.accessToken.expiresOn),g=F_(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(E=F_(n.accessToken.refreshOn))}n.appMetadata&&(v=n.appMetadata.familyId===rA?rA:"");let w=c?.oid||c?.sub||"",_=c?.tid||"";u?.spa_accountid&&n.account&&(n.account.nativeAccountId=u?.spa_accountid);let S=n.account?WR(n.account.getAccountInfo(),void 0,c,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:w,tenantId:_,scopes:A,account:S,idToken:n?.idToken?.secret||"",idTokenClaims:c||{},accessToken:h,fromCache:o,expiresOn:p,extExpiresOn:g,refreshOn:E,correlationId:a.correlationId,requestId:d||Fe.EMPTY_STRING,familyId:v,tokenType:n.accessToken?.tokenType||Fe.EMPTY_STRING,state:l?l.userRequestState:Fe.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Fe.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Fe.EMPTY_STRING,code:u?.spa_code,fromNativeBroker:!1}}};function wae(t,e,r,n,o,a,c,l,u,d,h,A){A?.verbose("setCachedAccount called");let g=t.getAccountKeys().find(S=>S.startsWith(r)),E=null;g&&(E=t.getAccount(g,o));let v=E||Ia.createAccount({homeAccountId:r,idTokenClaims:a,clientInfo:c,environment:l,cloudGraphHostName:d?.cloud_graph_host_name,msGraphHost:d?.msgraph_host,nativeAccountId:h},e,n),w=v.tenantProfiles||[],_=u||v.realm;if(_&&!w.find(S=>S.tenantId===_)){let S=Y_(r,v.localAccountId,_,a);w.push(S)}return v.tenantProfiles=w,v}s(wae,"buildAccountToCache");f();async function g0(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}s(g0,"getClientAssertion");var A4=class extends va{static{s(this,"AuthorizationCodeClient")}constructor(e,r){super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,r){if(this.performanceClient?.addQueueMeasurement(Ne.AuthClientAcquireToken,e.correlationId),!e.code)throw Ke(aC);let n=Oc(),o=await _n(this.executeTokenRequest.bind(this),Ne.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),a=o.headers?.[Fi.X_MS_REQUEST_ID],c=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return c.validateTokenResponse(o.body),_n(c.handleServerTokenResponse.bind(c),Ne.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,n,e,r,void 0,void 0,void 0,a)}getLogoutUri(e){if(!e)throw Si(EC);let r=this.createLogoutUrlQueryString(e);return an.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(Ne.AuthClientExecuteTokenRequest,r.correlationId);let n=this.createTokenQueryParameters(r),o=an.appendQueryString(e.tokenEndpoint,n),a=await _n(this.createTokenRequestBody.bind(this),Ne.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r),c;if(r.clientInfo)try{let d=nx(r.clientInfo,this.cryptoUtils.base64Decode);c={credential:`${d.uid}${Fo.CLIENT_INFO_SEPARATOR}${d.utid}`,type:p0.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}let l=this.createTokenRequestHeaders(c||r.ccsCredential),u=sx(this.config.authOptions.clientId,r);return _n(this.executePostToTokenEndpoint.bind(this),Ne.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(o,a,l,u,r.correlationId,Ne.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ne.AuthClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(SC(r,e.embeddedClientId||e.tokenBodyParameters?.[Sd]||this.config.authOptions.clientId),this.includeRedirectUri)BC(r,e.redirectUri);else if(!e.redirectUri)throw Si(pC);if(wC(r,e.scopes,!0,this.oidcDefaultScopes),Aq(r,e.code),X_(r,this.config.libraryInfo),Z_(r,this.config.telemetry.application),l4(r),this.serverTelemetryManager&&!jR(this.config)&&c4(r,this.serverTelemetryManager),e.codeVerifier&&mq(r,e.codeVerifier),this.config.clientCredentials.clientSecret&&t4(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let o=this.config.clientCredentials.clientAssertion;r4(r,await g0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n4(r,o.assertionType)}if(i4(r,X0.AUTHORIZATION_CODE_GRANT),DC(r),e.authenticationScheme===Tn.POP){let o=new dg(this.cryptoUtils,this.performanceClient),a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await _n(o.generateCnf.bind(o),Ne.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,s4(r,a)}else if(e.authenticationScheme===Tn.SSH)if(e.sshJwk)a4(r,e.sshJwk);else throw Si(lA);(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&RC(r,e.claims,this.config.authOptions.clientCapabilities);let n;if(e.clientInfo)try{let o=nx(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${o.uid}${Fo.CLIENT_INFO_SEPARATOR}${o.utid}`,type:p0.HOME_ACCOUNT_ID}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case p0.HOME_ACCOUNT_ID:try{let o=_d(n.credential);uA(r,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case p0.UPN:lg(r,n.credential);break}return e.embeddedClientId&&dA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&fA(r,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[ZR])&&fA(r,{[ZR]:"1"}),_C(r,e.correlationId,this.performanceClient),wd(r)}createLogoutUrlQueryString(e){let r=new Map;return e.postLogoutRedirectUri&&lq(r,e.postLogoutRedirectUri),e.correlationId&&kC(r,e.correlationId),e.idTokenHint&&uq(r,e.idTokenHint),e.state&&e4(r,e.state),e.logoutHint&&gq(r,e.logoutHint),e.extraQueryParameters&&fA(r,e.extraQueryParameters),this.config.authOptions.instanceAware&&o4(r),wd(r,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}};f();var _Re=300,NC=class extends va{static{s(this,"RefreshTokenClient")}constructor(e,r){super(e,r)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireToken,e.correlationId);let r=Oc(),n=await _n(this.executeTokenRequest.bind(this),Ne.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=n.headers?.[Fi.X_MS_REQUEST_ID],a=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(n.body),_n(a.handleServerTokenResponse.bind(a),Ne.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){if(!e)throw Si(CC);if(this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Ke(iA);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(n){let o=n instanceof Uc&&n.errorCode===ug,a=n instanceof m0&&n.errorCode===m_.INVALID_GRANT_ERROR&&n.subError===m_.CLIENT_MISMATCH_ERROR;if(o||a)return _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw n}return _n(this.acquireTokenWithCachedRefreshToken.bind(this),Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let n=bae(this.cacheManager.getRefreshToken.bind(this.cacheManager),Ne.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,e.correlationId,void 0,this.performanceClient);if(!n)throw l9(ug);if(n.expiresOn&&Z2(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||_Re))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),l9(h4);let o={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Tn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:p0.HOME_ACCOUNT_ID}};try{return await _n(this.acquireToken.bind(this),Ne.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(a){if(a instanceof Uc&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),a.subError===fg)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let c=L_(n);this.cacheManager.removeRefreshToken(c,e.correlationId)}throw a}}async executeTokenRequest(e,r){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientExecuteTokenRequest,e.correlationId);let n=this.createTokenQueryParameters(e),o=an.appendQueryString(r.tokenEndpoint,n),a=await _n(this.createTokenRequestBody.bind(this),Ne.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),c=this.createTokenRequestHeaders(e.ccsCredential),l=sx(this.config.authOptions.clientId,e);return _n(this.executePostToTokenEndpoint.bind(this),Ne.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,a,c,l,e.correlationId,Ne.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Ne.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let r=new Map;if(SC(r,e.embeddedClientId||e.tokenBodyParameters?.[Sd]||this.config.authOptions.clientId),e.redirectUri&&BC(r,e.redirectUri),wC(r,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),i4(r,X0.REFRESH_TOKEN_GRANT),DC(r),X_(r,this.config.libraryInfo),Z_(r,this.config.telemetry.application),l4(r),this.serverTelemetryManager&&!jR(this.config)&&c4(r,this.serverTelemetryManager),pq(r,e.refreshToken),this.config.clientCredentials.clientSecret&&t4(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;r4(r,await g0(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n4(r,n.assertionType)}if(e.authenticationScheme===Tn.POP){let n=new dg(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await _n(n.generateCnf.bind(n),Ne.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,s4(r,o)}else if(e.authenticationScheme===Tn.SSH)if(e.sshJwk)a4(r,e.sshJwk);else throw Si(lA);if((!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&RC(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case p0.HOME_ACCOUNT_ID:try{let n=_d(e.ccsCredential.credential);uA(r,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case p0.UPN:lg(r,e.ccsCredential.credential);break}return e.embeddedClientId&&dA(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&fA(r,e.tokenBodyParameters),_C(r,e.correlationId,this.performanceClient),wd(r)}};f();var p4=class extends va{static{s(this,"SilentFlowClient")}constructor(e,r){super(e,r)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Ne.SilentFlowClientAcquireCachedToken,e.correlationId);let r=ki.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!lo.isEmptyObj(e.claims))throw this.setCacheOutcome(ki.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Ke(sA);if(!e.account)throw Ke(iA);let n=e.account.tenantId||Tae(e.authority),o=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(e.account,e,o,n);if(a){if(hH(a.cachedAt)||Z2(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Ke(sA);a.refreshOn&&Z2(a.refreshOn,0)&&(r=ki.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN,e.correlationId),Ke(sA);let c=e.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:a,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,o,n,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await _n(this.generateResultFromCacheRecord.bind(this),Ne.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(l,e),r]}setCacheOutcome(e,r){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},r),e!==ki.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){this.performanceClient?.addQueueMeasurement(Ne.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=cA(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){let o=n?.auth_time;if(!o)throw Ke(nA);P_(o,r.maxAge)}return ts.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}};var m4={};Io(m4,{getAuthorizationCodePayload:()=>BRe,getAuthorizeUrl:()=>SRe,getStandardAuthorizeRequestParameters:()=>wRe,validateAuthorizationResponse:()=>Sae});f();function wRe(t,e,r,n){let o=e.correlationId,a=new Map;SC(a,e.embeddedClientId||e.extraQueryParameters?.[Sd]||t.clientId);let c=[...e.scopes||[],...e.extraScopesToConsent||[]];if(wC(a,c,!0,t.authority.options.OIDCOptions?.defaultScopes),BC(a,e.redirectUri),kC(a,o),cq(a,e.responseMode),DC(a),e.prompt&&(dq(a,e.prompt),n?.addFields({prompt:e.prompt},o)),e.domainHint&&(fq(a,e.domainHint),n?.addFields({domainHintFromRequest:!0},o)),e.prompt!==Zm.SELECT_ACCOUNT)if(e.sid&&e.prompt===Zm.NONE)r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t9(a,e.sid),n?.addFields({sidFromRequest:!0},o);else if(e.account){let l=kRe(e.account),u=DRe(e.account);if(u&&e.domainHint&&(r.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){r.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),ox(a,u),n?.addFields({loginHintFromClaim:!0},o);try{let d=_d(e.account.homeAccountId);uA(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(l&&e.prompt===Zm.NONE){r.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t9(a,l),n?.addFields({sidFromClaim:!0},o);try{let d=_d(e.account.homeAccountId);uA(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)r.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),ox(a,e.loginHint),lg(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o);else if(e.account.username){r.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),ox(a,e.account.username),n?.addFields({loginHintFromUpn:!0},o);try{let d=_d(e.account.homeAccountId);uA(a,d)}catch{r.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(r.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),ox(a,e.loginHint),lg(a,e.loginHint),n?.addFields({loginHintFromRequest:!0},o));else r.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&hq(a,e.nonce),e.state&&e4(a,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&RC(a,e.claims,t.clientCapabilities),e.embeddedClientId&&dA(a,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(ix))&&o4(a),a}s(wRe,"getStandardAuthorizeRequestParameters");function SRe(t,e,r,n){let o=wd(e,r,n);return an.appendQueryString(t.authorizationEndpoint,o)}s(SRe,"getAuthorizeUrl");function BRe(t,e){if(Sae(t,e),!t.code)throw Ke(dC);return t}s(BRe,"getAuthorizationCodePayload");function Sae(t,e){if(!t.state||!e)throw t.state?Ke(rg,"Cached State"):Ke(rg,"Server State");let r,n;try{r=decodeURIComponent(t.state)}catch{throw Ke(zu,t.state)}try{n=decodeURIComponent(e)}catch{throw Ke(zu,t.state)}if(r!==n)throw Ke(nC);if(t.error||t.error_description||t.suberror){let o=RRe(t);throw c9(t.error,t.error_description,t.suberror)?new Uc(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new m0(t.error||"",t.error_description,t.suberror,o)}}s(Sae,"validateAuthorizationResponse");function RRe(t){let e="code=",r=t.error_uri?.lastIndexOf(e);return r&&r>=0?t.error_uri?.substring(r+e.length):void 0}s(RRe,"parseServerErrorNo");function kRe(t){return t.idTokenClaims?.sid||null}s(kRe,"extractAccountSid");function DRe(t){return t.idTokenClaims?.login_hint||null}s(DRe,"extractLoginHint");f();var Bae=",",Rae="|";function NRe(t){let{skus:e,libraryName:r,libraryVersion:n,extensionName:o,extensionVersion:a}=t,c=new Map([[0,[r,n]],[2,[o,a]]]),l=[];if(e?.length){if(l=e.split(Bae),l.length<4)return e}else l=Array.from({length:4},()=>Rae);return c.forEach((u,d)=>{u.length===2&&u[0]?.length&&u[1]?.length&&QRe({skuArr:l,index:d,skuName:u[0],skuVersion:u[1]})}),l.join(Bae)}s(NRe,"makeExtraSkuString");function QRe(t){let{skuArr:e,index:r,skuName:n,skuVersion:o}=t;r>=e.length||(e[r]=[n,o].join(Rae))}s(QRe,"setSku");var QC=class t{static{s(this,"ServerTelemetryManager")}constructor(e,r){this.cacheOutcome=ki.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Fe.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Fe.EMPTY_STRING,this.telemetryCacheKey=Ns.CACHE_KEY+Fo.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${Ns.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);let o=r.join(Ns.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),c=[e,a].join(Ns.VALUE_SEPARATOR);return[Ns.SCHEMA_VERSION,c,o].join(Ns.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(Ns.VALUE_SEPARATOR),o=e.errors.slice(0,r).join(Ns.VALUE_SEPARATOR),a=e.errors.length,c=r<a?Ns.OVERFLOW_TRUE:Ns.OVERFLOW_FALSE,l=[a,c].join(Ns.VALUE_SEPARATOR);return[Ns.SCHEMA_VERSION,e.cacheHits,n,o,l].join(Ns.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let r=this.getLastRequests();r.errors.length>=Ns.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Pr?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(Ns.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),r=t.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let o={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o,this.correlationId)}}static maxErrorsToSend(e){let r,n=0,o=0,a=e.errors.length;for(r=0;r<a;r++){let c=e.failedRequests[2*r]||Fe.EMPTY_STRING,l=e.failedRequests[2*r+1]||Fe.EMPTY_STRING,u=e.errors[r]||Fe.EMPTY_STRING;if(o+=c.toString().length+l.toString().length+u.length+3,o<Ns.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||Fe.EMPTY_STRING),e.push(this.regionSource||Fe.EMPTY_STRING),e.push(this.regionOutcome||Fe.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return NRe(e)}};var hA=class{static{s(this,"Deserializer")}static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,realm:o.realm,localAccountId:o.local_account_id,username:o.username,authorityType:o.authority_type,name:o.name,clientInfo:o.client_info,lastModificationTime:o.last_modification_time,lastModificationApp:o.last_modification_app,tenantProfiles:o.tenantProfiles?.map(l=>JSON.parse(l))},c=new Ia;cg.toObject(c,a),r[n]=c}),r}static deserializeIdTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm};r[n]=a}),r}static deserializeAccessTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,realm:o.realm,target:o.target,cachedAt:o.cached_at,expiresOn:o.expires_on,extendedExpiresOn:o.extended_expires_on,refreshOn:o.refresh_on,keyId:o.key_id,tokenType:o.token_type,requestedClaims:o.requestedClaims,requestedClaimsHash:o.requestedClaimsHash,userAssertionHash:o.userAssertionHash};r[n]=a}),r}static deserializeRefreshTokens(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n],a={homeAccountId:o.home_account_id,environment:o.environment,credentialType:o.credential_type,clientId:o.client_id,secret:o.secret,familyId:o.family_id,target:o.target,realm:o.realm};r[n]=a}),r}static deserializeAppMetadata(e){let r={};return e&&Object.keys(e).map(function(n){let o=e[n];r[n]={clientId:o.client_id,environment:o.environment,familyId:o.family_id}}),r}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}};f();f();var kae="system_assigned_managed_identity",URe="managed_identity",Tq=`https://login.microsoftonline.com/${URe}/`,Z0={AUTHORIZATION_HEADER_NAME:"Authorization",METADATA_HEADER_NAME:"Metadata",APP_SERVICE_SECRET_HEADER_NAME:"X-IDENTITY-HEADER",ML_AND_SF_SECRET_HEADER_NAME:"secret"},Cs={API_VERSION:"api-version",RESOURCE:"resource",SHA256_TOKEN_TO_REFRESH:"token_sha256_to_refresh",XMS_CC:"xms_cc"},Cr={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",DEFAULT_IDENTITY_CLIENT_ID:"DEFAULT_IDENTITY_CLIENT_ID",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IDENTITY_HEADER:"IDENTITY_HEADER",IDENTITY_SERVER_THUMBPRINT:"IDENTITY_SERVER_THUMBPRINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT",MSI_SECRET:"MSI_SECRET"},wr={APP_SERVICE:"AppService",AZURE_ARC:"AzureArc",CLOUD_SHELL:"CloudShell",DEFAULT_TO_IMDS:"DefaultToImds",IMDS:"Imds",MACHINE_LEARNING:"MachineLearning",SERVICE_FABRIC:"ServiceFabric"},bo={SYSTEM_ASSIGNED:"system-assigned",USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},ji={GET:"get",POST:"post"},f9={SUCCESS_RANGE_START:Qr.SUCCESS_RANGE_START,SUCCESS_RANGE_END:Qr.SUCCESS_RANGE_END,SERVER_ERROR:Qr.SERVER_ERROR},Dae="REGION_NAME",Nae="MSAL_FORCE_REGION",Qae=32,Pae={SHA256:"sha256"},d9={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},Ps={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},AA={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},Ll={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},h9={INTERVAL_MS:100,TIMEOUT_MS:5e3},Fae=4096;f();f();f();f();var ax=class{static{s(this,"NetworkUtils")}static getNetworkResponse(e,r,n){return{headers:e,body:r,status:n}}static urlToHttpOptions(e){let r={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return e.port!==""&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),r}};var A9=Et(require("http"),1),_q=Et(require("https"),1);var cx=class{static{s(this,"HttpClient")}constructor(e,r){this.proxyUrl=e||"",this.customAgentOptions=r||{}}async sendGetRequestAsync(e,r,n){return this.proxyUrl?Lae(e,this.proxyUrl,ji.GET,r,this.customAgentOptions,n):Mae(e,ji.GET,r,this.customAgentOptions,n)}async sendPostRequestAsync(e,r){return this.proxyUrl?Lae(e,this.proxyUrl,ji.POST,r,this.customAgentOptions):Mae(e,ji.POST,r,this.customAgentOptions)}},Lae=s((t,e,r,n,o,a)=>{let c=new URL(t),l=new URL(e),u=n?.headers||{},d={host:l.hostname,port:l.port,method:"CONNECT",path:c.hostname,headers:u};o&&Object.keys(o).length&&(d.agent=new A9.default.Agent(o));let h="";if(r===ji.POST){let p=n?.body||"";h=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${p.length}\r
\r
${p}`}else a&&(d.timeout=a);let A=`${r.toUpperCase()} ${c.href} HTTP/1.1\r
Host: ${c.host}\r
Connection: close\r
`+h+`\r
`;return new Promise((p,g)=>{let E=A9.default.request(d);a&&E.on("timeout",()=>{E.destroy(),g(new Error("Request time out"))}),E.end(),E.on("connect",(v,w)=>{let _=v?.statusCode||f9.SERVER_ERROR;(_<f9.SUCCESS_RANGE_START||_>f9.SUCCESS_RANGE_END)&&(E.destroy(),w.destroy(),g(new Error(`Error connecting to proxy. Http status code: ${v.statusCode}. Http status message: ${v?.statusMessage||"Unknown"}`))),w.write(A);let S=[];w.on("data",D=>{S.push(D)}),w.on("end",()=>{let N=Buffer.concat([...S]).toString().split(`\r
`),P=parseInt(N[0].split(" ")[1]),O=N[0].split(" ").slice(2).join(" "),Y=N[N.length-1],ne=N.slice(1,N.length-2),oe=new Map;ne.forEach(xe=>{let ce=xe.split(new RegExp(/:\s(.*)/s)),J=ce[0],W=ce[1];try{let Z=JSON.parse(W);Z&&typeof Z=="object"&&(W=Z)}catch{}oe.set(J,W)});let $=Object.fromEntries(oe),K=ax.getNetworkResponse($,Oae(P,O,$,Y),P);(P<Qr.SUCCESS_RANGE_START||P>Qr.SUCCESS_RANGE_END)&&K.body.error!==Ps.AUTHORIZATION_PENDING&&E.destroy(),p(K)}),w.on("error",D=>{E.destroy(),w.destroy(),g(new Error(D.toString()))})}),E.on("error",v=>{E.destroy(),g(new Error(v.toString()))})})},"networkRequestViaProxy"),Mae=s((t,e,r,n,o)=>{let a=e===ji.POST,c=r?.body||"",l=new URL(t),u=r?.headers||{},d={method:e,headers:u,...ax.urlToHttpOptions(l)};return n&&Object.keys(n).length&&(d.agent=new _q.default.Agent(n)),a?d.headers={...d.headers,"Content-Length":c.length}:o&&(d.timeout=o),new Promise((h,A)=>{let p;d.protocol==="http:"?p=A9.default.request(d):p=_q.default.request(d),a&&p.write(c),o&&p.on("timeout",()=>{p.destroy(),A(new Error("Request time out"))}),p.end(),p.on("response",g=>{let E=g.headers,v=g.statusCode,w=g.statusMessage,_=[];g.on("data",S=>{_.push(S)}),g.on("end",()=>{let S=Buffer.concat([..._]).toString(),D=E,N=ax.getNetworkResponse(D,Oae(v,w,D,S),v);(v<Qr.SUCCESS_RANGE_START||v>Qr.SUCCESS_RANGE_END)&&N.body.error!==Ps.AUTHORIZATION_PENDING&&p.destroy(),h(N)})}),p.on("error",g=>{p.destroy(),A(new Error(g.toString()))})})},"networkRequestViaHttps"),Oae=s((t,e,r,n)=>{let o;try{o=JSON.parse(n)}catch{let c,l;t>=Qr.CLIENT_ERROR_RANGE_START&&t<=Qr.CLIENT_ERROR_RANGE_END?(c="client_error",l="A client"):t>=Qr.SERVER_ERROR_RANGE_START&&t<=Qr.SERVER_ERROR_RANGE_END?(c="server_error",l="A server"):(c="unknown_error",l="An unknown"),o={error:c,error_description:`${l} error occured.
Http status code: ${t}
Http status message: ${e||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return o},"parseBody");f();f();f();var p9="invalid_file_extension",m9="invalid_file_path",hg="invalid_managed_identity_id_type",g9="invalid_secret",Uae="missing_client_id",Hae="network_unavailable",y9="platform_not_supported",C9="unable_to_create_azure_arc",E9="unable_to_create_cloud_shell",I9="unable_to_create_source",g4="unable_to_read_secret_file",qae="user_assigned_not_available_at_runtime",x9="www_authenticate_header_missing",v9="www_authenticate_header_unsupported_format",PC={[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[Cr.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[Cr.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[Cr.MSI_ENDPOINT]:"msi_endpoint_url_malformed"};var HRe={[p9]:"The file path in the WWW-Authenticate header does not contain a .key file.",[m9]:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[hg]:"More than one ManagedIdentityIdType was provided.",[g9]:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",[y9]:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",[Uae]:"A ManagedIdentityId id was not provided.",[PC.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[PC.IDENTITY_ENDPOINT]:`The Managed Identity's '${Cr.IDENTITY_ENDPOINT}' environment variable is malformed.`,[PC.IMDS_ENDPOINT]:`The Managed Identity's '${Cr.IMDS_ENDPOINT}' environment variable is malformed.`,[PC.MSI_ENDPOINT]:`The Managed Identity's '${Cr.MSI_ENDPOINT}' environment variable is malformed.`,[Hae]:"Authentication unavailable. The request to the managed identity endpoint timed out.",[C9]:"Azure Arc Managed Identities can only be system assigned.",[E9]:"Cloud Shell Managed Identities can only be system assigned.",[I9]:"Unable to create a Managed Identity source based on environment variables.",[g4]:"Unable to read the secret file.",[qae]:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",[x9]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",[v9]:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."},wq=class t extends Pr{static{s(this,"ManagedIdentityError")}constructor(e){super(e,HRe[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,t.prototype)}};function rs(t){return new wq(t)}s(rs,"createManagedIdentityError");var b9=class{static{s(this,"ManagedIdentityId")}get id(){return this._id}set id(e){this._id=e}get idType(){return this._idType}set idType(e){this._idType=e}constructor(e){let r=e?.userAssignedClientId,n=e?.userAssignedResourceId,o=e?.userAssignedObjectId;if(r){if(n||o)throw rs(hg);this.id=r,this.idType=bo.USER_ASSIGNED_CLIENT_ID}else if(n){if(r||o)throw rs(hg);this.id=n,this.idType=bo.USER_ASSIGNED_RESOURCE_ID}else if(o){if(r||n)throw rs(hg);this.id=o,this.idType=bo.USER_ASSIGNED_OBJECT_ID}else this.id=kae,this.idType=bo.SYSTEM_ASSIGNED}};f();var Xs={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}},ec=class t extends Pr{static{s(this,"NodeAuthError")}constructor(e,r){super(e,r),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new t(Xs.invalidLoopbackAddressType.code,`${Xs.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new t(Xs.unableToLoadRedirectUri.code,`${Xs.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new t(Xs.noAuthCodeInResponse.code,`${Xs.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new t(Xs.noLoopbackServerExists.code,`${Xs.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new t(Xs.loopbackServerAlreadyExists.code,`${Xs.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new t(Xs.loopbackServerTimeout.code,`${Xs.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new t(Xs.stateNotFoundError.code,Xs.stateNotFoundError.desc)}static createThumbprintMissingError(){return new t(Xs.thumbprintMissing.code,Xs.thumbprintMissing.desc)}};var qRe={clientId:Fe.EMPTY_STRING,authority:Fe.DEFAULT_AUTHORITY,clientSecret:Fe.EMPTY_STRING,clientAssertion:Fe.EMPTY_STRING,clientCertificate:{thumbprint:Fe.EMPTY_STRING,thumbprintSha256:Fe.EMPTY_STRING,privateKey:Fe.EMPTY_STRING,x5c:Fe.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:Fe.EMPTY_STRING,authorityMetadata:Fe.EMPTY_STRING,clientCapabilities:[],protocolMode:Ya.AAD,azureCloudOptions:{azureCloudInstance:aA.None,tenant:Fe.EMPTY_STRING},skipAuthorityMetadataCache:!1,encodeExtraQueryParams:!1},GRe={claimsBasedCachingEnabled:!1},Sq={loggerCallback:s(()=>{},"loggerCallback"),piiLoggingEnabled:!1,logLevel:vo.Info},VRe={loggerOptions:Sq,networkClient:new cx,proxyUrl:Fe.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},WRe={application:{appName:Fe.EMPTY_STRING,appVersion:Fe.EMPTY_STRING}};function Gae({auth:t,broker:e,cache:r,system:n,telemetry:o}){let a={...VRe,networkClient:new cx(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||Sq,disableInternalRetries:n?.disableInternalRetries||!1};if(t.clientCertificate&&!t.clientCertificate.thumbprint&&!t.clientCertificate.thumbprintSha256)throw ec.createStateNotFoundError();return{auth:{...qRe,...t},broker:{...e},cache:{...GRe,...r},system:{...a,...n},telemetry:{...WRe,...o}}}s(Gae,"buildAppConfiguration");function Vae({clientCapabilities:t,managedIdentityIdParams:e,system:r}){let n=new b9(e),o=r?.loggerOptions||Sq,a;return r?.networkClient?a=r.networkClient:a=new cx(r?.proxyUrl,r?.customAgentOptions),{clientCapabilities:t||[],managedIdentityId:n,system:{loggerOptions:o,networkClient:a},disableInternalRetries:r?.disableInternalRetries||!1}}s(Vae,"buildManagedIdentityConfiguration");f();f();f();f();var Wae=Et(require("crypto"));var _9=new Uint8Array(256),T9=_9.length;function Bq(){return T9>_9.length-16&&(Wae.default.randomFillSync(_9),T9=0),_9.slice(T9,T9+=16)}s(Bq,"rng");f();f();f();var $ae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $Re(t){return typeof t=="string"&&$ae.test(t)}s($Re,"validate");var Yae=$Re;var ba=[];for(let t=0;t<256;++t)ba.push((t+256).toString(16).substr(1));function YRe(t,e=0){let r=(ba[t[e+0]]+ba[t[e+1]]+ba[t[e+2]]+ba[t[e+3]]+"-"+ba[t[e+4]]+ba[t[e+5]]+"-"+ba[t[e+6]]+ba[t[e+7]]+"-"+ba[t[e+8]]+ba[t[e+9]]+"-"+ba[t[e+10]]+ba[t[e+11]]+ba[t[e+12]]+ba[t[e+13]]+ba[t[e+14]]+ba[t[e+15]]).toLowerCase();if(!Yae(r))throw TypeError("Stringified UUID is invalid");return r}s(YRe,"stringify");var zae=YRe;f();function zRe(t,e,r){t=t||{};let n=t.random||(t.rng||Bq)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return zae(n)}s(zRe,"v4");var Rq=zRe;var lx=class{static{s(this,"GuidGenerator")}generateGuid(){return Rq()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}};f();var qc=class t{static{s(this,"EncodingUtils")}static base64Encode(e,r){return Buffer.from(e,r).toString(Ea.BASE64)}static base64EncodeUrl(e,r){return t.base64Encode(e,r).replace(/=/g,Fe.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,Ea.BASE64).toString("utf8")}static base64DecodeUrl(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4;)r+="=";return t.base64Decode(r)}};f();f();var jae=Et(require("crypto"),1);var Ag=class{static{s(this,"HashUtils")}sha256(e){return jae.default.createHash(Pae.SHA256).update(e).digest()}};var Kae=Et(require("crypto"),1);var w9=class{static{s(this,"PkceGenerator")}constructor(){this.hashUtils=new Ag}async generatePkceCodes(){let e=this.generateCodeVerifier(),r=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:r}}generateCodeVerifier(){let e=[],r=256-256%d9.CV_CHARSET.length;for(;e.length<=Qae;){let o=Kae.default.randomBytes(1)[0];if(o>=r)continue;let a=o%d9.CV_CHARSET.length;e.push(d9.CV_CHARSET[a])}let n=e.join(Fe.EMPTY_STRING);return qc.base64EncodeUrl(n)}generateCodeChallengeFromVerifier(e){return qc.base64EncodeUrl(this.hashUtils.sha256(e).toString(Ea.BASE64),Ea.BASE64)}};var Bd=class{static{s(this,"CryptoProvider")}constructor(){this.pkceGenerator=new w9,this.guidGenerator=new lx,this.hashUtils=new Ag}base64UrlEncode(){throw new Error("Method not implemented.")}encodeKid(){throw new Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return qc.base64Encode(e)}base64Decode(e){return qc.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw new Error("Method not implemented.")}removeTokenBindingKey(){throw new Error("Method not implemented.")}clearKeystore(){throw new Error("Method not implemented.")}signJwt(){throw new Error("Method not implemented.")}async hashString(e){return qc.base64EncodeUrl(this.hashUtils.sha256(e).toString(Ea.BASE64),Ea.BASE64)}};f();f();var pg=class extends cg{static{s(this,"NodeStorage")}constructor(e,r,n,o){super(r,n,e,new bC,o),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let r={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let n in e){let o=e[n];if(typeof o=="object")if(o instanceof Ia)r.accounts[n]=o;else if(Qs.isIdTokenEntity(o))r.idTokens[n]=o;else if(Qs.isAccessTokenEntity(o))r.accessTokens[n]=o;else if(Qs.isRefreshTokenEntity(o))r.refreshTokens[n]=o;else if(Qs.isAppMetadataEntity(n,o))r.appMetadata[n]=o;else continue}return r}inMemoryCacheToCache(e){let r=this.getCache();return r={...r,...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata},r}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let r=this.inMemoryCacheToCache(e);this.setCache(r),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,r){this.logger.tracePii(`Item key: ${e}`);let n=this.getCache();n[e]=r,this.setCache(n)}getAccountKeys(){let e=this.getInMemoryCache();return Object.keys(e.accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){return this.getItem(e)?Object.assign(new Ia,this.getItem(e)):null}async setAccount(e){let r=e.generateAccountKey();this.setItem(r,e)}getIdTokenCredential(e){let r=this.getItem(e);return Qs.isIdTokenEntity(r)?r:null}async setIdTokenCredential(e){let r=Qs.generateCredentialKey(e);this.setItem(r,e)}getAccessTokenCredential(e){let r=this.getItem(e);return Qs.isAccessTokenEntity(r)?r:null}async setAccessTokenCredential(e){let r=Qs.generateCredentialKey(e);this.setItem(r,e)}getRefreshTokenCredential(e){let r=this.getItem(e);return Qs.isRefreshTokenEntity(r)?r:null}async setRefreshTokenCredential(e){let r=Qs.generateCredentialKey(e);this.setItem(r,e)}getAppMetadata(e){let r=this.getItem(e);return Qs.isAppMetadataEntity(e,r)?r:null}setAppMetadata(e){let r=Qs.generateAppMetadataKey(e);this.setItem(r,e)}getServerTelemetry(e){let r=this.getItem(e);return r&&Qs.isServerTelemetryEntity(e,r)?r:null}setServerTelemetry(e,r){this.setItem(e,r)}getAuthorityMetadata(e){let r=this.getItem(e);return r&&Qs.isAuthorityMetadataEntity(e,r)?r:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,r){this.setItem(e,r)}getThrottlingCache(e){let r=this.getItem(e);return r&&Qs.isThrottlingEntity(e,r)?r:null}setThrottlingCache(e,r){this.setItem(e,r)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let r=!1,n=this.getCache();return n[e]&&(delete n[e],r=!0),r&&(this.setCache(n),this.emitChange()),r}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){this.logger.trace("Retrieving all cache keys");let e=this.getCache();return[...Object.keys(e)]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(r=>{this.removeItem(r)}),this.emitChange()}static generateInMemoryCache(e){return hA.deserializeAllCache(hA.deserializeJSONBlob(e))}static generateJsonCache(e){return Xm.serializeAllCache(e)}updateCredentialCacheKey(e,r){let n=Qs.generateCredentialKey(r);if(e!==n){let o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(n,o),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}};f();var y4={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}},ux=class{static{s(this,"TokenCache")}constructor(e,r,n){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=Xm.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let r=hA.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(r)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}getCacheSnapshot(){let e=pg.generateInMemoryCache(this.cacheSnapshot);return this.storage.inMemoryCacheToCache(e)}async getAllAccounts(e=new Bd().createNewGuid()){this.logger.trace("getAllAccounts called");let r;try{return this.persistence&&(r=new Hc(this,!1),await this.persistence.beforeCacheAccess(r)),this.storage.getAllAccounts({},e)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}async getAccountByHomeId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let r=await this.getAllAccounts();return e&&r&&r.length&&r.filter(n=>n.localAccountId===e)[0]||null}async removeAccount(e,r){this.logger.trace("removeAccount called");let n;try{this.persistence&&(n=new Hc(this,!0),await this.persistence.beforeCacheAccess(n)),this.storage.removeAccount(Ia.generateAccountCacheKey(e),r||new lx().generateGuid())}finally{this.persistence&&n&&await this.persistence.afterCacheAccess(n)}}async overwriteCache(){if(!this.persistence){this.logger.info("No persistence layer specified, cache cannot be overwritten");return}this.logger.info("Overwriting in-memory cache with persistent cache"),this.storage.clear();let e=new Hc(this,!1);await this.persistence.beforeCacheAccess(e);let r=this.getCacheSnapshot();this.storage.setCache(r),await this.persistence.afterCacheAccess(e)}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,r){this.logger.trace("Merging in-memory cache with cache snapshot");let n=this.mergeRemovals(e,r);return this.mergeUpdates(n,r)}mergeUpdates(e,r){return Object.keys(r).forEach(n=>{let o=r[n];if(!e.hasOwnProperty(n))o!==null&&(e[n]=o);else{let a=o!==null,c=typeof o=="object",l=!Array.isArray(o),u=typeof e[n]<"u"&&e[n]!==null;a&&c&&l&&u?this.mergeUpdates(e[n],o):e[n]=o}}),e}mergeRemovals(e,r){this.logger.trace("Remove updated entries in cache");let n=e.Account?this.mergeRemovalsDict(e.Account,r.Account):e.Account,o=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,r.AccessToken):e.AccessToken,a=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,r.RefreshToken):e.RefreshToken,c=e.IdToken?this.mergeRemovalsDict(e.IdToken,r.IdToken):e.IdToken,l=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,r.AppMetadata):e.AppMetadata;return{...e,Account:n,AccessToken:o,RefreshToken:a,IdToken:c,AppMetadata:l}}mergeRemovalsDict(e,r){let n={...e};return Object.keys(e).forEach(o=>{(!r||!r.hasOwnProperty(o))&&delete n[o]}),n}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...y4.Account,...e.Account},IdToken:{...y4.IdToken,...e.IdToken},AccessToken:{...y4.AccessToken,...e.AccessToken},RefreshToken:{...y4.RefreshToken,...e.RefreshToken},AppMetadata:{...y4.AppMetadata,...e.AppMetadata}}}};f();var _ue=Et(Tue(),1);var pA=class t{static{s(this,"ClientAssertion")}static fromAssertion(e){let r=new t;return r.jwt=e,r}static fromCertificate(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!1,n&&(o.publicCertificate=this.parseCertificate(n)),o}static fromCertificateWithSha256Thumbprint(e,r,n){let o=new t;return o.privateKey=r,o.thumbprint=e,o.useSha256=!0,n&&(o.publicCertificate=this.parseCertificate(n)),o}getJwt(e,r,n){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&r===this.issuer&&n===this.jwtAudience?this.jwt:this.createJwt(e,r,n);if(this.jwt)return this.jwt;throw Ke(wi.invalidAssertion)}createJwt(e,r,n){this.issuer=r,this.jwtAudience=n;let o=zi.nowSeconds();this.expirationTime=o+600;let c={alg:this.useSha256?Ll.PSS_256:Ll.RSA_256},l=this.useSha256?Ll.X5T_256:Ll.X5T;Object.assign(c,{[l]:qc.base64EncodeUrl(this.thumbprint,Ea.HEX)}),this.publicCertificate&&Object.assign(c,{[Ll.X5C]:this.publicCertificate});let u={[Ll.AUDIENCE]:this.jwtAudience,[Ll.EXPIRATION_TIME]:this.expirationTime,[Ll.ISSUER]:this.issuer,[Ll.SUBJECT]:this.issuer,[Ll.NOT_BEFORE]:o,[Ll.JWT_ID]:e.createNewGuid()};return this.jwt=_ue.default.sign(u,this.privateKey,{header:c}),this.jwt}isExpired(){return this.expirationTime<zi.nowSeconds()}static parseCertificate(e){let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[],o;for(;(o=r.exec(e))!==null;)n.push(o[1].replace(/\r*\n/g,Fe.EMPTY_STRING));return n}};f();var i7="@azure/msal-node",Ju="3.6.3";f();var Ex=class extends va{static{s(this,"UsernamePasswordClient")}constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let r=zi.nowSeconds(),n=await this.executeTokenRequest(this.authority,e),o=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),o.handleServerTokenResponse(n.body,this.authority,r,e)}async executeTokenRequest(e,r){let n=this.createTokenQueryParameters(r),o=an.appendQueryString(e.tokenEndpoint,n),a=await this.createTokenRequestBody(r),c=this.createTokenRequestHeaders({credential:r.username,type:p0.UPN}),l={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return this.executePostToTokenEndpoint(o,a,c,l,r.correlationId)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addUsername(r,e.username),Tt.addPassword(r,e.password),Tt.addScopes(r,e.scopes),Tt.addResponseType(r,Y2.IDTOKEN_TOKEN),Tt.addGrantType(r,X0.RESOURCE_OWNER_PASSWORD_GRANT),Tt.addClientInfo(r),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await g0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&Tt.addCcsUpn(r,e.username),xa.mapToQueryString(r)}};f();function wue(t,e,r,n){let o=m4.getStandardAuthorizeRequestParameters({...t.auth,authority:e,redirectUri:r.redirectUri||""},r,n);return Tt.addLibraryInfo(o,{sku:Ps.MSAL_SKU,version:Ju,cpu:process.arch||"",os:process.platform||""}),t.auth.protocolMode!==Ya.OIDC&&Tt.addApplicationTelemetry(o,t.telemetry.application),Tt.addResponseType(o,Y2.CODE),r.codeChallenge&&r.codeChallengeMethod&&Tt.addCodeChallengeParams(o,r.codeChallenge,r.codeChallengeMethod),Tt.addExtraQueryParameters(o,r.extraQueryParameters||{}),m4.getAuthorizeUrl(e,o,t.auth.encodeExtraQueryParams,r.extraQueryParameters)}s(wue,"getAuthCodeRequestUrl");var yg=class{static{s(this,"ClientApplication")}constructor(e){this.config=Gae(e),this.cryptoProvider=new Bd,this.logger=new Mc(this.config.system.loggerOptions,i7,Ju),this.storage=new pg(this.logger,this.config.auth.clientId,this.cryptoProvider,yq(this.config.auth)),this.tokenCache=new ux(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||vd.QUERY,authenticationScheme:Tn.BEARER,state:e.state||"",nonce:e.nonce||""},n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions);return wue(this.config,n,r,this.logger)}async acquireTokenByCode(e,r){this.logger.info("acquireTokenByCode called"),e.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,r.state||""),r={...r,state:""});let n={...e,...await this.initializeBaseRequest(e),authenticationScheme:Tn.BEARER},o=this.initializeServerTelemetryManager(AA.acquireTokenByCode,n.correlationId);try{let a=await this.createAuthority(n.authority,n.correlationId,void 0,e.azureCloudOptions),c=await this.buildOauthClientConfiguration(a,n.correlationId,n.redirectUri,o),l=new A4(c);return this.logger.verbose("Auth code client created",n.correlationId),await l.acquireToken(n,r)}catch(a){throw a instanceof Pr&&a.setCorrelationId(n.correlationId),o.cacheFailedRequest(a),a}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:Tn.BEARER},n=this.initializeServerTelemetryManager(AA.acquireTokenByRefreshToken,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new NC(a);return this.logger.verbose("Refresh token client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenSilent(e){let r={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},n=this.initializeServerTelemetryManager(AA.acquireTokenSilent,r.correlationId,r.forceRefresh);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,r.redirectUri||"",n),c=new p4(a);this.logger.verbose("Silent flow client created",r.correlationId);try{return await this.tokenCache.overwriteCache(),await this.acquireCachedTokenSilent(r,c,a)}catch(l){if(l instanceof og&&l.errorCode===wi.tokenRefreshRequired)return new NC(a).acquireTokenByRefreshToken(r);throw l}}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireCachedTokenSilent(e,r,n){let[o,a]=await r.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...K0]});if(a===ki.PROACTIVELY_REFRESHED){this.logger.info("ClientApplication:acquireCachedTokenSilent - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");let c=new NC(n);try{await c.acquireTokenByRefreshToken(e)}catch{}}return o}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)},n=this.initializeServerTelemetryManager(AA.acquireTokenByUsernamePassword,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new Ex(a);return this.logger.verbose("Username password client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,r){if(!e)throw ec.createStateNotFoundError();if(e!==r)throw Ke(wi.stateMismatch)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,r,n,o){return this.logger.verbose("buildOauthClientConfiguration called",r),this.logger.info(`Building oauth client configuration with the following authority: ${e.tokenEndpoint}.`,r),o?.updateRegionDiscoveryMetadata(e.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:e,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:n},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:o,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(e)},libraryInfo:{sku:Ps.MSAL_SKU,version:Ju,cpu:process.arch||Fe.EMPTY_STRING,os:process.platform||Fe.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=pA.fromAssertion(await g0(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:Ps.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===Tn.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=Tn.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!lo.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...K0],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,r,n){let o={clientId:this.config.auth.clientId,correlationId:r,apiId:e,forceRefresh:n||!1};return new QC(o,this.storage)}async createAuthority(e,r,n,o){this.logger.verbose("createAuthority called",r);let a=ju.generateAuthority(e,o||this.config.auth.azureCloudOptions),c={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return n9.createDiscoveredInstance(a,this.config.system.networkClient,this.storage,c,this.logger,r)}clearCache(){this.storage.clear()}};f();var Sue=Et(require("http"),1);var o7=class{static{s(this,"LoopbackClient")}async listenForAuthCode(e,r){if(this.server)throw ec.createLoopbackServerAlreadyExistsError();return new Promise((n,o)=>{this.server=Sue.default.createServer((a,c)=>{let l=a.url;if(l){if(l===Fe.FORWARD_SLASH){c.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{c.end(r||"Error occurred loading redirectUrl"),o(ec.createUnableToLoadRedirectUrlError());return}let u=this.getRedirectUri(),d=new URL(l,u),h=xa.getDeserializedResponse(d.search)||{};h.code&&(c.writeHead(Qr.REDIRECT,{location:u}),c.end()),h.error&&c.end(r||`Error occurred: ${h.error}`),n(h)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw ec.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||typeof e=="string"||!e.port)throw this.closeServer(),ec.createInvalidLoopbackAddressTypeError();let r=e&&e.port;return`${Ps.HTTP_PROTOCOL}${Ps.LOCALHOST}:${r}`}closeServer(){this.server&&(this.server.close(),typeof this.server.closeAllConnections=="function"&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}};f();var Ix=class extends va{static{s(this,"DeviceCodeClient")}constructor(e){super(e)}async acquireToken(e){let r=await this.getDeviceCode(e);e.deviceCodeCallback(r);let n=zi.nowSeconds(),o=await this.acquireTokenWithDeviceCode(e,r),a=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return a.validateTokenResponse(o),a.handleServerTokenResponse(o,this.authority,n,e)}async getDeviceCode(e){let r=this.createExtraQueryParameters(e),n=an.appendQueryString(this.authority.deviceCodeEndpoint,r),o=this.createQueryString(e),a=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(n,o,a,c,e.correlationId)}createExtraQueryParameters(e){let r=new Map;return e.extraQueryParameters&&Tt.addExtraQueryParameters(r,e.extraQueryParameters),xa.mapToQueryString(r)}async executePostRequestToDeviceCodeEndpoint(e,r,n,o,a){let{body:{user_code:c,device_code:l,verification_uri:u,expires_in:d,interval:h,message:A}}=await this.sendPostRequest(o,e,{body:r,headers:n},a);return{userCode:c,deviceCode:l,verificationUri:u,expiresIn:d,interval:h,message:A}}createQueryString(e){let r=new Map;return Tt.addScopes(r,e.scopes),Tt.addClientId(r,this.config.authOptions.clientId),e.extraQueryParameters&&Tt.addExtraQueryParameters(r,e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}continuePolling(e,r,n){if(n)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),Ke(wi.deviceCodePollingCancelled);if(r&&r<e&&zi.nowSeconds()>r)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${r}`),Ke(wi.userTimeoutReached);if(zi.nowSeconds()>e)throw r&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${r}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),Ke(wi.deviceCodeExpired);return!0}async acquireTokenWithDeviceCode(e,r){let n=this.createTokenQueryParameters(e),o=an.appendQueryString(this.authority.tokenEndpoint,n),a=this.createTokenRequestBody(e,r),c=this.createTokenRequestHeaders(),l=e.timeout?zi.nowSeconds()+e.timeout:void 0,u=zi.nowSeconds()+r.expiresIn,d=r.interval*1e3;for(;this.continuePolling(u,l,e.cancel);){let h={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},A=await this.executePostToTokenEndpoint(o,a,c,h,e.correlationId);if(A.body&&A.body.error)if(A.body.error===Fe.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await zi.delay(d);else throw this.logger.info("Unexpected error in polling from the server"),fH(K2.postRequestFailed,A.body.error);else return this.logger.verbose("Authorization completed successfully. Polling stopped."),A.body}throw this.logger.error("Polling stopped for unknown reasons."),Ke(wi.deviceCodeUnknownError)}createTokenRequestBody(e,r){let n=new Map;Tt.addScopes(n,e.scopes),Tt.addClientId(n,this.config.authOptions.clientId),Tt.addGrantType(n,X0.DEVICE_CODE_GRANT),Tt.addDeviceCode(n,r.deviceCode);let o=e.correlationId||this.config.cryptoInterface.createNewGuid();return Tt.addCorrelationId(n,o),Tt.addClientInfo(n),Tt.addLibraryInfo(n,this.config.libraryInfo),Tt.addApplicationTelemetry(n,this.config.telemetry.application),Tt.addThrottling(n),this.serverTelemetryManager&&Tt.addServerTelemetry(n,this.serverTelemetryManager),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(n,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(n)}};var xx=class extends yg{static{s(this,"PublicClientApplication")}constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=QC.makeExtraSkuString({libraryName:Ps.MSAL_SKU,libraryVersion:Ju})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let r=Object.assign(e,await this.initializeBaseRequest(e)),n=this.initializeServerTelemetryManager(AA.acquireTokenByDeviceCode,r.correlationId);try{let o=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),a=await this.buildOauthClientConfiguration(o,r.correlationId,"",n),c=new Ix(a);return this.logger.verbose("Device code client created",r.correlationId),await c.acquireToken(r)}catch(o){throw o instanceof Pr&&o.setCorrelationId(r.correlationId),n.cacheFailedRequest(o),o}}async acquireTokenInteractive(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",r);let{openBrowser:n,successTemplate:o,errorTemplate:a,windowHandle:c,loopbackClient:l,...u}=e;if(this.nativeBrokerPlugin){let E={...u,clientId:this.config.auth.clientId,scopes:e.scopes||K0,redirectUri:`${Ps.HTTP_PROTOCOL}${Ps.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...u.extraQueryParameters,...u.tokenQueryParameters,[TC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:u.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(E,c)}let{verifier:d,challenge:h}=await this.cryptoProvider.generatePkceCodes(),A=l||new o7,p={},g=null;try{let E=A.listenForAuthCode(o,a).then(N=>{p=N}).catch(N=>{g=N}),v=await this.waitForRedirectUri(A),w={...u,correlationId:r,scopes:e.scopes||K0,redirectUri:v,responseMode:vd.QUERY,codeChallenge:h,codeChallengeMethod:LR.S256},_=await this.getAuthCodeUrl(w);if(await n(_),await E,g)throw g;if(p.error)throw new m0(p.error,p.error_description,p.suberror);if(!p.code)throw ec.createNoAuthCodeInResponseError();let S=p.client_info,D={code:p.code,codeVerifier:d,clientInfo:S||Fe.EMPTY_STRING,...w};return await this.acquireTokenByCode(D)}finally{A.closeServer()}}async acquireTokenSilent(e){let r=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",r),this.nativeBrokerPlugin){let n={...e,clientId:this.config.auth.clientId,scopes:e.scopes||K0,redirectUri:`${Ps.HTTP_PROTOCOL}${Ps.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:r,extraParameters:{...e.tokenQueryParameters,[TC.X_CLIENT_EXTRA_SKU]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(n)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let r={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(r)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((r,n)=>{let o=0,a=setInterval(()=>{if(h9.TIMEOUT_MS/h9.INTERVAL_MS<o){clearInterval(a),n(ec.createLoopbackServerTimeoutError());return}try{let c=e.getRedirectUri();clearInterval(a),r(c);return}catch(c){if(c instanceof Pr&&c.errorCode===Xs.noLoopbackServerExists.code){o++;return}clearInterval(a),n(c);return}},h9.INTERVAL_MS)})}};f();f();var Cg=class extends va{static{s(this,"ClientCredentialClient")}constructor(e,r){super(e),this.appTokenProvider=r}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[r,n]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return r?(n===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),r):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,r,n,o,a,c){let l=r,u=r,d=ki.NOT_APPLICABLE,h;l.serializableCache&&l.persistencePlugin&&(h=new Hc(l.serializableCache,!1),await l.persistencePlugin.beforeCacheAccess(h));let A=this.readAccessTokenFromCache(o,u.managedIdentityId?.id||l.authOptions.clientId,new ys(e.scopes||[]),a,e.correlationId);return l.serializableCache&&l.persistencePlugin&&h&&await l.persistencePlugin.afterCacheAccess(h),A?zi.isTokenExpired(A.expiresOn,l.systemOptions?.tokenRenewalOffsetSeconds||j2)?(c?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),[null,ki.CACHED_ACCESS_TOKEN_EXPIRED]):(A.refreshOn&&zi.isTokenExpired(A.refreshOn.toString(),0)&&(d=ki.PROACTIVELY_REFRESHED,c?.setCacheOutcome(ki.PROACTIVELY_REFRESHED)),[await ts.generateAuthenticationResult(n,o,{account:null,idToken:null,accessToken:A,refreshToken:null,appMetadata:null},!0,e),d]):(c?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),[null,ki.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,r,n,o,a){let c={homeAccountId:Fe.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ACCESS_TOKEN,clientId:r,realm:e.tenant,target:ys.createSearchScopes(n.asArray())},l=o.getAccessTokensByFilter(c,a);if(l.length<1)return null;if(l.length>1)throw Ke(wi.multipleMatchingTokens);return l[0]}async executeTokenRequest(e,r,n){let o,a;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let u={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};a=zi.nowSeconds();let d=await this.appTokenProvider(u);o={access_token:d.accessToken,expires_in:d.expiresInSeconds,refresh_in:d.refreshInSeconds,token_type:Tn.BEARER}}else{let u=this.createTokenQueryParameters(e),d=an.appendQueryString(r.tokenEndpoint,u),h=await this.createTokenRequestBody(e),A=this.createTokenRequestHeaders(),p={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),a=zi.nowSeconds();let g=await this.executePostToTokenEndpoint(d,h,A,p,e.correlationId);o=g.body,o.status=g.status}let c=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return c.validateTokenResponse(o,n),await c.handleServerTokenResponse(o,this.authority,a,e)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addScopes(r,e.scopes,!1),Tt.addGrantType(r,X0.CLIENT_CREDENTIALS_GRANT),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=e.clientAssertion||this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await g0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(!lo.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}};f();var vx=class extends va{static{s(this,"OnBehalfOfClient")}constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new ys(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch{return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(zi.isTokenExpired(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(ki.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),Ke(wi.tokenRefreshRequired)}else throw this.serverTelemetryManager?.setCacheOutcome(ki.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Ke(wi.tokenRefreshRequired);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),o,a=null;if(n){o=HR.extractTokenClaims(n.secret,qc.base64Decode);let c=o.oid||o.sub,l={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:Fe.EMPTY_STRING,localAccountId:c||Fe.EMPTY_STRING};a=this.cacheManager.readAccountFromCache(l,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),ts.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:a,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,o)}readIdTokenFromCacheForOBO(e,r){let n={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:qn.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},o=this.cacheManager.getIdTokensByFilter(n,r);return Object.values(o).length<1?null:Object.values(o)[0]}readAccessTokenFromCacheForOBO(e,r){let n=r.authenticationScheme||Tn.BEARER,a={credentialType:n&&n.toLowerCase()!==Tn.BEARER.toLowerCase()?qn.ACCESS_TOKEN_WITH_AUTH_SCHEME:qn.ACCESS_TOKEN,clientId:e,target:ys.createSearchScopes(this.scopeSet.asArray()),tokenType:n,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash,userAssertionHash:this.userAssertionHash},c=this.cacheManager.getAccessTokensByFilter(a,r.correlationId),l=c.length;if(l<1)return null;if(l>1)throw Ke(wi.multipleMatchingTokens);return c[0]}async executeTokenRequest(e,r,n){let o=this.createTokenQueryParameters(e),a=an.appendQueryString(r.tokenEndpoint,o),c=await this.createTokenRequestBody(e),l=this.createTokenRequestHeaders(),u={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},d=zi.nowSeconds(),h=await this.executePostToTokenEndpoint(a,c,l,u,e.correlationId),A=new ts(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return A.validateTokenResponse(h.body),await A.handleServerTokenResponse(h.body,this.authority,d,e,void 0,n)}async createTokenRequestBody(e){let r=new Map;Tt.addClientId(r,this.config.authOptions.clientId),Tt.addScopes(r,e.scopes),Tt.addGrantType(r,X0.JWT_BEARER),Tt.addClientInfo(r),Tt.addLibraryInfo(r,this.config.libraryInfo),Tt.addApplicationTelemetry(r,this.config.telemetry.application),Tt.addThrottling(r),this.serverTelemetryManager&&Tt.addServerTelemetry(r,this.serverTelemetryManager);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();Tt.addCorrelationId(r,n),Tt.addRequestTokenUse(r,TC.ON_BEHALF_OF),Tt.addOboAssertion(r,e.oboAssertion),this.config.clientCredentials.clientSecret&&Tt.addClientSecret(r,this.config.clientCredentials.clientSecret);let o=this.config.clientCredentials.clientAssertion;return o&&(Tt.addClientAssertion(r,await g0(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),Tt.addClientAssertionType(r,o.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Tt.addClaims(r,e.claims,this.config.authOptions.clientCapabilities),xa.mapToQueryString(r)}};var bx=class extends yg{static{s(this,"ConfidentialClientApplication")}constructor(e){super(e);let r=!!this.config.auth.clientSecret,n=!!this.config.auth.clientAssertion,o=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(r&&n||n&&o||r&&o)throw Ke(wi.invalidClientCredential);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(o)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?pA.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):pA.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw Ke(wi.invalidClientCredential);this.appTokenProvider=void 0}}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){this.logger.info("acquireTokenByClientCredential called",e.correlationId);let r;e.clientAssertion&&(r={assertion:await g0(e.clientAssertion,this.config.auth.clientId),assertionType:Ps.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),o={...n,scopes:n.scopes.filter(p=>!K0.includes(p))},a={...e,...o,clientAssertion:r},l=new an(a.authority).getUrlComponents().PathSegments[0];if(Object.values(J0).includes(l))throw Ke(wi.missingTenantIdError);let u=process.env[Nae],d;a.azureRegion!=="DisableMsalForceRegion"&&(!a.azureRegion&&u?d=u:d=a.azureRegion);let h={azureRegion:d,environmentRegion:process.env[Dae]},A=this.initializeServerTelemetryManager(AA.acquireTokenByClientCredential,a.correlationId,a.skipCache);try{let p=await this.createAuthority(a.authority,a.correlationId,h,e.azureCloudOptions),g=await this.buildOauthClientConfiguration(p,a.correlationId,"",A),E=new Cg(g,this.appTokenProvider);return this.logger.verbose("Client credential client created",a.correlationId),await E.acquireToken(a)}catch(p){throw p instanceof Pr&&p.setCorrelationId(a.correlationId),A.cacheFailedRequest(p),p}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let r={...e,...await this.initializeBaseRequest(e)};try{let n=await this.createAuthority(r.authority,r.correlationId,void 0,e.azureCloudOptions),o=await this.buildOauthClientConfiguration(n,r.correlationId,"",void 0),a=new vx(o);return this.logger.verbose("On behalf of client created",r.correlationId),await a.acquireToken(r)}catch(n){throw n instanceof Pr&&n.setCorrelationId(r.correlationId),n}}};f();f();f();f();f();function Bue(t){if(typeof t!="string")return!1;let e=new Date(t);return!isNaN(e.getTime())&&e.toISOString()===t}s(Bue,"isIso8601");f();var s7=class{static{s(this,"HttpClientWithRetries")}constructor(e,r,n){this.httpClientNoRetries=e,this.retryPolicy=r,this.logger=n}async sendNetworkRequestAsyncHelper(e,r,n){return e===ji.GET?this.httpClientNoRetries.sendGetRequestAsync(r,n):this.httpClientNoRetries.sendPostRequestAsync(r,n)}async sendNetworkRequestAsync(e,r,n){let o=await this.sendNetworkRequestAsyncHelper(e,r,n);"isNewRequest"in this.retryPolicy&&(this.retryPolicy.isNewRequest=!0);let a=0;for(;await this.retryPolicy.pauseForRetry(o.status,a,this.logger,o.headers[Fi.RETRY_AFTER]);)o=await this.sendNetworkRequestAsyncHelper(e,r,n),a++;return o}async sendGetRequestAsync(e,r){return this.sendNetworkRequestAsync(ji.GET,e,r)}async sendPostRequestAsync(e,r){return this.sendNetworkRequestAsync(ji.POST,e,r)}};var OC={MANAGED_IDENTITY_CLIENT_ID_2017:"clientid",MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID_IMDS:"msi_res_id",MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS:"mi_res_id"},E0=class{static{s(this,"BaseManagedIdentitySource")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async getServerTokenResponseAsync(e,r,n,o){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let r,n;return e.body.expires_on&&(Bue(e.body.expires_on)&&(e.body.expires_on=new Date(e.body.expires_on).getTime()/1e3),n=e.body.expires_on-zi.nowSeconds(),n>2*3600&&(r=n/2)),{status:e.status,access_token:e.body.access_token,expires_in:n,scope:e.body.resource,token_type:e.body.token_type,refresh_in:r,correlation_id:e.body.correlation_id||e.body.correlationId,error:typeof e.body.error=="string"?e.body.error:e.body.error?.code,error_description:e.body.message||(typeof e.body.error=="string"?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,r,n,o){let a=this.createRequest(e.resource,r);if(e.revokedTokenSha256Hash&&(this.logger.info(`[Managed Identity] The following claims are present in the request: ${e.claims}`),a.queryParameters[Cs.SHA256_TOKEN_TO_REFRESH]=e.revokedTokenSha256Hash),e.clientCapabilities?.length){let g=e.clientCapabilities.toString();this.logger.info(`[Managed Identity] The following client capabilities are present in the request: ${g}`),a.queryParameters[Cs.XMS_CC]=g}let c=a.headers;c[Fi.CONTENT_TYPE]=Fe.URL_FORM_CONTENT_TYPE;let l={headers:c};Object.keys(a.bodyParameters).length&&(l.body=a.computeParametersBodyString());let u=this.disableInternalRetries?this.networkClient:new s7(this.networkClient,a.retryPolicy,this.logger),d=zi.nowSeconds(),h;try{a.httpMethod===ji.POST?h=await u.sendPostRequestAsync(a.computeUri(),l):h=await u.sendGetRequestAsync(a.computeUri(),l)}catch(g){throw g instanceof Pr?g:Ke(wi.networkError)}let A=new ts(r.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),p=await this.getServerTokenResponseAsync(h,u,a,l);return A.validateTokenResponse(p,o),A.handleServerTokenResponse(p,n,d,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e,r,n){switch(e){case bo.USER_ASSIGNED_CLIENT_ID:return this.logger.info(`[Managed Identity] [API version ${n?"2017+":"2019+"}] Adding user assigned client id to the request.`),n?OC.MANAGED_IDENTITY_CLIENT_ID_2017:OC.MANAGED_IDENTITY_CLIENT_ID;case bo.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),r?OC.MANAGED_IDENTITY_RESOURCE_ID_IMDS:OC.MANAGED_IDENTITY_RESOURCE_ID_NON_IMDS;case bo.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),OC.MANAGED_IDENTITY_OBJECT_ID;default:throw rs(hg)}}};E0.getValidatedEnvVariableUrlString=(t,e,r,n)=>{try{return new an(e).urlString}catch{throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${t}' environment variable is malformed.`),rs(PC[t])}};f();f();f();var a7=class{static{s(this,"LinearRetryStrategy")}calculateDelay(e,r){if(!e)return r;let n=Math.round(parseFloat(e)*1e3);return isNaN(n)&&(n=new Date(e).valueOf()-new Date().valueOf()),Math.max(r,n)}};var ZQe=3,ePe=1e3,tPe=[Qr.NOT_FOUND,Qr.REQUEST_TIMEOUT,Qr.TOO_MANY_REQUESTS,Qr.SERVER_ERROR,Qr.SERVICE_UNAVAILABLE,Qr.GATEWAY_TIMEOUT],c7=class t{static{s(this,"DefaultManagedIdentityRetryPolicy")}constructor(){this.linearRetryStrategy=new a7}static get DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS(){return ePe}async pauseForRetry(e,r,n,o){if(tPe.includes(e)&&r<ZQe){let a=this.linearRetryStrategy.calculateDelay(o,t.DEFAULT_MANAGED_IDENTITY_RETRY_DELAY_MS);return n.verbose(`Retrying request in ${a}ms (retry attempt: ${r+1})`),await new Promise(c=>setTimeout(c,a)),!0}return!1}};var rc=class{static{s(this,"ManagedIdentityRequestParameters")}constructor(e,r,n){this.httpMethod=e,this._baseEndpoint=r,this.headers={},this.bodyParameters={},this.queryParameters={},this.retryPolicy=n||new c7}computeUri(){let e=new Map;this.queryParameters&&Tt.addExtraQueryParameters(e,this.queryParameters);let r=xa.mapToQueryString(e);return an.appendQueryString(this._baseEndpoint,r)}computeParametersBodyString(){let e=new Map;return this.bodyParameters&&Tt.addExtraQueryParameters(e,this.bodyParameters),xa.mapToQueryString(e)}};var rPe="2019-08-01",R4=class t extends E0{static{s(this,"AppService")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IDENTITY_HEADER];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${wr.APP_SERVICE} managed identity is unavailable because one or both of the '${Cr.IDENTITY_HEADER}' and '${Cr.IDENTITY_ENDPOINT}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,c,wr.APP_SERVICE,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.APP_SERVICE} managed identity. Endpoint URI: ${u}. Creating ${wr.APP_SERVICE} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.APP_SERVICE_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Cs.API_VERSION]=rPe,n.queryParameters[Cs.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};f();var mA=require("fs"),Nue=Et(require("path"),1);var nPe="2019-11-01",Rue="http://127.0.0.1:40342/metadata/identity/oauth2/token",kue="N/A: himds executable exists",Due={win32:`${process.env.ProgramData}\\AzureConnectedMachineAgent\\Tokens\\`,linux:"/var/opt/azcmagent/tokens/"},iPe={win32:`${process.env.ProgramFiles}\\AzureConnectedMachineAgent\\himds.exe`,linux:"/opt/azcmagent/bin/himds"},k4=class t extends E0{static{s(this,"AzureArc")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IMDS_ENDPOINT];if(!e||!r){let n=iPe[process.platform];try{(0,mA.accessSync)(n,mA.constants.F_OK|mA.constants.R_OK),e=Rue,r=kue}catch{}}return[e,r]}static tryCreate(e,r,n,o,a,c){let[l,u]=t.getEnvironmentVariables();if(!l||!u)return e.info(`[Managed Identity] ${wr.AZURE_ARC} managed identity is unavailable through environment variables because one or both of '${Cr.IDENTITY_ENDPOINT}' and '${Cr.IMDS_ENDPOINT}' are not defined. ${wr.AZURE_ARC} managed identity is also unavailable through file detection.`),null;if(u===kue)e.info(`[Managed Identity] ${wr.AZURE_ARC} managed identity is available through file detection. Defaulting to known ${wr.AZURE_ARC} endpoint: ${Rue}. Creating ${wr.AZURE_ARC} managed identity.`);else{let d=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,l,wr.AZURE_ARC,e);d.endsWith("/")&&d.slice(0,-1),t.getValidatedEnvVariableUrlString(Cr.IMDS_ENDPOINT,u,wr.AZURE_ARC,e),e.info(`[Managed Identity] Environment variables validation passed for ${wr.AZURE_ARC} managed identity. Endpoint URI: ${d}. Creating ${wr.AZURE_ARC} managed identity.`)}if(c.idType!==bo.SYSTEM_ASSIGNED)throw rs(C9);return new t(e,r,n,o,a,l)}createRequest(e){let r=new rc(ji.GET,this.identityEndpoint.replace("localhost","127.0.0.1"));return r.headers[Z0.METADATA_HEADER_NAME]="true",r.queryParameters[Cs.API_VERSION]=nPe,r.queryParameters[Cs.RESOURCE]=e,r}async getServerTokenResponseAsync(e,r,n,o){let a;if(e.status===Qr.UNAUTHORIZED){let c=e.headers["www-authenticate"];if(!c)throw rs(x9);if(!c.includes("Basic realm="))throw rs(v9);let l=c.split("Basic realm=")[1];if(!Due.hasOwnProperty(process.platform))throw rs(y9);let u=Due[process.platform],d=Nue.default.basename(l);if(!d.endsWith(".key"))throw rs(p9);if(u+d!==l)throw rs(m9);let h;try{h=await(0,mA.statSync)(l).size}catch{throw rs(g4)}if(h>Fae)throw rs(g9);let A;try{A=(0,mA.readFileSync)(l,Ea.UTF8)}catch{throw rs(g4)}let p=`Basic ${A}`;this.logger.info("[Managed Identity] Adding authorization header to the request."),n.headers[Z0.AUTHORIZATION_HEADER_NAME]=p;try{a=await r.sendGetRequestAsync(n.computeUri(),o)}catch(g){throw g instanceof Pr?g:Ke(wi.networkError)}}return this.getServerTokenResponse(a||e)}};f();var D4=class t extends E0{static{s(this,"CloudShell")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.msiEndpoint=c}static getEnvironmentVariables(){return[process.env[Cr.MSI_ENDPOINT]]}static tryCreate(e,r,n,o,a,c){let[l]=t.getEnvironmentVariables();if(!l)return e.info(`[Managed Identity] ${wr.CLOUD_SHELL} managed identity is unavailable because the '${Cr.MSI_ENDPOINT} environment variable is not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.MSI_ENDPOINT,l,wr.CLOUD_SHELL,e);if(e.info(`[Managed Identity] Environment variable validation passed for ${wr.CLOUD_SHELL} managed identity. Endpoint URI: ${u}. Creating ${wr.CLOUD_SHELL} managed identity.`),c.idType!==bo.SYSTEM_ASSIGNED)throw rs(E9);return new t(e,r,n,o,a,l)}createRequest(e){let r=new rc(ji.POST,this.msiEndpoint);return r.headers[Z0.METADATA_HEADER_NAME]="true",r.bodyParameters[Cs.RESOURCE]=e,r}};f();f();f();var l7=class{static{s(this,"ExponentialRetryStrategy")}constructor(e,r,n){this.minExponentialBackoff=e,this.maxExponentialBackoff=r,this.exponentialDeltaBackoff=n}calculateDelay(e){return e===0?this.minExponentialBackoff:Math.min(Math.pow(2,e-1)*this.exponentialDeltaBackoff,this.maxExponentialBackoff)}};var oPe=[Qr.NOT_FOUND,Qr.REQUEST_TIMEOUT,Qr.GONE,Qr.TOO_MANY_REQUESTS],sPe=3,aPe=7,cPe=1e3,lPe=4e3,uPe=2e3,fPe=10*1e3,u7=class t{static{s(this,"ImdsRetryPolicy")}constructor(){this.exponentialRetryStrategy=new l7(t.MIN_EXPONENTIAL_BACKOFF_MS,t.MAX_EXPONENTIAL_BACKOFF_MS,t.EXPONENTIAL_DELTA_BACKOFF_MS)}static get MIN_EXPONENTIAL_BACKOFF_MS(){return cPe}static get MAX_EXPONENTIAL_BACKOFF_MS(){return lPe}static get EXPONENTIAL_DELTA_BACKOFF_MS(){return uPe}static get HTTP_STATUS_GONE_RETRY_AFTER_MS(){return fPe}set isNewRequest(e){this._isNewRequest=e}async pauseForRetry(e,r,n){if(this._isNewRequest&&(this._isNewRequest=!1,this.maxRetries=e===Qr.GONE?aPe:sPe),(oPe.includes(e)||e>=Qr.SERVER_ERROR_RANGE_START&&e<=Qr.SERVER_ERROR_RANGE_END&&r<this.maxRetries)&&r<this.maxRetries){let o=e===Qr.GONE?t.HTTP_STATUS_GONE_RETRY_AFTER_MS:this.exponentialRetryStrategy.calculateDelay(r);return n.verbose(`Retrying request in ${o}ms (retry attempt: ${r+1})`),await new Promise(a=>setTimeout(a,o)),!0}return!1}};var Que="/metadata/identity/oauth2/token",dPe=`http://169.254.169.254${Que}`,hPe="2018-02-01",f7=class t extends E0{static{s(this,"Imds")}constructor(e,r,n,o,a,c){super(e,r,n,o,a),this.identityEndpoint=c}static tryCreate(e,r,n,o,a){let c;return process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]?(e.info(`[Managed Identity] Environment variable ${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST} for ${wr.IMDS} returned endpoint: ${process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}`),c=t.getValidatedEnvVariableUrlString(Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST,`${process.env[Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST]}${Que}`,wr.IMDS,e)):(e.info(`[Managed Identity] Unable to find ${Cr.AZURE_POD_IDENTITY_AUTHORITY_HOST} environment variable for ${wr.IMDS}, using the default endpoint.`),c=dPe),new t(e,r,n,o,a,c)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.METADATA_HEADER_NAME]="true",n.queryParameters[Cs.API_VERSION]=hPe,n.queryParameters[Cs.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!0)]=r.id),n.retryPolicy=new u7,n}};f();var APe="2019-07-01-preview",N4=class t extends E0{static{s(this,"ServiceFabric")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.identityEndpoint=c,this.identityHeader=l}static getEnvironmentVariables(){let e=process.env[Cr.IDENTITY_ENDPOINT],r=process.env[Cr.IDENTITY_HEADER],n=process.env[Cr.IDENTITY_SERVER_THUMBPRINT];return[e,r,n]}static tryCreate(e,r,n,o,a,c){let[l,u,d]=t.getEnvironmentVariables();if(!l||!u||!d)return e.info(`[Managed Identity] ${wr.SERVICE_FABRIC} managed identity is unavailable because one or all of the '${Cr.IDENTITY_HEADER}', '${Cr.IDENTITY_ENDPOINT}' or '${Cr.IDENTITY_SERVER_THUMBPRINT}' environment variables are not defined.`),null;let h=t.getValidatedEnvVariableUrlString(Cr.IDENTITY_ENDPOINT,l,wr.SERVICE_FABRIC,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.SERVICE_FABRIC} managed identity. Endpoint URI: ${h}. Creating ${wr.SERVICE_FABRIC} managed identity.`),c.idType!==bo.SYSTEM_ASSIGNED&&e.warning(`[Managed Identity] ${wr.SERVICE_FABRIC} user assigned managed identity is configured in the cluster, not during runtime. See also: https://learn.microsoft.com/en-us/azure/service-fabric/configure-existing-cluster-enable-managed-identity-token-service.`),new t(e,r,n,o,a,l,u)}createRequest(e,r){let n=new rc(ji.GET,this.identityEndpoint);return n.headers[Z0.ML_AND_SF_SECRET_HEADER_NAME]=this.identityHeader,n.queryParameters[Cs.API_VERSION]=APe,n.queryParameters[Cs.RESOURCE]=e,r.idType!==bo.SYSTEM_ASSIGNED&&(n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType)]=r.id),n}};f();var pPe="2017-09-01",mPe=`Only client id is supported for user-assigned managed identity in ${wr.MACHINE_LEARNING}.`,Q4=class t extends E0{static{s(this,"MachineLearning")}constructor(e,r,n,o,a,c,l){super(e,r,n,o,a),this.msiEndpoint=c,this.secret=l}static getEnvironmentVariables(){let e=process.env[Cr.MSI_ENDPOINT],r=process.env[Cr.MSI_SECRET];return[e,r]}static tryCreate(e,r,n,o,a){let[c,l]=t.getEnvironmentVariables();if(!c||!l)return e.info(`[Managed Identity] ${wr.MACHINE_LEARNING} managed identity is unavailable because one or both of the '${Cr.MSI_ENDPOINT}' and '${Cr.MSI_SECRET}' environment variables are not defined.`),null;let u=t.getValidatedEnvVariableUrlString(Cr.MSI_ENDPOINT,c,wr.MACHINE_LEARNING,e);return e.info(`[Managed Identity] Environment variables validation passed for ${wr.MACHINE_LEARNING} managed identity. Endpoint URI: ${u}. Creating ${wr.MACHINE_LEARNING} managed identity.`),new t(e,r,n,o,a,c,l)}createRequest(e,r){let n=new rc(ji.GET,this.msiEndpoint);if(n.headers[Z0.METADATA_HEADER_NAME]="true",n.headers[Z0.ML_AND_SF_SECRET_HEADER_NAME]=this.secret,n.queryParameters[Cs.API_VERSION]=pPe,n.queryParameters[Cs.RESOURCE]=e,r.idType===bo.SYSTEM_ASSIGNED)n.queryParameters[OC.MANAGED_IDENTITY_CLIENT_ID_2017]=process.env[Cr.DEFAULT_IDENTITY_CLIENT_ID];else if(r.idType===bo.USER_ASSIGNED_CLIENT_ID)n.queryParameters[this.getManagedIdentityUserAssignedIdQueryParameterKey(r.idType,!1,!0)]=r.id;else throw new Error(mPe);return n}};var P4=class t{static{s(this,"ManagedIdentityClient")}constructor(e,r,n,o,a){this.logger=e,this.nodeStorage=r,this.networkClient=n,this.cryptoProvider=o,this.disableInternalRetries=a}async sendManagedIdentityTokenRequest(e,r,n,o){return t.identitySource||(t.identitySource=this.selectManagedIdentitySource(this.logger,this.nodeStorage,this.networkClient,this.cryptoProvider,this.disableInternalRetries,r)),t.identitySource.acquireTokenWithManagedIdentity(e,r,n,o)}allEnvironmentVariablesAreDefined(e){return Object.values(e).every(r=>r!==void 0)}getManagedIdentitySource(){return t.sourceName=this.allEnvironmentVariablesAreDefined(N4.getEnvironmentVariables())?wr.SERVICE_FABRIC:this.allEnvironmentVariablesAreDefined(R4.getEnvironmentVariables())?wr.APP_SERVICE:this.allEnvironmentVariablesAreDefined(Q4.getEnvironmentVariables())?wr.MACHINE_LEARNING:this.allEnvironmentVariablesAreDefined(D4.getEnvironmentVariables())?wr.CLOUD_SHELL:this.allEnvironmentVariablesAreDefined(k4.getEnvironmentVariables())?wr.AZURE_ARC:wr.DEFAULT_TO_IMDS,t.sourceName}selectManagedIdentitySource(e,r,n,o,a,c){let l=N4.tryCreate(e,r,n,o,a,c)||R4.tryCreate(e,r,n,o,a)||Q4.tryCreate(e,r,n,o,a)||D4.tryCreate(e,r,n,o,a,c)||k4.tryCreate(e,r,n,o,a,c)||f7.tryCreate(e,r,n,o,a);if(!l)throw rs(I9);return l}};var gPe=[wr.SERVICE_FABRIC],Tx=class t{static{s(this,"ManagedIdentityApplication")}constructor(e){this.config=Vae(e||{}),this.logger=new Mc(this.config.system.loggerOptions,i7,Ju);let r={canonicalAuthority:Fe.DEFAULT_AUTHORITY};t.nodeStorage||(t.nodeStorage=new pg(this.logger,this.config.managedIdentityId.id,J2,r)),this.networkClient=this.config.system.networkClient,this.cryptoProvider=new Bd;let n={protocolMode:Ya.AAD,knownAuthorities:[Tq],cloudDiscoveryMetadata:"",authorityMetadata:""};this.fakeAuthority=new ju(Tq,this.networkClient,t.nodeStorage,n,this.logger,this.cryptoProvider.createNewGuid(),void 0,!0),this.fakeClientCredentialClient=new Cg({authOptions:{clientId:this.config.managedIdentityId.id,authority:this.fakeAuthority}}),this.managedIdentityClient=new P4(this.logger,t.nodeStorage,this.networkClient,this.cryptoProvider,this.config.disableInternalRetries),this.hashUtils=new Ag}async acquireToken(e){if(!e.resource)throw Si(tx.urlEmptyError);let r={forceRefresh:e.forceRefresh,resource:e.resource.replace("/.default",""),scopes:[e.resource.replace("/.default","")],authority:this.fakeAuthority.canonicalAuthority,correlationId:this.cryptoProvider.createNewGuid(),claims:e.claims,clientCapabilities:this.config.clientCapabilities};if(r.forceRefresh)return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority);let[n,o]=await this.fakeClientCredentialClient.getCachedAuthenticationResult(r,this.config,this.cryptoProvider,this.fakeAuthority,t.nodeStorage);if(r.claims){let a=this.managedIdentityClient.getManagedIdentitySource();if(n&&gPe.includes(a)){let c=this.hashUtils.sha256(n.accessToken).toString(Ea.HEX);r.revokedTokenSha256Hash=c}return this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}return n?(o===ki.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority,!0)),n):this.acquireTokenFromManagedIdentity(r,this.config.managedIdentityId,this.fakeAuthority)}async acquireTokenFromManagedIdentity(e,r,n,o){return this.managedIdentityClient.sendManagedIdentityTokenRequest(e,r,n,o)}getManagedIdentitySource(){return P4.sourceName||this.managedIdentityClient.getManagedIdentitySource()}};f();var d7=class{static{s(this,"DistributedCachePlugin")}constructor(e,r){this.client=e,this.partitionManager=r}async beforeCacheAccess(e){let r=await this.partitionManager.getKey(),n=await this.client.get(r);e.tokenCache.deserialize(n)}async afterCacheAccess(e){if(e.cacheHasChanged){let r=e.tokenCache.getKVStore(),n=Object.values(r).filter(a=>Ia.isAccountEntity(a)),o;if(n.length>0){let a=n[0];o=await this.partitionManager.extractKey(a)}else o=await this.partitionManager.getKey();await this.client.set(o,e.tokenCache.serialize())}}};f();f();f();f();f();function F4(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}s(F4,"getRandomIntegerInclusive");function L4(t,e){let r=e.retryDelayInMs*Math.pow(2,t),n=Math.min(e.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+F4(0,n/2)}}s(L4,"calculateRetryDelay");f();function _x(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}s(_x,"isObject");f();function UC(t){if(_x(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}s(UC,"isError");f();f();var Pue=require("node:crypto");var CG,yPe=typeof((CG=globalThis?.crypto)===null||CG===void 0?void 0:CG.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):Pue.randomUUID;function wx(){return yPe()}s(wx,"randomUUID");f();var EG,IG,xG,vG,Fue=typeof window<"u"&&typeof window.document<"u",Lue=typeof self=="object"&&typeof self?.importScripts=="function"&&(((EG=self.constructor)===null||EG===void 0?void 0:EG.name)==="DedicatedWorkerGlobalScope"||((IG=self.constructor)===null||IG===void 0?void 0:IG.name)==="ServiceWorkerGlobalScope"||((xG=self.constructor)===null||xG===void 0?void 0:xG.name)==="SharedWorkerGlobalScope"),Mue=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",Oue=typeof Bun<"u"&&typeof Bun.version<"u",Eg=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((vG=globalThis.process.versions)===null||vG===void 0)&&vG.node);var Uue=typeof navigator<"u"&&navigator?.product==="ReactNative";f();function nc(t,e){return Buffer.from(t,e)}s(nc,"stringToUint8Array");f();var bG="REDACTED",CPe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],EPe=["api-version"],Xu=class{static{s(this,"Sanitizer")}constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=CPe.concat(e),r=EPe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,o)=>{if(o instanceof Error)return Object.assign(Object.assign({},o),{name:o.name,message:o.message});if(n==="headers")return this.sanitizeHeaders(o);if(n==="url")return this.sanitizeUrl(o);if(n==="query")return this.sanitizeQuery(o);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(o)||_x(o)){if(r.has(o))return"[Circular]";r.add(o)}return o},2)}sanitizeUrl(e){if(typeof e!="string"||e===null||e==="")return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,bG);return r.toString()}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=bG;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=bG;return r}};f();f();f();f();var HC=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};function _G(t,e){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:o}=e??{};return new Promise((a,c)=>{function l(){c(new HC(o??"The operation was aborted."))}s(l,"rejectOnAbort");function u(){n?.removeEventListener("abort",d)}s(u,"removeListeners");function d(){r?.(),u(),l()}if(s(d,"onAbort"),n?.aborted)return l();try{t(h=>{u(),a(h)},h=>{u(),c(h)})}catch(h){c(h)}n?.addEventListener("abort",d)})}s(_G,"createAbortablePromise");f();var TPe="The delay was aborted.";function wG(t,e){let r,{abortSignal:n,abortErrorMsg:o}=e??{};return _G(a=>{r=setTimeout(a,t)},{cleanupBeforeAbort:s(()=>clearTimeout(r),"cleanupBeforeAbort"),abortSignal:n,abortErrorMsg:o??TPe})}s(wG,"delay");f();function Sx(t){if(UC(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}s(Sx,"getErrorMessage");f();function Hue(t,e){return L4(t,e)}s(Hue,"calculateRetryDelay");function h7(t){return UC(t)}s(h7,"isError");var A7=Eg,Bx=Eg;f();var M4=kr("IdentityUtils"),que="1.0";function qC(t,e,r){let n=s(o=>(M4.getToken.info(o),new Pl({scopes:Array.isArray(t)?t:[t],getTokenOptions:r,message:o})),"error");if(!e)throw n("No response");if(!e.expiresOn)throw n('Response had no "expiresOn" property.');if(!e.accessToken)throw n('Response had no "accessToken" property.')}s(qC,"ensureValidMsalToken");function SG(t){let e=t?.authorityHost;return!e&&Bx&&(e=process.env.AZURE_AUTHORITY_HOST),e??u_}s(SG,"getAuthorityHost");function BG(t,e){return e||(e=u_),new RegExp(`${t}/?$`).test(e)?e:e.endsWith("/")?e+t:`${e}/${t}`}s(BG,"getAuthority");function Gue(t,e,r){return t==="adfs"&&e||r?[e]:[]}s(Gue,"getKnownAuthorities");var p7=s((t,e=A7?"Node":"Browser")=>(r,n,o)=>{if(!o)switch(r){case Gc.LogLevel.Error:t.info(`MSAL ${e} V2 error: ${n}`);return;case Gc.LogLevel.Info:t.info(`MSAL ${e} V2 info message: ${n}`);return;case Gc.LogLevel.Verbose:t.info(`MSAL ${e} V2 verbose message: ${n}`);return;case Gc.LogLevel.Warning:t.info(`MSAL ${e} V2 warning: ${n}`);return}},"defaultLoggerCallback");function m7(t){switch(t){case"error":return Gc.LogLevel.Error;case"info":return Gc.LogLevel.Info;case"verbose":return Gc.LogLevel.Verbose;case"warning":return Gc.LogLevel.Warning;default:return Gc.LogLevel.Info}}s(m7,"getMSALLogLevel");function GC(t,e,r){if(e.name==="AuthError"||e.name==="ClientAuthError"||e.name==="BrowserAuthError"){let n=e;switch(n.errorCode){case"endpoints_resolution_error":return M4.info(Pn(t,e.message)),new Ot(e.message);case"device_code_polling_cancelled":return new HC("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":M4.info(Pn(t,`Authentication returned errorCode ${n.errorCode}`));break;default:M4.info(Pn(t,`Failed to acquire token: ${e.message}`));break}}return e.name==="ClientConfigurationError"||e.name==="BrowserConfigurationAuthError"||e.name==="AbortError"||e.name==="AuthenticationError"?e:e.name==="NativeAuthError"?(M4.info(Pn(t,`Error from the native broker: ${e.message} with status code: ${e.statusCode}`)),e):new Pl({scopes:t,getTokenOptions:r,message:e.message})}s(GC,"handleMsalError");function Vue(t){return{localAccountId:t.homeAccountId,environment:t.authority,username:t.username,homeAccountId:t.homeAccountId,tenantId:t.tenantId}}s(Vue,"publicToMsal");function Wue(t,e){return{authority:e.environment??Pse,homeAccountId:e.homeAccountId,tenantId:e.tenantId||Qse,username:e.username,clientId:t,version:que}}s(Wue,"msalToPublic");function RG(t){let e=JSON.parse(t);if(e.version&&e.version!==que)throw Error("Unsupported AuthenticationRecord version");return e}s(RG,"deserializeAuthenticationRecord");f();f();f();f();f();f();function wPe(t,e){return e!=="Composite"&&e!=="Dictionary"&&(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||e?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||t===void 0||t===null)}s(wPe,"isPrimitiveBody");function SPe(t){let e=Object.assign(Object.assign({},t.headers),t.body);return t.hasNullableType&&Object.getOwnPropertyNames(e).length===0?t.shouldWrapBody?{body:null}:null:t.shouldWrapBody?Object.assign(Object.assign({},t.headers),{body:t.body}):e}s(SPe,"handleNullableResponseAndWrappableBody");function kG(t,e){var r,n;let o=t.parsedHeaders;if(t.request.method==="HEAD")return Object.assign(Object.assign({},o),{body:t.parsedBody});let a=e&&e.bodyMapper,c=!!a?.nullable,l=a?.type.name;if(l==="Stream")return Object.assign(Object.assign({},o),{blobBody:t.blobBody,readableStreamBody:t.readableStreamBody});let u=l==="Composite"&&a.type.modelProperties||{},d=Object.keys(u).some(h=>u[h].serializedName==="");if(l==="Sequence"||d){let h=(r=t.parsedBody)!==null&&r!==void 0?r:[];for(let A of Object.keys(u))u[A].serializedName&&(h[A]=(n=t.parsedBody)===null||n===void 0?void 0:n[A]);if(o)for(let A of Object.keys(o))h[A]=o[A];return c&&!t.parsedBody&&!o&&Object.getOwnPropertyNames(u).length===0?null:h}return SPe({body:t.parsedBody,headers:o,hasNullableType:c,shouldWrapBody:wPe(t.parsedBody,l)})}s(kG,"flattenResponse");var Dd={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"};f();f();f();f();f();var Nd=class extends Error{static{s(this,"AbortError")}constructor(e){super(e),this.name="AbortError"}};f();f();f();var $ue=require("node:os"),Yue=Et(require("node:util"),1),zue=Et(require("node:process"),1);function jue(t,...e){zue.stderr.write(`${Yue.default.format(t,...e)}${$ue.EOL}`)}s(jue,"log");var Kue=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Jue,DG=[],NG=[],y7=[];Kue&&QG(Kue);var Xue=Object.assign(t=>Zue(t),{enable:QG,enabled:PG,disable:BPe,log:jue});function QG(t){Jue=t,DG=[],NG=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?NG.push(new RegExp(`^${n.substr(1)}$`)):DG.push(new RegExp(`^${n}$`));for(let n of y7)n.enabled=PG(n.namespace)}s(QG,"enable");function PG(t){if(t.endsWith("*"))return!0;for(let e of NG)if(e.test(t))return!1;for(let e of DG)if(e.test(t))return!0;return!1}s(PG,"enabled");function BPe(){let t=Jue||"";return QG(""),t}s(BPe,"disable");function Zue(t){let e=Object.assign(r,{enabled:PG(t),destroy:RPe,log:Xue.log,namespace:t,extend:kPe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return s(r,"debug"),y7.push(e),e}s(Zue,"createDebugger");function RPe(){let t=y7.indexOf(this);return t>=0?(y7.splice(t,1),!0):!1}s(RPe,"destroy");function kPe(t){let e=Zue(`${this.namespace}:${t}`);return e.log=this.log,e}s(kPe,"extend");var Rx=Xue;var FG=["verbose","info","warning","error"],efe={verbose:400,info:300,warning:200,error:100};function tfe(t,e){e.log=(...r)=>{t.log(...r)}}s(tfe,"patchLogMethod");function rfe(t){return FG.includes(t)}s(rfe,"isTypeSpecRuntimeLogLevel");function DPe(t){let e=new Set,r=typeof process<"u"&&process.env&&process.env[t.logLevelEnvVarName]||void 0,n,o=Rx(t.namespace);o.log=(...h)=>{Rx.log(...h)};function a(h){if(h&&!rfe(h))throw new Error(`Unknown log level '${h}'. Acceptable values: ${FG.join(",")}`);n=h;let A=[];for(let p of e)c(p)&&A.push(p.namespace);Rx.enable(A.join(","))}s(a,"contextSetLogLevel"),r&&(rfe(r)?a(r):console.error(`${t.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${FG.join(", ")}.`));function c(h){return!!(n&&efe[h.level]<=efe[n])}s(c,"shouldEnable");function l(h,A){let p=Object.assign(h.extend(A),{level:A});if(tfe(h,p),c(p)){let g=Rx.disable();Rx.enable(g+","+p.namespace)}return e.add(p),p}s(l,"createLogger");function u(){return n}s(u,"contextGetLogLevel");function d(h){let A=o.extend(h);return tfe(o,A),{error:l(A,"error"),warning:l(A,"warning"),info:l(A,"info"),verbose:l(A,"verbose")}}return s(d,"contextCreateClientLogger"),{setLogLevel:a,getLogLevel:u,createClientLogger:d,logger:o}}s(DPe,"createLoggerContext");var nfe=DPe({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"}),NPe=nfe.logger;function U4(t){return nfe.createClientLogger(t)}s(U4,"createClientLogger");f();function C7(t){return t.toLowerCase()}s(C7,"normalizeName");function*QPe(t){for(let e of t.values())yield[e.name,e.value]}s(QPe,"headerIterator");var LG=class{static{s(this,"HttpHeadersImpl")}constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(C7(e),{name:e,value:String(r).trim()})}get(e){var r;return(r=this._headersMap.get(C7(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(C7(e))}delete(e){this._headersMap.delete(C7(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,o]of this._headersMap)r[n]=o.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return QPe(this._headersMap)}};function Vc(t){return new LG(t)}s(Vc,"createHttpHeaders");f();f();f();var MG=class{static{s(this,"PipelineRequestImpl")}constructor(e){var r,n,o,a,c,l,u;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:Vc(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(o=e.timeout)!==null&&o!==void 0?o:0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=(a=e.disableKeepAlive)!==null&&a!==void 0?a:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(c=e.withCredentials)!==null&&c!==void 0?c:!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||wx(),this.allowInsecureConnection=(l=e.allowInsecureConnection)!==null&&l!==void 0?l:!1,this.enableBrowserStreams=(u=e.enableBrowserStreams)!==null&&u!==void 0?u:!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}};function E7(t){return new MG(t)}s(E7,"createPipelineRequest");f();var ife=new Set(["Deserialize","Serialize","Retry","Sign"]),OG=class t{static{s(this,"HttpPipeline")}constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!ife.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!ife.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((a,c)=>l=>c.sendRequest(l,a),a=>e.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(E){return{name:E,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}s(n,"createPhase");let o=n("Serialize"),a=n("None"),c=n("Deserialize"),l=n("Retry"),u=n("Sign"),d=[o,a,c,l,u];function h(E){return E==="Retry"?l:E==="Serialize"?o:E==="Deserialize"?c:E==="Sign"?u:a}s(h,"getPhase");for(let E of this._policies){let v=E.policy,w=E.options,_=v.name;if(r.has(_))throw new Error("Duplicate policy names not allowed in pipeline");let S={policy:v,dependsOn:new Set,dependants:new Set};w.afterPhase&&(S.afterPhase=h(w.afterPhase),S.afterPhase.hasAfterPolicies=!0),r.set(_,S),h(w.phase).policies.add(S)}for(let E of this._policies){let{policy:v,options:w}=E,_=v.name,S=r.get(_);if(!S)throw new Error(`Missing node for policy ${_}`);if(w.afterPolicies)for(let D of w.afterPolicies){let N=r.get(D);N&&(S.dependsOn.add(N),N.dependants.add(S))}if(w.beforePolicies)for(let D of w.beforePolicies){let N=r.get(D);N&&(N.dependsOn.add(S),S.dependants.add(N))}}function A(E){E.hasRun=!0;for(let v of E.policies)if(!(v.afterPhase&&(!v.afterPhase.hasRun||v.afterPhase.policies.size))&&v.dependsOn.size===0){e.push(v.policy);for(let w of v.dependants)w.dependsOn.delete(v);r.delete(v.policy.name),E.policies.delete(v)}}s(A,"walkPhase");function p(){for(let E of d){if(A(E),E.policies.size>0&&E!==a){a.hasRun||A(a);return}E.hasAfterPolicies&&A(a)}}s(p,"walkPhases");let g=0;for(;r.size>0;){g++;let E=e.length;if(p(),e.length<=E&&g>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}};function I7(){return OG.create()}s(I7,"createEmptyPipeline");f();f();var ofe=require("node:util"),sfe=ofe.inspect.custom;var PPe=new Xu,Ta=class t extends Error{static{s(this,"RestError")}constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,sfe,{value:s(()=>`RestError: ${this.message} 
 ${PPe.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,"value"),enumerable:!1}),Object.setPrototypeOf(this,t.prototype)}};Ta.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Ta.PARSE_ERROR="PARSE_ERROR";function x7(t){return t instanceof Ta?!0:UC(t)&&t.name==="RestError"}s(x7,"isRestError");f();f();var kx=Et(require("node:http"),1),Dx=Et(require("node:https"),1),b7=Et(require("node:zlib"),1),cfe=require("node:stream");f();var Hl=U4("ts-http-runtime");var FPe={};function H4(t){return t&&typeof t.pipe=="function"}s(H4,"isReadableStream");function afe(t){return t.readable===!1?Promise.resolve():new Promise(e=>{let r=s(()=>{e(),t.removeListener("close",r),t.removeListener("end",r),t.removeListener("error",r)},"handler");t.on("close",r),t.on("end",r),t.on("error",r)})}s(afe,"isStreamComplete");function lfe(t){return t&&typeof t.byteLength=="number"}s(lfe,"isArrayBuffer");var v7=class extends cfe.Transform{static{s(this,"ReportTransform")}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(o){n(o)}}constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}},UG=class{static{s(this,"NodeHttpClient")}constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,o;let a=new AbortController,c;if(e.abortSignal){if(e.abortSignal.aborted)throw new Nd("The operation was aborted. Request has already been canceled.");c=s(p=>{p.type==="abort"&&a.abort()},"abortListener"),e.abortSignal.addEventListener("abort",c)}let l;e.timeout>0&&(l=setTimeout(()=>{let p=new Xu;Hl.info(`request to '${p.sanitizeUrl(e.url)}' timed out. canceling...`),a.abort()},e.timeout));let u=e.headers.get("Accept-Encoding"),d=u?.includes("gzip")||u?.includes("deflate"),h=typeof e.body=="function"?e.body():e.body;if(h&&!e.headers.has("Content-Length")){let p=UPe(h);p!==null&&e.headers.set("Content-Length",p)}let A;try{if(h&&e.onUploadProgress){let _=e.onUploadProgress,S=new v7(_);S.on("error",D=>{Hl.error("Error in upload progress",D)}),H4(h)?h.pipe(S):S.end(h),h=S}let p=await this.makeRequest(e,a,h);l!==void 0&&clearTimeout(l);let g=LPe(p),v={status:(r=p.statusCode)!==null&&r!==void 0?r:0,headers:g,request:e};if(e.method==="HEAD")return p.resume(),v;A=d?MPe(p,g):p;let w=e.onDownloadProgress;if(w){let _=new v7(w);_.on("error",S=>{Hl.error("Error in download progress",S)}),A.pipe(_),A=_}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((o=e.streamResponseStatusCodes)===null||o===void 0)&&o.has(v.status)?v.readableStreamBody=A:v.bodyAsText=await OPe(A),v}finally{if(e.abortSignal&&c){let p=Promise.resolve();H4(h)&&(p=afe(h));let g=Promise.resolve();H4(A)&&(g=afe(A)),Promise.all([p,g]).then(()=>{var E;c&&((E=e.abortSignal)===null||E===void 0||E.removeEventListener("abort",c))}).catch(E=>{Hl.warning("Error when cleaning up abortListener on httpRequest",E)})}}}makeRequest(e,r,n){var o;let a=new URL(e.url),c=a.protocol!=="https:";if(c&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let l=(o=e.agent)!==null&&o!==void 0?o:this.getOrCreateAgent(e,c),u=Object.assign({agent:l,hostname:a.hostname,path:`${a.pathname}${a.search}`,port:a.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})},e.requestOverrides);return new Promise((d,h)=>{let A=c?kx.request(u,d):Dx.request(u,d);A.once("error",p=>{var g;h(new Ta(p.message,{code:(g=p.code)!==null&&g!==void 0?g:Ta.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let p=new Nd("The operation was aborted. Rejecting from abort signal callback while making request.");A.destroy(p),h(p)}),n&&H4(n)?n.pipe(A):n?typeof n=="string"||Buffer.isBuffer(n)?A.end(n):lfe(n)?A.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Hl.error("Unrecognized body type",n),h(new Ta("Unrecognized body type"))):A.end()})}getOrCreateAgent(e,r){var n;let o=e.disableKeepAlive;if(r)return o?kx.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new kx.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(o&&!e.tlsSettings)return Dx.globalAgent;let a=(n=e.tlsSettings)!==null&&n!==void 0?n:FPe,c=this.cachedHttpsAgents.get(a);return c&&c.options.keepAlive===!o||(Hl.info("No cached TLS Agent exist, creating a new Agent"),c=new Dx.Agent(Object.assign({keepAlive:!o},a)),this.cachedHttpsAgents.set(a,c)),c}}};function LPe(t){let e=Vc();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}s(LPe,"getResponseHeaders");function MPe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=b7.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=b7.createInflate();return t.pipe(n),n}return t}s(MPe,"getDecodedResponseStream");function OPe(t){return new Promise((e,r)=>{let n=[];t.on("data",o=>{Buffer.isBuffer(o)?n.push(o):n.push(Buffer.from(o))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",o=>{o&&o?.name==="AbortError"?r(o):r(new Ta(`Error reading response as text: ${o.message}`,{code:Ta.PARSE_ERROR}))})})}s(OPe,"streamToText");function UPe(t){return t?Buffer.isBuffer(t)?t.length:H4(t)?null:lfe(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}s(UPe,"getBodyLength");function ufe(){return new UG}s(ufe,"createNodeHttpClient");function T7(){return ufe()}s(T7,"createDefaultHttpClient");f();f();f();f();var HG="logPolicy";function _7(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:Hl.info,n=new Xu({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:HG,async sendRequest(o,a){if(!r.enabled)return a(o);r(`Request: ${n.sanitize(o)}`);let c=await a(o);return r(`Response status code: ${c.status}`),r(`Headers: ${n.sanitize(c.headers)}`),c}}}s(_7,"logPolicy");f();var qG="redirectPolicy",ffe=["GET","HEAD"];function w7(t={}){let{maxRetries:e=20}=t;return{name:qG,async sendRequest(r,n){let o=await n(r);return dfe(n,o,e)}}}s(w7,"redirectPolicy");async function dfe(t,e,r,n=0){let{request:o,status:a,headers:c}=e,l=c.get("location");if(l&&(a===300||a===301&&ffe.includes(o.method)||a===302&&ffe.includes(o.method)||a===303&&o.method==="POST"||a===307)&&n<r){let u=new URL(l,o.url);o.url=u.toString(),a===303&&(o.method="GET",o.headers.delete("Content-Length"),delete o.body),o.headers.delete("Authorization");let d=await t(o);return dfe(t,d,r,n+1)}return e}s(dfe,"handleRedirect");f();f();f();function hfe(){return"User-Agent"}s(hfe,"getHeaderName");f();function Afe(){return hfe()}s(Afe,"getUserAgentHeaderName");var COt=Afe();f();var GG="decompressResponsePolicy";function S7(){return{name:GG,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}s(S7,"decompressResponsePolicy");f();f();f();f();var HPe="The operation was aborted.";function pfe(t,e,r){return new Promise((n,o)=>{let a,c,l=s(()=>o(new Nd(r?.abortErrorMsg?r?.abortErrorMsg:HPe)),"rejectOnAbort"),u=s(()=>{r?.abortSignal&&c&&r.abortSignal.removeEventListener("abort",c)},"removeListeners");if(c=s(()=>(a&&clearTimeout(a),u(),l()),"onAborted"),r?.abortSignal&&r.abortSignal.aborted)return l();a=setTimeout(()=>{u(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",c)})}s(pfe,"delay");function mfe(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}s(mfe,"parseHeaderValueAsNumber");var VG="Retry-After",qPe=["retry-after-ms","x-ms-retry-after-ms",VG];function gfe(t){if(t&&[429,503].includes(t.status))try{for(let o of qPe){let a=mfe(t,o);if(a===0||a)return a*(o===VG?1e3:1)}let e=t.headers.get(VG);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}s(gfe,"getRetryAfterInMs");function yfe(t){return Number.isFinite(gfe(t))}s(yfe,"isThrottlingRetryResponse");function WG(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=gfe(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}s(WG,"throttlingRetryStrategy");var GPe=1e3,VPe=1e3*64;function B7(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:GPe,o=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:VPe;return{name:"exponentialRetryStrategy",retry({retryCount:a,response:c,responseError:l}){let u=$Pe(l),d=u&&t.ignoreSystemErrors,h=WPe(c),A=h&&t.ignoreHttpStatusCodes;return c&&(yfe(c)||!h)||A||d?{skipStrategy:!0}:l&&!u&&!h?{errorToThrow:l}:L4(a,{retryDelayInMs:n,maxRetryDelayInMs:o})}}}s(B7,"exponentialRetryStrategy");function WPe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}s(WPe,"isExponentialRetryResponse");function $Pe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT"||t.code==="ENOTFOUND":!1}s($Pe,"isSystemError");f();var YPe=U4("ts-http-runtime retryPolicy"),zPe="retryPolicy";function Ig(t,e={maxRetries:3}){let r=e.logger||YPe;return{name:zPe,async sendRequest(n,o){var a,c;let l,u,d=-1;e:for(;;){d+=1,l=void 0,u=void 0;try{r.info(`Retry ${d}: Attempting to send request`,n.requestId),l=await o(n),r.info(`Retry ${d}: Received a response from request`,n.requestId)}catch(h){if(r.error(`Retry ${d}: Received an error from request`,n.requestId),u=h,!h||u.name!=="RestError")throw h;l=u.response}if(!((a=n.abortSignal)===null||a===void 0)&&a.aborted)throw r.error(`Retry ${d}: Request aborted.`),new Nd;if(d>=((c=e.maxRetries)!==null&&c!==void 0?c:3)){if(r.info(`Retry ${d}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(l)return l;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${d}: Processing ${t.length} retry strategies.`);t:for(let h of t){let A=h.logger||r;A.info(`Retry ${d}: Processing retry strategy ${h.name}.`);let p=h.retry({retryCount:d,response:l,responseError:u});if(p.skipStrategy){A.info(`Retry ${d}: Skipped.`);continue t}let{errorToThrow:g,retryAfterInMs:E,redirectTo:v}=p;if(g)throw A.error(`Retry ${d}: Retry strategy ${h.name} throws error:`,g),g;if(E||E===0){A.info(`Retry ${d}: Retry strategy ${h.name} retries after ${E}`),await pfe(E,void 0,{abortSignal:n.abortSignal});continue e}if(v){A.info(`Retry ${d}: Retry strategy ${h.name} redirects to ${v}`),n.url=v;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(l)return r.info("None of the retry strategies could work with the received response. Returning it."),l}}}}s(Ig,"retryPolicy");var $G="defaultRetryPolicy";function R7(t={}){var e;return{name:$G,sendRequest:Ig([WG(),B7(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}s(R7,"defaultRetryPolicy");f();var YG="formDataPolicy";function jPe(t){var e;let r={};for(let[n,o]of t.entries())(e=r[n])!==null&&e!==void 0||(r[n]=[]),r[n].push(o);return r}s(jPe,"formDataToFormDataMap");function k7(){return{name:YG,async sendRequest(t,e){if(Eg&&typeof FormData<"u"&&t.body instanceof FormData&&(t.formData=jPe(t.body),t.body=void 0),t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?t.body=KPe(t.formData):await JPe(t.formData,t),t.formData=void 0}return e(t)}}}s(k7,"formDataPolicy");function KPe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let o of n)e.append(r,o.toString());else e.append(r,n.toString());return e.toString()}s(KPe,"wwwFormUrlEncode");async function JPe(t,e){let r=e.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;e.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[o,a]of Object.entries(t))for(let c of Array.isArray(a)?a:[a])if(typeof c=="string")n.push({headers:Vc({"Content-Disposition":`form-data; name="${o}"`}),body:nc(c,"utf-8")});else{if(c==null||typeof c!="object")throw new Error(`Unexpected value for key ${o}: ${c}. Value should be serialized to string first.`);{let l=c.name||"blob",u=Vc();u.set("Content-Disposition",`form-data; name="${o}"; filename="${l}"`),u.set("Content-Type",c.type||"application/octet-stream"),n.push({headers:u,body:c})}}e.multipartBody={parts:n}}s(JPe,"prepareFormData");f();var $fe=Et(Ofe(),1),Yfe=Et(qfe(),1);var WFe="HTTPS_PROXY",$Fe="HTTP_PROXY",YFe="ALL_PROXY",zFe="NO_PROXY",tV="proxyPolicy",Gfe=[],zfe=!1,jFe=new Map;function M7(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}s(M7,"getEnvironmentValue");function KFe(){if(!process)return;let t=M7(WFe),e=M7(YFe),r=M7($Fe);return t||e||r}s(KFe,"loadEnvironmentProxyValue");function JFe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let o=!1;for(let a of e)a[0]==="."?(n.endsWith(a)||n.length===a.length-1&&n===a.slice(1))&&(o=!0):n===a&&(o=!0);return r?.set(n,o),o}s(JFe,"isBypassed");function XFe(){let t=M7(zFe);return zfe=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}s(XFe,"loadNoProxy");function ZFe(){let t=KFe();return t?new URL(t):void 0}s(ZFe,"getDefaultProxySettingsInternal");function Vfe(t){let e;try{e=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}return e.port=String(t.port),t.username&&(e.username=t.username),t.password&&(e.password=t.password),e}s(Vfe,"getUrlFromProxySettings");function Wfe(t,e,r){if(t.agent)return;let o=new URL(t.url).protocol!=="https:";t.tlsSettings&&Hl.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let a=t.headers.toJSON();o?(e.httpProxyAgent||(e.httpProxyAgent=new Yfe.HttpProxyAgent(r,{headers:a})),t.agent=e.httpProxyAgent):(e.httpsProxyAgent||(e.httpsProxyAgent=new $fe.HttpsProxyAgent(r,{headers:a})),t.agent=e.httpsProxyAgent)}s(Wfe,"setProxyAgentOnRequest");function O7(t,e){zfe||Gfe.push(...XFe());let r=t?Vfe(t):ZFe(),n={};return{name:tV,async sendRequest(o,a){var c;return!o.proxySettings&&r&&!JFe(o.url,(c=e?.customNoProxyList)!==null&&c!==void 0?c:Gfe,e?.customNoProxyList?void 0:jFe)?Wfe(o,n,r):o.proxySettings&&Wfe(o,n,Vfe(o.proxySettings)),a(o)}}}s(O7,"proxyPolicy");f();var rV="agentPolicy";function U7(t){return{name:rV,sendRequest:s(async(e,r)=>(e.agent||(e.agent=t),r(e)),"sendRequest")}}s(U7,"agentPolicy");f();var nV="tlsPolicy";function H7(t){return{name:nV,sendRequest:s(async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e)),"sendRequest")}}s(H7,"tlsPolicy");f();f();function q7(t){return typeof t.stream=="function"}s(q7,"isBlob");f();f();function jfe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:s(function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}},"next")};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}s(jfe,"__values");function Fd(t){return this instanceof Fd?(this.v=t,this):new Fd(t)}s(Fd,"__await");function iV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(g){return function(E){return Promise.resolve(E).then(g,A)}}function l(g,E){n[g]&&(o[g]=function(v){return new Promise(function(w,_){a.push([g,v,w,_])>1||u(g,v)})},E&&(o[g]=E(o[g])))}function u(g,E){try{d(n[g](E))}catch(v){p(a[0][3],v)}}function d(g){g.value instanceof Fd?Promise.resolve(g.value.v).then(h,A):p(a[0][2],g)}function h(g){u("next",g)}function A(g){u("throw",g)}function p(g,E){g(E),a.shift(),a.length&&u(a[0][0],a[0][1])}}s(iV,"__asyncGenerator");function Kfe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jfe=="function"?jfe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(c){return new Promise(function(l,u){c=t[a](c),o(l,u,c.done,c.value)})}}function o(a,c,l,u){Promise.resolve(u).then(function(d){a({value:d,done:l})},c)}}s(Kfe,"__asyncValues");var G7=require("stream");function Jfe(){return iV(this,arguments,s(function*(){let e=this.getReader();try{for(;;){let{done:r,value:n}=yield Fd(e.read());if(r)return yield Fd(void 0);yield yield Fd(n)}}finally{e.releaseLock()}},"streamAsyncIterator_1"))}s(Jfe,"streamAsyncIterator");function eLe(t){t[Symbol.asyncIterator]||(t[Symbol.asyncIterator]=Jfe.bind(t)),t.values||(t.values=Jfe.bind(t))}s(eLe,"makeAsyncIterable");function Xfe(t){return t instanceof ReadableStream?(eLe(t),G7.Readable.fromWeb(t)):t}s(Xfe,"ensureNodeStream");function tLe(t){return t instanceof Uint8Array?G7.Readable.from(Buffer.from(t)):q7(t)?Xfe(t.stream()):Xfe(t)}s(tLe,"toStream");async function Zfe(t){return function(){let e=t.map(r=>typeof r=="function"?r():r).map(tLe);return G7.Readable.from(function(){return iV(this,arguments,function*(){var r,n,o,a;for(let d of e)try{for(var c=!0,l=(n=void 0,Kfe(d)),u;u=yield Fd(l.next()),r=u.done,!r;c=!0)a=u.value,c=!1,yield yield Fd(a)}catch(h){n={error:h}}finally{try{!c&&!r&&(o=l.return)&&(yield Fd(o.call(l)))}finally{if(n)throw n.error}}})}())}}s(Zfe,"concat");function rLe(){return`----AzSDKFormBoundary${wx()}`}s(rLe,"generateBoundary");function nLe(t){let e="";for(let[r,n]of t)e+=`${r}: ${n}\r
`;return e}s(nLe,"encodeHeaders");function iLe(t){return t instanceof Uint8Array?t.byteLength:q7(t)?t.size===-1?void 0:t.size:void 0}s(iLe,"getLength");function oLe(t){let e=0;for(let r of t){let n=iLe(r);if(n===void 0)return;e+=n}return e}s(oLe,"getTotalLength");async function sLe(t,e,r){let n=[nc(`--${r}`,"utf-8"),...e.flatMap(a=>[nc(`\r
`,"utf-8"),nc(nLe(a.headers),"utf-8"),nc(`\r
`,"utf-8"),a.body,nc(`\r
--${r}`,"utf-8")]),nc(`--\r
\r
`,"utf-8")],o=oLe(n);o&&t.headers.set("Content-Length",o),t.body=await Zfe(n)}s(sLe,"buildRequestBody");var G4="multipartPolicy",aLe=70,cLe=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function lLe(t){if(t.length>aLe)throw new Error(`Multipart boundary "${t}" exceeds maximum length of 70 characters`);if(Array.from(t).some(e=>!cLe.has(e)))throw new Error(`Multipart boundary "${t}" contains invalid characters`)}s(lLe,"assertValidBoundary");function V7(){return{name:G4,async sendRequest(t,e){var r;if(!t.multipartBody)return e(t);if(t.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=t.multipartBody.boundary,o=(r=t.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",a=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!a)throw new Error(`Got multipart request body, but content-type header was not multipart: ${o}`);let[,c,l]=a;if(l&&n&&l!==n)throw new Error(`Multipart boundary was specified as ${l} in the header, but got ${n} in the request body`);return n??(n=l),n?lLe(n):n=rLe(),t.headers.set("Content-Type",`${c}; boundary=${n}`),await sLe(t,t.multipartBody.parts,n),t.multipartBody=void 0,e(t)}}}s(V7,"multipartPolicy");f();f();f();f();f();f();f();f();f();f();f();f();function W7(){return I7()}s(W7,"createEmptyPipeline");f();f();f();var Ld=Jm("core-rest-pipeline");f();f();f();f();function sV(t={}){return _7(Object.assign({logger:Ld.info},t))}s(sV,"logPolicy");f();function aV(t={}){return w7(t)}s(aV,"redirectPolicy");f();f();f();var Px=Et(require("node:os"),1),$7=Et(require("node:process"),1);function ede(){return"User-Agent"}s(ede,"getHeaderName");async function tde(t){if($7&&$7.versions){let e=$7.versions;e.bun?t.set("Bun",e.bun):e.deno?t.set("Deno",e.deno):e.node&&t.set("Node",e.node)}t.set("OS",`(${Px.arch()}-${Px.type()}-${Px.release()})`)}s(tde,"setPlatformSpecificData");f();var Y7="1.22.0";function yLe(t){let e=[];for(let[r,n]of t){let o=n?`${r}/${n}`:r;e.push(o)}return e.join(" ")}s(yLe,"getUserAgentString");function rde(){return ede()}s(rde,"getUserAgentHeaderName");async function z7(t){let e=new Map;e.set("core-rest-pipeline",Y7),await tde(e);let r=yLe(e);return t?`${t} ${r}`:r}s(z7,"getUserAgentValue");var nde=rde(),ide="userAgentPolicy";function cV(t={}){let e=z7(t.userAgentPrefix);return{name:ide,async sendRequest(r,n){return r.headers.has(nde)||r.headers.set(nde,await e),n(r)}}}s(cV,"userAgentPolicy");f();f();var ode=Symbol("rawContent");function lV(t){return typeof t[ode]=="function"}s(lV,"hasRawContent");function sde(t){return lV(t)?t[ode]():t}s(sde,"getRawContent");var j7=G4;function uV(){let t=V7();return{name:j7,sendRequest:s(async(e,r)=>{if(e.multipartBody)for(let n of e.multipartBody.parts)lV(n.body)&&(n.body=sde(n.body));return t.sendRequest(e,r)},"sendRequest")}}s(uV,"multipartPolicy");f();function fV(){return S7()}s(fV,"decompressResponsePolicy");f();function dV(t={}){return R7(t)}s(dV,"defaultRetryPolicy");f();function hV(){return k7()}s(hV,"formDataPolicy");f();function AV(t,e){return O7(t,e)}s(AV,"proxyPolicy");f();var ade="setClientRequestIdPolicy";function pV(t="x-ms-client-request-id"){return{name:ade,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}s(pV,"setClientRequestIdPolicy");f();function mV(t){return U7(t)}s(mV,"agentPolicy");f();function gV(t){return H7(t)}s(gV,"tlsPolicy");f();f();var Fx=Ta;function V4(t){return x7(t)}s(V4,"isRestError");var cde="tracingPolicy";function yV(t={}){let e=z7(t.userAgentPrefix),r=new Xu({additionalAllowedQueryParameters:t.additionalAllowedQueryParameters}),n=CLe();return{name:cde,async sendRequest(o,a){var c;if(!n)return a(o);let l=await e,u={"http.url":r.sanitizeUrl(o.url),"http.method":o.method,"http.user_agent":l,requestId:o.requestId};l&&(u["http.user_agent"]=l);let{span:d,tracingContext:h}=(c=ELe(n,o,u))!==null&&c!==void 0?c:{};if(!d||!h)return a(o);try{let A=await n.withContext(h,a,o);return xLe(d,A),A}catch(A){throw ILe(d,A),A}}}}s(yV,"tracingPolicy");function CLe(){try{return h_({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:Y7})}catch(t){Ld.warning(`Error when creating the TracingClient: ${Sx(t)}`);return}}s(CLe,"tryCreateTracingClient");function ELe(t,e,r){try{let{span:n,updatedOptions:o}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let a=t.createRequestHeaders(o.tracingOptions.tracingContext);for(let[c,l]of Object.entries(a))e.headers.set(c,l);return{span:n,tracingContext:o.tracingOptions.tracingContext}}catch(n){Ld.warning(`Skipping creating a tracing span due to an error: ${Sx(n)}`);return}}s(ELe,"tryCreateSpan");function ILe(t,e){try{t.setStatus({status:"error",error:h7(e)?e:void 0}),V4(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){Ld.warning(`Skipping tracing span processing due to an error: ${Sx(r)}`)}}s(ILe,"tryProcessError");function xLe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),e.status>=400&&t.setStatus({status:"error"}),t.end()}catch(r){Ld.warning(`Skipping tracing span processing due to an error: ${Sx(r)}`)}}s(xLe,"tryProcessResponse");f();f();function K7(t){if(t instanceof AbortSignal)return{abortSignal:t};if(t.aborted)return{abortSignal:AbortSignal.abort(t.reason)};let e=new AbortController,r=!0;function n(){r&&(t.removeEventListener("abort",o),r=!1)}s(n,"cleanup");function o(){e.abort(t.reason),n()}return s(o,"listener"),t.addEventListener("abort",o),{abortSignal:e.signal,cleanup:n}}s(K7,"wrapAbortSignalLike");var vLe="wrapAbortSignalLikePolicy";function lde(){return{name:vLe,sendRequest:s(async(t,e)=>{if(!t.abortSignal)return e(t);let{abortSignal:r,cleanup:n}=K7(t.abortSignal);t.abortSignal=r;try{return await e(t)}finally{n?.()}},"sendRequest")}}s(lde,"wrapAbortSignalLikePolicy");function CV(t){var e;let r=W7();return Bx&&(t.agent&&r.addPolicy(mV(t.agent)),t.tlsOptions&&r.addPolicy(gV(t.tlsOptions)),r.addPolicy(AV(t.proxyOptions)),r.addPolicy(fV())),r.addPolicy(lde()),r.addPolicy(hV(),{beforePolicies:[j7]}),r.addPolicy(cV(t.userAgentOptions)),r.addPolicy(pV((e=t.telemetryOptions)===null||e===void 0?void 0:e.clientRequestIdHeaderName)),r.addPolicy(uV(),{afterPhase:"Deserialize"}),r.addPolicy(dV(t.retryOptions),{phase:"Retry"}),r.addPolicy(yV(Object.assign(Object.assign({},t.userAgentOptions),t.loggingOptions)),{afterPhase:"Retry"}),Bx&&r.addPolicy(aV(t.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(sV(t.loggingOptions),{afterPhase:"Sign"}),r}s(CV,"createPipelineFromOptions");f();function EV(){let t=T7();return{async sendRequest(e){let{abortSignal:r,cleanup:n}=e.abortSignal?K7(e.abortSignal):{};try{return e.abortSignal=r,await t.sendRequest(e)}finally{n?.()}}}}s(EV,"createDefaultHttpClient");f();function vg(t){return Vc(t)}s(vg,"createHttpHeaders");f();function Zu(t){return E7(t)}s(Zu,"createPipelineRequest");f();f();f();f();var TLe=Jm("core-rest-pipeline retryPolicy");function IV(t,e={maxRetries:3}){return Ig(t,Object.assign({logger:TLe},e))}s(IV,"retryPolicy");f();f();var _Le={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function wLe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let a=await t();if(a===null)throw new Error("Failed to refresh access token.");return a}}s(n,"tryGetAccessToken");let o=await n();for(;o===null;)await wG(e),o=await n();return o}s(wLe,"beginRefresh");function xV(t,e){let r=null,n=null,o,a=Object.assign(Object.assign({},_Le),e),c={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return c.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((u=n?.expiresOnTimestamp)!==null&&u!==void 0?u:0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function l(u,d){var h;return c.isRefreshing||(r=wLe(s(()=>t.getToken(u,d),"tryGetAccessToken"),a.retryIntervalInMs,(h=n?.expiresOnTimestamp)!==null&&h!==void 0?h:Date.now()).then(p=>(r=null,n=p,o=d.tenantId,n)).catch(p=>{throw r=null,n=null,o=void 0,p})),r}return s(l,"refresh"),async(u,d)=>{let h=!!d.claims,A=o!==d.tenantId;return h&&(n=null),A||h||c.mustRefresh?l(u,d):(c.shouldRefresh&&l(u,d),n)}}s(xV,"createTokenCycler");var hde="bearerTokenAuthenticationPolicy";async function J7(t,e){try{return[await e(t),void 0]}catch(r){if(V4(r)&&r.response)return[r.response,r];throw r}}s(J7,"trySendRequest");async function SLe(t){let{scopes:e,getAccessToken:r,request:n}=t,o={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},a=await r(e,o);a&&t.request.headers.set("Authorization",`Bearer ${a.token}`)}s(SLe,"defaultAuthorizeRequest");function ude(t){return t.status===401&&t.headers.has("WWW-Authenticate")}s(ude,"isChallengeResponse");async function fde(t,e){var r;let{scopes:n}=t,o=await t.getAccessToken(n,{enableCae:!0,claims:e});return o?(t.request.headers.set("Authorization",`${(r=o.tokenType)!==null&&r!==void 0?r:"Bearer"} ${o.token}`),!0):!1}s(fde,"authorizeRequestOnCaeChallenge");function X7(t){var e,r,n;let{credential:o,scopes:a,challengeCallbacks:c}=t,l=t.logger||Ld,u={authorizeRequest:(r=(e=c?.authorizeRequest)===null||e===void 0?void 0:e.bind(c))!==null&&r!==void 0?r:SLe,authorizeRequestOnChallenge:(n=c?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(c)},d=o?xV(o):()=>Promise.resolve(null);return{name:hde,async sendRequest(h,A){if(!h.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await u.authorizeRequest({scopes:Array.isArray(a)?a:[a],request:h,getAccessToken:d,logger:l});let p,g,E;if([p,g]=await J7(h,A),ude(p)){let v=dde(p.headers.get("WWW-Authenticate"));if(v){let w;try{w=atob(v)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),p}E=await fde({scopes:Array.isArray(a)?a:[a],response:p,request:h,getAccessToken:d,logger:l},w),E&&([p,g]=await J7(h,A))}else if(u.authorizeRequestOnChallenge&&(E=await u.authorizeRequestOnChallenge({scopes:Array.isArray(a)?a:[a],request:h,response:p,getAccessToken:d,logger:l}),E&&([p,g]=await J7(h,A)),ude(p)&&(v=dde(p.headers.get("WWW-Authenticate")),v))){let w;try{w=atob(v)}catch{return l.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${v}`),p}E=await fde({scopes:Array.isArray(a)?a:[a],response:p,request:h,getAccessToken:d,logger:l},w),E&&([p,g]=await J7(h,A))}}if(g)throw g;return p}}}s(X7,"bearerTokenAuthenticationPolicy");function BLe(t){let e=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[],o;for(;(o=e.exec(t))!==null;){let a=o[1],c=o[2],l={},u;for(;(u=r.exec(c))!==null;)l[u[1]]=u[2];n.push({scheme:a,params:l})}return n}s(BLe,"parseChallenges");function dde(t){var e;return t?(e=BLe(t).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||e===void 0?void 0:e.params.claims:void 0}s(dde,"getCaeChallengeClaims");f();f();f();f();f();f();var pde=Et(Ade(),1),vV=pde.state;function bg(t,e,r){let n=e.parameterPath,o=e.mapper,a;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(o.isConstant)a=o.defaultValue;else{let c=mde(t,n);!c.propertyFound&&r&&(c=mde(r,n));let l=!1;c.propertyFound||(l=o.required||n[0]==="options"&&n.length===2),a=l?o.defaultValue:c.propertyValue}}else{o.required&&(a={});for(let c in n){let l=o.type.modelProperties[c],u=n[c],d=bg(t,{parameterPath:u,mapper:l},r);d!==void 0&&(a||(a={}),a[c]=d)}}return a}s(bg,"getOperationArgumentValueFromParameter");function mde(t,e){let r={propertyFound:!1},n=0;for(;n<e.length;++n){let o=e[n];if(t&&o in t)t=t[o];else break}return n===e.length&&(r.propertyValue=t,r.propertyFound=!0),r}s(mde,"getPropertyFromParameterPath");var gde=Symbol.for("@azure/core-client original request");function RLe(t){return gde in t}s(RLe,"hasOriginalRequest");function gA(t){if(RLe(t))return gA(t[gde]);let e=vV.operationRequestMap.get(t);return e||(e={},vV.operationRequestMap.set(t,e)),e}s(gA,"getOperationRequestInfo");var kLe=["application/json","text/json"],DLe=["application/xml","application/atom+xml"],yde="deserializationPolicy";function bV(t={}){var e,r,n,o,a,c,l;let u=(r=(e=t.expectedContentTypes)===null||e===void 0?void 0:e.json)!==null&&r!==void 0?r:kLe,d=(o=(n=t.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&o!==void 0?o:DLe,h=t.parseXML,A=t.serializerOptions,p={xml:{rootName:(a=A?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=A?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=A?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}};return{name:yde,async sendRequest(g,E){let v=await E(g);return PLe(u,d,v,p,h)}}}s(bV,"deserializationPolicy");function NLe(t){let e,r=t.request,n=gA(r),o=n?.operationSpec;return o&&(n?.operationResponseGetter?e=n?.operationResponseGetter(o,t):e=o.responses[t.status]),e}s(NLe,"getOperationResponseMap");function QLe(t){let e=t.request,r=gA(e),n=r?.shouldDeserialize,o;return n===void 0?o=!0:typeof n=="boolean"?o=n:o=n(t),o}s(QLe,"shouldDeserializeResponse");async function PLe(t,e,r,n,o){let a=await MLe(t,e,r,n,o);if(!QLe(a))return a;let c=gA(a.request),l=c?.operationSpec;if(!l||!l.responses)return a;let u=NLe(a),{error:d,shouldReturnResponse:h}=LLe(a,l,u,n);if(d)throw d;if(h)return a;if(u){if(u.bodyMapper){let A=a.parsedBody;l.isXML&&u.bodyMapper.type.name===Dd.Sequence&&(A=typeof A=="object"?A[u.bodyMapper.xmlElementName]:[]);try{a.parsedBody=l.serializer.deserialize(u.bodyMapper,A,"operationRes.parsedBody",n)}catch(p){throw new Fx(`Error ${p} occurred in deserializing the responseBody - ${a.bodyAsText}`,{statusCode:a.status,request:a.request,response:a})}}else l.httpMethod==="HEAD"&&(a.parsedBody=r.status>=200&&r.status<300);u.headersMapper&&(a.parsedHeaders=l.serializer.deserialize(u.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return a}s(PLe,"deserializeResponseBody");function FLe(t){let e=Object.keys(t.responses);return e.length===0||e.length===1&&e[0]==="default"}s(FLe,"isOperationSpecEmpty");function LLe(t,e,r,n){var o;let a=200<=t.status&&t.status<300;if(FLe(e)?a:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};let l=r??e.responses.default,u=!((o=t.request.streamResponseStatusCodes)===null||o===void 0)&&o.has(t.status)?`Unexpected status code: ${t.status}`:t.bodyAsText,d=new Fx(u,{statusCode:t.status,request:t.request,response:t});if(!l)throw d;let h=l.bodyMapper,A=l.headersMapper;try{if(t.parsedBody){let p=t.parsedBody,g;if(h){let v=p;if(e.isXML&&h.type.name===Dd.Sequence){v=[];let w=h.xmlElementName;typeof p=="object"&&w&&(v=p[w])}g=e.serializer.deserialize(h,v,"error.response.parsedBody",n)}let E=p.error||g||p;d.code=E.code,E.message&&(d.message=E.message),h&&(d.response.parsedBody=g)}t.headers&&A&&(d.response.parsedHeaders=e.serializer.deserialize(A,t.headers.toJSON(),"operationRes.parsedHeaders"))}catch(p){d.message=`Error "${p.message}" occurred in deserializing the responseBody - "${t.bodyAsText}" for the default response.`}return{error:d,shouldReturnResponse:!1}}s(LLe,"handleErrorResponse");async function MLe(t,e,r,n,o){var a;if(!(!((a=r.request.streamResponseStatusCodes)===null||a===void 0)&&a.has(r.status))&&r.bodyAsText){let c=r.bodyAsText,l=r.headers.get("Content-Type")||"",u=l?l.split(";").map(d=>d.toLowerCase()):[];try{if(u.length===0||u.some(d=>t.indexOf(d)!==-1))return r.parsedBody=JSON.parse(c),r;if(u.some(d=>e.indexOf(d)!==-1)){if(!o)throw new Error("Parsing XML not supported.");let d=await o(c,n.xml);return r.parsedBody=d,r}}catch(d){let h=`Error "${d}" occurred while parsing the response body - ${r.bodyAsText}.`,A=d.code||Fx.PARSE_ERROR;throw new Fx(h,{code:A,statusCode:r.status,request:r.request,response:r})}}return r}s(MLe,"parse");f();f();function Cde(t){let e=new Set;for(let r in t.responses){let n=t.responses[r];n.bodyMapper&&n.bodyMapper.type.name===Dd.Stream&&e.add(Number(r))}return e}s(Cde,"getStreamingResponseStatusCodes");function Md(t){let{parameterPath:e,mapper:r}=t,n;return typeof e=="string"?n=e:Array.isArray(e)?n=e.join("."):n=r.serializedName,n}s(Md,"getPathStringFromParameter");var Ede="serializationPolicy";function TV(t={}){let e=t.stringifyXML;return{name:Ede,async sendRequest(r,n){let o=gA(r),a=o?.operationSpec,c=o?.operationArguments;return a&&c&&(OLe(r,c,a),ULe(r,c,a,e)),n(r)}}}s(TV,"serializationPolicy");function OLe(t,e,r){var n,o;if(r.headerParameters)for(let c of r.headerParameters){let l=bg(e,c);if(l!=null||c.mapper.required){l=r.serializer.serialize(c.mapper,l,Md(c));let u=c.mapper.headerCollectionPrefix;if(u)for(let d of Object.keys(l))t.headers.set(u+d,l[d]);else t.headers.set(c.mapper.serializedName||Md(c),l)}}let a=(o=(n=e.options)===null||n===void 0?void 0:n.requestOptions)===null||o===void 0?void 0:o.customHeaders;if(a)for(let c of Object.keys(a))t.headers.set(c,a[c])}s(OLe,"serializeHeaders");function ULe(t,e,r,n=function(){throw new Error("XML serialization unsupported!")}){var o,a,c,l,u;let d=(o=e.options)===null||o===void 0?void 0:o.serializerOptions,h={xml:{rootName:(a=d?.xml.rootName)!==null&&a!==void 0?a:"",includeRoot:(c=d?.xml.includeRoot)!==null&&c!==void 0?c:!1,xmlCharKey:(l=d?.xml.xmlCharKey)!==null&&l!==void 0?l:"_"}},A=h.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){t.body=bg(e,r.requestBody);let p=r.requestBody.mapper,{required:g,serializedName:E,xmlName:v,xmlElementName:w,xmlNamespace:_,xmlNamespacePrefix:S,nullable:D}=p,N=p.type.name;try{if(t.body!==void 0&&t.body!==null||D&&t.body===null||g){let P=Md(r.requestBody);t.body=r.serializer.serialize(p,t.body,P,h);let O=N===Dd.Stream;if(r.isXML){let Y=S?`xmlns:${S}`:"xmlns",ne=HLe(_,Y,N,t.body,h);N===Dd.Sequence?t.body=n(qLe(ne,w||v||E,Y,_),{rootName:v||E,xmlCharKey:A}):O||(t.body=n(ne,{rootName:v||E,xmlCharKey:A}))}else{if(N===Dd.String&&(!((u=r.contentType)===null||u===void 0)&&u.match("text/plain")||r.mediaType==="text"))return;O||(t.body=JSON.stringify(t.body))}}}catch(P){throw new Error(`Error "${P.message}" occurred in serializing the payload - ${JSON.stringify(E,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(let p of r.formDataParameters){let g=bg(e,p);if(g!=null){let E=p.mapper.serializedName||Md(p);t.formData[E]=r.serializer.serialize(p.mapper,g,Md(p),h)}}}}s(ULe,"serializeRequestBody");function HLe(t,e,r,n,o){if(t&&!["Composite","Sequence","Dictionary"].includes(r)){let a={};return a[o.xml.xmlCharKey]=n,a["$"]={[e]:t},a}return n}s(HLe,"getXmlValueWithNamespace");function qLe(t,e,r,n){if(Array.isArray(t)||(t=[t]),!r||!n)return{[e]:t};let o={[e]:t};return o["$"]={[r]:n},o}s(qLe,"prepareXMLRootList");function _V(t={}){let e=CV(t??{});return t.credentialOptions&&e.addPolicy(X7({credential:t.credentialOptions.credential,scopes:t.credentialOptions.credentialScopes})),e.addPolicy(TV(t.serializationOptions),{phase:"Serialize"}),e.addPolicy(bV(t.deserializationOptions),{phase:"Deserialize"}),e}s(_V,"createClientPipeline");f();var wV;function Ide(){return wV||(wV=EV()),wV}s(Ide,"getCachedDefaultHttpClient");f();var GLe={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function vde(t,e,r,n){let o=VLe(e,r,n),a=!1,c=xde(t,o);if(e.path){let d=xde(e.path,o);e.path==="/{nextLink}"&&d.startsWith("/")&&(d=d.substring(1)),WLe(d)?(c=d,a=!0):c=$Le(c,d)}let{queryParams:l,sequenceParams:u}=YLe(e,r,n);return c=jLe(c,l,u,a),c}s(vde,"getRequestUrl");function xde(t,e){let r=t;for(let[n,o]of e)r=r.split(n).join(o);return r}s(xde,"replaceAll");function VLe(t,e,r){var n;let o=new Map;if(!((n=t.urlParameters)===null||n===void 0)&&n.length)for(let a of t.urlParameters){let c=bg(e,a,r),l=Md(a);c=t.serializer.serialize(a.mapper,c,l),a.skipEncoding||(c=encodeURIComponent(c)),o.set(`{${a.mapper.serializedName||l}}`,c)}return o}s(VLe,"calculateUrlReplacements");function WLe(t){return t.includes("://")}s(WLe,"isAbsoluteUrl");function $Le(t,e){if(!e)return t;let r=new URL(t),n=r.pathname;n.endsWith("/")||(n=`${n}/`),e.startsWith("/")&&(e=e.substring(1));let o=e.indexOf("?");if(o!==-1){let a=e.substring(0,o),c=e.substring(o+1);n=n+a,c&&(r.search=r.search?`${r.search}&${c}`:c)}else n=n+e;return r.pathname=n,r.toString()}s($Le,"appendPath");function YLe(t,e,r){var n;let o=new Map,a=new Set;if(!((n=t.queryParameters)===null||n===void 0)&&n.length)for(let c of t.queryParameters){c.mapper.type.name==="Sequence"&&c.mapper.serializedName&&a.add(c.mapper.serializedName);let l=bg(e,c,r);if(l!=null||c.mapper.required){l=t.serializer.serialize(c.mapper,l,Md(c));let u=c.collectionFormat?GLe[c.collectionFormat]:"";if(Array.isArray(l)&&(l=l.map(d=>d??"")),c.collectionFormat==="Multi"&&l.length===0)continue;Array.isArray(l)&&(c.collectionFormat==="SSV"||c.collectionFormat==="TSV")&&(l=l.join(u)),c.skipEncoding||(Array.isArray(l)?l=l.map(d=>encodeURIComponent(d)):l=encodeURIComponent(l)),Array.isArray(l)&&(c.collectionFormat==="CSV"||c.collectionFormat==="Pipes")&&(l=l.join(u)),o.set(c.mapper.serializedName||Md(c),l)}}return{queryParams:o,sequenceParams:a}}s(YLe,"calculateQueryParameters");function zLe(t){let e=new Map;if(!t||t[0]!=="?")return e;t=t.slice(1);let r=t.split("&");for(let n of r){let[o,a]=n.split("=",2),c=e.get(o);c?Array.isArray(c)?c.push(a):e.set(o,[c,a]):e.set(o,a)}return e}s(zLe,"simpleParseQueryParams");function jLe(t,e,r,n=!1){if(e.size===0)return t;let o=new URL(t),a=zLe(o.search);for(let[l,u]of e){let d=a.get(l);if(Array.isArray(d))if(Array.isArray(u)){d.push(...u);let h=new Set(d);a.set(l,Array.from(h))}else d.push(u);else d?(Array.isArray(u)?u.unshift(d):r.has(l)&&a.set(l,[d,u]),n||a.set(l,u)):a.set(l,u)}let c=[];for(let[l,u]of a)if(typeof u=="string")c.push(`${l}=${u}`);else if(Array.isArray(u))for(let d of u)c.push(`${l}=${d}`);else c.push(`${l}=${u}`);return o.search=c.length?`?${c.join("&")}`:"",o.toString()}s(jLe,"appendQueryParams");f();var SV=Jm("core-client");var W4=class{static{s(this,"ServiceClient")}constructor(e={}){var r,n;if(this._requestContentType=e.requestContentType,this._endpoint=(r=e.endpoint)!==null&&r!==void 0?r:e.baseUri,e.baseUri&&SV.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||Ide(),this.pipeline=e.pipeline||KLe(e),!((n=e.additionalPolicies)===null||n===void 0)&&n.length)for(let{policy:o,position:a}of e.additionalPolicies){let c=a==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(o,{afterPhase:c})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,r){let n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let o=vde(n,r,e,this),a=Zu({url:o});a.method=r.httpMethod;let c=gA(a);c.operationSpec=r,c.operationArguments=e;let l=r.contentType||this._requestContentType;l&&r.requestBody&&a.headers.set("Content-Type",l);let u=e.options;if(u){let d=u.requestOptions;d&&(d.timeout&&(a.timeout=d.timeout),d.onUploadProgress&&(a.onUploadProgress=d.onUploadProgress),d.onDownloadProgress&&(a.onDownloadProgress=d.onDownloadProgress),d.shouldDeserialize!==void 0&&(c.shouldDeserialize=d.shouldDeserialize),d.allowInsecureConnection&&(a.allowInsecureConnection=!0)),u.abortSignal&&(a.abortSignal=u.abortSignal),u.tracingOptions&&(a.tracingOptions=u.tracingOptions)}this._allowInsecureConnection&&(a.allowInsecureConnection=!0),a.streamResponseStatusCodes===void 0&&(a.streamResponseStatusCodes=Cde(r));try{let d=await this.sendRequest(a),h=kG(d,r.responses[d.status]);return u?.onResponse&&u.onResponse(d,h),h}catch(d){if(typeof d=="object"&&d?.response){let h=d.response,A=kG(h,r.responses[d.statusCode]||r.responses.default);d.details=A,u?.onResponse&&u.onResponse(h,A,d)}throw d}}};function KLe(t){let e=JLe(t),r=t.credential&&e?{credentialScopes:e,credential:t.credential}:void 0;return _V(Object.assign(Object.assign({},t),{credentialOptions:r}))}s(KLe,"createDefaultPipeline");function JLe(t){if(t.credentialScopes)return t.credentialScopes;if(t.endpoint)return`${t.endpoint}/.default`;if(t.baseUri)return`${t.baseUri}/.default`;if(t.credential&&!t.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}s(JLe,"getCredentialScopes");f();f();f();function bde(t){return t==="adfs"?"oauth2/token":"oauth2/v2.0/token"}s(bde,"getIdentityTokenEndpointSuffix");f();var Tde="/.default",_de="Specifying a `clientId` or `resourceId` is not supported by the Service Fabric managed identity environment. The managed identity configuration is determined by the Service Fabric cluster resource configuration. See https://aka.ms/servicefabricmi for more information";function $4(t){let e="";if(Array.isArray(t)){if(t.length!==1)return;e=t[0]}else typeof t=="string"&&(e=t);return e.endsWith(Tde)?e.substr(0,e.lastIndexOf(Tde)):e}s($4,"mapScopesToResource");function wde(t){if(typeof t.expires_on=="number")return t.expires_on*1e3;if(typeof t.expires_on=="string"){let e=+t.expires_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.expires_on);if(!isNaN(r))return r}if(typeof t.expires_in=="number")return Date.now()+t.expires_in*1e3;throw new Error(`Failed to parse token expiration from body. expires_in="${t.expires_in}", expires_on="${t.expires_on}"`)}s(wde,"parseExpirationTimestamp");function Sde(t){if(t.refresh_on){if(typeof t.refresh_on=="number")return t.refresh_on*1e3;if(typeof t.refresh_on=="string"){let e=+t.refresh_on;if(!isNaN(e))return e*1e3;let r=Date.parse(t.refresh_on);if(!isNaN(r))return r}throw new Error(`Failed to parse refresh_on from body. refresh_on="${t.refresh_on}"`)}else return}s(Sde,"parseRefreshTimestamp");var Y4="noCorrelationId";function XLe(t){let e=t?.authorityHost;return A7&&(e=e??process.env.AZURE_AUTHORITY_HOST),e??u_}s(XLe,"getIdentityClientAuthorityHost");var Tg=class extends W4{static{s(this,"IdentityClient")}authorityHost;allowLoggingAccountIdentifiers;abortControllers;allowInsecureConnection=!1;tokenCredentialOptions;constructor(e){let r=`azsdk-js-identity/${_R}`,n=e?.userAgentOptions?.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,o=XLe(e);if(!o.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");super({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3},...e,userAgentOptions:{userAgentPrefix:n},baseUri:o}),this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=e?.loggingOptions?.allowLoggingAccountIdentifiers,this.tokenCredentialOptions={...e},e?.allowInsecureConnection&&(this.allowInsecureConnection=e.allowInsecureConnection)}async sendTokenRequest(e){Lc.info(`IdentityClient: sending token request to [${e.url}]`);let r=await this.sendRequest(e);if(r.bodyAsText&&(r.status===200||r.status===201)){let n=JSON.parse(r.bodyAsText);if(!n.access_token)return null;this.logIdentifiers(r);let o={accessToken:{token:n.access_token,expiresOnTimestamp:wde(n),refreshAfterTimestamp:Sde(n),tokenType:"Bearer"},refreshToken:n.refresh_token};return Lc.info(`IdentityClient: [${e.url}] token acquired, expires on ${o.accessToken.expiresOnTimestamp}`),o}else{let n=new Km(r.status,r.bodyAsText);throw Lc.warning(`IdentityClient: authentication error. HTTP status: ${r.status}, ${n.errorResponse.errorDescription}`),n}}async refreshAccessToken(e,r,n,o,a,c={}){if(o===void 0)return null;Lc.info(`IdentityClient: refreshing access token with client ID: ${r}, scopes: ${n} started`);let l={grant_type:"refresh_token",client_id:r,refresh_token:o,scope:n};a!==void 0&&(l.client_secret=a);let u=new URLSearchParams(l);return Ai.withSpan("IdentityClient.refreshAccessToken",c,async d=>{try{let h=bde(e),A=Zu({url:`${this.authorityHost}/${e}/${h}`,method:"POST",body:u.toString(),abortSignal:c.abortSignal,headers:vg({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:d.tracingOptions}),p=await this.sendTokenRequest(A);return Lc.info(`IdentityClient: refreshed token for client ID: ${r}`),p}catch(h){if(h.name===SR&&h.errorResponse.error==="interaction_required")return Lc.info(`IdentityClient: interaction required for client ID: ${r}`),null;throw Lc.warning(`IdentityClient: failed refreshing token for client ID: ${r}: ${h}`),h}})}generateAbortSignal(e){let r=new AbortController,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);let o=r.signal.onabort;return r.signal.onabort=(...a)=>{this.abortControllers.set(e,void 0),o&&o.apply(r.signal,a)},r.signal}abortRequests(e){let r=e||Y4,n=[...this.abortControllers.get(r)||[],...this.abortControllers.get(Y4)||[]];if(n.length){for(let o of n)o.abort();this.abortControllers.set(r,void 0)}}getCorrelationId(e){let r=e?.body?.split("&").map(n=>n.split("=")).find(([n])=>n==="client-request-id");return r&&r.length&&r[1]||Y4}async sendGetRequestAsync(e,r){let n=Zu({url:e,method:"GET",body:r?.body,allowInsecureConnection:this.allowInsecureConnection,headers:vg(r?.headers),abortSignal:this.generateAbortSignal(Y4)}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}async sendPostRequestAsync(e,r){let n=Zu({url:e,method:"POST",body:r?.body,headers:vg(r?.headers),allowInsecureConnection:this.allowInsecureConnection,abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),o=await this.sendRequest(n);return this.logIdentifiers(o),{body:o.bodyAsText?JSON.parse(o.bodyAsText):void 0,headers:o.headers.toJSON(),status:o.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(!this.allowLoggingAccountIdentifiers||!e.bodyAsText)return;let r="No User Principal Name available";try{let o=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!o)return;let a=o.split(".")[1],{appid:c,upn:l,tid:u,oid:d}=JSON.parse(Buffer.from(a,"base64").toString("utf8"));Lc.info(`[Authenticated account] Client ID: ${c}. Tenant ID: ${u}. User Principal Name: ${l||r}. Object ID (user): ${d}`)}catch(n){Lc.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",n.message)}}};f();var BV;(function(t){t.AutoDiscoverRegion="AutoDiscoverRegion",t.USWest="westus",t.USWest2="westus2",t.USCentral="centralus",t.USEast="eastus",t.USEast2="eastus2",t.USNorthCentral="northcentralus",t.USSouthCentral="southcentralus",t.USWestCentral="westcentralus",t.CanadaCentral="canadacentral",t.CanadaEast="canadaeast",t.BrazilSouth="brazilsouth",t.EuropeNorth="northeurope",t.EuropeWest="westeurope",t.UKSouth="uksouth",t.UKWest="ukwest",t.FranceCentral="francecentral",t.FranceSouth="francesouth",t.SwitzerlandNorth="switzerlandnorth",t.SwitzerlandWest="switzerlandwest",t.GermanyNorth="germanynorth",t.GermanyWestCentral="germanywestcentral",t.NorwayWest="norwaywest",t.NorwayEast="norwayeast",t.AsiaEast="eastasia",t.AsiaSouthEast="southeastasia",t.JapanEast="japaneast",t.JapanWest="japanwest",t.AustraliaEast="australiaeast",t.AustraliaSouthEast="australiasoutheast",t.AustraliaCentral="australiacentral",t.AustraliaCentral2="australiacentral2",t.IndiaCentral="centralindia",t.IndiaSouth="southindia",t.IndiaWest="westindia",t.KoreaSouth="koreasouth",t.KoreaCentral="koreacentral",t.UAECentral="uaecentral",t.UAENorth="uaenorth",t.SouthAfricaNorth="southafricanorth",t.SouthAfricaWest="southafricawest",t.ChinaNorth="chinanorth",t.ChinaEast="chinaeast",t.ChinaNorth2="chinanorth2",t.ChinaEast2="chinaeast2",t.GermanyCentral="germanycentral",t.GermanyNorthEast="germanynortheast",t.GovernmentUSVirginia="usgovvirginia",t.GovernmentUSIowa="usgoviowa",t.GovernmentUSArizona="usgovarizona",t.GovernmentUSTexas="usgovtexas",t.GovernmentUSDodEast="usdodeast",t.GovernmentUSDodCentral="usdodcentral"})(BV||(BV={}));function ek(t){let e=t;return e===void 0&&globalThis.process?.env?.AZURE_REGIONAL_AUTHORITY_NAME!==void 0&&(e=process.env.AZURE_REGIONAL_AUTHORITY_NAME),e===BV.AutoDiscoverRegion?"AUTO_DISCOVER":e}s(ek,"calculateRegionalAuthority");f();f();function ZLe(t){return`The current credential is not configured to acquire tokens for tenant ${t}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`}s(ZLe,"createConfigurationErrorMessage");function To(t,e,r=[],n){let o;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||t==="adfs"?o=t:o=e?.tenantId??t,t&&o!==t&&!r.includes("*")&&!r.some(a=>a.localeCompare(o)===0)){let a=ZLe(o);throw n?.info(a),new Ot(a)}return o}s(To,"processMultiTenantRequest");function ea(t,e){if(!e.match(/^[0-9a-zA-Z-.]+$/)){let r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw t.info(Pn("",r)),r}}s(ea,"checkTenantId");function Lx(t,e,r){return e?(ea(t,e),e):(r||(r=zy),r!==zy?"common":"organizations")}s(Lx,"resolveTenantId");function Mo(t){return!t||t.length===0?[]:t.includes("*")?Fse:t}s(Mo,"resolveAdditionallyAllowedTenantIds");var I0=kr("MsalClient");function mMe(t,e,r={}){let n=Lx(r.logger??I0,e,t),o=BG(n,SG(r)),a=new Tg({...r.tokenCredentialOptions,authorityHost:o,loggingOptions:r.loggingOptions});return{auth:{clientId:t,authority:o,knownAuthorities:Gue(n,o,r.disableInstanceDiscovery)},system:{networkClient:a,loggerOptions:{loggerCallback:p7(r.logger??I0),logLevel:m7(NR()),piiLoggingEnabled:r.loggingOptions?.enableUnsafeSupportLogging}}}}s(mMe,"generateMsalConfiguration");function ja(t,e,r={}){let n={msalConfig:mMe(t,e,r),cachedAccount:r.authenticationRecord?Vue(r.authenticationRecord):null,pluginConfiguration:qse.generatePluginConfiguration(r),logger:r.logger??I0},o=new Map;async function a(Y={}){let ne=Y.enableCae?"CAE":"default",oe=o.get(ne);if(oe)return n.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),oe;n.logger.getToken.info(`Creating new PublicClientApplication with CAE ${Y.enableCae?"enabled":"disabled"}.`);let he=Y.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=Y.enableCae?["cp1"]:void 0,oe=new xx({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await he}}),o.set(ne,oe),oe}s(a,"getPublicApp");let c=new Map;async function l(Y={}){let ne=Y.enableCae?"CAE":"default",oe=c.get(ne);if(oe)return n.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),oe;n.logger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${Y.enableCae?"enabled":"disabled"}.`);let he=Y.enableCae?n.pluginConfiguration.cache.cachePluginCae:n.pluginConfiguration.cache.cachePlugin;return n.msalConfig.auth.clientCapabilities=Y.enableCae?["cp1"]:void 0,oe=new bx({...n.msalConfig,broker:{nativeBrokerPlugin:n.pluginConfiguration.broker.nativeBrokerPlugin},cache:{cachePlugin:await he}}),c.set(ne,oe),oe}s(l,"getConfidentialApp");async function u(Y,ne,oe={}){if(n.cachedAccount===null)throw n.logger.getToken.info("No cached account found in local state."),new Pl({scopes:ne});oe.claims&&(n.cachedClaims=oe.claims);let he={account:n.cachedAccount,scopes:ne,claims:n.cachedClaims};n.pluginConfiguration.broker.isEnabled&&(he.tokenQueryParameters||={},n.pluginConfiguration.broker.enableMsaPassthrough&&(he.tokenQueryParameters.msal_request_type="consumer_passthrough")),oe.proofOfPossessionOptions&&(he.shrNonce=oe.proofOfPossessionOptions.nonce,he.authenticationScheme="pop",he.resourceRequestMethod=oe.proofOfPossessionOptions.resourceRequestMethod,he.resourceRequestUri=oe.proofOfPossessionOptions.resourceRequestUrl),n.logger.getToken.info("Attempting to acquire token silently");try{return await Y.acquireTokenSilent(he)}catch($){throw GC(ne,$,oe)}}s(u,"getTokenSilent");function d(Y){return Y?.tenantId?BG(Y.tenantId,SG(r)):n.msalConfig.auth.authority}s(d,"calculateRequestAuthority");async function h(Y,ne,oe,he){let $=null;try{$=await u(Y,ne,oe)}catch(K){if(K.name!=="AuthenticationRequiredError")throw K;if(oe.disableAutomaticAuthentication)throw new Pl({scopes:ne,getTokenOptions:oe,message:"Automatic authentication has been disabled. You may call the authentication() method."})}if($===null)try{$=await he()}catch(K){throw GC(ne,K,oe)}return qC(ne,$,oe),n.cachedAccount=$?.account??null,n.logger.getToken.info(Ds(ne)),{token:$.accessToken,expiresOnTimestamp:$.expiresOn.getTime(),refreshAfterTimestamp:$.refreshOn?.getTime(),tokenType:$.tokenType}}s(h,"withSilentAuthentication");async function A(Y,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client secret"),n.msalConfig.auth.clientSecret=ne;let he=await l(oe);try{let $=await he.acquireTokenByClientCredential({scopes:Y,authority:d(oe),azureRegion:ek(),claims:oe?.claims});return qC(Y,$,oe),n.logger.getToken.info(Ds(Y)),{token:$.accessToken,expiresOnTimestamp:$.expiresOn.getTime(),refreshAfterTimestamp:$.refreshOn?.getTime(),tokenType:$.tokenType}}catch($){throw GC(Y,$,oe)}}s(A,"getTokenByClientSecret");async function p(Y,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client assertion"),n.msalConfig.auth.clientAssertion=ne;let he=await l(oe);try{let $=await he.acquireTokenByClientCredential({scopes:Y,authority:d(oe),azureRegion:ek(),claims:oe?.claims,clientAssertion:ne});return qC(Y,$,oe),n.logger.getToken.info(Ds(Y)),{token:$.accessToken,expiresOnTimestamp:$.expiresOn.getTime(),refreshAfterTimestamp:$.refreshOn?.getTime(),tokenType:$.tokenType}}catch($){throw GC(Y,$,oe)}}s(p,"getTokenByClientAssertion");async function g(Y,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using client certificate"),n.msalConfig.auth.clientCertificate=ne;let he=await l(oe);try{let $=await he.acquireTokenByClientCredential({scopes:Y,authority:d(oe),azureRegion:ek(),claims:oe?.claims});return qC(Y,$,oe),n.logger.getToken.info(Ds(Y)),{token:$.accessToken,expiresOnTimestamp:$.expiresOn.getTime(),refreshAfterTimestamp:$.refreshOn?.getTime(),tokenType:$.tokenType}}catch($){throw GC(Y,$,oe)}}s(g,"getTokenByClientCertificate");async function E(Y,ne,oe={}){n.logger.getToken.info("Attempting to acquire token using device code");let he=await a(oe);return h(he,Y,oe,()=>{let $={scopes:Y,cancel:oe?.abortSignal?.aborted??!1,deviceCodeCallback:ne,authority:d(oe),claims:oe?.claims},K=he.acquireTokenByDeviceCode($);return oe.abortSignal&&oe.abortSignal.addEventListener("abort",()=>{$.cancel=!0}),K})}s(E,"getTokenByDeviceCode");async function v(Y,ne,oe,he={}){n.logger.getToken.info("Attempting to acquire token using username and password");let $=await a(he);return h($,Y,he,()=>{let K={scopes:Y,username:ne,password:oe,authority:d(he),claims:he?.claims};return $.acquireTokenByUsernamePassword(K)})}s(v,"getTokenByUsernamePassword");function w(){if(n.cachedAccount)return Wue(t,n.cachedAccount)}s(w,"getActiveAccount");async function _(Y,ne,oe,he,$={}){n.logger.getToken.info("Attempting to acquire token using authorization code");let K;return he?(n.msalConfig.auth.clientSecret=he,K=await l($)):K=await a($),h(K,Y,$,()=>K.acquireTokenByCode({scopes:Y,redirectUri:ne,code:oe,authority:d($),claims:$?.claims}))}s(_,"getTokenByAuthorizationCode");async function S(Y,ne,oe,he={}){I0.getToken.info("Attempting to acquire token on behalf of another user"),typeof oe=="string"?(I0.getToken.info("Using client secret for on behalf of flow"),n.msalConfig.auth.clientSecret=oe):typeof oe=="function"?(I0.getToken.info("Using client assertion callback for on behalf of flow"),n.msalConfig.auth.clientAssertion=oe):(I0.getToken.info("Using client certificate for on behalf of flow"),n.msalConfig.auth.clientCertificate=oe);let $=await l(he);try{let K=await $.acquireTokenOnBehalfOf({scopes:Y,authority:d(he),claims:he.claims,oboAssertion:ne});return qC(Y,K,he),I0.getToken.info(Ds(Y)),{token:K.accessToken,expiresOnTimestamp:K.expiresOn.getTime(),refreshAfterTimestamp:K.refreshOn?.getTime(),tokenType:K.tokenType}}catch(K){throw GC(Y,K,he)}}s(S,"getTokenOnBehalfOf");function D(Y,ne){return{openBrowser:s(async oe=>{await(await Promise.resolve().then(()=>(ihe(),nhe))).default(oe,{newInstance:!0})},"openBrowser"),scopes:Y,authority:d(ne),claims:ne?.claims,loginHint:ne?.loginHint,errorTemplate:ne?.browserCustomizationOptions?.errorMessage,successTemplate:ne?.browserCustomizationOptions?.successMessage,prompt:ne?.loginHint?"login":"select_account"}}s(D,"createBaseInteractiveRequest");async function N(Y,ne,oe={}){I0.verbose("Authentication will resume through the broker");let he=await a(oe),$=D(Y,oe);n.pluginConfiguration.broker.parentWindowHandle?$.windowHandle=Buffer.from(n.pluginConfiguration.broker.parentWindowHandle):I0.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),n.pluginConfiguration.broker.enableMsaPassthrough&&(($.tokenQueryParameters??={}).msal_request_type="consumer_passthrough"),ne?($.prompt="none",I0.verbose("Attempting broker authentication using the default broker account")):I0.verbose("Attempting broker authentication without the default broker account"),oe.proofOfPossessionOptions&&($.shrNonce=oe.proofOfPossessionOptions.nonce,$.authenticationScheme="pop",$.resourceRequestMethod=oe.proofOfPossessionOptions.resourceRequestMethod,$.resourceRequestUri=oe.proofOfPossessionOptions.resourceRequestUrl);try{return await he.acquireTokenInteractive($)}catch(K){if(I0.verbose(`Failed to authenticate through the broker: ${K.message}`),oe.disableAutomaticAuthentication)throw new Pl({scopes:Y,getTokenOptions:oe,message:"Cannot silently authenticate with default broker account."});if(ne)return N(Y,!1,oe);throw K}}s(N,"getBrokeredTokenInternal");async function P(Y,ne,oe={}){I0.getToken.info(`Attempting to acquire token using brokered authentication with useDefaultBrokerAccount: ${ne}`);let he=await N(Y,ne,oe);return qC(Y,he,oe),n.cachedAccount=he?.account??null,n.logger.getToken.info(Ds(Y)),{token:he.accessToken,expiresOnTimestamp:he.expiresOn.getTime(),refreshAfterTimestamp:he.refreshOn?.getTime(),tokenType:he.tokenType}}s(P,"getBrokeredToken");async function O(Y,ne={}){I0.getToken.info("Attempting to acquire token interactively");let oe=await a(ne);return h(oe,Y,ne,async()=>{let he=D(Y,ne);return n.pluginConfiguration.broker.isEnabled?N(Y,n.pluginConfiguration.broker.useDefaultBrokerAccount??!1,ne):(ne.proofOfPossessionOptions&&(he.shrNonce=ne.proofOfPossessionOptions.nonce,he.authenticationScheme="pop",he.resourceRequestMethod=ne.proofOfPossessionOptions.resourceRequestMethod,he.resourceRequestUri=ne.proofOfPossessionOptions.resourceRequestUrl),oe.acquireTokenInteractive(he))})}return s(O,"getTokenByInteractiveRequest"),{getActiveAccount:w,getBrokeredToken:P,getTokenByClientSecret:A,getTokenByClientAssertion:p,getTokenByClientCertificate:g,getTokenByDeviceCode:E,getTokenByUsernamePassword:v,getTokenByAuthorizationCode:_,getTokenOnBehalfOf:S,getTokenByInteractiveRequest:O}}s(ja,"createMsalClient");var J4=require("node:crypto");var she=require("node:fs/promises");var K4="ClientCertificateCredential",ohe=kr(K4),X4=class{static{s(this,"ClientCertificateCredential")}tenantId;additionallyAllowedTenantIds;certificateConfiguration;sendCertificateChain;msalClient;constructor(e,r,n,o={}){if(!e||!r)throw new Error(`${K4}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.sendCertificateChain=o.sendCertificateChain,this.certificateConfiguration={...typeof n=="string"?{certificatePath:n}:n};let a=this.certificateConfiguration.certificate,c=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!(a||c))throw new Error(`${K4}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(a&&c)throw new Error(`${K4}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalClient=ja(r,e,{...o,logger:ohe,tokenCredentialOptions:o})}async getToken(e,r={}){return Ai.withSpan(`${K4}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,ohe);let o=Array.isArray(e)?e:[e],a=await this.buildClientCertificate();return this.msalClient.getTokenByClientCertificate(o,a,n)})}async buildClientCertificate(){let e=await gMe(this.certificateConfiguration,this.sendCertificateChain??!1),r;return this.certificateConfiguration.certificatePassword!==void 0?r=(0,J4.createPrivateKey)({key:e.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():r=e.certificateContents,{thumbprint:e.thumbprint,thumbprintSha256:e.thumbprintSha256,privateKey:r,x5c:e.x5c}}};async function gMe(t,e){let r=t.certificate,n=t.certificatePath,o=r||await(0,she.readFile)(n,"utf8"),a=e?o:void 0,c=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,l=[],u;do u=c.exec(o),u&&l.push(u[3]);while(u);if(l.length===0)throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");let d=(0,J4.createHash)("sha1").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase(),h=(0,J4.createHash)("sha256").update(Buffer.from(l[0],"base64")).digest("hex").toUpperCase();return{certificateContents:o,thumbprintSha256:h,thumbprint:d,x5c:a}}s(gMe,"parseCertificate");f();f();function Wl(t){return Array.isArray(t)?t:[t]}s(Wl,"ensureScopes");function Ux(t,e){if(!t.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=new Error("Invalid scope was specified by the user or calling client");throw e.getToken.info(Pn(t,r)),r}}s(Ux,"ensureValidScopeForDevTimeCreds");function ok(t){return t.replace(/\/.default$/,"")}s(ok,"getScopeResource");var ahe=kr("ClientSecretCredential"),Z4=class{static{s(this,"ClientSecretCredential")}tenantId;additionallyAllowedTenantIds;msalClient;clientSecret;constructor(e,r,n,o={}){if(!e)throw new Ot("ClientSecretCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!r)throw new Ot("ClientSecretCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");if(!n)throw new Ot("ClientSecretCredential: clientSecret is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.msalClient=ja(r,e,{...o,logger:ahe,tokenCredentialOptions:o})}async getToken(e,r={}){return Ai.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,ahe);let o=Wl(e);return this.msalClient.getTokenByClientSecret(o,this.clientSecret,n)})}};f();var yMe=kr("UsernamePasswordCredential"),ew=class{static{s(this,"UsernamePasswordCredential")}tenantId;additionallyAllowedTenantIds;msalClient;username;password;constructor(e,r,n,o,a={}){if(!e)throw new Ot("UsernamePasswordCredential: tenantId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!r)throw new Ot("UsernamePasswordCredential: clientId is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!n)throw new Ot("UsernamePasswordCredential: username is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");if(!o)throw new Ot("UsernamePasswordCredential: password is a required parameter. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=Mo(a?.additionallyAllowedTenants),this.username=n,this.password=o,this.msalClient=ja(r,this.tenantId,{...a,tokenCredentialOptions:a??{}})}async getToken(e,r={}){return Ai.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,yMe);let o=Wl(e);return this.msalClient.getTokenByUsernamePassword(o,this.username,this.password,n)})}};var CMe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS","AZURE_CLIENT_SEND_CERTIFICATE_CHAIN"];function EMe(){return(process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS??"").split(";")}s(EMe,"getAdditionallyAllowedTenants");var sk="EnvironmentCredential",yA=kr(sk);function IMe(){let t=(process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN??"").toLowerCase(),e=t==="true"||t==="1";return yA.verbose(`AZURE_CLIENT_SEND_CERTIFICATE_CHAIN: ${process.env.AZURE_CLIENT_SEND_CERTIFICATE_CHAIN}; sendCertificateChain: ${e}`),e}s(IMe,"getSendCertificateChain");var tw=class{static{s(this,"EnvironmentCredential")}_credential=void 0;constructor(e){let r=QR(CMe).assigned.join(", ");yA.info(`Found the following environment variables: ${r}`);let n=process.env.AZURE_TENANT_ID,o=process.env.AZURE_CLIENT_ID,a=process.env.AZURE_CLIENT_SECRET,c=EMe(),l=IMe(),u={...e,additionallyAllowedTenantIds:c,sendCertificateChain:l};if(n&&ea(yA,n),n&&o&&a){yA.info(`Invoking ClientSecretCredential with tenant ID: ${n}, clientId: ${o} and clientSecret: [REDACTED]`),this._credential=new Z4(n,o,a,u);return}let d=process.env.AZURE_CLIENT_CERTIFICATE_PATH,h=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(n&&o&&d){yA.info(`Invoking ClientCertificateCredential with tenant ID: ${n}, clientId: ${o} and certificatePath: ${d}`),this._credential=new X4(n,o,{certificatePath:d,certificatePassword:h},u);return}let A=process.env.AZURE_USERNAME,p=process.env.AZURE_PASSWORD;n&&o&&A&&p&&(yA.info(`Invoking UsernamePasswordCredential with tenant ID: ${n}, clientId: ${o} and username: ${A}`),yA.warning("Environment is configured to use username and password authentication. This authentication method is deprecated, as it doesn't support multifactor authentication (MFA). Use a more secure credential. For more details, see https://aka.ms/azsdk/identity/mfa."),this._credential=new ew(n,o,A,p,u))}async getToken(e,r={}){return Ai.withSpan(`${sk}.getToken`,r,async n=>{if(this._credential)try{let o=await this._credential.getToken(e,n);return yA.getToken.info(Ds(e)),o}catch(o){let a=new Km(400,{error:`${sk} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:o.message.toString().split("More details:").join("")});throw yA.getToken.info(Pn(e,a)),a}throw new Ot(`${sk} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}};f();f();var xMe=1e3*64,vMe=3e3;function che(t){return IV([{name:"imdsRetryPolicy",retry:s(({retryCount:e,response:r})=>{if(r?.status!==404&&r?.status!==410)return{skipStrategy:!0};let n=r?.status===410?Math.max(vMe,t.startDelayInMs):t.startDelayInMs;return Hue(e,{retryDelayInMs:n,maxRetryDelayInMs:xMe})},"retry")}],{maxRetries:t.maxRetries})}s(che,"imdsRetryPolicy");f();var CA="ManagedIdentityCredential - IMDS",WC=kr(CA),bMe="http://169.254.169.254",TMe="/metadata/identity/oauth2/token";function _Me(t){if(!$4(t))throw new Error(`${CA}: Multiple scopes are not supported.`);let r=new URL(TMe,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST??bMe),n={Accept:"application/json"};return{url:`${r}`,method:"GET",headers:vg(n)}}s(_Me,"prepareInvalidRequestOptions");var lhe={name:"imdsMsi",async isAvailable(t){let{scopes:e,identityClient:r,getTokenOptions:n}=t,o=$4(e);if(!o)return WC.info(`${CA}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!r)throw new Error("Missing IdentityClient");let a=_Me(o);return Ai.withSpan("ManagedIdentityCredential-pingImdsEndpoint",n??{},async c=>{a.tracingOptions=c.tracingOptions;let l=Zu(a);l.timeout=c.requestOptions?.timeout||1e3,l.allowInsecureConnection=!0;let u;try{WC.info(`${CA}: Pinging the Azure IMDS endpoint`),u=await r.sendRequest(l)}catch(d){return h7(d)&&WC.verbose(`${CA}: Caught error ${d.name}: ${d.message}`),WC.info(`${CA}: The Azure IMDS endpoint is unavailable`),!1}return u.status===403&&u.bodyAsText?.includes("unreachable")?(WC.info(`${CA}: The Azure IMDS endpoint is unavailable`),WC.info(`${CA}: ${u.bodyAsText}`),!1):(WC.info(`${CA}: The Azure IMDS endpoint is available`),!0)})}};f();f();f();var uhe=kr("ClientAssertionCredential"),Hx=class{static{s(this,"ClientAssertionCredential")}msalClient;tenantId;additionallyAllowedTenantIds;getAssertion;options;constructor(e,r,n,o={}){if(!e)throw new Ot("ClientAssertionCredential: tenantId is a required parameter.");if(!r)throw new Ot("ClientAssertionCredential: clientId is a required parameter.");if(!n)throw new Ot("ClientAssertionCredential: clientAssertion is a required parameter.");this.tenantId=e,this.additionallyAllowedTenantIds=Mo(o?.additionallyAllowedTenants),this.options=o,this.getAssertion=n,this.msalClient=ja(r,e,{...o,logger:uhe,tokenCredentialOptions:this.options})}async getToken(e,r={}){return Ai.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.tenantId,n,this.additionallyAllowedTenantIds,uhe);let o=Array.isArray(e)?e:[e];return this.msalClient.getTokenByClientAssertion(o,this.getAssertion,n)})}};var fhe=require("node:fs/promises");var $C="WorkloadIdentityCredential",wMe=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],rw=kr($C),EA=class{static{s(this,"WorkloadIdentityCredential")}client;azureFederatedTokenFileContent=void 0;cacheDate=void 0;federatedTokenFilePath;constructor(e){let r=QR(wMe).assigned.join(", ");rw.info(`Found the following environment variables: ${r}`);let n=e??{},o=n.tenantId||process.env.AZURE_TENANT_ID,a=n.clientId||process.env.AZURE_CLIENT_ID;if(this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,o&&ea(rw,o),!a)throw new Ot(`${$C}: is unavailable. clientId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_CLIENT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!o)throw new Ot(`${$C}: is unavailable. tenantId is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_TENANT_ID".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);if(!this.federatedTokenFilePath)throw new Ot(`${$C}: is unavailable. federatedTokenFilePath is a required parameter. In DefaultAzureCredential and ManagedIdentityCredential, this can be provided as an environment variable - "AZURE_FEDERATED_TOKEN_FILE".
        See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`);rw.info(`Invoking ClientAssertionCredential with tenant ID: ${o}, clientId: ${n.clientId} and federated token path: [REDACTED]`),this.client=new Hx(o,a,this.readFileContents.bind(this),e)}async getToken(e,r){if(!this.client){let n=`${$C}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot`;throw rw.info(n),new Ot(n)}return rw.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,r)}async readFileContents(){if(this.cacheDate!==void 0&&Date.now()-this.cacheDate>=1e3*60*5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new Ot(`${$C}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let r=(await(0,fhe.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(r)this.azureFederatedTokenFileContent=r,this.cacheDate=Date.now();else throw new Ot(`${$C}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}};var dhe="ManagedIdentityCredential - Token Exchange",SMe=kr(dhe),jV={name:"tokenExchangeMsi",async isAvailable(t){let e=process.env,r=!!((t||e.AZURE_CLIENT_ID)&&e.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||SMe.info(`${dhe}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(t,e={}){let{scopes:r,clientId:n}=t,o={};return new EA({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE,...o,disableInstanceDiscovery:!0}).getToken(r,e)}};var Yc=kr("ManagedIdentityCredential"),Bg=class{static{s(this,"ManagedIdentityCredential")}managedIdentityApp;identityClient;clientId;resourceId;objectId;msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2};isAvailableIdentityClient;constructor(e,r){let n;typeof e=="string"?(this.clientId=e,n=r??{}):(this.clientId=e?.clientId,n=e??{}),this.resourceId=n?.resourceId,this.objectId=n?.objectId;let o=[{key:"clientId",value:this.clientId},{key:"resourceId",value:this.resourceId},{key:"objectId",value:this.objectId}].filter(c=>c.value);if(o.length>1)throw new Error(`ManagedIdentityCredential: only one of 'clientId', 'resourceId', or 'objectId' can be provided. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}`);n.allowInsecureConnection=!0,n.retryOptions?.maxRetries!==void 0&&(this.msiRetryConfig.maxRetries=n.retryOptions.maxRetries),this.identityClient=new Tg({...n,additionalPolicies:[{policy:che(this.msiRetryConfig),position:"perCall"}]}),this.managedIdentityApp=new Tx({managedIdentityIdParams:{userAssignedClientId:this.clientId,userAssignedResourceId:this.resourceId,userAssignedObjectId:this.objectId},system:{disableInternalRetries:!0,networkClient:this.identityClient,loggerOptions:{logLevel:m7(NR()),piiLoggingEnabled:n.loggingOptions?.enableUnsafeSupportLogging,loggerCallback:p7(Yc)}}}),this.isAvailableIdentityClient=new Tg({...n,retryOptions:{maxRetries:0}});let a=this.managedIdentityApp.getManagedIdentitySource();if(a==="CloudShell"&&(this.clientId||this.resourceId||this.objectId))throw Yc.warning(`CloudShell MSI detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Ot("ManagedIdentityCredential: Specifying a user-assigned managed identity is not supported for CloudShell at runtime. When using Managed Identity in CloudShell, omit the clientId, resourceId, and objectId parameters.");if(a==="ServiceFabric"&&(this.clientId||this.resourceId||this.objectId))throw Yc.warning(`Service Fabric detected with user-provided IDs - throwing. Received values: ${JSON.stringify({clientId:this.clientId,resourceId:this.resourceId,objectId:this.objectId})}.`),new Ot(`ManagedIdentityCredential: ${_de}`);if(Yc.info(`Using ${a} managed identity.`),o.length===1){let{key:c,value:l}=o[0];Yc.info(`${a} with ${c}: ${l}`)}}async getToken(e,r={}){Yc.getToken.info("Using the MSAL provider for Managed Identity.");let n=$4(e);if(!n)throw new Ot(`ManagedIdentityCredential: Multiple scopes are not supported. Scopes: ${JSON.stringify(e)}`);return Ai.withSpan("ManagedIdentityCredential.getToken",r,async()=>{try{let o=await jV.isAvailable(this.clientId),a=this.managedIdentityApp.getManagedIdentitySource(),c=a==="DefaultToImds"||a==="Imds";if(Yc.getToken.info(`MSAL Identity source: ${a}`),o){Yc.getToken.info("Using the token exchange managed identity.");let u=await jV.getToken({scopes:e,clientId:this.clientId,identityClient:this.identityClient,retryConfig:this.msiRetryConfig,resourceId:this.resourceId});if(u===null)throw new Ot("Attempted to use the token exchange managed identity, but received a null response.");return u}else if(c&&(Yc.getToken.info("Using the IMDS endpoint to probe for availability."),!await lhe.isAvailable({scopes:e,clientId:this.clientId,getTokenOptions:r,identityClient:this.isAvailableIdentityClient,resourceId:this.resourceId})))throw new Ot("Attempted to use the IMDS endpoint, but it is not available.");Yc.getToken.info("Calling into MSAL for managed identity token.");let l=await this.managedIdentityApp.acquireToken({resource:n});return this.ensureValidMsalToken(e,l,r),Yc.getToken.info(Ds(e)),{expiresOnTimestamp:l.expiresOn.getTime(),token:l.accessToken,refreshAfterTimestamp:l.refreshOn?.getTime(),tokenType:"Bearer"}}catch(o){throw Yc.getToken.error(Pn(e,o)),o.name==="AuthenticationRequiredError"?o:BMe(o)?new Ot(`ManagedIdentityCredential: Network unreachable. Message: ${o.message}`,{cause:o}):new Ot(`ManagedIdentityCredential: Authentication failed. Message ${o.message}`,{cause:o})}})}ensureValidMsalToken(e,r,n){let o=s(a=>(Yc.getToken.info(a),new Pl({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:a})),"createError");if(!r)throw o("No response.");if(!r.expiresOn)throw o('Response had no "expiresOn" property.');if(!r.accessToken)throw o('Response had no "accessToken" property.')}};function BMe(t){return!!(t.errorCode==="network_error"||t.code==="ENETUNREACH"||t.code==="EHOSTUNREACH"||(t.statusCode===403||t.code===403)&&t.message.includes("unreachable"))}s(BMe,"isNetworkError");f();var hhe=Et(require("child_process"),1);var IA=kr("AzureDeveloperCliCredential"),Ahe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||(IA.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure Developer CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzdAccessToken(t,e,r){let n=[];return e&&(n=["--tenant-id",e]),new Promise((o,a)=>{try{let l=["azd",...["auth","token","--output","json",...t.reduce((u,d)=>u.concat("--scope",d),[]),...n]].join(" ");hhe.default.exec(l,{cwd:Ahe.getSafeWorkingDir(),timeout:r},(u,d,h)=>{o({stdout:d,stderr:h,error:u})})}catch(c){a(c)}})}},nw=class{static{s(this,"AzureDeveloperCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(ea(IA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=To(this.tenantId,r,this.additionallyAllowedTenantIds);n&&ea(IA,n);let o;return typeof e=="string"?o=[e]:o=e,IA.getToken.info(`Using the scopes ${e}`),Ai.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{o.forEach(u=>{Ux(u,IA)});let a=await Ahe.getAzdAccessToken(o,n,this.timeout),c=a.stderr?.match("not logged in, run `azd login` to login")||a.stderr?.match("not logged in, run `azd auth login` to login");if(a.stderr?.match("azd:(.*)not found")||a.stderr?.startsWith("'azd' is not recognized")||a.error&&a.error.code==="ENOENT"){let u=new Ot("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw IA.getToken.info(Pn(e,u)),u}if(c){let u=new Ot("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw IA.getToken.info(Pn(e,u)),u}try{let u=JSON.parse(a.stdout);return IA.getToken.info(Ds(e)),{token:u.token,expiresOnTimestamp:new Date(u.expiresOn).getTime(),tokenType:"Bearer"}}catch(u){throw a.stderr?new Ot(a.stderr):u}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new Ot(a.message||"Unknown error while trying to retrieve the access token");throw IA.getToken.info(Pn(e,c)),c}})}};f();var phe=Et(require("child_process"),1);f();function KV(t,e){if(!e.match(/^[0-9a-zA-Z-._ ]+$/)){let r=new Error(`Subscription '${e}' contains invalid characters. If this is the name of a subscription, use its ID instead. You can locate your subscription by following the instructions listed here: https://learn.microsoft.com/azure/azure-portal/get-subscription-tenant-id`);throw t.info(Pn("",r)),r}}s(KV,"checkSubscription");var $l=kr("AzureCliCredential"),mhe={getSafeWorkingDir(){if(process.platform==="win32"){let t=process.env.SystemRoot||process.env.SYSTEMROOT;return t||($l.getToken.warning("The SystemRoot environment variable is not set. This may cause issues when using the Azure CLI credential."),t="C:\\Windows"),t}else return"/bin"},async getAzureCliAccessToken(t,e,r,n){let o=[],a=[];return e&&(o=["--tenant",e]),r&&(a=["--subscription",`"${r}"`]),new Promise((c,l)=>{try{let d=["az",...["account","get-access-token","--output","json","--resource",t,...o,...a]].join(" ");phe.default.exec(d,{cwd:mhe.getSafeWorkingDir(),timeout:n},(h,A,p)=>{c({stdout:A,stderr:p,error:h})})}catch(u){l(u)}})}},iw=class{static{s(this,"AzureCliCredential")}tenantId;additionallyAllowedTenantIds;timeout;subscription;constructor(e){e?.tenantId&&(ea($l,e?.tenantId),this.tenantId=e?.tenantId),e?.subscription&&(KV($l,e?.subscription),this.subscription=e?.subscription),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getToken(e,r={}){let n=To(this.tenantId,r,this.additionallyAllowedTenantIds);n&&ea($l,n),this.subscription&&KV($l,this.subscription);let o=typeof e=="string"?e:e[0];return $l.getToken.info(`Using the scope ${o}`),Ai.withSpan(`${this.constructor.name}.getToken`,r,async()=>{try{Ux(o,$l);let a=ok(o),c=await mhe.getAzureCliAccessToken(a,n,this.subscription,this.timeout),l=c.stderr?.match("(.*)az login --scope(.*)"),u=c.stderr?.match("(.*)az login(.*)")&&!l;if(c.stderr?.match("az:(.*)not found")||c.stderr?.startsWith("'az' is not recognized")){let h=new Ot("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw $l.getToken.info(Pn(e,h)),h}if(u){let h=new Ot("Please run 'az login' from a command prompt to authenticate before using this credential.");throw $l.getToken.info(Pn(e,h)),h}try{let h=c.stdout,A=this.parseRawResponse(h);return $l.getToken.info(Ds(e)),A}catch(h){throw c.stderr?new Ot(c.stderr):h}}catch(a){let c=a.name==="CredentialUnavailableError"?a:new Ot(a.message||"Unknown error while trying to retrieve the access token");throw $l.getToken.info(Pn(e,c)),c}})}parseRawResponse(e){let r=JSON.parse(e),n=r.accessToken,o=Number.parseInt(r.expires_on,10)*1e3;if(!isNaN(o))return $l.getToken.info("expires_on is available and is valid, using it"),{token:n,expiresOnTimestamp:o,tokenType:"Bearer"};if(o=new Date(r.expiresOn).getTime(),isNaN(o))throw new Ot(`Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "${r.expiresOn}"`);return{token:n,expiresOnTimestamp:o,tokenType:"Bearer"}}};f();f();var ghe=Et(require("node:child_process"),1),yhe={execFile(t,e,r){return new Promise((n,o)=>{let a=[...e],c=[t,...a].join(" ");ghe.default.exec(c,r,(l,u,d)=>{Buffer.isBuffer(u)&&(u=u.toString("utf8")),Buffer.isBuffer(d)&&(d=d.toString("utf8")),d||l?o(d?new Error(d):l):n(u)})})}};var xA=kr("AzurePowerShellCredential"),Ehe=process.platform==="win32";function Ihe(t){return Ehe?`${t}.exe`:t}s(Ihe,"formatCommand");async function Che(t,e){let r=[];for(let n of t){let[o,...a]=n,c=await yhe.execFile(o,a,{encoding:"utf8",timeout:e});r.push(c)}return r}s(Che,"runCommands");var xhe={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},JV={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:`The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: "Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force".`,troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},RMe=s(t=>t.message.match(`(.*)${xhe.login}(.*)`),"isLoginError"),kMe=s(t=>t.message.match(xhe.installed),"isNotInstalledError"),XV=[Ihe("pwsh")];Ehe&&XV.push(Ihe("powershell"));var ow=class{static{s(this,"AzurePowerShellCredential")}tenantId;additionallyAllowedTenantIds;timeout;constructor(e){e?.tenantId&&(ea(xA,e?.tenantId),this.tenantId=e?.tenantId),this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),this.timeout=e?.processTimeoutInMs}async getAzurePowerShellAccessToken(e,r,n){for(let o of[...XV]){try{await Che([[o,"/?"]],n)}catch{XV.shift();continue}let c=(await Che([[o,"-NoProfile","-NonInteractive","-Command",`
          $tenantId = "${r??""}"
          $m = Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru
          $useSecureString = $m.Version -ge [version]'2.17.0' -and $m.Version -lt [version]'5.0.0'

          $params = @{
            ResourceUrl = "${e}"
          }

          if ($tenantId.Length -gt 0) {
            $params["TenantId"] = $tenantId
          }

          if ($useSecureString) {
            $params["AsSecureString"] = $true
          }

          $token = Get-AzAccessToken @params

          $result = New-Object -TypeName PSObject
          $result | Add-Member -MemberType NoteProperty -Name ExpiresOn -Value $token.ExpiresOn

          if ($token.Token -is [System.Security.SecureString]) {
            if ($PSVersionTable.PSVersion.Major -lt 7) {
              $ssPtr = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($token.Token)
              try {
                $result | Add-Member -MemberType NoteProperty -Name Token -Value ([System.Runtime.InteropServices.Marshal]::PtrToStringBSTR($ssPtr))
              }
              finally {
                [System.Runtime.InteropServices.Marshal]::ZeroFreeBSTR($ssPtr)
              }
            }
            else {
              $result | Add-Member -MemberType NoteProperty -Name Token -Value ($token.Token | ConvertFrom-SecureString -AsPlainText)
            }
          }
          else {
            $result | Add-Member -MemberType NoteProperty -Name Token -Value $token.Token
          }

          Write-Output (ConvertTo-Json $result)
          `]]))[0];return DMe(c)}throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,r={}){return Ai.withSpan(`${this.constructor.name}.getToken`,r,async()=>{let n=To(this.tenantId,r,this.additionallyAllowedTenantIds),o=typeof e=="string"?e:e[0];n&&ea(xA,n);try{Ux(o,xA),xA.getToken.info(`Using the scope ${o}`);let a=ok(o),c=await this.getAzurePowerShellAccessToken(a,n,this.timeout);return xA.getToken.info(Ds(e)),{token:c.Token,expiresOnTimestamp:new Date(c.ExpiresOn).getTime(),tokenType:"Bearer"}}catch(a){if(kMe(a)){let l=new Ot(JV.installed);throw xA.getToken.info(Pn(o,l)),l}else if(RMe(a)){let l=new Ot(JV.login);throw xA.getToken.info(Pn(o,l)),l}let c=new Ot(`${a}. ${JV.troubleshoot}`);throw xA.getToken.info(Pn(o,c)),c}})}};async function DMe(t){let e=/{[^{}]*}/g,r=t.match(e),n=t;if(r)try{for(let o of r)try{let a=JSON.parse(o);if(a?.Token)return n=n.replace(o,""),n&&xA.getToken.warning(n),a}catch{continue}}catch{throw new Error(`Unable to parse the output of PowerShell. Received output: ${t}`)}throw new Error(`No access token found in the output. Received output: ${t}`)}s(DMe,"parseJsonToken");f();var vhe=require("node:fs/promises");var NMe="common",QMe="aebc6443-996d-45c2-90f0-388ff96faa56",ZV=kr("VisualStudioCodeCredential"),PMe={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function FMe(t){let e=PMe[t];if(e)throw new Ot(e)}s(FMe,"checkUnsupportedTenant");var sw=class{static{s(this,"VisualStudioCodeCredential")}tenantId;additionallyAllowedTenantIds;msalClient;options;constructor(e){this.options=e||{},e&&e.tenantId?(ea(ZV,e.tenantId),this.tenantId=e.tenantId):this.tenantId=NMe,this.additionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants),FMe(this.tenantId)}async prepare(e){let r=To(this.tenantId,this.options,this.additionallyAllowedTenantIds,ZV)||this.tenantId;if(!Hse()||!wR)throw new Ot("Visual Studio Code Authentication is not available. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");let n=await this.loadAuthRecord(wR,e);this.msalClient=ja(QMe,r,{...this.options,isVSCodeCredential:!0,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0},authenticationRecord:n})}preparePromise;prepareOnce(e){return this.preparePromise||(this.preparePromise=this.prepare(e)),this.preparePromise}async getToken(e,r){let n=Wl(e);if(await this.prepareOnce(n),!this.msalClient)throw new Ot("Visual Studio Code Authentication failed to initialize. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.");return this.msalClient.getTokenByInteractiveRequest(n,r||{})}async loadAuthRecord(e,r){try{let n=await(0,vhe.readFile)(e,{encoding:"utf8"});return RG(n)}catch(n){throw ZV.getToken.info(Pn(r,n)),new Ot("Cannot load authentication record in Visual Studio Code. Ensure you have have Azure Resources Extension installed in VS Code, signed into Azure via VS Code, installed the @azure/identity-vscode package, and properly configured the extension.")}}};f();var ak=kr("BrokerCredential"),ck=class{static{s(this,"BrokerCredential")}brokerMsalClient;brokerTenantId;brokerAdditionallyAllowedTenantIds;constructor(e){this.brokerTenantId=Lx(ak,e.tenantId),this.brokerAdditionallyAllowedTenantIds=Mo(e?.additionallyAllowedTenants);let r={...e,tokenCredentialOptions:e,logger:ak,brokerOptions:{enabled:!0,parentWindowHandle:new Uint8Array(0),useDefaultBrokerAccount:!0}};this.brokerMsalClient=ja(zy,this.brokerTenantId,r)}async getToken(e,r={}){return Ai.withSpan(`${this.constructor.name}.getToken`,r,async n=>{n.tenantId=To(this.brokerTenantId,n,this.brokerAdditionallyAllowedTenantIds,ak);let o=Wl(e);try{return this.brokerMsalClient.getBrokeredToken(o,!0,{...n,disableAutomaticAuthentication:!0})}catch(a){throw ak.getToken.info(Pn(o,a)),new Ot("Failed to acquire token using broker authentication",{cause:a})}})}};function bhe(t={}){return new ck(t)}s(bhe,"createDefaultBrokerCredential");function eW(t={}){return new sw(t)}s(eW,"createDefaultVisualStudioCodeCredential");function tW(t={}){t.retryOptions??={maxRetries:5,retryDelayInMs:800};let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=t?.managedIdentityResourceId,o=process.env.AZURE_FEDERATED_TOKEN_FILE,a=t?.tenantId??process.env.AZURE_TENANT_ID;if(n){let c={...t,resourceId:n};return new Bg(c)}if(o&&r){let c={...t,tenantId:a};return new Bg(r,c)}if(e){let c={...t,clientId:e};return new Bg(c)}return new Bg(t)}s(tW,"createDefaultManagedIdentityCredential");function rW(t){let e=t?.managedIdentityClientId??process.env.AZURE_CLIENT_ID,r=t?.workloadIdentityClientId??e,n=process.env.AZURE_FEDERATED_TOKEN_FILE,o=t?.tenantId??process.env.AZURE_TENANT_ID;if(n&&r){let a={...t,tenantId:o,clientId:r,tokenFilePath:n};return new EA(a)}if(o){let a={...t,tenantId:o};return new EA(a)}return new EA(t)}s(rW,"createDefaultWorkloadIdentityCredential");function nW(t={}){return new nw(t)}s(nW,"createDefaultAzureDeveloperCliCredential");function iW(t={}){return new iw(t)}s(iW,"createDefaultAzureCliCredential");function oW(t={}){return new ow(t)}s(oW,"createDefaultAzurePowershellCredential");function sW(t={}){return new tw(t)}s(sW,"createDefaultEnvironmentCredential");var aW=kr("DefaultAzureCredential"),cW=class{static{s(this,"UnavailableDefaultCredential")}credentialUnavailableErrorMessage;credentialName;constructor(e,r){this.credentialName=e,this.credentialUnavailableErrorMessage=r}getToken(){return aW.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`),Promise.resolve(null)}},qx=class extends A_{static{s(this,"DefaultAzureCredential")}constructor(e){let r=process.env.AZURE_TOKEN_CREDENTIALS?process.env.AZURE_TOKEN_CREDENTIALS.trim().toLowerCase():void 0,n=[eW,iW,oW,nW,bhe],o=[sW,rW,tW],a=[],c="EnvironmentCredential, WorkloadIdentityCredential, ManagedIdentityCredential, VisualStudioCodeCredential, AzureCliCredential, AzurePowerShellCredential, AzureDeveloperCliCredential";if(r)switch(r){case"dev":a=n;break;case"prod":a=o;break;case"environmentcredential":a=[sW];break;case"workloadidentitycredential":a=[rW];break;case"managedidentitycredential":a=[tW];break;case"visualstudiocodecredential":a=[eW];break;case"azureclicredential":a=[iW];break;case"azurepowershellcredential":a=[oW];break;case"azuredeveloperclicredential":a=[nW];break;default:{let u=`Invalid value for AZURE_TOKEN_CREDENTIALS = ${process.env.AZURE_TOKEN_CREDENTIALS}. Valid values are 'prod' or 'dev' or any of these credentials - ${c}.`;throw aW.warning(u),new Error(u)}}else a=[...o,...n];let l=a.map(u=>{try{return u(e)}catch(d){return aW.warning(`Skipped ${u.name} because of an error creating the credential: ${d}`),new cW(u.name,d.message)}});super(...l)}};f();var WZt=kr("InteractiveBrowserCredential");f();var ter=kr("DeviceCodeCredential");f();var LMe="AzurePipelinesCredential",fer=kr(LMe);f();var Ier=kr("AuthorizationCodeCredential");f();var MMe="OnBehalfOfCredential",ker=kr(MMe);f();var lk=new Vr("capiFetchUtilities");function OMe(t){let e=t.getCopilotIntegrationId();if(e)return e;switch(t.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}s(OMe,"getIntegrationId");function uW(t){let e={...Py(t),"X-GitHub-Api-Version":O8},r=OMe(t.get(js));return r&&(e["Copilot-Integration-Id"]=r),e}s(uW,"getCapiHeaders");function The(t,e){return lk.debug(t,"Using CES proxy mode for msbench"),{...e,"ces-proxy-target":x2.api,"Copilot-Integration-Id":"autodev-test"}}s(The,"addMsBenchCesProxyHeaders");async function _he(t,e){lk.debug(t,"Using HMAC authentication mode for msbench");let r=await Nse(process.env.HMAC_SECRET);return{...e,...r}}s(_he,"addMsBenchHmacHeaders");function UMe(){return YT()&&!!process.env.HMAC_SECRET}s(UMe,"isMsBenchHmacModeEnabled");function lW(){return YT()&&!process.env.HMAC_SECRET}s(lW,"isMsBenchCesProxyModeEnabled");async function whe(t,e){return process.env.HMAC_SECRET?await _he(t,e):The(t,e)}s(whe,"addMsBenchHeaders");function HMe(t,e,...r){if(lW()){lk.debug(t,"Using CES proxy endpoint for URL generation");let n=r.join("/");return n.startsWith("/")&&(n=n.slice(1)),`https://ces-dev1.azurewebsites.net/api/proxy/${n}`}return ZT(t,e,"api",...r)}s(HMe,"getCapiUrl");async function fW(t,e,r){r??=await t.get(Ei).getToken();let n=HMe(t,r,e),o=r.token;lW()&&(lk.debug(t,"Using CES proxy authentication token for fetchCapiUrl"),o=await qMe());let a={Authorization:`Bearer ${o}`,...uW(t)},c=UMe()?await _he(t,a):lW()?The(t,a):a;return await t.get(ms).fetch(new URL(n).href,{method:"GET",headers:c})}s(fW,"fetchCapiUrl");async function qMe(){let e=await new qx().getToken("api://17b0ad65-ed36-4194-bb27-059c567bc41f/.default");if(!e)throw new Error("Failed to retrieve access token");return e.token}s(qMe,"getMsBenchToken");f();f();f();var Ka={};Io(Ka,{HasPropertyKey:()=>uk,IsArray:()=>ns,IsAsyncIterator:()=>dW,IsBigInt:()=>aw,IsBoolean:()=>vA,IsDate:()=>YC,IsFunction:()=>hW,IsIterator:()=>AW,IsNull:()=>pW,IsNumber:()=>zc,IsObject:()=>Ii,IsRegExp:()=>cw,IsString:()=>Di,IsSymbol:()=>mW,IsUint8Array:()=>bA,IsUndefined:()=>is});f();function uk(t,e){return e in t}s(uk,"HasPropertyKey");function dW(t){return Ii(t)&&!ns(t)&&!bA(t)&&Symbol.asyncIterator in t}s(dW,"IsAsyncIterator");function ns(t){return Array.isArray(t)}s(ns,"IsArray");function aw(t){return typeof t=="bigint"}s(aw,"IsBigInt");function vA(t){return typeof t=="boolean"}s(vA,"IsBoolean");function YC(t){return t instanceof globalThis.Date}s(YC,"IsDate");function hW(t){return typeof t=="function"}s(hW,"IsFunction");function AW(t){return Ii(t)&&!ns(t)&&!bA(t)&&Symbol.iterator in t}s(AW,"IsIterator");function pW(t){return t===null}s(pW,"IsNull");function zc(t){return typeof t=="number"}s(zc,"IsNumber");function Ii(t){return typeof t=="object"&&t!==null}s(Ii,"IsObject");function cw(t){return t instanceof globalThis.RegExp}s(cw,"IsRegExp");function Di(t){return typeof t=="string"}s(Di,"IsString");function mW(t){return typeof t=="symbol"}s(mW,"IsSymbol");function bA(t){return t instanceof globalThis.Uint8Array}s(bA,"IsUint8Array");function is(t){return t===void 0}s(is,"IsUndefined");function GMe(t){return t.map(e=>fk(e))}s(GMe,"ArrayType");function VMe(t){return new Date(t.getTime())}s(VMe,"DateType");function WMe(t){return new Uint8Array(t)}s(WMe,"Uint8ArrayType");function $Me(t){return new RegExp(t.source,t.flags)}s($Me,"RegExpType");function YMe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=fk(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=fk(t[r]);return e}s(YMe,"ObjectType");function fk(t){return ns(t)?GMe(t):YC(t)?VMe(t):bA(t)?WMe(t):cw(t)?$Me(t):Ii(t)?YMe(t):t}s(fk,"Visit");function Ji(t){return fk(t)}s(Ji,"Clone");function Gx(t,e){return e===void 0?Ji(t):Ji({...e,...t})}s(Gx,"CloneType");f();f();f();function dk(t){return tn(t)&&globalThis.Symbol.asyncIterator in t}s(dk,"IsAsyncIterator");function hk(t){return tn(t)&&globalThis.Symbol.iterator in t}s(hk,"IsIterator");function gW(t){return tn(t)&&(globalThis.Object.getPrototypeOf(t)===Object.prototype||globalThis.Object.getPrototypeOf(t)===null)}s(gW,"IsStandardObject");function Ak(t){return t instanceof globalThis.Promise}s(Ak,"IsPromise");function x0(t){return t instanceof Date&&globalThis.Number.isFinite(t.getTime())}s(x0,"IsDate");function She(t){return t instanceof globalThis.Map}s(She,"IsMap");function Bhe(t){return t instanceof globalThis.Set}s(Bhe,"IsSet");function Yl(t){return globalThis.ArrayBuffer.isView(t)}s(Yl,"IsTypedArray");function Vx(t){return t instanceof globalThis.Uint8Array}s(Vx,"IsUint8Array");function cr(t,e){return e in t}s(cr,"HasPropertyKey");function tn(t){return t!==null&&typeof t=="object"}s(tn,"IsObject");function lr(t){return globalThis.Array.isArray(t)&&!globalThis.ArrayBuffer.isView(t)}s(lr,"IsArray");function Xi(t){return t===void 0}s(Xi,"IsUndefined");function TA(t){return t===null}s(TA,"IsNull");function Od(t){return typeof t=="boolean"}s(Od,"IsBoolean");function zt(t){return typeof t=="number"}s(zt,"IsNumber");function pk(t){return globalThis.Number.isInteger(t)}s(pk,"IsInteger");function wa(t){return typeof t=="bigint"}s(wa,"IsBigInt");function Fn(t){return typeof t=="string"}s(Fn,"IsString");function Rg(t){return typeof t=="function"}s(Rg,"IsFunction");function _A(t){return typeof t=="symbol"}s(_A,"IsSymbol");function jc(t){return wa(t)||Od(t)||TA(t)||zt(t)||Fn(t)||_A(t)||Xi(t)}s(jc,"IsValueType");var Mi;(function(t){t.InstanceMode="default",t.ExactOptionalPropertyTypes=!1,t.AllowArrayObject=!1,t.AllowNaN=!1,t.AllowNullVoid=!1;function e(c,l){return t.ExactOptionalPropertyTypes?l in c:c[l]!==void 0}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){let l=tn(c);return t.AllowArrayObject?l:l&&!lr(c)}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return r(c)&&!(c instanceof Date)&&!(c instanceof Uint8Array)}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return t.AllowNaN?zt(c):Number.isFinite(c)}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){let l=Xi(c);return t.AllowNullVoid?l||c===null:l}s(a,"IsVoidLike"),t.IsVoidLike=a})(Mi||(Mi={}));f();function zMe(t){return globalThis.Object.freeze(t).map(e=>lw(e))}s(zMe,"ImmutableArray");function jMe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=lw(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=lw(t[r]);return globalThis.Object.freeze(e)}s(jMe,"ImmutableObject");function lw(t){return ns(t)?zMe(t):YC(t)?t:bA(t)?t:cw(t)?t:Ii(t)?jMe(t):t}s(lw,"Immutable");function He(t,e){let r=e!==void 0?{...e,...t}:t;switch(Mi.InstanceMode){case"freeze":return lw(r);case"clone":return Ji(r);default:return r}}s(He,"CreateType");f();var ur=class extends Error{static{s(this,"TypeBoxError")}constructor(e){super(e)}};f();f();f();var uo=Symbol.for("TypeBox.Transform"),ef=Symbol.for("TypeBox.Readonly"),Sa=Symbol.for("TypeBox.Optional"),zl=Symbol.for("TypeBox.Hint"),Oe=Symbol.for("TypeBox.Kind");function Wx(t){return Ii(t)&&t[ef]==="Readonly"}s(Wx,"IsReadonly");function oc(t){return Ii(t)&&t[Sa]==="Optional"}s(oc,"IsOptional");function yW(t){return wn(t,"Any")}s(yW,"IsAny");function CW(t){return wn(t,"Argument")}s(CW,"IsArgument");function tf(t){return wn(t,"Array")}s(tf,"IsArray");function zC(t){return wn(t,"AsyncIterator")}s(zC,"IsAsyncIterator");function jC(t){return wn(t,"BigInt")}s(jC,"IsBigInt");function wA(t){return wn(t,"Boolean")}s(wA,"IsBoolean");function rf(t){return wn(t,"Computed")}s(rf,"IsComputed");function nf(t){return wn(t,"Constructor")}s(nf,"IsConstructor");function KMe(t){return wn(t,"Date")}s(KMe,"IsDate");function of(t){return wn(t,"Function")}s(of,"IsFunction");function sf(t){return wn(t,"Integer")}s(sf,"IsInteger");function _o(t){return wn(t,"Intersect")}s(_o,"IsIntersect");function KC(t){return wn(t,"Iterator")}s(KC,"IsIterator");function wn(t,e){return Ii(t)&&Oe in t&&t[Oe]===e}s(wn,"IsKindOf");function mk(t){return vA(t)||zc(t)||Di(t)}s(mk,"IsLiteralValue");function Kc(t){return wn(t,"Literal")}s(Kc,"IsLiteral");function Jc(t){return wn(t,"MappedKey")}s(Jc,"IsMappedKey");function Zi(t){return wn(t,"MappedResult")}s(Zi,"IsMappedResult");function kg(t){return wn(t,"Never")}s(kg,"IsNever");function JMe(t){return wn(t,"Not")}s(JMe,"IsNot");function uw(t){return wn(t,"Null")}s(uw,"IsNull");function af(t){return wn(t,"Number")}s(af,"IsNumber");function os(t){return wn(t,"Object")}s(os,"IsObject");function JC(t){return wn(t,"Promise")}s(JC,"IsPromise");function XC(t){return wn(t,"Record")}s(XC,"IsRecord");function Oo(t){return wn(t,"Ref")}s(Oo,"IsRef");function EW(t){return wn(t,"RegExp")}s(EW,"IsRegExp");function SA(t){return wn(t,"String")}s(SA,"IsString");function fw(t){return wn(t,"Symbol")}s(fw,"IsSymbol");function Xc(t){return wn(t,"TemplateLiteral")}s(Xc,"IsTemplateLiteral");function XMe(t){return wn(t,"This")}s(XMe,"IsThis");function Zn(t){return Ii(t)&&uo in t}s(Zn,"IsTransform");function Zc(t){return wn(t,"Tuple")}s(Zc,"IsTuple");function BA(t){return wn(t,"Undefined")}s(BA,"IsUndefined");function Ln(t){return wn(t,"Union")}s(Ln,"IsUnion");function ZMe(t){return wn(t,"Uint8Array")}s(ZMe,"IsUint8Array");function eOe(t){return wn(t,"Unknown")}s(eOe,"IsUnknown");function tOe(t){return wn(t,"Unsafe")}s(tOe,"IsUnsafe");function rOe(t){return wn(t,"Void")}s(rOe,"IsVoid");function Dg(t){return Ii(t)&&Oe in t&&Di(t[Oe])}s(Dg,"IsKind");function fo(t){return yW(t)||CW(t)||tf(t)||wA(t)||jC(t)||zC(t)||rf(t)||nf(t)||KMe(t)||of(t)||sf(t)||_o(t)||KC(t)||Kc(t)||Jc(t)||Zi(t)||kg(t)||JMe(t)||uw(t)||af(t)||os(t)||JC(t)||XC(t)||Oo(t)||EW(t)||SA(t)||fw(t)||Xc(t)||XMe(t)||Zc(t)||BA(t)||Ln(t)||ZMe(t)||eOe(t)||tOe(t)||rOe(t)||Dg(t)}s(fo,"IsSchema");var be={};Io(be,{IsAny:()=>Nhe,IsArgument:()=>Qhe,IsArray:()=>Phe,IsAsyncIterator:()=>Fhe,IsBigInt:()=>Lhe,IsBoolean:()=>Mhe,IsComputed:()=>Ohe,IsConstructor:()=>Uhe,IsDate:()=>Hhe,IsFunction:()=>qhe,IsImport:()=>cOe,IsInteger:()=>Ghe,IsIntersect:()=>Vhe,IsIterator:()=>Whe,IsKind:()=>gAe,IsKindOf:()=>dn,IsLiteral:()=>hw,IsLiteralBoolean:()=>lOe,IsLiteralNumber:()=>Yhe,IsLiteralString:()=>$he,IsLiteralValue:()=>zhe,IsMappedKey:()=>jhe,IsMappedResult:()=>Khe,IsNever:()=>Jhe,IsNot:()=>Xhe,IsNull:()=>Zhe,IsNumber:()=>eAe,IsObject:()=>tAe,IsOptional:()=>aOe,IsPromise:()=>rAe,IsProperties:()=>gk,IsReadonly:()=>sOe,IsRecord:()=>nAe,IsRecursive:()=>uOe,IsRef:()=>iAe,IsRegExp:()=>oAe,IsSchema:()=>eo,IsString:()=>sAe,IsSymbol:()=>aAe,IsTemplateLiteral:()=>cAe,IsThis:()=>lAe,IsTransform:()=>uAe,IsTuple:()=>fAe,IsUint8Array:()=>hAe,IsUndefined:()=>dAe,IsUnion:()=>bW,IsUnionLiteral:()=>fOe,IsUnknown:()=>AAe,IsUnsafe:()=>pAe,IsVoid:()=>mAe,TypeGuardUnknownTypeError:()=>IW});f();var IW=class extends ur{static{s(this,"TypeGuardUnknownTypeError")}},nOe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Rhe(t){try{return new RegExp(t),!0}catch{return!1}}s(Rhe,"IsPattern");function xW(t){if(!Di(t))return!1;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}s(xW,"IsControlCharacterFree");function khe(t){return vW(t)||eo(t)}s(khe,"IsAdditionalProperties");function dw(t){return is(t)||aw(t)}s(dw,"IsOptionalBigInt");function Ni(t){return is(t)||zc(t)}s(Ni,"IsOptionalNumber");function vW(t){return is(t)||vA(t)}s(vW,"IsOptionalBoolean");function xi(t){return is(t)||Di(t)}s(xi,"IsOptionalString");function iOe(t){return is(t)||Di(t)&&xW(t)&&Rhe(t)}s(iOe,"IsOptionalPattern");function oOe(t){return is(t)||Di(t)&&xW(t)}s(oOe,"IsOptionalFormat");function Dhe(t){return is(t)||eo(t)}s(Dhe,"IsOptionalSchema");function sOe(t){return Ii(t)&&t[ef]==="Readonly"}s(sOe,"IsReadonly");function aOe(t){return Ii(t)&&t[Sa]==="Optional"}s(aOe,"IsOptional");function Nhe(t){return dn(t,"Any")&&xi(t.$id)}s(Nhe,"IsAny");function Qhe(t){return dn(t,"Argument")&&zc(t.index)}s(Qhe,"IsArgument");function Phe(t){return dn(t,"Array")&&t.type==="array"&&xi(t.$id)&&eo(t.items)&&Ni(t.minItems)&&Ni(t.maxItems)&&vW(t.uniqueItems)&&Dhe(t.contains)&&Ni(t.minContains)&&Ni(t.maxContains)}s(Phe,"IsArray");function Fhe(t){return dn(t,"AsyncIterator")&&t.type==="AsyncIterator"&&xi(t.$id)&&eo(t.items)}s(Fhe,"IsAsyncIterator");function Lhe(t){return dn(t,"BigInt")&&t.type==="bigint"&&xi(t.$id)&&dw(t.exclusiveMaximum)&&dw(t.exclusiveMinimum)&&dw(t.maximum)&&dw(t.minimum)&&dw(t.multipleOf)}s(Lhe,"IsBigInt");function Mhe(t){return dn(t,"Boolean")&&t.type==="boolean"&&xi(t.$id)}s(Mhe,"IsBoolean");function Ohe(t){return dn(t,"Computed")&&Di(t.target)&&ns(t.parameters)&&t.parameters.every(e=>eo(e))}s(Ohe,"IsComputed");function Uhe(t){return dn(t,"Constructor")&&t.type==="Constructor"&&xi(t.$id)&&ns(t.parameters)&&t.parameters.every(e=>eo(e))&&eo(t.returns)}s(Uhe,"IsConstructor");function Hhe(t){return dn(t,"Date")&&t.type==="Date"&&xi(t.$id)&&Ni(t.exclusiveMaximumTimestamp)&&Ni(t.exclusiveMinimumTimestamp)&&Ni(t.maximumTimestamp)&&Ni(t.minimumTimestamp)&&Ni(t.multipleOfTimestamp)}s(Hhe,"IsDate");function qhe(t){return dn(t,"Function")&&t.type==="Function"&&xi(t.$id)&&ns(t.parameters)&&t.parameters.every(e=>eo(e))&&eo(t.returns)}s(qhe,"IsFunction");function cOe(t){return dn(t,"Import")&&uk(t,"$defs")&&Ii(t.$defs)&&gk(t.$defs)&&uk(t,"$ref")&&Di(t.$ref)&&t.$ref in t.$defs}s(cOe,"IsImport");function Ghe(t){return dn(t,"Integer")&&t.type==="integer"&&xi(t.$id)&&Ni(t.exclusiveMaximum)&&Ni(t.exclusiveMinimum)&&Ni(t.maximum)&&Ni(t.minimum)&&Ni(t.multipleOf)}s(Ghe,"IsInteger");function gk(t){return Ii(t)&&Object.entries(t).every(([e,r])=>xW(e)&&eo(r))}s(gk,"IsProperties");function Vhe(t){return dn(t,"Intersect")&&!(Di(t.type)&&t.type!=="object")&&ns(t.allOf)&&t.allOf.every(e=>eo(e)&&!uAe(e))&&xi(t.type)&&(vW(t.unevaluatedProperties)||Dhe(t.unevaluatedProperties))&&xi(t.$id)}s(Vhe,"IsIntersect");function Whe(t){return dn(t,"Iterator")&&t.type==="Iterator"&&xi(t.$id)&&eo(t.items)}s(Whe,"IsIterator");function dn(t,e){return Ii(t)&&Oe in t&&t[Oe]===e}s(dn,"IsKindOf");function $he(t){return hw(t)&&Di(t.const)}s($he,"IsLiteralString");function Yhe(t){return hw(t)&&zc(t.const)}s(Yhe,"IsLiteralNumber");function lOe(t){return hw(t)&&vA(t.const)}s(lOe,"IsLiteralBoolean");function hw(t){return dn(t,"Literal")&&xi(t.$id)&&zhe(t.const)}s(hw,"IsLiteral");function zhe(t){return vA(t)||zc(t)||Di(t)}s(zhe,"IsLiteralValue");function jhe(t){return dn(t,"MappedKey")&&ns(t.keys)&&t.keys.every(e=>zc(e)||Di(e))}s(jhe,"IsMappedKey");function Khe(t){return dn(t,"MappedResult")&&gk(t.properties)}s(Khe,"IsMappedResult");function Jhe(t){return dn(t,"Never")&&Ii(t.not)&&Object.getOwnPropertyNames(t.not).length===0}s(Jhe,"IsNever");function Xhe(t){return dn(t,"Not")&&eo(t.not)}s(Xhe,"IsNot");function Zhe(t){return dn(t,"Null")&&t.type==="null"&&xi(t.$id)}s(Zhe,"IsNull");function eAe(t){return dn(t,"Number")&&t.type==="number"&&xi(t.$id)&&Ni(t.exclusiveMaximum)&&Ni(t.exclusiveMinimum)&&Ni(t.maximum)&&Ni(t.minimum)&&Ni(t.multipleOf)}s(eAe,"IsNumber");function tAe(t){return dn(t,"Object")&&t.type==="object"&&xi(t.$id)&&gk(t.properties)&&khe(t.additionalProperties)&&Ni(t.minProperties)&&Ni(t.maxProperties)}s(tAe,"IsObject");function rAe(t){return dn(t,"Promise")&&t.type==="Promise"&&xi(t.$id)&&eo(t.item)}s(rAe,"IsPromise");function nAe(t){return dn(t,"Record")&&t.type==="object"&&xi(t.$id)&&khe(t.additionalProperties)&&Ii(t.patternProperties)&&(e=>{let r=Object.getOwnPropertyNames(e.patternProperties);return r.length===1&&Rhe(r[0])&&Ii(e.patternProperties)&&eo(e.patternProperties[r[0]])})(t)}s(nAe,"IsRecord");function uOe(t){return Ii(t)&&zl in t&&t[zl]==="Recursive"}s(uOe,"IsRecursive");function iAe(t){return dn(t,"Ref")&&xi(t.$id)&&Di(t.$ref)}s(iAe,"IsRef");function oAe(t){return dn(t,"RegExp")&&xi(t.$id)&&Di(t.source)&&Di(t.flags)&&Ni(t.maxLength)&&Ni(t.minLength)}s(oAe,"IsRegExp");function sAe(t){return dn(t,"String")&&t.type==="string"&&xi(t.$id)&&Ni(t.minLength)&&Ni(t.maxLength)&&iOe(t.pattern)&&oOe(t.format)}s(sAe,"IsString");function aAe(t){return dn(t,"Symbol")&&t.type==="symbol"&&xi(t.$id)}s(aAe,"IsSymbol");function cAe(t){return dn(t,"TemplateLiteral")&&t.type==="string"&&Di(t.pattern)&&t.pattern[0]==="^"&&t.pattern[t.pattern.length-1]==="$"}s(cAe,"IsTemplateLiteral");function lAe(t){return dn(t,"This")&&xi(t.$id)&&Di(t.$ref)}s(lAe,"IsThis");function uAe(t){return Ii(t)&&uo in t}s(uAe,"IsTransform");function fAe(t){return dn(t,"Tuple")&&t.type==="array"&&xi(t.$id)&&zc(t.minItems)&&zc(t.maxItems)&&t.minItems===t.maxItems&&(is(t.items)&&is(t.additionalItems)&&t.minItems===0||ns(t.items)&&t.items.every(e=>eo(e)))}s(fAe,"IsTuple");function dAe(t){return dn(t,"Undefined")&&t.type==="undefined"&&xi(t.$id)}s(dAe,"IsUndefined");function fOe(t){return bW(t)&&t.anyOf.every(e=>$he(e)||Yhe(e))}s(fOe,"IsUnionLiteral");function bW(t){return dn(t,"Union")&&xi(t.$id)&&Ii(t)&&ns(t.anyOf)&&t.anyOf.every(e=>eo(e))}s(bW,"IsUnion");function hAe(t){return dn(t,"Uint8Array")&&t.type==="Uint8Array"&&xi(t.$id)&&Ni(t.minByteLength)&&Ni(t.maxByteLength)}s(hAe,"IsUint8Array");function AAe(t){return dn(t,"Unknown")&&xi(t.$id)}s(AAe,"IsUnknown");function pAe(t){return dn(t,"Unsafe")}s(pAe,"IsUnsafe");function mAe(t){return dn(t,"Void")&&t.type==="void"&&xi(t.$id)}s(mAe,"IsVoid");function gAe(t){return Ii(t)&&Oe in t&&Di(t[Oe])&&!nOe.includes(t[Oe])}s(gAe,"IsKind");function eo(t){return Ii(t)&&(Nhe(t)||Qhe(t)||Phe(t)||Mhe(t)||Lhe(t)||Fhe(t)||Ohe(t)||Uhe(t)||Hhe(t)||qhe(t)||Ghe(t)||Vhe(t)||Whe(t)||hw(t)||jhe(t)||Khe(t)||Jhe(t)||Xhe(t)||Zhe(t)||eAe(t)||tAe(t)||rAe(t)||nAe(t)||iAe(t)||oAe(t)||sAe(t)||aAe(t)||cAe(t)||lAe(t)||fAe(t)||dAe(t)||bW(t)||hAe(t)||AAe(t)||pAe(t)||mAe(t)||gAe(t))}s(eo,"IsSchema");f();var TW="(true|false)",Aw="(0|[1-9][0-9]*)",_W="(.*)",dOe="(?!.*)",Irr=`^${TW}$`,Ud=`^${Aw}$`,Hd=`^${_W}$`,yAe=`^${dOe}$`;f();var cf={};Io(cf,{Clear:()=>AOe,Delete:()=>pOe,Entries:()=>hOe,Get:()=>yOe,Has:()=>mOe,Set:()=>gOe});f();var $x=new Map;function hOe(){return new Map($x)}s(hOe,"Entries");function AOe(){return $x.clear()}s(AOe,"Clear");function pOe(t){return $x.delete(t)}s(pOe,"Delete");function mOe(t){return $x.has(t)}s(mOe,"Has");function gOe(t,e){$x.set(t,e)}s(gOe,"Set");function yOe(t){return $x.get(t)}s(yOe,"Get");var v0={};Io(v0,{Clear:()=>EOe,Delete:()=>IOe,Entries:()=>COe,Get:()=>bOe,Has:()=>xOe,Set:()=>vOe});f();var Yx=new Map;function COe(){return new Map(Yx)}s(COe,"Entries");function EOe(){return Yx.clear()}s(EOe,"Clear");function IOe(t){return Yx.delete(t)}s(IOe,"Delete");function xOe(t){return Yx.has(t)}s(xOe,"Has");function vOe(t,e){Yx.set(t,e)}s(vOe,"Set");function bOe(t){return Yx.get(t)}s(bOe,"Get");f();function CAe(t,e){return t.includes(e)}s(CAe,"SetIncludes");function EAe(t){return[...new Set(t)]}s(EAe,"SetDistinct");function TOe(t,e){return t.filter(r=>e.includes(r))}s(TOe,"SetIntersect");function _Oe(t,e){return t.reduce((r,n)=>TOe(r,n),e)}s(_Oe,"SetIntersectManyResolve");function IAe(t){return t.length===1?t[0]:t.length>1?_Oe(t.slice(1),t[0]):[]}s(IAe,"SetIntersectMany");function xAe(t){let e=[];for(let r of t)e.push(...r);return e}s(xAe,"SetUnionMany");f();function Ng(t){return He({[Oe]:"Any"},t)}s(Ng,"Any");f();function zx(t,e){return He({[Oe]:"Array",type:"array",items:t},e)}s(zx,"Array");f();function vAe(t){return He({[Oe]:"Argument",index:t})}s(vAe,"Argument");f();function jx(t,e){return He({[Oe]:"AsyncIterator",type:"AsyncIterator",items:t},e)}s(jx,"AsyncIterator");f();f();function Oi(t,e,r){return He({[Oe]:"Computed",target:t,parameters:e},r)}s(Oi,"Computed");f();f();function wOe(t,e){let{[e]:r,...n}=t;return n}s(wOe,"DiscardKey");function wo(t,e){return e.reduce((r,n)=>wOe(r,n),t)}s(wo,"Discard");f();function Jr(t){return He({[Oe]:"Never",not:{}},t)}s(Jr,"Never");f();f();function Gn(t){return He({[Oe]:"MappedResult",properties:t})}s(Gn,"MappedResult");f();f();function Kx(t,e,r){return He({[Oe]:"Constructor",type:"Constructor",parameters:t,returns:e},r)}s(Kx,"Constructor");f();function qd(t,e,r){return He({[Oe]:"Function",type:"Function",parameters:t,returns:e},r)}s(qd,"Function");f();f();f();f();function pw(t,e){return He({[Oe]:"Union",anyOf:t},e)}s(pw,"UnionCreate");function SOe(t){return t.some(e=>oc(e))}s(SOe,"IsUnionOptional");function bAe(t){return t.map(e=>oc(e)?BOe(e):e)}s(bAe,"RemoveOptionalFromRest");function BOe(t){return wo(t,[Sa])}s(BOe,"RemoveOptionalFromType");function ROe(t,e){return SOe(t)?Ja(pw(bAe(t),e)):pw(bAe(t),e)}s(ROe,"ResolveUnion");function Gd(t,e){return t.length===1?He(t[0],e):t.length===0?Jr(e):ROe(t,e)}s(Gd,"UnionEvaluated");f();function ei(t,e){return t.length===0?Jr(e):t.length===1?He(t[0],e):pw(t,e)}s(ei,"Union");f();f();f();var yk=class extends ur{static{s(this,"TemplateLiteralParserError")}};function kOe(t){return t.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}s(kOe,"Unescape");function wW(t,e,r){return t[e]===r&&t.charCodeAt(e-1)!==92}s(wW,"IsNonEscaped");function kA(t,e){return wW(t,e,"(")}s(kA,"IsOpenParen");function mw(t,e){return wW(t,e,")")}s(mw,"IsCloseParen");function TAe(t,e){return wW(t,e,"|")}s(TAe,"IsSeparator");function DOe(t){if(!(kA(t,0)&&mw(t,t.length-1)))return!1;let e=0;for(let r=0;r<t.length;r++)if(kA(t,r)&&(e+=1),mw(t,r)&&(e-=1),e===0&&r!==t.length-1)return!1;return!0}s(DOe,"IsGroup");function NOe(t){return t.slice(1,t.length-1)}s(NOe,"InGroup");function QOe(t){let e=0;for(let r=0;r<t.length;r++)if(kA(t,r)&&(e+=1),mw(t,r)&&(e-=1),TAe(t,r)&&e===0)return!0;return!1}s(QOe,"IsPrecedenceOr");function POe(t){for(let e=0;e<t.length;e++)if(kA(t,e))return!0;return!1}s(POe,"IsPrecedenceAnd");function FOe(t){let[e,r]=[0,0],n=[];for(let a=0;a<t.length;a++)if(kA(t,a)&&(e+=1),mw(t,a)&&(e-=1),TAe(t,a)&&e===0){let c=t.slice(r,a);c.length>0&&n.push(Jx(c)),r=a+1}let o=t.slice(r);return o.length>0&&n.push(Jx(o)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}s(FOe,"Or");function LOe(t){function e(o,a){if(!kA(o,a))throw new yk("TemplateLiteralParser: Index must point to open parens");let c=0;for(let l=a;l<o.length;l++)if(kA(o,l)&&(c+=1),mw(o,l)&&(c-=1),c===0)return[a,l];throw new yk("TemplateLiteralParser: Unclosed group parens in expression")}s(e,"Group");function r(o,a){for(let c=a;c<o.length;c++)if(kA(o,c))return[a,c];return[a,o.length]}s(r,"Range");let n=[];for(let o=0;o<t.length;o++)if(kA(t,o)){let[a,c]=e(t,o),l=t.slice(a,c+1);n.push(Jx(l)),o=c}else{let[a,c]=r(t,o),l=t.slice(a,c);l.length>0&&n.push(Jx(l)),o=c-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}s(LOe,"And");function Jx(t){return DOe(t)?Jx(NOe(t)):QOe(t)?FOe(t):POe(t)?LOe(t):{type:"const",const:kOe(t)}}s(Jx,"TemplateLiteralParse");function Xx(t){return Jx(t.slice(1,t.length-1))}s(Xx,"TemplateLiteralParseExact");var SW=class extends ur{static{s(this,"TemplateLiteralFiniteError")}};function MOe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="0"&&t.expr[1].type==="const"&&t.expr[1].const==="[1-9][0-9]*"}s(MOe,"IsNumberExpression");function OOe(t){return t.type==="or"&&t.expr.length===2&&t.expr[0].type==="const"&&t.expr[0].const==="true"&&t.expr[1].type==="const"&&t.expr[1].const==="false"}s(OOe,"IsBooleanExpression");function UOe(t){return t.type==="const"&&t.const===".*"}s(UOe,"IsStringExpression");function ZC(t){return MOe(t)||UOe(t)?!1:OOe(t)?!0:t.type==="and"?t.expr.every(e=>ZC(e)):t.type==="or"?t.expr.every(e=>ZC(e)):t.type==="const"?!0:(()=>{throw new SW("Unknown expression type")})()}s(ZC,"IsTemplateLiteralExpressionFinite");function Ck(t){let e=Xx(t.pattern);return ZC(e)}s(Ck,"IsTemplateLiteralFinite");f();var BW=class extends ur{static{s(this,"TemplateLiteralGenerateError")}};function*_Ae(t){if(t.length===1)return yield*t[0];for(let e of t[0])for(let r of _Ae(t.slice(1)))yield`${e}${r}`}s(_Ae,"GenerateReduce");function*HOe(t){return yield*_Ae(t.expr.map(e=>[...gw(e)]))}s(HOe,"GenerateAnd");function*qOe(t){for(let e of t.expr)yield*gw(e)}s(qOe,"GenerateOr");function*GOe(t){return yield t.const}s(GOe,"GenerateConst");function*gw(t){return t.type==="and"?yield*HOe(t):t.type==="or"?yield*qOe(t):t.type==="const"?yield*GOe(t):(()=>{throw new BW("Unknown expression")})()}s(gw,"TemplateLiteralExpressionGenerate");function Zx(t){let e=Xx(t.pattern);return ZC(e)?[...gw(e)]:[]}s(Zx,"TemplateLiteralGenerate");f();f();function Sn(t,e){return He({[Oe]:"Literal",const:t,type:typeof t},e)}s(Sn,"Literal");f();function Ek(t){return He({[Oe]:"Boolean",type:"boolean"},t)}s(Ek,"Boolean");f();function ev(t){return He({[Oe]:"BigInt",type:"bigint"},t)}s(ev,"BigInt");f();function jl(t){return He({[Oe]:"Number",type:"number"},t)}s(jl,"Number");f();function b0(t){return He({[Oe]:"String",type:"string"},t)}s(b0,"String");function*VOe(t){let e=t.trim().replace(/"|'/g,"");return e==="boolean"?yield Ek():e==="number"?yield jl():e==="bigint"?yield ev():e==="string"?yield b0():yield(()=>{let r=e.split("|").map(n=>Sn(n.trim()));return r.length===0?Jr():r.length===1?r[0]:Gd(r)})()}s(VOe,"FromUnion");function*WOe(t){if(t[1]!=="{"){let e=Sn("$"),r=RW(t.slice(1));return yield*[e,...r]}for(let e=2;e<t.length;e++)if(t[e]==="}"){let r=VOe(t.slice(2,e)),n=RW(t.slice(e+1));return yield*[...r,...n]}yield Sn(t)}s(WOe,"FromTerminal");function*RW(t){for(let e=0;e<t.length;e++)if(t[e]==="$"){let r=Sn(t.slice(0,e)),n=WOe(t.slice(e));return yield*[r,...n]}yield Sn(t)}s(RW,"FromSyntax");function wAe(t){return[...RW(t)]}s(wAe,"TemplateLiteralSyntax");f();var kW=class extends ur{static{s(this,"TemplateLiteralPatternError")}};function $Oe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s($Oe,"Escape");function SAe(t,e){return Xc(t)?t.pattern.slice(1,t.pattern.length-1):Ln(t)?`(${t.anyOf.map(r=>SAe(r,e)).join("|")})`:af(t)?`${e}${Aw}`:sf(t)?`${e}${Aw}`:jC(t)?`${e}${Aw}`:SA(t)?`${e}${_W}`:Kc(t)?`${e}${$Oe(t.const.toString())}`:wA(t)?`${e}${TW}`:(()=>{throw new kW(`Unexpected Kind '${t[Oe]}'`)})()}s(SAe,"Visit");function DW(t){return`^${t.map(e=>SAe(e,"")).join("")}$`}s(DW,"TemplateLiteralPattern");f();function eE(t){let r=Zx(t).map(n=>Sn(n));return Gd(r)}s(eE,"TemplateLiteralToUnion");f();function Ik(t,e){let r=Di(t)?DW(wAe(t)):DW(t);return He({[Oe]:"TemplateLiteral",type:"string",pattern:r},e)}s(Ik,"TemplateLiteral");function YOe(t){return Zx(t).map(r=>r.toString())}s(YOe,"FromTemplateLiteral");function zOe(t){let e=[];for(let r of t)e.push(...sc(r));return e}s(zOe,"FromUnion");function jOe(t){return[t.toString()]}s(jOe,"FromLiteral");function sc(t){return[...new Set(Xc(t)?YOe(t):Ln(t)?zOe(t.anyOf):Kc(t)?jOe(t.const):af(t)?["[number]"]:sf(t)?["[number]"]:[])]}s(sc,"IndexPropertyKeys");f();function KOe(t,e,r){let n={};for(let o of Object.getOwnPropertyNames(e))n[o]=Qg(t,sc(e[o]),r);return n}s(KOe,"FromProperties");function JOe(t,e,r){return KOe(t,e.properties,r)}s(JOe,"FromMappedResult");function BAe(t,e,r){let n=JOe(t,e,r);return Gn(n)}s(BAe,"IndexFromMappedResult");function kAe(t,e){return t.map(r=>DAe(r,e))}s(kAe,"FromRest");function XOe(t){return t.filter(e=>!kg(e))}s(XOe,"FromIntersectRest");function ZOe(t,e){return xk(XOe(kAe(t,e)))}s(ZOe,"FromIntersect");function eUe(t){return t.some(e=>kg(e))?[]:t}s(eUe,"FromUnionRest");function tUe(t,e){return Gd(eUe(kAe(t,e)))}s(tUe,"FromUnion");function rUe(t,e){return e in t?t[e]:e==="[number]"?Gd(t):Jr()}s(rUe,"FromTuple");function nUe(t,e){return e==="[number]"?t:Jr()}s(nUe,"FromArray");function iUe(t,e){return e in t?t[e]:Jr()}s(iUe,"FromProperty");function DAe(t,e){return _o(t)?ZOe(t.allOf,e):Ln(t)?tUe(t.anyOf,e):Zc(t)?rUe(t.items??[],e):tf(t)?nUe(t.items,e):os(t)?iUe(t.properties,e):Jr()}s(DAe,"IndexFromPropertyKey");function yw(t,e){return e.map(r=>DAe(t,r))}s(yw,"IndexFromPropertyKeys");function RAe(t,e){return Gd(yw(t,e))}s(RAe,"FromSchema");function Qg(t,e,r){if(Oo(t)||Oo(e)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!fo(t)||!fo(e))throw new ur(n);return Oi("Index",[t,e])}return Zi(e)?BAe(t,e,r):Jc(e)?NAe(t,e,r):He(fo(e)?RAe(t,sc(e)):RAe(t,e),r)}s(Qg,"Index");function oUe(t,e,r){return{[e]:Qg(t,[e],Ji(r))}}s(oUe,"MappedIndexPropertyKey");function sUe(t,e,r){return e.reduce((n,o)=>({...n,...oUe(t,o,r)}),{})}s(sUe,"MappedIndexPropertyKeys");function aUe(t,e,r){return sUe(t,e.keys,r)}s(aUe,"MappedIndexProperties");function NAe(t,e,r){let n=aUe(t,e,r);return Gn(n)}s(NAe,"IndexFromMappedKey");f();function tv(t,e){return He({[Oe]:"Iterator",type:"Iterator",items:t},e)}s(tv,"Iterator");f();function cUe(t){let e=[];for(let r in t)oc(t[r])||e.push(r);return e}s(cUe,"RequiredKeys");function lUe(t,e){let r=cUe(t),n=r.length>0?{[Oe]:"Object",type:"object",properties:t,required:r}:{[Oe]:"Object",type:"object",properties:t};return He(n,e)}s(lUe,"_Object");var ti=lUe;f();function vk(t,e){return He({[Oe]:"Promise",type:"Promise",item:t},e)}s(vk,"Promise");f();f();function uUe(t){return He(wo(t,[ef]))}s(uUe,"RemoveReadonly");function fUe(t){return He({...t,[ef]:"Readonly"})}s(fUe,"AddReadonly");function dUe(t,e){return e===!1?uUe(t):fUe(t)}s(dUe,"ReadonlyWithFlag");function ac(t,e){let r=e??!0;return Zi(t)?QAe(t,r):dUe(t,r)}s(ac,"Readonly");function hUe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=ac(t[n],e);return r}s(hUe,"FromProperties");function AUe(t,e){return hUe(t.properties,e)}s(AUe,"FromMappedResult");function QAe(t,e){let r=AUe(t,e);return Gn(r)}s(QAe,"ReadonlyFromMappedResult");f();function Kl(t,e){return He(t.length>0?{[Oe]:"Tuple",type:"array",items:t,additionalItems:!1,minItems:t.length,maxItems:t.length}:{[Oe]:"Tuple",type:"array",minItems:t.length,maxItems:t.length},e)}s(Kl,"Tuple");function PAe(t,e){return t in e?Jl(t,e[t]):Gn(e)}s(PAe,"FromMappedResult");function pUe(t){return{[t]:Sn(t)}}s(pUe,"MappedKeyToKnownMappedResultProperties");function mUe(t){let e={};for(let r of t)e[r]=Sn(r);return e}s(mUe,"MappedKeyToUnknownMappedResultProperties");function gUe(t,e){return CAe(e,t)?pUe(t):mUe(e)}s(gUe,"MappedKeyToMappedResultProperties");function yUe(t,e){let r=gUe(t,e);return PAe(t,r)}s(yUe,"FromMappedKey");function Cw(t,e){return e.map(r=>Jl(t,r))}s(Cw,"FromRest");function CUe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Jl(t,e[n]);return r}s(CUe,"FromProperties");function Jl(t,e){let r={...e};return oc(e)?Ja(Jl(t,wo(e,[Sa]))):Wx(e)?ac(Jl(t,wo(e,[ef]))):Zi(e)?PAe(t,e.properties):Jc(e)?yUe(t,e.keys):nf(e)?Kx(Cw(t,e.parameters),Jl(t,e.returns),r):of(e)?qd(Cw(t,e.parameters),Jl(t,e.returns),r):zC(e)?jx(Jl(t,e.items),r):KC(e)?tv(Jl(t,e.items),r):_o(e)?Xa(Cw(t,e.allOf),r):Ln(e)?ei(Cw(t,e.anyOf),r):Zc(e)?Kl(Cw(t,e.items??[]),r):os(e)?ti(CUe(t,e.properties),r):tf(e)?zx(Jl(t,e.items),r):JC(e)?vk(Jl(t,e.item),r):e}s(Jl,"FromSchemaType");function EUe(t,e){let r={};for(let n of t)r[n]=Jl(n,e);return r}s(EUe,"MappedFunctionReturnType");function FAe(t,e,r){let n=fo(t)?sc(t):t,o=e({[Oe]:"MappedKey",keys:n}),a=EUe(n,o);return ti(a,r)}s(FAe,"Mapped");f();function IUe(t){return He(wo(t,[Sa]))}s(IUe,"RemoveOptional");function xUe(t){return He({...t,[Sa]:"Optional"})}s(xUe,"AddOptional");function vUe(t,e){return e===!1?IUe(t):xUe(t)}s(vUe,"OptionalWithFlag");function Ja(t,e){let r=e??!0;return Zi(t)?LAe(t,r):vUe(t,r)}s(Ja,"Optional");function bUe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Ja(t[n],e);return r}s(bUe,"FromProperties");function TUe(t,e){return bUe(t.properties,e)}s(TUe,"FromMappedResult");function LAe(t,e){let r=TUe(t,e);return Gn(r)}s(LAe,"OptionalFromMappedResult");f();function Ew(t,e={}){let r=t.every(o=>os(o)),n=fo(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return He(e.unevaluatedProperties===!1||fo(e.unevaluatedProperties)||r?{...n,[Oe]:"Intersect",type:"object",allOf:t}:{...n,[Oe]:"Intersect",allOf:t},e)}s(Ew,"IntersectCreate");function _Ue(t){return t.every(e=>oc(e))}s(_Ue,"IsIntersectOptional");function wUe(t){return wo(t,[Sa])}s(wUe,"RemoveOptionalFromType");function MAe(t){return t.map(e=>oc(e)?wUe(e):e)}s(MAe,"RemoveOptionalFromRest");function SUe(t,e){return _Ue(t)?Ja(Ew(MAe(t),e)):Ew(MAe(t),e)}s(SUe,"ResolveIntersect");function xk(t,e={}){if(t.length===1)return He(t[0],e);if(t.length===0)return Jr(e);if(t.some(r=>Zn(r)))throw new Error("Cannot intersect transform types");return SUe(t,e)}s(xk,"IntersectEvaluated");f();function Xa(t,e){if(t.length===1)return He(t[0],e);if(t.length===0)return Jr(e);if(t.some(r=>Zn(r)))throw new Error("Cannot intersect transform types");return Ew(t,e)}s(Xa,"Intersect");f();function Xl(...t){let[e,r]=typeof t[0]=="string"?[t[0],t[1]]:[t[0].$id,t[1]];if(typeof e!="string")throw new ur("Ref: $ref must be a string");return He({[Oe]:"Ref",$ref:e},r)}s(Xl,"Ref");function BUe(t,e){return Oi("Awaited",[Oi(t,e)])}s(BUe,"FromComputed");function RUe(t){return Oi("Awaited",[Xl(t)])}s(RUe,"FromRef");function kUe(t){return Xa(OAe(t))}s(kUe,"FromIntersect");function DUe(t){return ei(OAe(t))}s(DUe,"FromUnion");function NUe(t){return rv(t)}s(NUe,"FromPromise");function OAe(t){return t.map(e=>rv(e))}s(OAe,"FromRest");function rv(t,e){return He(rf(t)?BUe(t.target,t.parameters):_o(t)?kUe(t.allOf):Ln(t)?DUe(t.anyOf):JC(t)?NUe(t.item):Oo(t)?RUe(t.$ref):t,e)}s(rv,"Awaited");f();f();f();f();function UAe(t){let e=[];for(let r of t)e.push(cc(r));return e}s(UAe,"FromRest");function QUe(t){let e=UAe(t);return xAe(e)}s(QUe,"FromIntersect");function PUe(t){let e=UAe(t);return IAe(e)}s(PUe,"FromUnion");function FUe(t){return t.map((e,r)=>r.toString())}s(FUe,"FromTuple");function LUe(t){return["[number]"]}s(LUe,"FromArray");function MUe(t){return globalThis.Object.getOwnPropertyNames(t)}s(MUe,"FromProperties");function OUe(t){return NW?globalThis.Object.getOwnPropertyNames(t).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}s(OUe,"FromPatternProperties");function cc(t){return _o(t)?QUe(t.allOf):Ln(t)?PUe(t.anyOf):Zc(t)?FUe(t.items??[]):tf(t)?LUe(t.items):os(t)?MUe(t.properties):XC(t)?OUe(t.patternProperties):[]}s(cc,"KeyOfPropertyKeys");var NW=!1;function DA(t){NW=!0;let e=cc(t);return NW=!1,`^(${e.map(n=>`(${n})`).join("|")})$`}s(DA,"KeyOfPattern");function UUe(t,e){return Oi("KeyOf",[Oi(t,e)])}s(UUe,"FromComputed");function HUe(t){return Oi("KeyOf",[Xl(t)])}s(HUe,"FromRef");function qUe(t,e){let r=cc(t),n=GUe(r),o=Gd(n);return He(o,e)}s(qUe,"KeyOfFromType");function GUe(t){return t.map(e=>e==="[number]"?jl():Sn(e))}s(GUe,"KeyOfPropertyKeysToRest");function nv(t,e){return rf(t)?UUe(t.target,t.parameters):Oo(t)?HUe(t.$ref):Zi(t)?HAe(t,e):qUe(t,e)}s(nv,"KeyOf");function VUe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=nv(t[n],Ji(e));return r}s(VUe,"FromProperties");function WUe(t,e){return VUe(t.properties,e)}s(WUe,"FromMappedResult");function HAe(t,e){let r=WUe(t,e);return Gn(r)}s(HAe,"KeyOfFromMappedResult");f();function bk(t){let e=cc(t),r=yw(t,e);return e.map((n,o)=>[e[o],r[o]])}s(bk,"KeyOfPropertyEntries");function $Ue(t){let e=[];for(let r of t)e.push(...cc(r));return EAe(e)}s($Ue,"CompositeKeys");function YUe(t){return t.filter(e=>!kg(e))}s(YUe,"FilterNever");function zUe(t,e){let r=[];for(let n of t)r.push(...yw(n,[e]));return YUe(r)}s(zUe,"CompositeProperty");function jUe(t,e){let r={};for(let n of e)r[n]=xk(zUe(t,n));return r}s(jUe,"CompositeProperties");function qAe(t,e){let r=$Ue(t),n=jUe(t,r);return ti(n,e)}s(qAe,"Composite");f();f();function Tk(t){return He({[Oe]:"Date",type:"Date"},t)}s(Tk,"Date");f();function _k(t){return He({[Oe]:"Null",type:"null"},t)}s(_k,"Null");f();function wk(t){return He({[Oe]:"Symbol",type:"symbol"},t)}s(wk,"Symbol");f();function Sk(t){return He({[Oe]:"Undefined",type:"undefined"},t)}s(Sk,"Undefined");f();function Bk(t){return He({[Oe]:"Uint8Array",type:"Uint8Array"},t)}s(Bk,"Uint8Array");f();function lf(t){return He({[Oe]:"Unknown"},t)}s(lf,"Unknown");function KUe(t){return t.map(e=>QW(e,!1))}s(KUe,"FromArray");function JUe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=ac(QW(t[r],!1));return e}s(JUe,"FromProperties");function Rk(t,e){return e===!0?t:ac(t)}s(Rk,"ConditionalReadonly");function QW(t,e){return dW(t)?Rk(Ng(),e):AW(t)?Rk(Ng(),e):ns(t)?ac(Kl(KUe(t))):bA(t)?Bk():YC(t)?Tk():Ii(t)?Rk(ti(JUe(t)),e):hW(t)?Rk(qd([],lf()),e):is(t)?Sk():pW(t)?_k():mW(t)?wk():aw(t)?ev():zc(t)?Sn(t):vA(t)?Sn(t):Di(t)?Sn(t):ti({})}s(QW,"FromValue");function GAe(t,e){return He(QW(t,!0),e)}s(GAe,"Const");f();function VAe(t,e){return nf(t)?Kl(t.parameters,e):Jr(e)}s(VAe,"ConstructorParameters");f();function WAe(t,e){if(is(t))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),o=[...new Set(r)].map(a=>Sn(a));return ei(o,{...e,[zl]:"Enum"})}s(WAe,"Enum");f();f();f();var FW=class extends ur{static{s(this,"ExtendsResolverError")}},qe;(function(t){t[t.Union=0]="Union",t[t.True=1]="True",t[t.False=2]="False"})(qe||(qe={}));function Zl(t){return t===qe.False?t:qe.True}s(Zl,"IntoBooleanResult");function iv(t){throw new FW(t)}s(iv,"Throw");function Es(t){return be.IsNever(t)||be.IsIntersect(t)||be.IsUnion(t)||be.IsUnknown(t)||be.IsAny(t)}s(Es,"IsStructuralRight");function Is(t,e){return be.IsNever(e)?XAe(t,e):be.IsIntersect(e)?kk(t,e):be.IsUnion(e)?UW(t,e):be.IsUnknown(e)?rpe(t,e):be.IsAny(e)?OW(t,e):iv("StructuralRight")}s(Is,"StructuralRight");function OW(t,e){return qe.True}s(OW,"FromAnyRight");function XUe(t,e){return be.IsIntersect(e)?kk(t,e):be.IsUnion(e)&&e.anyOf.some(r=>be.IsAny(r)||be.IsUnknown(r))?qe.True:be.IsUnion(e)?qe.Union:be.IsUnknown(e)||be.IsAny(e)?qe.True:qe.Union}s(XUe,"FromAny");function ZUe(t,e){return be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:be.IsNever(t)?qe.True:qe.False}s(ZUe,"FromArrayRight");function eHe(t,e){return be.IsObject(e)&&Dk(e)?qe.True:Es(e)?Is(t,e):be.IsArray(e)?Zl(vi(t.items,e.items)):qe.False}s(eHe,"FromArray");function tHe(t,e){return Es(e)?Is(t,e):be.IsAsyncIterator(e)?Zl(vi(t.items,e.items)):qe.False}s(tHe,"FromAsyncIterator");function rHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsBigInt(e)?qe.True:qe.False}s(rHe,"FromBigInt");function KAe(t,e){return be.IsLiteralBoolean(t)||be.IsBoolean(t)?qe.True:qe.False}s(KAe,"FromBooleanRight");function nHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsBoolean(e)?qe.True:qe.False}s(nHe,"FromBoolean");function iHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsConstructor(e)?t.parameters.length>e.parameters.length?qe.False:t.parameters.every((r,n)=>Zl(vi(e.parameters[n],r))===qe.True)?Zl(vi(t.returns,e.returns)):qe.False:qe.False}s(iHe,"FromConstructor");function oHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsDate(e)?qe.True:qe.False}s(oHe,"FromDate");function sHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsFunction(e)?t.parameters.length>e.parameters.length?qe.False:t.parameters.every((r,n)=>Zl(vi(e.parameters[n],r))===qe.True)?Zl(vi(t.returns,e.returns)):qe.False:qe.False}s(sHe,"FromFunction");function JAe(t,e){return be.IsLiteral(t)&&Ka.IsNumber(t.const)||be.IsNumber(t)||be.IsInteger(t)?qe.True:qe.False}s(JAe,"FromIntegerRight");function aHe(t,e){return be.IsInteger(e)||be.IsNumber(e)?qe.True:Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):qe.False}s(aHe,"FromInteger");function kk(t,e){return e.allOf.every(r=>vi(t,r)===qe.True)?qe.True:qe.False}s(kk,"FromIntersectRight");function cHe(t,e){return t.allOf.some(r=>vi(r,e)===qe.True)?qe.True:qe.False}s(cHe,"FromIntersect");function lHe(t,e){return Es(e)?Is(t,e):be.IsIterator(e)?Zl(vi(t.items,e.items)):qe.False}s(lHe,"FromIterator");function uHe(t,e){return be.IsLiteral(e)&&e.const===t.const?qe.True:Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsString(e)?tpe(t,e):be.IsNumber(e)?ZAe(t,e):be.IsInteger(e)?JAe(t,e):be.IsBoolean(e)?KAe(t,e):qe.False}s(uHe,"FromLiteral");function XAe(t,e){return qe.False}s(XAe,"FromNeverRight");function fHe(t,e){return qe.True}s(fHe,"FromNever");function $Ae(t){let[e,r]=[t,0];for(;be.IsNot(e);)e=e.not,r+=1;return r%2===0?e:lf()}s($Ae,"UnwrapTNot");function dHe(t,e){return be.IsNot(t)?vi($Ae(t),e):be.IsNot(e)?vi(t,$Ae(e)):iv("Invalid fallthrough for Not")}s(dHe,"FromNot");function hHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsNull(e)?qe.True:qe.False}s(hHe,"FromNull");function ZAe(t,e){return be.IsLiteralNumber(t)||be.IsNumber(t)||be.IsInteger(t)?qe.True:qe.False}s(ZAe,"FromNumberRight");function AHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsInteger(e)||be.IsNumber(e)?qe.True:qe.False}s(AHe,"FromNumber");function lc(t,e){return Object.getOwnPropertyNames(t.properties).length===e}s(lc,"IsObjectPropertyCount");function YAe(t){return Dk(t)}s(YAe,"IsObjectStringLike");function zAe(t){return lc(t,0)||lc(t,1)&&"description"in t.properties&&be.IsUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(be.IsString(t.properties.description.anyOf[0])&&be.IsUndefined(t.properties.description.anyOf[1])||be.IsString(t.properties.description.anyOf[1])&&be.IsUndefined(t.properties.description.anyOf[0]))}s(zAe,"IsObjectSymbolLike");function PW(t){return lc(t,0)}s(PW,"IsObjectNumberLike");function jAe(t){return lc(t,0)}s(jAe,"IsObjectBooleanLike");function pHe(t){return lc(t,0)}s(pHe,"IsObjectBigIntLike");function mHe(t){return lc(t,0)}s(mHe,"IsObjectDateLike");function gHe(t){return Dk(t)}s(gHe,"IsObjectUint8ArrayLike");function yHe(t){let e=jl();return lc(t,0)||lc(t,1)&&"length"in t.properties&&Zl(vi(t.properties.length,e))===qe.True}s(yHe,"IsObjectFunctionLike");function CHe(t){return lc(t,0)}s(CHe,"IsObjectConstructorLike");function Dk(t){let e=jl();return lc(t,0)||lc(t,1)&&"length"in t.properties&&Zl(vi(t.properties.length,e))===qe.True}s(Dk,"IsObjectArrayLike");function EHe(t){let e=qd([Ng()],Ng());return lc(t,0)||lc(t,1)&&"then"in t.properties&&Zl(vi(t.properties.then,e))===qe.True}s(EHe,"IsObjectPromiseLike");function epe(t,e){return vi(t,e)===qe.False||be.IsOptional(t)&&!be.IsOptional(e)?qe.False:qe.True}s(epe,"Property");function Za(t,e){return be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:be.IsNever(t)||be.IsLiteralString(t)&&YAe(e)||be.IsLiteralNumber(t)&&PW(e)||be.IsLiteralBoolean(t)&&jAe(e)||be.IsSymbol(t)&&zAe(e)||be.IsBigInt(t)&&pHe(e)||be.IsString(t)&&YAe(e)||be.IsSymbol(t)&&zAe(e)||be.IsNumber(t)&&PW(e)||be.IsInteger(t)&&PW(e)||be.IsBoolean(t)&&jAe(e)||be.IsUint8Array(t)&&gHe(e)||be.IsDate(t)&&mHe(e)||be.IsConstructor(t)&&CHe(e)||be.IsFunction(t)&&yHe(e)?qe.True:be.IsRecord(t)&&be.IsString(LW(t))?e[zl]==="Record"?qe.True:qe.False:be.IsRecord(t)&&be.IsNumber(LW(t))?lc(e,0)?qe.True:qe.False:qe.False}s(Za,"FromObjectRight");function IHe(t,e){return Es(e)?Is(t,e):be.IsRecord(e)?eu(t,e):be.IsObject(e)?(()=>{for(let r of Object.getOwnPropertyNames(e.properties)){if(!(r in t.properties)&&!be.IsOptional(e.properties[r]))return qe.False;if(be.IsOptional(e.properties[r]))return qe.True;if(epe(t.properties[r],e.properties[r])===qe.False)return qe.False}return qe.True})():qe.False}s(IHe,"FromObject");function xHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)&&EHe(e)?qe.True:be.IsPromise(e)?Zl(vi(t.item,e.item)):qe.False}s(xHe,"FromPromise");function LW(t){return Ud in t.patternProperties?jl():Hd in t.patternProperties?b0():iv("Unknown record key pattern")}s(LW,"RecordKey");function MW(t){return Ud in t.patternProperties?t.patternProperties[Ud]:Hd in t.patternProperties?t.patternProperties[Hd]:iv("Unable to get record value schema")}s(MW,"RecordValue");function eu(t,e){let[r,n]=[LW(e),MW(e)];return be.IsLiteralString(t)&&be.IsNumber(r)&&Zl(vi(t,n))===qe.True?qe.True:be.IsUint8Array(t)&&be.IsNumber(r)||be.IsString(t)&&be.IsNumber(r)||be.IsArray(t)&&be.IsNumber(r)?vi(t,n):be.IsObject(t)?(()=>{for(let o of Object.getOwnPropertyNames(t.properties))if(epe(n,t.properties[o])===qe.False)return qe.False;return qe.True})():qe.False}s(eu,"FromRecordRight");function vHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?vi(MW(t),MW(e)):qe.False}s(vHe,"FromRecord");function bHe(t,e){let r=be.IsRegExp(t)?b0():t,n=be.IsRegExp(e)?b0():e;return vi(r,n)}s(bHe,"FromRegExp");function tpe(t,e){return be.IsLiteral(t)&&Ka.IsString(t.const)||be.IsString(t)?qe.True:qe.False}s(tpe,"FromStringRight");function THe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsString(e)?qe.True:qe.False}s(THe,"FromString");function _He(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsSymbol(e)?qe.True:qe.False}s(_He,"FromSymbol");function wHe(t,e){return be.IsTemplateLiteral(t)?vi(eE(t),e):be.IsTemplateLiteral(e)?vi(t,eE(e)):iv("Invalid fallthrough for TemplateLiteral")}s(wHe,"FromTemplateLiteral");function SHe(t,e){return be.IsArray(e)&&t.items!==void 0&&t.items.every(r=>vi(r,e.items)===qe.True)}s(SHe,"IsArrayOfTuple");function BHe(t,e){return be.IsNever(t)?qe.True:be.IsUnknown(t)?qe.False:be.IsAny(t)?qe.Union:qe.False}s(BHe,"FromTupleRight");function RHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)&&Dk(e)||be.IsArray(e)&&SHe(t,e)?qe.True:be.IsTuple(e)?Ka.IsUndefined(t.items)&&!Ka.IsUndefined(e.items)||!Ka.IsUndefined(t.items)&&Ka.IsUndefined(e.items)?qe.False:Ka.IsUndefined(t.items)&&!Ka.IsUndefined(e.items)||t.items.every((r,n)=>vi(r,e.items[n])===qe.True)?qe.True:qe.False:qe.False}s(RHe,"FromTuple");function kHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsUint8Array(e)?qe.True:qe.False}s(kHe,"FromUint8Array");function DHe(t,e){return Es(e)?Is(t,e):be.IsObject(e)?Za(t,e):be.IsRecord(e)?eu(t,e):be.IsVoid(e)?PHe(t,e):be.IsUndefined(e)?qe.True:qe.False}s(DHe,"FromUndefined");function UW(t,e){return e.anyOf.some(r=>vi(t,r)===qe.True)?qe.True:qe.False}s(UW,"FromUnionRight");function NHe(t,e){return t.anyOf.every(r=>vi(r,e)===qe.True)?qe.True:qe.False}s(NHe,"FromUnion");function rpe(t,e){return qe.True}s(rpe,"FromUnknownRight");function QHe(t,e){return be.IsNever(e)?XAe(t,e):be.IsIntersect(e)?kk(t,e):be.IsUnion(e)?UW(t,e):be.IsAny(e)?OW(t,e):be.IsString(e)?tpe(t,e):be.IsNumber(e)?ZAe(t,e):be.IsInteger(e)?JAe(t,e):be.IsBoolean(e)?KAe(t,e):be.IsArray(e)?ZUe(t,e):be.IsTuple(e)?BHe(t,e):be.IsObject(e)?Za(t,e):be.IsUnknown(e)?qe.True:qe.False}s(QHe,"FromUnknown");function PHe(t,e){return be.IsUndefined(t)||be.IsUndefined(t)?qe.True:qe.False}s(PHe,"FromVoidRight");function FHe(t,e){return be.IsIntersect(e)?kk(t,e):be.IsUnion(e)?UW(t,e):be.IsUnknown(e)?rpe(t,e):be.IsAny(e)?OW(t,e):be.IsObject(e)?Za(t,e):be.IsVoid(e)?qe.True:qe.False}s(FHe,"FromVoid");function vi(t,e){return be.IsTemplateLiteral(t)||be.IsTemplateLiteral(e)?wHe(t,e):be.IsRegExp(t)||be.IsRegExp(e)?bHe(t,e):be.IsNot(t)||be.IsNot(e)?dHe(t,e):be.IsAny(t)?XUe(t,e):be.IsArray(t)?eHe(t,e):be.IsBigInt(t)?rHe(t,e):be.IsBoolean(t)?nHe(t,e):be.IsAsyncIterator(t)?tHe(t,e):be.IsConstructor(t)?iHe(t,e):be.IsDate(t)?oHe(t,e):be.IsFunction(t)?sHe(t,e):be.IsInteger(t)?aHe(t,e):be.IsIntersect(t)?cHe(t,e):be.IsIterator(t)?lHe(t,e):be.IsLiteral(t)?uHe(t,e):be.IsNever(t)?fHe(t,e):be.IsNull(t)?hHe(t,e):be.IsNumber(t)?AHe(t,e):be.IsObject(t)?IHe(t,e):be.IsRecord(t)?vHe(t,e):be.IsString(t)?THe(t,e):be.IsSymbol(t)?_He(t,e):be.IsTuple(t)?RHe(t,e):be.IsPromise(t)?xHe(t,e):be.IsUint8Array(t)?kHe(t,e):be.IsUndefined(t)?DHe(t,e):be.IsUnion(t)?NHe(t,e):be.IsUnknown(t)?QHe(t,e):be.IsVoid(t)?FHe(t,e):iv(`Unknown left type operand '${t[Oe]}'`)}s(vi,"Visit");function Pg(t,e){return vi(t,e)}s(Pg,"ExtendsCheck");f();f();f();function LHe(t,e,r,n,o){let a={};for(let c of globalThis.Object.getOwnPropertyNames(t))a[c]=ov(t[c],e,r,n,Ji(o));return a}s(LHe,"FromProperties");function MHe(t,e,r,n,o){return LHe(t.properties,e,r,n,o)}s(MHe,"FromMappedResult");function npe(t,e,r,n,o){let a=MHe(t,e,r,n,o);return Gn(a)}s(npe,"ExtendsFromMappedResult");function OHe(t,e,r,n){let o=Pg(t,e);return o===qe.Union?ei([r,n]):o===qe.True?r:n}s(OHe,"ExtendsResolve");function ov(t,e,r,n,o){return Zi(t)?npe(t,e,r,n,o):Jc(t)?He(ipe(t,e,r,n,o)):He(OHe(t,e,r,n),o)}s(ov,"Extends");function UHe(t,e,r,n,o){return{[t]:ov(Sn(t),e,r,n,Ji(o))}}s(UHe,"FromPropertyKey");function HHe(t,e,r,n,o){return t.reduce((a,c)=>({...a,...UHe(c,e,r,n,o)}),{})}s(HHe,"FromPropertyKeys");function qHe(t,e,r,n,o){return HHe(t.keys,e,r,n,o)}s(qHe,"FromMappedKey");function ipe(t,e,r,n,o){let a=qHe(t,e,r,n,o);return Gn(a)}s(ipe,"ExtendsFromMappedKey");f();function GHe(t){return t.allOf.every(e=>NA(e))}s(GHe,"Intersect");function VHe(t){return t.anyOf.some(e=>NA(e))}s(VHe,"Union");function WHe(t){return!NA(t.not)}s(WHe,"Not");function NA(t){return t[Oe]==="Intersect"?GHe(t):t[Oe]==="Union"?VHe(t):t[Oe]==="Not"?WHe(t):t[Oe]==="Undefined"}s(NA,"ExtendsUndefinedCheck");f();function ope(t,e){return sv(eE(t),e)}s(ope,"ExcludeFromTemplateLiteral");function $He(t,e){let r=t.filter(n=>Pg(n,e)===qe.False);return r.length===1?r[0]:ei(r)}s($He,"ExcludeRest");function sv(t,e,r={}){return Xc(t)?He(ope(t,e),r):Zi(t)?He(spe(t,e),r):He(Ln(t)?$He(t.anyOf,e):Pg(t,e)!==qe.False?Jr():t,r)}s(sv,"Exclude");function YHe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=sv(t[n],e);return r}s(YHe,"FromProperties");function zHe(t,e){return YHe(t.properties,e)}s(zHe,"FromMappedResult");function spe(t,e){let r=zHe(t,e);return Gn(r)}s(spe,"ExcludeFromMappedResult");f();f();f();function ape(t,e){return av(eE(t),e)}s(ape,"ExtractFromTemplateLiteral");function jHe(t,e){let r=t.filter(n=>Pg(n,e)!==qe.False);return r.length===1?r[0]:ei(r)}s(jHe,"ExtractRest");function av(t,e,r){return Xc(t)?He(ape(t,e),r):Zi(t)?He(cpe(t,e),r):He(Ln(t)?jHe(t.anyOf,e):Pg(t,e)!==qe.False?t:Jr(),r)}s(av,"Extract");function KHe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=av(t[n],e);return r}s(KHe,"FromProperties");function JHe(t,e){return KHe(t.properties,e)}s(JHe,"FromMappedResult");function cpe(t,e){let r=JHe(t,e);return Gn(r)}s(cpe,"ExtractFromMappedResult");f();function lpe(t,e){return nf(t)?He(t.returns,e):Jr(e)}s(lpe,"InstanceType");f();f();function Nk(t){return ac(Ja(t))}s(Nk,"ReadonlyOptional");f();function tE(t,e,r){return He({[Oe]:"Record",type:"object",patternProperties:{[t]:e}},r)}s(tE,"RecordCreateFromPattern");function HW(t,e,r){let n={};for(let o of t)n[o]=e;return ti(n,{...r,[zl]:"Record"})}s(HW,"RecordCreateFromKeys");function XHe(t,e,r){return Ck(t)?HW(sc(t),e,r):tE(t.pattern,e,r)}s(XHe,"FromTemplateLiteralKey");function ZHe(t,e,r){return HW(sc(ei(t)),e,r)}s(ZHe,"FromUnionKey");function eqe(t,e,r){return HW([t.toString()],e,r)}s(eqe,"FromLiteralKey");function tqe(t,e,r){return tE(t.source,e,r)}s(tqe,"FromRegExpKey");function rqe(t,e,r){let n=is(t.pattern)?Hd:t.pattern;return tE(n,e,r)}s(rqe,"FromStringKey");function nqe(t,e,r){return tE(Hd,e,r)}s(nqe,"FromAnyKey");function iqe(t,e,r){return tE(yAe,e,r)}s(iqe,"FromNeverKey");function oqe(t,e,r){return ti({true:e,false:e},r)}s(oqe,"FromBooleanKey");function sqe(t,e,r){return tE(Ud,e,r)}s(sqe,"FromIntegerKey");function aqe(t,e,r){return tE(Ud,e,r)}s(aqe,"FromNumberKey");function Qk(t,e,r={}){return Ln(t)?ZHe(t.anyOf,e,r):Xc(t)?XHe(t,e,r):Kc(t)?eqe(t.const,e,r):wA(t)?oqe(t,e,r):sf(t)?sqe(t,e,r):af(t)?aqe(t,e,r):EW(t)?tqe(t,e,r):SA(t)?rqe(t,e,r):yW(t)?nqe(t,e,r):kg(t)?iqe(t,e,r):Jr(r)}s(Qk,"Record");function Pk(t){return globalThis.Object.getOwnPropertyNames(t.patternProperties)[0]}s(Pk,"RecordPattern");function upe(t){let e=Pk(t);return e===Hd?b0():e===Ud?jl():b0({pattern:e})}s(upe,"RecordKey");function Fk(t){return t.patternProperties[Pk(t)]}s(Fk,"RecordValue");function cqe(t,e){return e.parameters=Iw(t,e.parameters),e.returns=uf(t,e.returns),e}s(cqe,"FromConstructor");function lqe(t,e){return e.parameters=Iw(t,e.parameters),e.returns=uf(t,e.returns),e}s(lqe,"FromFunction");function uqe(t,e){return e.allOf=Iw(t,e.allOf),e}s(uqe,"FromIntersect");function fqe(t,e){return e.anyOf=Iw(t,e.anyOf),e}s(fqe,"FromUnion");function dqe(t,e){return is(e.items)||(e.items=Iw(t,e.items)),e}s(dqe,"FromTuple");function hqe(t,e){return e.items=uf(t,e.items),e}s(hqe,"FromArray");function Aqe(t,e){return e.items=uf(t,e.items),e}s(Aqe,"FromAsyncIterator");function pqe(t,e){return e.items=uf(t,e.items),e}s(pqe,"FromIterator");function mqe(t,e){return e.item=uf(t,e.item),e}s(mqe,"FromPromise");function gqe(t,e){let r=Iqe(t,e.properties);return{...e,...ti(r)}}s(gqe,"FromObject");function yqe(t,e){let r=uf(t,upe(e)),n=uf(t,Fk(e)),o=Qk(r,n);return{...e,...o}}s(yqe,"FromRecord");function Cqe(t,e){return e.index in t?t[e.index]:lf()}s(Cqe,"FromArgument");function Eqe(t,e){let r=Wx(e),n=oc(e),o=uf(t,e);return r&&n?Nk(o):r&&!n?ac(o):!r&&n?Ja(o):o}s(Eqe,"FromProperty");function Iqe(t,e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:Eqe(t,e[n])}),{})}s(Iqe,"FromProperties");function Iw(t,e){return e.map(r=>uf(t,r))}s(Iw,"FromTypes");function uf(t,e){return nf(e)?cqe(t,e):of(e)?lqe(t,e):_o(e)?uqe(t,e):Ln(e)?fqe(t,e):Zc(e)?dqe(t,e):tf(e)?hqe(t,e):zC(e)?Aqe(t,e):KC(e)?pqe(t,e):JC(e)?mqe(t,e):os(e)?gqe(t,e):XC(e)?yqe(t,e):CW(e)?Cqe(t,e):e}s(uf,"FromType");function fpe(t,e){return uf(e,Gx(t))}s(fpe,"Instantiate");f();function dpe(t){return He({[Oe]:"Integer",type:"integer"},t)}s(dpe,"Integer");f();f();f();function xqe(t,e,r){return{[t]:ff(Sn(t),e,Ji(r))}}s(xqe,"MappedIntrinsicPropertyKey");function vqe(t,e,r){return t.reduce((o,a)=>({...o,...xqe(a,e,r)}),{})}s(vqe,"MappedIntrinsicPropertyKeys");function bqe(t,e,r){return vqe(t.keys,e,r)}s(bqe,"MappedIntrinsicProperties");function hpe(t,e,r){let n=bqe(t,e,r);return Gn(n)}s(hpe,"IntrinsicFromMappedKey");function Tqe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toLowerCase(),r].join("")}s(Tqe,"ApplyUncapitalize");function _qe(t){let[e,r]=[t.slice(0,1),t.slice(1)];return[e.toUpperCase(),r].join("")}s(_qe,"ApplyCapitalize");function wqe(t){return t.toUpperCase()}s(wqe,"ApplyUppercase");function Sqe(t){return t.toLowerCase()}s(Sqe,"ApplyLowercase");function Bqe(t,e,r){let n=Xx(t.pattern);if(!ZC(n))return{...t,pattern:Ape(t.pattern,e)};let c=[...gw(n)].map(d=>Sn(d)),l=ppe(c,e),u=ei(l);return Ik([u],r)}s(Bqe,"FromTemplateLiteral");function Ape(t,e){return typeof t=="string"?e==="Uncapitalize"?Tqe(t):e==="Capitalize"?_qe(t):e==="Uppercase"?wqe(t):e==="Lowercase"?Sqe(t):t:t.toString()}s(Ape,"FromLiteralValue");function ppe(t,e){return t.map(r=>ff(r,e))}s(ppe,"FromRest");function ff(t,e,r={}){return Jc(t)?hpe(t,e,r):Xc(t)?Bqe(t,e,r):Ln(t)?ei(ppe(t.anyOf,e),r):Kc(t)?Sn(Ape(t.const,e),r):He(t,r)}s(ff,"Intrinsic");function mpe(t,e={}){return ff(t,"Capitalize",e)}s(mpe,"Capitalize");f();function gpe(t,e={}){return ff(t,"Lowercase",e)}s(gpe,"Lowercase");f();function ype(t,e={}){return ff(t,"Uncapitalize",e)}s(ype,"Uncapitalize");f();function Cpe(t,e={}){return ff(t,"Uppercase",e)}s(Cpe,"Uppercase");f();f();f();f();f();function Rqe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=Fg(t[o],e,Ji(r));return n}s(Rqe,"FromProperties");function kqe(t,e,r){return Rqe(t.properties,e,r)}s(kqe,"FromMappedResult");function Epe(t,e,r){let n=kqe(t,e,r);return Gn(n)}s(Epe,"OmitFromMappedResult");function Dqe(t,e){return t.map(r=>qW(r,e))}s(Dqe,"FromIntersect");function Nqe(t,e){return t.map(r=>qW(r,e))}s(Nqe,"FromUnion");function Qqe(t,e){let{[e]:r,...n}=t;return n}s(Qqe,"FromProperty");function Pqe(t,e){return e.reduce((r,n)=>Qqe(r,n),t)}s(Pqe,"FromProperties");function Fqe(t,e){let r=wo(t,[uo,"$id","required","properties"]),n=Pqe(t.properties,e);return ti(n,r)}s(Fqe,"FromObject");function Lqe(t){let e=t.reduce((r,n)=>mk(n)?[...r,Sn(n)]:r,[]);return ei(e)}s(Lqe,"UnionFromPropertyKeys");function qW(t,e){return _o(t)?Xa(Dqe(t.allOf,e)):Ln(t)?ei(Nqe(t.anyOf,e)):os(t)?Fqe(t,e):ti({})}s(qW,"OmitResolve");function Fg(t,e,r){let n=ns(e)?Lqe(e):e,o=fo(e)?sc(e):e,a=Oo(t),c=Oo(e);return Zi(t)?Epe(t,o,r):Jc(e)?Ipe(t,e,r):a&&c?Oi("Omit",[t,n],r):!a&&c?Oi("Omit",[t,n],r):a&&!c?Oi("Omit",[t,n],r):He({...qW(t,o),...r})}s(Fg,"Omit");function Mqe(t,e,r){return{[e]:Fg(t,[e],Ji(r))}}s(Mqe,"FromPropertyKey");function Oqe(t,e,r){return e.reduce((n,o)=>({...n,...Mqe(t,o,r)}),{})}s(Oqe,"FromPropertyKeys");function Uqe(t,e,r){return Oqe(t,e.keys,r)}s(Uqe,"FromMappedKey");function Ipe(t,e,r){let n=Uqe(t,e,r);return Gn(n)}s(Ipe,"OmitFromMappedKey");f();f();f();function Hqe(t,e,r){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=Lg(t[o],e,Ji(r));return n}s(Hqe,"FromProperties");function qqe(t,e,r){return Hqe(t.properties,e,r)}s(qqe,"FromMappedResult");function xpe(t,e,r){let n=qqe(t,e,r);return Gn(n)}s(xpe,"PickFromMappedResult");function Gqe(t,e){return t.map(r=>GW(r,e))}s(Gqe,"FromIntersect");function Vqe(t,e){return t.map(r=>GW(r,e))}s(Vqe,"FromUnion");function Wqe(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}s(Wqe,"FromProperties");function $qe(t,e){let r=wo(t,[uo,"$id","required","properties"]),n=Wqe(t.properties,e);return ti(n,r)}s($qe,"FromObject");function Yqe(t){let e=t.reduce((r,n)=>mk(n)?[...r,Sn(n)]:r,[]);return ei(e)}s(Yqe,"UnionFromPropertyKeys");function GW(t,e){return _o(t)?Xa(Gqe(t.allOf,e)):Ln(t)?ei(Vqe(t.anyOf,e)):os(t)?$qe(t,e):ti({})}s(GW,"PickResolve");function Lg(t,e,r){let n=ns(e)?Yqe(e):e,o=fo(e)?sc(e):e,a=Oo(t),c=Oo(e);return Zi(t)?xpe(t,o,r):Jc(e)?vpe(t,e,r):a&&c?Oi("Pick",[t,n],r):!a&&c?Oi("Pick",[t,n],r):a&&!c?Oi("Pick",[t,n],r):He({...GW(t,o),...r})}s(Lg,"Pick");function zqe(t,e,r){return{[e]:Lg(t,[e],Ji(r))}}s(zqe,"FromPropertyKey");function jqe(t,e,r){return e.reduce((n,o)=>({...n,...zqe(t,o,r)}),{})}s(jqe,"FromPropertyKeys");function Kqe(t,e,r){return jqe(t,e.keys,r)}s(Kqe,"FromMappedKey");function vpe(t,e,r){let n=Kqe(t,e,r);return Gn(n)}s(vpe,"PickFromMappedKey");f();f();function Jqe(t,e){return Oi("Partial",[Oi(t,e)])}s(Jqe,"FromComputed");function Xqe(t){return Oi("Partial",[Xl(t)])}s(Xqe,"FromRef");function Zqe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=Ja(t[r]);return e}s(Zqe,"FromProperties");function eGe(t){let e=wo(t,[uo,"$id","required","properties"]),r=Zqe(t.properties);return ti(r,e)}s(eGe,"FromObject");function bpe(t){return t.map(e=>Tpe(e))}s(bpe,"FromRest");function Tpe(t){return rf(t)?Jqe(t.target,t.parameters):Oo(t)?Xqe(t.$ref):_o(t)?Xa(bpe(t.allOf)):Ln(t)?ei(bpe(t.anyOf)):os(t)?eGe(t):jC(t)||wA(t)||sf(t)||Kc(t)||uw(t)||af(t)||SA(t)||fw(t)||BA(t)?t:ti({})}s(Tpe,"PartialResolve");function cv(t,e){return Zi(t)?_pe(t,e):He({...Tpe(t),...e})}s(cv,"Partial");function tGe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=cv(t[n],Ji(e));return r}s(tGe,"FromProperties");function rGe(t,e){return tGe(t.properties,e)}s(rGe,"FromMappedResult");function _pe(t,e){let r=rGe(t,e);return Gn(r)}s(_pe,"PartialFromMappedResult");f();f();function nGe(t,e){return Oi("Required",[Oi(t,e)])}s(nGe,"FromComputed");function iGe(t){return Oi("Required",[Xl(t)])}s(iGe,"FromRef");function oGe(t){let e={};for(let r of globalThis.Object.getOwnPropertyNames(t))e[r]=wo(t[r],[Sa]);return e}s(oGe,"FromProperties");function sGe(t){let e=wo(t,[uo,"$id","required","properties"]),r=oGe(t.properties);return ti(r,e)}s(sGe,"FromObject");function wpe(t){return t.map(e=>Spe(e))}s(wpe,"FromRest");function Spe(t){return rf(t)?nGe(t.target,t.parameters):Oo(t)?iGe(t.$ref):_o(t)?Xa(wpe(t.allOf)):Ln(t)?ei(wpe(t.anyOf)):os(t)?sGe(t):jC(t)||wA(t)||sf(t)||Kc(t)||uw(t)||af(t)||SA(t)||fw(t)||BA(t)?t:ti({})}s(Spe,"RequiredResolve");function lv(t,e){return Zi(t)?Bpe(t,e):He({...Spe(t),...e})}s(lv,"Required");function aGe(t,e){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=lv(t[n],e);return r}s(aGe,"FromProperties");function cGe(t,e){return aGe(t.properties,e)}s(cGe,"FromMappedResult");function Bpe(t,e){let r=cGe(t,e);return Gn(r)}s(Bpe,"RequiredFromMappedResult");function lGe(t,e){return e.map(r=>Oo(r)?VW(t,r.$ref):el(t,r))}s(lGe,"DereferenceParameters");function VW(t,e){return e in t?Oo(t[e])?VW(t,t[e].$ref):el(t,t[e]):Jr()}s(VW,"Dereference");function uGe(t){return rv(t[0])}s(uGe,"FromAwaited");function fGe(t){return Qg(t[0],t[1])}s(fGe,"FromIndex");function dGe(t){return nv(t[0])}s(dGe,"FromKeyOf");function hGe(t){return cv(t[0])}s(hGe,"FromPartial");function AGe(t){return Fg(t[0],t[1])}s(AGe,"FromOmit");function pGe(t){return Lg(t[0],t[1])}s(pGe,"FromPick");function mGe(t){return lv(t[0])}s(mGe,"FromRequired");function gGe(t,e,r){let n=lGe(t,r);return e==="Awaited"?uGe(n):e==="Index"?fGe(n):e==="KeyOf"?dGe(n):e==="Partial"?hGe(n):e==="Omit"?AGe(n):e==="Pick"?pGe(n):e==="Required"?mGe(n):Jr()}s(gGe,"FromComputed");function yGe(t,e){return zx(el(t,e))}s(yGe,"FromArray");function CGe(t,e){return jx(el(t,e))}s(CGe,"FromAsyncIterator");function EGe(t,e,r){return Kx(xw(t,e),el(t,r))}s(EGe,"FromConstructor");function IGe(t,e,r){return qd(xw(t,e),el(t,r))}s(IGe,"FromFunction");function xGe(t,e){return Xa(xw(t,e))}s(xGe,"FromIntersect");function vGe(t,e){return tv(el(t,e))}s(vGe,"FromIterator");function bGe(t,e){return ti(globalThis.Object.keys(e).reduce((r,n)=>({...r,[n]:el(t,e[n])}),{}))}s(bGe,"FromObject");function TGe(t,e){let[r,n]=[el(t,Fk(e)),Pk(e)],o=Gx(e);return o.patternProperties[n]=r,o}s(TGe,"FromRecord");function _Ge(t,e){return Oo(e)?{...VW(t,e.$ref),[uo]:e[uo]}:e}s(_Ge,"FromTransform");function wGe(t,e){return Kl(xw(t,e))}s(wGe,"FromTuple");function SGe(t,e){return ei(xw(t,e))}s(SGe,"FromUnion");function xw(t,e){return e.map(r=>el(t,r))}s(xw,"FromTypes");function el(t,e){return oc(e)?He(el(t,wo(e,[Sa])),e):Wx(e)?He(el(t,wo(e,[ef])),e):Zn(e)?He(_Ge(t,e),e):tf(e)?He(yGe(t,e.items),e):zC(e)?He(CGe(t,e.items),e):rf(e)?He(gGe(t,e.target,e.parameters)):nf(e)?He(EGe(t,e.parameters,e.returns),e):of(e)?He(IGe(t,e.parameters,e.returns),e):_o(e)?He(xGe(t,e.allOf),e):KC(e)?He(vGe(t,e.items),e):os(e)?He(bGe(t,e.properties),e):XC(e)?He(TGe(t,e)):Zc(e)?He(wGe(t,e.items||[]),e):Ln(e)?He(SGe(t,e.anyOf),e):e}s(el,"FromType");function BGe(t,e){return e in t?el(t,t[e]):Jr()}s(BGe,"ComputeType");function Rpe(t){return globalThis.Object.getOwnPropertyNames(t).reduce((e,r)=>({...e,[r]:BGe(t,r)}),{})}s(Rpe,"ComputeModuleProperties");var WW=class{static{s(this,"TModule")}constructor(e){let r=Rpe(e),n=this.WithIdentifiers(r);this.$defs=n}Import(e,r){let n={...this.$defs,[e]:He(this.$defs[e],r)};return He({[Oe]:"Import",$defs:n,$ref:e})}WithIdentifiers(e){return globalThis.Object.getOwnPropertyNames(e).reduce((r,n)=>({...r,[n]:{...e[n],$id:n}}),{})}};function kpe(t){return new WW(t)}s(kpe,"Module");f();function Dpe(t,e){return He({[Oe]:"Not",not:t},e)}s(Dpe,"Not");f();function Npe(t,e){return of(t)?Kl(t.parameters,e):Jr()}s(Npe,"Parameters");f();var RGe=0;function Qpe(t,e={}){is(e.$id)&&(e.$id=`T${RGe++}`);let r=Gx(t({[Oe]:"This",$ref:`${e.$id}`}));return r.$id=e.$id,He({[zl]:"Recursive",...r},e)}s(Qpe,"Recursive");f();function Ppe(t,e){let r=Di(t)?new globalThis.RegExp(t):t;return He({[Oe]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},e)}s(Ppe,"RegExp");f();function kGe(t){return _o(t)?t.allOf:Ln(t)?t.anyOf:Zc(t)?t.items??[]:[]}s(kGe,"RestResolve");function Fpe(t){return kGe(t)}s(Fpe,"Rest");f();function Lpe(t,e){return of(t)?He(t.returns,e):Jr(e)}s(Lpe,"ReturnType");f();var $W=class{static{s(this,"TransformDecodeBuilder")}constructor(e){this.schema=e}Decode(e){return new YW(this.schema,e)}},YW=class{static{s(this,"TransformEncodeBuilder")}constructor(e,r){this.schema=e,this.decode=r}EncodeTransform(e,r){let a={Encode:s(c=>r[uo].Encode(e(c)),"Encode"),Decode:s(c=>this.decode(r[uo].Decode(c)),"Decode")};return{...r,[uo]:a}}EncodeSchema(e,r){let n={Decode:this.decode,Encode:e};return{...r,[uo]:n}}Encode(e){return Zn(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}};function Mpe(t){return new $W(t)}s(Mpe,"Transform");f();function Ope(t={}){return He({[Oe]:t[Oe]??"Unsafe"},t)}s(Ope,"Unsafe");f();function Upe(t){return He({[Oe]:"Void",type:"void"},t)}s(Upe,"Void");f();var zW={};Io(zW,{Any:()=>Ng,Argument:()=>vAe,Array:()=>zx,AsyncIterator:()=>jx,Awaited:()=>rv,BigInt:()=>ev,Boolean:()=>Ek,Capitalize:()=>mpe,Composite:()=>qAe,Const:()=>GAe,Constructor:()=>Kx,ConstructorParameters:()=>VAe,Date:()=>Tk,Enum:()=>WAe,Exclude:()=>sv,Extends:()=>ov,Extract:()=>av,Function:()=>qd,Index:()=>Qg,InstanceType:()=>lpe,Instantiate:()=>fpe,Integer:()=>dpe,Intersect:()=>Xa,Iterator:()=>tv,KeyOf:()=>nv,Literal:()=>Sn,Lowercase:()=>gpe,Mapped:()=>FAe,Module:()=>kpe,Never:()=>Jr,Not:()=>Dpe,Null:()=>_k,Number:()=>jl,Object:()=>ti,Omit:()=>Fg,Optional:()=>Ja,Parameters:()=>Npe,Partial:()=>cv,Pick:()=>Lg,Promise:()=>vk,Readonly:()=>ac,ReadonlyOptional:()=>Nk,Record:()=>Qk,Recursive:()=>Qpe,Ref:()=>Xl,RegExp:()=>Ppe,Required:()=>lv,Rest:()=>Fpe,ReturnType:()=>Lpe,String:()=>b0,Symbol:()=>wk,TemplateLiteral:()=>Ik,Transform:()=>Mpe,Tuple:()=>Kl,Uint8Array:()=>Bk,Uncapitalize:()=>ype,Undefined:()=>Sk,Union:()=>ei,Unknown:()=>lf,Unsafe:()=>Ope,Uppercase:()=>Cpe,Void:()=>Upe});f();var ee=zW;var $pr=600*1e3,vw={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Gpt41:"gpt-4.1",Gpt5:"gpt-5",CopilotBase:"copilot-base",BYOK:"byok",Unknown:"unknown"},Ypr=new Set([vw.O1Ga,vw.O3Mini,vw.O1Mini,vw.Gemini20Pro,vw.Gemini20Flash]);var DGe=ee.Object({type:ee.Union([ee.Literal("chat"),ee.Literal("embeddings"),ee.Literal("completion")]),tokenizer:ee.String(),family:ee.String(),object:ee.String(),supports:ee.Optional(ee.Object({tool_calls:ee.Optional(ee.Boolean()),parallel_tool_calls:ee.Optional(ee.Boolean()),streaming:ee.Optional(ee.Boolean()),vision:ee.Optional(ee.Boolean())})),limits:ee.Optional(ee.Object({max_inputs:ee.Optional(ee.Number()),max_prompt_tokens:ee.Optional(ee.Number()),max_output_tokens:ee.Optional(ee.Number()),max_context_window_tokens:ee.Optional(ee.Number())}))}),NGe=ee.Object({id:ee.String(),name:ee.String(),version:ee.String(),model_picker_enabled:ee.Boolean(),is_chat_default:ee.Optional(ee.Boolean()),is_chat_fallback:ee.Optional(ee.Boolean()),capabilities:DGe,billing:ee.Optional(ee.Object({is_premium:ee.Optional(ee.Boolean()),multiplier:ee.Optional(ee.Number())})),object:ee.String(),preview:ee.Optional(ee.Boolean()),isExperimental:ee.Optional(ee.Boolean()),policy:ee.Optional(ee.Object({state:ee.String(),terms:ee.String()}))}),Hpe=ee.Object({data:ee.Array(NGe)});f();function qpe(t){let e=es(t,Ft.UserSelectedCompletionModel);return typeof e=="string"&&e.length>0?e:null}s(qpe,"getUserSelectedModelConfiguration");f();f();f();var uv=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{s(this,"CopilotPromptLoadFailure")}};f();var Gpe=Et(require("node:fs/promises")),Lk=Et(require("node:path"));async function Mk(t){return await Gpe.readFile(jW(t))}s(Mk,"readFile");function jW(t){return Lk.default.resolve(Lk.default.extname(__filename)!==".ts"?__dirname:Lk.default.resolve(__dirname,"../../dist"),t)}s(jW,"locateFile");var fv=Et(nme());var Vk=new Map;function uc(t="o200k_base"){let e=Vk.get(t);return e!==void 0||(e=Vk.get("o200k_base"),e!==void 0)?e:new Og}s(uc,"getTokenizer");async function jGe(t){if(!t.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let e=await Mk(t),r=new Map,n=[];for(let o=0;o<e.length;o++){if(e[o]!==255||n.length===0){n.push(e[o]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}s(jGe,"parseTikTokenNoIndex");var s$=class t{constructor(e){this._tokenizer=e}static{s(this,"TTokenizer")}static async create(e){try{let r=(0,fv.createTokenizer)(await jGe(`resources/${e}.tiktoken.noindex`),(0,fv.getSpecialTokensByEncoder)(e),(0,fv.getRegexByEncoder)(e),32768);return new t(r)}catch(r){throw r instanceof Error?new uv("Could not load tokenizer",r):r}}tokenize(e){return this._tokenizer.encode(e)}detokenize(e){return this._tokenizer.decode(e)}tokenLength(e){return this.tokenize(e).length}tokenizeStrings(e){return this.tokenize(e).map(n=>this.detokenize([n]))}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(-a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(-a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=4,o=1,a=Math.min(e.length,r*n),c=e.slice(0,a),l=this.tokenize(c);for(;l.length<r+2&&a<e.length;)a=Math.min(e.length,a+r*o),c=e.slice(0,a),l=this.tokenize(c);return l.length<r?{text:e,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},a$=class{constructor(){this.hash=s(e=>{let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);r=(r<<5)-r+o,r&=r&65535}return r},"hash")}static{s(this,"MockTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map(r=>r.toString()).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,r){let n=this.tokenizeStrings(e).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(e,r){let n=this.tokenizeStrings(e).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}},KGe={cl100k_base:{python:3.99,typescript:4.54,typescriptreact:4.58,javascript:4.76,csharp:5.13,java:4.86,cpp:3.85,php:4.1,html:4.57,vue:4.22,go:3.93,dart:5.66,javascriptreact:4.81,css:3.37},o200k_base:{python:4.05,typescript:4.12,typescriptreact:5.01,javascript:4.47,csharp:5.47,java:4.86,cpp:3.8,php:4.35,html:4.86,vue:4.3,go:4.21,dart:5.7,javascriptreact:4.83,css:3.33}},o$=4,Og=class{constructor(e="o200k_base",r){this.languageId=r;this.tokenizerName=e}static{s(this,"ApproximateTokenizer")}tokenize(e){return this.tokenizeStrings(e).map(r=>{let n=0;for(let o=0;o<r.length;o++)n=n*Math.pow(10,o$)+r.charCodeAt(o);return n})}detokenize(e){return e.map(r=>{let n=[],o=r.toString();for(;o.length>0;){let a=o.slice(-o$),c=String.fromCharCode(parseInt(a));n.unshift(c),o=o.slice(0,-o$)}return n.join("")}).join("")}tokenizeStrings(e){return e.match(/.{1,4}/g)??[]}getEffectiveTokenLength(){return this.tokenizerName&&this.languageId?KGe[this.tokenizerName]?.[this.languageId]??4:4}tokenLength(e){return Math.ceil(e.length/this.getEffectiveTokenLength())}takeLastTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(-Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeFirstTokens(e,r){if(r<=0)return{text:"",tokens:[]};let n=e.slice(0,Math.floor(r*this.getEffectiveTokenLength()));return{text:n,tokens:Array.from({length:this.tokenLength(n)},(o,a)=>a)}}takeLastLinesTokens(e,r){let{text:n}=this.takeLastTokens(e,r);if(n.length===e.length||e[e.length-n.length-1]===`
`)return n;let o=n.indexOf(`
`);return n.substring(o+1)}};async function ime(t){try{let e=await s$.create(t);Vk.set(t,e)}catch{}}s(ime,"setTokenizer");var JGe=(async()=>{Vk.set("mock",new a$),await Promise.all([ime("cl100k_base"),ime("o200k_base")])})();f();f();f();function XGe(t){switch(t.errorType){case Le.ArrayContains:return"Expected array to contain at least one matching value";case Le.ArrayMaxContains:return`Expected array to contain no more than ${t.schema.maxContains} matching values`;case Le.ArrayMinContains:return`Expected array to contain at least ${t.schema.minContains} matching values`;case Le.ArrayMaxItems:return`Expected array length to be less or equal to ${t.schema.maxItems}`;case Le.ArrayMinItems:return`Expected array length to be greater or equal to ${t.schema.minItems}`;case Le.ArrayUniqueItems:return"Expected array elements to be unique";case Le.Array:return"Expected array";case Le.AsyncIterator:return"Expected AsyncIterator";case Le.BigIntExclusiveMaximum:return`Expected bigint to be less than ${t.schema.exclusiveMaximum}`;case Le.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${t.schema.exclusiveMinimum}`;case Le.BigIntMaximum:return`Expected bigint to be less or equal to ${t.schema.maximum}`;case Le.BigIntMinimum:return`Expected bigint to be greater or equal to ${t.schema.minimum}`;case Le.BigIntMultipleOf:return`Expected bigint to be a multiple of ${t.schema.multipleOf}`;case Le.BigInt:return"Expected bigint";case Le.Boolean:return"Expected boolean";case Le.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${t.schema.exclusiveMinimumTimestamp}`;case Le.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${t.schema.exclusiveMaximumTimestamp}`;case Le.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${t.schema.minimumTimestamp}`;case Le.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${t.schema.maximumTimestamp}`;case Le.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${t.schema.multipleOfTimestamp}`;case Le.Date:return"Expected Date";case Le.Function:return"Expected function";case Le.IntegerExclusiveMaximum:return`Expected integer to be less than ${t.schema.exclusiveMaximum}`;case Le.IntegerExclusiveMinimum:return`Expected integer to be greater than ${t.schema.exclusiveMinimum}`;case Le.IntegerMaximum:return`Expected integer to be less or equal to ${t.schema.maximum}`;case Le.IntegerMinimum:return`Expected integer to be greater or equal to ${t.schema.minimum}`;case Le.IntegerMultipleOf:return`Expected integer to be a multiple of ${t.schema.multipleOf}`;case Le.Integer:return"Expected integer";case Le.IntersectUnevaluatedProperties:return"Unexpected property";case Le.Intersect:return"Expected all values to match";case Le.Iterator:return"Expected Iterator";case Le.Literal:return`Expected ${typeof t.schema.const=="string"?`'${t.schema.const}'`:t.schema.const}`;case Le.Never:return"Never";case Le.Not:return"Value should not match";case Le.Null:return"Expected null";case Le.NumberExclusiveMaximum:return`Expected number to be less than ${t.schema.exclusiveMaximum}`;case Le.NumberExclusiveMinimum:return`Expected number to be greater than ${t.schema.exclusiveMinimum}`;case Le.NumberMaximum:return`Expected number to be less or equal to ${t.schema.maximum}`;case Le.NumberMinimum:return`Expected number to be greater or equal to ${t.schema.minimum}`;case Le.NumberMultipleOf:return`Expected number to be a multiple of ${t.schema.multipleOf}`;case Le.Number:return"Expected number";case Le.Object:return"Expected object";case Le.ObjectAdditionalProperties:return"Unexpected property";case Le.ObjectMaxProperties:return`Expected object to have no more than ${t.schema.maxProperties} properties`;case Le.ObjectMinProperties:return`Expected object to have at least ${t.schema.minProperties} properties`;case Le.ObjectRequiredProperty:return"Expected required property";case Le.Promise:return"Expected Promise";case Le.RegExp:return"Expected string to match regular expression";case Le.StringFormatUnknown:return`Unknown format '${t.schema.format}'`;case Le.StringFormat:return`Expected string to match '${t.schema.format}' format`;case Le.StringMaxLength:return`Expected string length less or equal to ${t.schema.maxLength}`;case Le.StringMinLength:return`Expected string length greater or equal to ${t.schema.minLength}`;case Le.StringPattern:return`Expected string to match '${t.schema.pattern}'`;case Le.String:return"Expected string";case Le.Symbol:return"Expected symbol";case Le.TupleLength:return`Expected tuple to have ${t.schema.maxItems||0} elements`;case Le.Tuple:return"Expected tuple";case Le.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${t.schema.maxByteLength}`;case Le.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${t.schema.minByteLength}`;case Le.Uint8Array:return"Expected Uint8Array";case Le.Undefined:return"Expected undefined";case Le.Union:return"Expected union value";case Le.Void:return"Expected void";case Le.Kind:return`Expected kind '${t.schema[Oe]}'`;default:return"Unknown error type"}}s(XGe,"DefaultErrorFunction");var ZGe=XGe;function ome(){return ZGe}s(ome,"GetErrorFunction");f();var c$=class extends ur{static{s(this,"TypeDereferenceError")}constructor(e){super(`Unable to dereference schema with $id '${e.$ref}'`),this.schema=e}};function eVe(t,e){let r=e.find(n=>n.$id===t.$ref);if(r===void 0)throw new c$(t);return Vn(r,e)}s(eVe,"Resolve");function ta(t,e){return!Fn(t.$id)||e.some(r=>r.$id===t.$id)||e.push(t),e}s(ta,"Pushref");function Vn(t,e){return t[Oe]==="This"||t[Oe]==="Ref"?eVe(t,e):t}s(Vn,"Deref");f();var l$=class extends ur{static{s(this,"ValueHashError")}constructor(e){super("Unable to hash value"),this.value=e}},tl;(function(t){t[t.Undefined=0]="Undefined",t[t.Null=1]="Null",t[t.Boolean=2]="Boolean",t[t.Number=3]="Number",t[t.String=4]="String",t[t.Object=5]="Object",t[t.Array=6]="Array",t[t.Date=7]="Date",t[t.Uint8Array=8]="Uint8Array",t[t.Symbol=9]="Symbol",t[t.BigInt=10]="BigInt"})(tl||(tl={}));var dv=BigInt("14695981039346656037"),[tVe,rVe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],nVe=Array.from({length:256}).map((t,e)=>BigInt(e)),sme=new Float64Array(1),ame=new DataView(sme.buffer),cme=new Uint8Array(sme.buffer);function*iVe(t){let e=t===0?1:Math.ceil(Math.floor(Math.log2(t)+1)/8);for(let r=0;r<e;r++)yield t>>8*(e-1-r)&255}s(iVe,"NumberToBytes");function oVe(t){e0(tl.Array);for(let e of t)hv(e)}s(oVe,"ArrayType");function sVe(t){e0(tl.Boolean),e0(t?1:0)}s(sVe,"BooleanType");function aVe(t){e0(tl.BigInt),ame.setBigInt64(0,t);for(let e of cme)e0(e)}s(aVe,"BigIntType");function cVe(t){e0(tl.Date),hv(t.getTime())}s(cVe,"DateType");function lVe(t){e0(tl.Null)}s(lVe,"NullType");function uVe(t){e0(tl.Number),ame.setFloat64(0,t);for(let e of cme)e0(e)}s(uVe,"NumberType");function fVe(t){e0(tl.Object);for(let e of globalThis.Object.getOwnPropertyNames(t).sort())hv(e),hv(t[e])}s(fVe,"ObjectType");function dVe(t){e0(tl.String);for(let e=0;e<t.length;e++)for(let r of iVe(t.charCodeAt(e)))e0(r)}s(dVe,"StringType");function hVe(t){e0(tl.Symbol),hv(t.description)}s(hVe,"SymbolType");function AVe(t){e0(tl.Uint8Array);for(let e=0;e<t.length;e++)e0(t[e])}s(AVe,"Uint8ArrayType");function pVe(t){return e0(tl.Undefined)}s(pVe,"UndefinedType");function hv(t){if(lr(t))return oVe(t);if(Od(t))return sVe(t);if(wa(t))return aVe(t);if(x0(t))return cVe(t);if(TA(t))return lVe(t);if(zt(t))return uVe(t);if(tn(t))return fVe(t);if(Fn(t))return dVe(t);if(_A(t))return hVe(t);if(Vx(t))return AVe(t);if(Xi(t))return pVe(t);throw new l$(t)}s(hv,"Visit");function e0(t){dv=dv^nVe[t],dv=dv*tVe%rVe}s(e0,"FNV1A64");function Ug(t){return dv=BigInt("14695981039346656037"),hv(t),dv}s(Ug,"Hash");f();var u$=class extends ur{static{s(this,"ValueCheckUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function mVe(t){return t[Oe]==="Any"||t[Oe]==="Unknown"}s(mVe,"IsAnyOrUnknown");function gn(t){return t!==void 0}s(gn,"IsDefined");function gVe(t,e,r){return!0}s(gVe,"FromAny");function yVe(t,e,r){return!0}s(yVe,"FromArgument");function CVe(t,e,r){if(!lr(r)||gn(t.minItems)&&!(r.length>=t.minItems)||gn(t.maxItems)&&!(r.length<=t.maxItems)||!r.every(a=>ra(t.items,e,a))||t.uniqueItems===!0&&!function(){let a=new Set;for(let c of r){let l=Ug(c);if(a.has(l))return!1;a.add(l)}return!0}())return!1;if(!(gn(t.contains)||zt(t.minContains)||zt(t.maxContains)))return!0;let n=gn(t.contains)?t.contains:Jr(),o=r.reduce((a,c)=>ra(n,e,c)?a+1:a,0);return!(o===0||zt(t.minContains)&&o<t.minContains||zt(t.maxContains)&&o>t.maxContains)}s(CVe,"FromArray");function EVe(t,e,r){return dk(r)}s(EVe,"FromAsyncIterator");function IVe(t,e,r){return!(!wa(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.multipleOf)&&r%t.multipleOf!==BigInt(0))}s(IVe,"FromBigInt");function xVe(t,e,r){return Od(r)}s(xVe,"FromBoolean");function vVe(t,e,r){return ra(t.returns,e,r.prototype)}s(vVe,"FromConstructor");function bVe(t,e,r){return!(!x0(r)||gn(t.exclusiveMaximumTimestamp)&&!(r.getTime()<t.exclusiveMaximumTimestamp)||gn(t.exclusiveMinimumTimestamp)&&!(r.getTime()>t.exclusiveMinimumTimestamp)||gn(t.maximumTimestamp)&&!(r.getTime()<=t.maximumTimestamp)||gn(t.minimumTimestamp)&&!(r.getTime()>=t.minimumTimestamp)||gn(t.multipleOfTimestamp)&&r.getTime()%t.multipleOfTimestamp!==0)}s(bVe,"FromDate");function TVe(t,e,r){return Rg(r)}s(TVe,"FromFunction");function _Ve(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return ra(o,[...e,...n],r)}s(_Ve,"FromImport");function wVe(t,e,r){return!(!pk(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.multipleOf)&&r%t.multipleOf!==0)}s(wVe,"FromInteger");function SVe(t,e,r){let n=t.allOf.every(o=>ra(o,e,r));if(t.unevaluatedProperties===!1){let o=new RegExp(DA(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c));return n&&a}else if(fo(t.unevaluatedProperties)){let o=new RegExp(DA(t)),a=Object.getOwnPropertyNames(r).every(c=>o.test(c)||ra(t.unevaluatedProperties,e,r[c]));return n&&a}else return n}s(SVe,"FromIntersect");function BVe(t,e,r){return hk(r)}s(BVe,"FromIterator");function RVe(t,e,r){return r===t.const}s(RVe,"FromLiteral");function kVe(t,e,r){return!1}s(kVe,"FromNever");function DVe(t,e,r){return!ra(t.not,e,r)}s(DVe,"FromNot");function NVe(t,e,r){return TA(r)}s(NVe,"FromNull");function QVe(t,e,r){return!(!Mi.IsNumberLike(r)||gn(t.exclusiveMaximum)&&!(r<t.exclusiveMaximum)||gn(t.exclusiveMinimum)&&!(r>t.exclusiveMinimum)||gn(t.minimum)&&!(r>=t.minimum)||gn(t.maximum)&&!(r<=t.maximum)||gn(t.multipleOf)&&r%t.multipleOf!==0)}s(QVe,"FromNumber");function PVe(t,e,r){if(!Mi.IsObjectLike(r)||gn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||gn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let n=Object.getOwnPropertyNames(t.properties);for(let o of n){let a=t.properties[o];if(t.required&&t.required.includes(o)){if(!ra(a,e,r[o])||(NA(a)||mVe(a))&&!(o in r))return!1}else if(Mi.IsExactOptionalProperty(r,o)&&!ra(a,e,r[o]))return!1}if(t.additionalProperties===!1){let o=Object.getOwnPropertyNames(r);return t.required&&t.required.length===n.length&&o.length===n.length?!0:o.every(a=>n.includes(a))}else return typeof t.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(a=>n.includes(a)||ra(t.additionalProperties,e,r[a])):!0}s(PVe,"FromObject");function FVe(t,e,r){return Ak(r)}s(FVe,"FromPromise");function LVe(t,e,r){if(!Mi.IsRecordLike(r)||gn(t.minProperties)&&!(Object.getOwnPropertyNames(r).length>=t.minProperties)||gn(t.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=t.maxProperties))return!1;let[n,o]=Object.entries(t.patternProperties)[0],a=new RegExp(n),c=Object.entries(r).every(([d,h])=>a.test(d)?ra(o,e,h):!0),l=typeof t.additionalProperties=="object"?Object.entries(r).every(([d,h])=>a.test(d)?!0:ra(t.additionalProperties,e,h)):!0,u=t.additionalProperties===!1?Object.getOwnPropertyNames(r).every(d=>a.test(d)):!0;return c&&l&&u}s(LVe,"FromRecord");function MVe(t,e,r){return ra(Vn(t,e),e,r)}s(MVe,"FromRef");function OVe(t,e,r){let n=new RegExp(t.source,t.flags);return gn(t.minLength)&&!(r.length>=t.minLength)||gn(t.maxLength)&&!(r.length<=t.maxLength)?!1:n.test(r)}s(OVe,"FromRegExp");function UVe(t,e,r){return!Fn(r)||gn(t.minLength)&&!(r.length>=t.minLength)||gn(t.maxLength)&&!(r.length<=t.maxLength)||gn(t.pattern)&&!new RegExp(t.pattern).test(r)?!1:gn(t.format)?cf.Has(t.format)?cf.Get(t.format)(r):!1:!0}s(UVe,"FromString");function HVe(t,e,r){return _A(r)}s(HVe,"FromSymbol");function qVe(t,e,r){return Fn(r)&&new RegExp(t.pattern).test(r)}s(qVe,"FromTemplateLiteral");function GVe(t,e,r){return ra(Vn(t,e),e,r)}s(GVe,"FromThis");function VVe(t,e,r){if(!lr(r)||t.items===void 0&&r.length!==0||r.length!==t.maxItems)return!1;if(!t.items)return!0;for(let n=0;n<t.items.length;n++)if(!ra(t.items[n],e,r[n]))return!1;return!0}s(VVe,"FromTuple");function WVe(t,e,r){return Xi(r)}s(WVe,"FromUndefined");function $Ve(t,e,r){return t.anyOf.some(n=>ra(n,e,r))}s($Ve,"FromUnion");function YVe(t,e,r){return!(!Vx(r)||gn(t.maxByteLength)&&!(r.length<=t.maxByteLength)||gn(t.minByteLength)&&!(r.length>=t.minByteLength))}s(YVe,"FromUint8Array");function zVe(t,e,r){return!0}s(zVe,"FromUnknown");function jVe(t,e,r){return Mi.IsVoidLike(r)}s(jVe,"FromVoid");function KVe(t,e,r){return v0.Has(t[Oe])?v0.Get(t[Oe])(t,r):!1}s(KVe,"FromKind");function ra(t,e,r){let n=gn(t.$id)?ta(t,e):e,o=t;switch(o[Oe]){case"Any":return gVe(o,n,r);case"Argument":return yVe(o,n,r);case"Array":return CVe(o,n,r);case"AsyncIterator":return EVe(o,n,r);case"BigInt":return IVe(o,n,r);case"Boolean":return xVe(o,n,r);case"Constructor":return vVe(o,n,r);case"Date":return bVe(o,n,r);case"Function":return TVe(o,n,r);case"Import":return _Ve(o,n,r);case"Integer":return wVe(o,n,r);case"Intersect":return SVe(o,n,r);case"Iterator":return BVe(o,n,r);case"Literal":return RVe(o,n,r);case"Never":return kVe(o,n,r);case"Not":return DVe(o,n,r);case"Null":return NVe(o,n,r);case"Number":return QVe(o,n,r);case"Object":return PVe(o,n,r);case"Promise":return FVe(o,n,r);case"Record":return LVe(o,n,r);case"Ref":return MVe(o,n,r);case"RegExp":return OVe(o,n,r);case"String":return UVe(o,n,r);case"Symbol":return HVe(o,n,r);case"TemplateLiteral":return qVe(o,n,r);case"This":return GVe(o,n,r);case"Tuple":return VVe(o,n,r);case"Undefined":return WVe(o,n,r);case"Union":return $Ve(o,n,r);case"Uint8Array":return YVe(o,n,r);case"Unknown":return zVe(o,n,r);case"Void":return jVe(o,n,r);default:if(!v0.Has(o[Oe]))throw new u$(o);return KVe(o,n,r)}}s(ra,"Visit");function cn(...t){return t.length===3?ra(t[0],t[1],t[2]):ra(t[0],[],t[1])}s(cn,"Check");var Le;(function(t){t[t.ArrayContains=0]="ArrayContains",t[t.ArrayMaxContains=1]="ArrayMaxContains",t[t.ArrayMaxItems=2]="ArrayMaxItems",t[t.ArrayMinContains=3]="ArrayMinContains",t[t.ArrayMinItems=4]="ArrayMinItems",t[t.ArrayUniqueItems=5]="ArrayUniqueItems",t[t.Array=6]="Array",t[t.AsyncIterator=7]="AsyncIterator",t[t.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",t[t.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",t[t.BigIntMaximum=10]="BigIntMaximum",t[t.BigIntMinimum=11]="BigIntMinimum",t[t.BigIntMultipleOf=12]="BigIntMultipleOf",t[t.BigInt=13]="BigInt",t[t.Boolean=14]="Boolean",t[t.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",t[t.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",t[t.DateMaximumTimestamp=17]="DateMaximumTimestamp",t[t.DateMinimumTimestamp=18]="DateMinimumTimestamp",t[t.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",t[t.Date=20]="Date",t[t.Function=21]="Function",t[t.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",t[t.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",t[t.IntegerMaximum=24]="IntegerMaximum",t[t.IntegerMinimum=25]="IntegerMinimum",t[t.IntegerMultipleOf=26]="IntegerMultipleOf",t[t.Integer=27]="Integer",t[t.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",t[t.Intersect=29]="Intersect",t[t.Iterator=30]="Iterator",t[t.Kind=31]="Kind",t[t.Literal=32]="Literal",t[t.Never=33]="Never",t[t.Not=34]="Not",t[t.Null=35]="Null",t[t.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",t[t.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",t[t.NumberMaximum=38]="NumberMaximum",t[t.NumberMinimum=39]="NumberMinimum",t[t.NumberMultipleOf=40]="NumberMultipleOf",t[t.Number=41]="Number",t[t.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",t[t.ObjectMaxProperties=43]="ObjectMaxProperties",t[t.ObjectMinProperties=44]="ObjectMinProperties",t[t.ObjectRequiredProperty=45]="ObjectRequiredProperty",t[t.Object=46]="Object",t[t.Promise=47]="Promise",t[t.RegExp=48]="RegExp",t[t.StringFormatUnknown=49]="StringFormatUnknown",t[t.StringFormat=50]="StringFormat",t[t.StringMaxLength=51]="StringMaxLength",t[t.StringMinLength=52]="StringMinLength",t[t.StringPattern=53]="StringPattern",t[t.String=54]="String",t[t.Symbol=55]="Symbol",t[t.TupleLength=56]="TupleLength",t[t.Tuple=57]="Tuple",t[t.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",t[t.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",t[t.Uint8Array=60]="Uint8Array",t[t.Undefined=61]="Undefined",t[t.Union=62]="Union",t[t.Void=63]="Void"})(Le||(Le={}));var f$=class extends ur{static{s(this,"ValueErrorsUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}};function QA(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}s(QA,"EscapeKey");function yn(t){return t!==void 0}s(yn,"IsDefined");var Hg=class{static{s(this,"ValueErrorIterator")}constructor(e){this.iterator=e}[Symbol.iterator](){return this.iterator}First(){let e=this.iterator.next();return e.done?void 0:e.value}};function _t(t,e,r,n,o=[]){return{type:t,schema:e,path:r,value:n,message:ome()({errorType:t,path:r,schema:e,value:n,errors:o}),errors:o}}s(_t,"Create");function*JVe(t,e,r,n){}s(JVe,"FromAny");function*XVe(t,e,r,n){}s(XVe,"FromArgument");function*ZVe(t,e,r,n){if(!lr(n))return yield _t(Le.Array,t,r,n);yn(t.minItems)&&!(n.length>=t.minItems)&&(yield _t(Le.ArrayMinItems,t,r,n)),yn(t.maxItems)&&!(n.length<=t.maxItems)&&(yield _t(Le.ArrayMaxItems,t,r,n));for(let c=0;c<n.length;c++)yield*na(t.items,e,`${r}/${c}`,n[c]);if(t.uniqueItems===!0&&!function(){let c=new Set;for(let l of n){let u=Ug(l);if(c.has(u))return!1;c.add(u)}return!0}()&&(yield _t(Le.ArrayUniqueItems,t,r,n)),!(yn(t.contains)||yn(t.minContains)||yn(t.maxContains)))return;let o=yn(t.contains)?t.contains:Jr(),a=n.reduce((c,l,u)=>na(o,e,`${r}${u}`,l).next().done===!0?c+1:c,0);a===0&&(yield _t(Le.ArrayContains,t,r,n)),zt(t.minContains)&&a<t.minContains&&(yield _t(Le.ArrayMinContains,t,r,n)),zt(t.maxContains)&&a>t.maxContains&&(yield _t(Le.ArrayMaxContains,t,r,n))}s(ZVe,"FromArray");function*eWe(t,e,r,n){dk(n)||(yield _t(Le.AsyncIterator,t,r,n))}s(eWe,"FromAsyncIterator");function*tWe(t,e,r,n){if(!wa(n))return yield _t(Le.BigInt,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.BigIntExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.BigIntExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.BigIntMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.BigIntMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==BigInt(0)&&(yield _t(Le.BigIntMultipleOf,t,r,n))}s(tWe,"FromBigInt");function*rWe(t,e,r,n){Od(n)||(yield _t(Le.Boolean,t,r,n))}s(rWe,"FromBoolean");function*nWe(t,e,r,n){yield*na(t.returns,e,r,n.prototype)}s(nWe,"FromConstructor");function*iWe(t,e,r,n){if(!x0(n))return yield _t(Le.Date,t,r,n);yn(t.exclusiveMaximumTimestamp)&&!(n.getTime()<t.exclusiveMaximumTimestamp)&&(yield _t(Le.DateExclusiveMaximumTimestamp,t,r,n)),yn(t.exclusiveMinimumTimestamp)&&!(n.getTime()>t.exclusiveMinimumTimestamp)&&(yield _t(Le.DateExclusiveMinimumTimestamp,t,r,n)),yn(t.maximumTimestamp)&&!(n.getTime()<=t.maximumTimestamp)&&(yield _t(Le.DateMaximumTimestamp,t,r,n)),yn(t.minimumTimestamp)&&!(n.getTime()>=t.minimumTimestamp)&&(yield _t(Le.DateMinimumTimestamp,t,r,n)),yn(t.multipleOfTimestamp)&&n.getTime()%t.multipleOfTimestamp!==0&&(yield _t(Le.DateMultipleOfTimestamp,t,r,n))}s(iWe,"FromDate");function*oWe(t,e,r,n){Rg(n)||(yield _t(Le.Function,t,r,n))}s(oWe,"FromFunction");function*sWe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref];yield*na(a,[...e,...o],r,n)}s(sWe,"FromImport");function*aWe(t,e,r,n){if(!pk(n))return yield _t(Le.Integer,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.IntegerExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.IntegerExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.IntegerMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.IntegerMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==0&&(yield _t(Le.IntegerMultipleOf,t,r,n))}s(aWe,"FromInteger");function*cWe(t,e,r,n){let o=!1;for(let a of t.allOf)for(let c of na(a,e,r,n))o=!0,yield c;if(o)return yield _t(Le.Intersect,t,r,n);if(t.unevaluatedProperties===!1){let a=new RegExp(DA(t));for(let c of Object.getOwnPropertyNames(n))a.test(c)||(yield _t(Le.IntersectUnevaluatedProperties,t,`${r}/${c}`,n))}if(typeof t.unevaluatedProperties=="object"){let a=new RegExp(DA(t));for(let c of Object.getOwnPropertyNames(n))if(!a.test(c)){let l=na(t.unevaluatedProperties,e,`${r}/${c}`,n[c]).next();l.done||(yield l.value)}}}s(cWe,"FromIntersect");function*lWe(t,e,r,n){hk(n)||(yield _t(Le.Iterator,t,r,n))}s(lWe,"FromIterator");function*uWe(t,e,r,n){n!==t.const&&(yield _t(Le.Literal,t,r,n))}s(uWe,"FromLiteral");function*fWe(t,e,r,n){yield _t(Le.Never,t,r,n)}s(fWe,"FromNever");function*dWe(t,e,r,n){na(t.not,e,r,n).next().done===!0&&(yield _t(Le.Not,t,r,n))}s(dWe,"FromNot");function*hWe(t,e,r,n){TA(n)||(yield _t(Le.Null,t,r,n))}s(hWe,"FromNull");function*AWe(t,e,r,n){if(!Mi.IsNumberLike(n))return yield _t(Le.Number,t,r,n);yn(t.exclusiveMaximum)&&!(n<t.exclusiveMaximum)&&(yield _t(Le.NumberExclusiveMaximum,t,r,n)),yn(t.exclusiveMinimum)&&!(n>t.exclusiveMinimum)&&(yield _t(Le.NumberExclusiveMinimum,t,r,n)),yn(t.maximum)&&!(n<=t.maximum)&&(yield _t(Le.NumberMaximum,t,r,n)),yn(t.minimum)&&!(n>=t.minimum)&&(yield _t(Le.NumberMinimum,t,r,n)),yn(t.multipleOf)&&n%t.multipleOf!==0&&(yield _t(Le.NumberMultipleOf,t,r,n))}s(AWe,"FromNumber");function*pWe(t,e,r,n){if(!Mi.IsObjectLike(n))return yield _t(Le.Object,t,r,n);yn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield _t(Le.ObjectMinProperties,t,r,n)),yn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield _t(Le.ObjectMaxProperties,t,r,n));let o=Array.isArray(t.required)?t.required:[],a=Object.getOwnPropertyNames(t.properties),c=Object.getOwnPropertyNames(n);for(let l of o)c.includes(l)||(yield _t(Le.ObjectRequiredProperty,t.properties[l],`${r}/${QA(l)}`,void 0));if(t.additionalProperties===!1)for(let l of c)a.includes(l)||(yield _t(Le.ObjectAdditionalProperties,t,`${r}/${QA(l)}`,n[l]));if(typeof t.additionalProperties=="object")for(let l of c)a.includes(l)||(yield*na(t.additionalProperties,e,`${r}/${QA(l)}`,n[l]));for(let l of a){let u=t.properties[l];t.required&&t.required.includes(l)?(yield*na(u,e,`${r}/${QA(l)}`,n[l]),NA(t)&&!(l in n)&&(yield _t(Le.ObjectRequiredProperty,u,`${r}/${QA(l)}`,void 0))):Mi.IsExactOptionalProperty(n,l)&&(yield*na(u,e,`${r}/${QA(l)}`,n[l]))}}s(pWe,"FromObject");function*mWe(t,e,r,n){Ak(n)||(yield _t(Le.Promise,t,r,n))}s(mWe,"FromPromise");function*gWe(t,e,r,n){if(!Mi.IsRecordLike(n))return yield _t(Le.Object,t,r,n);yn(t.minProperties)&&!(Object.getOwnPropertyNames(n).length>=t.minProperties)&&(yield _t(Le.ObjectMinProperties,t,r,n)),yn(t.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=t.maxProperties)&&(yield _t(Le.ObjectMaxProperties,t,r,n));let[o,a]=Object.entries(t.patternProperties)[0],c=new RegExp(o);for(let[l,u]of Object.entries(n))c.test(l)&&(yield*na(a,e,`${r}/${QA(l)}`,u));if(typeof t.additionalProperties=="object")for(let[l,u]of Object.entries(n))c.test(l)||(yield*na(t.additionalProperties,e,`${r}/${QA(l)}`,u));if(t.additionalProperties===!1){for(let[l,u]of Object.entries(n))if(!c.test(l))return yield _t(Le.ObjectAdditionalProperties,t,`${r}/${QA(l)}`,u)}}s(gWe,"FromRecord");function*yWe(t,e,r,n){yield*na(Vn(t,e),e,r,n)}s(yWe,"FromRef");function*CWe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);if(yn(t.minLength)&&!(n.length>=t.minLength)&&(yield _t(Le.StringMinLength,t,r,n)),yn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield _t(Le.StringMaxLength,t,r,n)),!new RegExp(t.source,t.flags).test(n))return yield _t(Le.RegExp,t,r,n)}s(CWe,"FromRegExp");function*EWe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);yn(t.minLength)&&!(n.length>=t.minLength)&&(yield _t(Le.StringMinLength,t,r,n)),yn(t.maxLength)&&!(n.length<=t.maxLength)&&(yield _t(Le.StringMaxLength,t,r,n)),Fn(t.pattern)&&(new RegExp(t.pattern).test(n)||(yield _t(Le.StringPattern,t,r,n))),Fn(t.format)&&(cf.Has(t.format)?cf.Get(t.format)(n)||(yield _t(Le.StringFormat,t,r,n)):yield _t(Le.StringFormatUnknown,t,r,n))}s(EWe,"FromString");function*IWe(t,e,r,n){_A(n)||(yield _t(Le.Symbol,t,r,n))}s(IWe,"FromSymbol");function*xWe(t,e,r,n){if(!Fn(n))return yield _t(Le.String,t,r,n);new RegExp(t.pattern).test(n)||(yield _t(Le.StringPattern,t,r,n))}s(xWe,"FromTemplateLiteral");function*vWe(t,e,r,n){yield*na(Vn(t,e),e,r,n)}s(vWe,"FromThis");function*bWe(t,e,r,n){if(!lr(n))return yield _t(Le.Tuple,t,r,n);if(t.items===void 0&&n.length!==0)return yield _t(Le.TupleLength,t,r,n);if(n.length!==t.maxItems)return yield _t(Le.TupleLength,t,r,n);if(t.items)for(let o=0;o<t.items.length;o++)yield*na(t.items[o],e,`${r}/${o}`,n[o])}s(bWe,"FromTuple");function*TWe(t,e,r,n){Xi(n)||(yield _t(Le.Undefined,t,r,n))}s(TWe,"FromUndefined");function*_We(t,e,r,n){if(cn(t,e,n))return;let o=t.anyOf.map(a=>new Hg(na(a,e,r,n)));yield _t(Le.Union,t,r,n,o)}s(_We,"FromUnion");function*wWe(t,e,r,n){if(!Vx(n))return yield _t(Le.Uint8Array,t,r,n);yn(t.maxByteLength)&&!(n.length<=t.maxByteLength)&&(yield _t(Le.Uint8ArrayMaxByteLength,t,r,n)),yn(t.minByteLength)&&!(n.length>=t.minByteLength)&&(yield _t(Le.Uint8ArrayMinByteLength,t,r,n))}s(wWe,"FromUint8Array");function*SWe(t,e,r,n){}s(SWe,"FromUnknown");function*BWe(t,e,r,n){Mi.IsVoidLike(n)||(yield _t(Le.Void,t,r,n))}s(BWe,"FromVoid");function*RWe(t,e,r,n){v0.Get(t[Oe])(t,n)||(yield _t(Le.Kind,t,r,n))}s(RWe,"FromKind");function*na(t,e,r,n){let o=yn(t.$id)?[...e,t]:e,a=t;switch(a[Oe]){case"Any":return yield*JVe(a,o,r,n);case"Argument":return yield*XVe(a,o,r,n);case"Array":return yield*ZVe(a,o,r,n);case"AsyncIterator":return yield*eWe(a,o,r,n);case"BigInt":return yield*tWe(a,o,r,n);case"Boolean":return yield*rWe(a,o,r,n);case"Constructor":return yield*nWe(a,o,r,n);case"Date":return yield*iWe(a,o,r,n);case"Function":return yield*oWe(a,o,r,n);case"Import":return yield*sWe(a,o,r,n);case"Integer":return yield*aWe(a,o,r,n);case"Intersect":return yield*cWe(a,o,r,n);case"Iterator":return yield*lWe(a,o,r,n);case"Literal":return yield*uWe(a,o,r,n);case"Never":return yield*fWe(a,o,r,n);case"Not":return yield*dWe(a,o,r,n);case"Null":return yield*hWe(a,o,r,n);case"Number":return yield*AWe(a,o,r,n);case"Object":return yield*pWe(a,o,r,n);case"Promise":return yield*mWe(a,o,r,n);case"Record":return yield*gWe(a,o,r,n);case"Ref":return yield*yWe(a,o,r,n);case"RegExp":return yield*CWe(a,o,r,n);case"String":return yield*EWe(a,o,r,n);case"Symbol":return yield*IWe(a,o,r,n);case"TemplateLiteral":return yield*xWe(a,o,r,n);case"This":return yield*vWe(a,o,r,n);case"Tuple":return yield*bWe(a,o,r,n);case"Undefined":return yield*TWe(a,o,r,n);case"Union":return yield*_We(a,o,r,n);case"Uint8Array":return yield*wWe(a,o,r,n);case"Unknown":return yield*SWe(a,o,r,n);case"Void":return yield*BWe(a,o,r,n);default:if(!v0.Has(a[Oe]))throw new f$(t);return yield*RWe(a,o,r,n)}}s(na,"Visit");function $d(...t){let e=t.length===3?na(t[0],t[1],"",t[2]):na(t[0],[],"",t[1]);return new Hg(e)}s($d,"Errors");f();var kWe=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},ume=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},d$,Wk,fme,h$=class extends ur{static{s(this,"AssertError")}constructor(e){let r=e.First();super(r===void 0?"Invalid Value":r.message),d$.add(this),Wk.set(this,void 0),kWe(this,Wk,e,"f"),this.error=r}Errors(){return new Hg(ume(this,d$,"m",fme).call(this))}};Wk=new WeakMap,d$=new WeakSet,fme=s(function*(){this.error&&(yield this.error),yield*ume(this,Wk,"f")},"_AssertError_Iterator");function lme(t,e,r){if(!cn(t,e,r))throw new h$($d(t,e,r))}s(lme,"AssertValue");function $k(...t){return t.length===3?lme(t[0],t[1],t[2]):lme(t[0],[],t[1])}s($k,"Assert");f();f();f();function DWe(t){let e={};for(let r of Object.getOwnPropertyNames(t))e[r]=Wn(t[r]);for(let r of Object.getOwnPropertySymbols(t))e[r]=Wn(t[r]);return e}s(DWe,"FromObject");function NWe(t){return t.map(e=>Wn(e))}s(NWe,"FromArray");function QWe(t){return t.slice()}s(QWe,"FromTypedArray");function PWe(t){return new Map(Wn([...t.entries()]))}s(PWe,"FromMap");function FWe(t){return new Set(Wn([...t.entries()]))}s(FWe,"FromSet");function LWe(t){return new Date(t.toISOString())}s(LWe,"FromDate");function Wn(t){if(lr(t))return NWe(t);if(x0(t))return LWe(t);if(Yl(t))return QWe(t);if(She(t))return PWe(t);if(Bhe(t))return FWe(t);if(tn(t))return DWe(t);if(jc(t))return t;throw new Error("ValueClone: Unable to clone value")}s(Wn,"Clone");var rl=class extends ur{static{s(this,"ValueCreateError")}constructor(e,r){super(r),this.schema=e}};function $n(t){return Rg(t)?t():Wn(t)}s($n,"FromDefault");function MWe(t,e){return cr(t,"default")?$n(t.default):{}}s(MWe,"FromAny");function OWe(t,e){return{}}s(OWe,"FromArgument");function UWe(t,e){if(t.uniqueItems===!0&&!cr(t,"default"))throw new rl(t,"Array with the uniqueItems constraint requires a default value");if("contains"in t&&!cr(t,"default"))throw new rl(t,"Array with the contains constraint requires a default value");return"default"in t?$n(t.default):t.minItems!==void 0?Array.from({length:t.minItems}).map(r=>fc(t.items,e)):[]}s(UWe,"FromArray");function HWe(t,e){return cr(t,"default")?$n(t.default):async function*(){}()}s(HWe,"FromAsyncIterator");function qWe(t,e){return cr(t,"default")?$n(t.default):BigInt(0)}s(qWe,"FromBigInt");function GWe(t,e){return cr(t,"default")?$n(t.default):!1}s(GWe,"FromBoolean");function VWe(t,e){if(cr(t,"default"))return $n(t.default);{let r=fc(t.returns,e);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,o]of Object.entries(r)){let a=this;a[n]=o}}}:class{}}}s(VWe,"FromConstructor");function WWe(t,e){return cr(t,"default")?$n(t.default):t.minimumTimestamp!==void 0?new Date(t.minimumTimestamp):new Date}s(WWe,"FromDate");function $We(t,e){return cr(t,"default")?$n(t.default):()=>fc(t.returns,e)}s($We,"FromFunction");function YWe(t,e){let r=globalThis.Object.values(t.$defs),n=t.$defs[t.$ref];return fc(n,[...e,...r])}s(YWe,"FromImport");function zWe(t,e){return cr(t,"default")?$n(t.default):t.minimum!==void 0?t.minimum:0}s(zWe,"FromInteger");function jWe(t,e){if(cr(t,"default"))return $n(t.default);{let r=t.allOf.reduce((n,o)=>{let a=fc(o,e);return typeof a=="object"?{...n,...a}:a},{});if(!cn(t,e,r))throw new rl(t,"Intersect produced invalid value. Consider using a default value.");return r}}s(jWe,"FromIntersect");function KWe(t,e){return cr(t,"default")?$n(t.default):function*(){}()}s(KWe,"FromIterator");function JWe(t,e){return cr(t,"default")?$n(t.default):t.const}s(JWe,"FromLiteral");function XWe(t,e){if(cr(t,"default"))return $n(t.default);throw new rl(t,"Never types cannot be created. Consider using a default value.")}s(XWe,"FromNever");function ZWe(t,e){if(cr(t,"default"))return $n(t.default);throw new rl(t,"Not types must have a default value")}s(ZWe,"FromNot");function e$e(t,e){return cr(t,"default")?$n(t.default):null}s(e$e,"FromNull");function t$e(t,e){return cr(t,"default")?$n(t.default):t.minimum!==void 0?t.minimum:0}s(t$e,"FromNumber");function r$e(t,e){if(cr(t,"default"))return $n(t.default);{let r=new Set(t.required),n={};for(let[o,a]of Object.entries(t.properties))r.has(o)&&(n[o]=fc(a,e));return n}}s(r$e,"FromObject");function n$e(t,e){return cr(t,"default")?$n(t.default):Promise.resolve(fc(t.item,e))}s(n$e,"FromPromise");function i$e(t,e){let[r,n]=Object.entries(t.patternProperties)[0];if(cr(t,"default"))return $n(t.default);if(r===Hd||r===Ud)return{};{let o=r.slice(1,r.length-1).split("|"),a={};for(let c of o)a[c]=fc(n,e);return a}}s(i$e,"FromRecord");function o$e(t,e){return cr(t,"default")?$n(t.default):fc(Vn(t,e),e)}s(o$e,"FromRef");function s$e(t,e){if(cr(t,"default"))return $n(t.default);throw new rl(t,"RegExp types cannot be created. Consider using a default value.")}s(s$e,"FromRegExp");function a$e(t,e){if(t.pattern!==void 0){if(cr(t,"default"))return $n(t.default);throw new rl(t,"String types with patterns must specify a default value")}else if(t.format!==void 0){if(cr(t,"default"))return $n(t.default);throw new rl(t,"String types with formats must specify a default value")}else return cr(t,"default")?$n(t.default):t.minLength!==void 0?Array.from({length:t.minLength}).map(()=>" ").join(""):""}s(a$e,"FromString");function c$e(t,e){return cr(t,"default")?$n(t.default):"value"in t?Symbol.for(t.value):Symbol()}s(c$e,"FromSymbol");function l$e(t,e){if(cr(t,"default"))return $n(t.default);if(!Ck(t))throw new rl(t,"Can only create template literals that produce a finite variants. Consider using a default value.");return Zx(t)[0]}s(l$e,"FromTemplateLiteral");function u$e(t,e){if(dme++>y$e)throw new rl(t,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cr(t,"default")?$n(t.default):fc(Vn(t,e),e)}s(u$e,"FromThis");function f$e(t,e){return cr(t,"default")?$n(t.default):t.items===void 0?[]:Array.from({length:t.minItems}).map((r,n)=>fc(t.items[n],e))}s(f$e,"FromTuple");function d$e(t,e){if(cr(t,"default"))return $n(t.default)}s(d$e,"FromUndefined");function h$e(t,e){if(cr(t,"default"))return $n(t.default);if(t.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return fc(t.anyOf[0],e)}s(h$e,"FromUnion");function A$e(t,e){return cr(t,"default")?$n(t.default):t.minByteLength!==void 0?new Uint8Array(t.minByteLength):new Uint8Array(0)}s(A$e,"FromUint8Array");function p$e(t,e){return cr(t,"default")?$n(t.default):{}}s(p$e,"FromUnknown");function m$e(t,e){if(cr(t,"default"))return $n(t.default)}s(m$e,"FromVoid");function g$e(t,e){if(cr(t,"default"))return $n(t.default);throw new Error("User defined types must specify a default value")}s(g$e,"FromKind");function fc(t,e){let r=ta(t,e),n=t;switch(n[Oe]){case"Any":return MWe(n,r);case"Argument":return OWe(n,r);case"Array":return UWe(n,r);case"AsyncIterator":return HWe(n,r);case"BigInt":return qWe(n,r);case"Boolean":return GWe(n,r);case"Constructor":return VWe(n,r);case"Date":return WWe(n,r);case"Function":return $We(n,r);case"Import":return YWe(n,r);case"Integer":return zWe(n,r);case"Intersect":return jWe(n,r);case"Iterator":return KWe(n,r);case"Literal":return JWe(n,r);case"Never":return XWe(n,r);case"Not":return ZWe(n,r);case"Null":return e$e(n,r);case"Number":return t$e(n,r);case"Object":return r$e(n,r);case"Promise":return n$e(n,r);case"Record":return i$e(n,r);case"Ref":return o$e(n,r);case"RegExp":return s$e(n,r);case"String":return a$e(n,r);case"Symbol":return c$e(n,r);case"TemplateLiteral":return l$e(n,r);case"This":return u$e(n,r);case"Tuple":return f$e(n,r);case"Undefined":return d$e(n,r);case"Union":return h$e(n,r);case"Uint8Array":return A$e(n,r);case"Unknown":return p$e(n,r);case"Void":return m$e(n,r);default:if(!v0.Has(n[Oe]))throw new rl(n,"Unknown type");return g$e(n,r)}}s(fc,"Visit");var y$e=512,dme=0;function tu(...t){return dme=0,t.length===2?fc(t[0],t[1]):fc(t[0],[])}s(tu,"Create");var Yk=class extends ur{static{s(this,"ValueCastError")}constructor(e,r){super(r),this.schema=e}};function C$e(t,e,r){if(t[Oe]==="Object"&&typeof r=="object"&&!TA(r)){let n=t,o=Object.getOwnPropertyNames(r),a=Object.entries(n.properties),[c,l]=[1/a.length,a.length];return a.reduce((u,[d,h])=>{let A=h[Oe]==="Literal"&&h.const===r[d]?l:0,p=cn(h,e,r[d])?c:0,g=o.includes(d)?c:0;return u+(A+p+g)},0)}else return cn(t,e,r)?1:0}s(C$e,"ScoreUnion");function E$e(t,e,r){let n=t.anyOf.map(c=>Vn(c,e)),[o,a]=[n[0],0];for(let c of n){let l=C$e(c,e,r);l>a&&(o=c,a=l)}return o}s(E$e,"SelectUnion");function I$e(t,e,r){if("default"in t)return typeof r=="function"?t.default:Wn(t.default);{let n=E$e(t,e,r);return Tw(n,e,r)}}s(I$e,"CastUnion");function x$e(t,e,r){return cn(t,e,r)?Wn(r):tu(t,e)}s(x$e,"DefaultClone");function v$e(t,e,r){return cn(t,e,r)?r:tu(t,e)}s(v$e,"Default");function b$e(t,e,r){if(cn(t,e,r))return Wn(r);let n=lr(r)?Wn(r):tu(t,e),o=zt(t.minItems)&&n.length<t.minItems?[...n,...Array.from({length:t.minItems-n.length},()=>null)]:n,c=(zt(t.maxItems)&&o.length>t.maxItems?o.slice(0,t.maxItems):o).map(u=>df(t.items,e,u));if(t.uniqueItems!==!0)return c;let l=[...new Set(c)];if(!cn(t,e,l))throw new Yk(t,"Array cast produced invalid data due to uniqueItems constraint");return l}s(b$e,"FromArray");function T$e(t,e,r){if(cn(t,e,r))return tu(t,e);let n=new Set(t.returns.required||[]),o=s(function(){},"result");for(let[a,c]of Object.entries(t.returns.properties))!n.has(a)&&r.prototype[a]===void 0||(o.prototype[a]=df(c,e,r.prototype[a]));return o}s(T$e,"FromConstructor");function _$e(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return df(o,[...e,...n],r)}s(_$e,"FromImport");function w$e(t,e,r){let n=tu(t,e),o=tn(n)&&tn(r)?{...n,...r}:r;return cn(t,e,o)?o:tu(t,e)}s(w$e,"FromIntersect");function S$e(t,e,r){throw new Yk(t,"Never types cannot be cast")}s(S$e,"FromNever");function B$e(t,e,r){if(cn(t,e,r))return r;if(r===null||typeof r!="object")return tu(t,e);let n=new Set(t.required||[]),o={};for(let[a,c]of Object.entries(t.properties))!n.has(a)&&r[a]===void 0||(o[a]=df(c,e,r[a]));if(typeof t.additionalProperties=="object"){let a=Object.getOwnPropertyNames(t.properties);for(let c of Object.getOwnPropertyNames(r))a.includes(c)||(o[c]=df(t.additionalProperties,e,r[c]))}return o}s(B$e,"FromObject");function R$e(t,e,r){if(cn(t,e,r))return Wn(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return tu(t,e);let n=Object.getOwnPropertyNames(t.patternProperties)[0],o=t.patternProperties[n],a={};for(let[c,l]of Object.entries(r))a[c]=df(o,e,l);return a}s(R$e,"FromRecord");function k$e(t,e,r){return df(Vn(t,e),e,r)}s(k$e,"FromRef");function D$e(t,e,r){return df(Vn(t,e),e,r)}s(D$e,"FromThis");function N$e(t,e,r){return cn(t,e,r)?Wn(r):lr(r)?t.items===void 0?[]:t.items.map((n,o)=>df(n,e,r[o])):tu(t,e)}s(N$e,"FromTuple");function Q$e(t,e,r){return cn(t,e,r)?Wn(r):I$e(t,e,r)}s(Q$e,"FromUnion");function df(t,e,r){let n=Fn(t.$id)?ta(t,e):e,o=t;switch(t[Oe]){case"Array":return b$e(o,n,r);case"Constructor":return T$e(o,n,r);case"Import":return _$e(o,n,r);case"Intersect":return w$e(o,n,r);case"Never":return S$e(o,n,r);case"Object":return B$e(o,n,r);case"Record":return R$e(o,n,r);case"Ref":return k$e(o,n,r);case"This":return D$e(o,n,r);case"Tuple":return N$e(o,n,r);case"Union":return Q$e(o,n,r);case"Date":case"Symbol":case"Uint8Array":return x$e(t,e,r);default:return v$e(o,n,r)}}s(df,"Visit");function Tw(...t){return t.length===3?df(t[0],t[1],t[2]):df(t[0],[],t[1])}s(Tw,"Cast");f();function P$e(t){return Dg(t)&&t[Oe]!=="Unsafe"}s(P$e,"IsCheckable");function F$e(t,e,r){return lr(r)?r.map(n=>dc(t.items,e,n)):r}s(F$e,"FromArray");function L$e(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return dc(o,[...e,...n],r)}s(L$e,"FromImport");function M$e(t,e,r){let n=t.unevaluatedProperties,a=t.allOf.map(l=>dc(l,e,Wn(r))).reduce((l,u)=>tn(u)?{...l,...u}:u,{});if(!tn(r)||!tn(a)||!Dg(n))return a;let c=cc(t);for(let l of Object.getOwnPropertyNames(r))c.includes(l)||cn(n,e,r[l])&&(a[l]=dc(n,e,r[l]));return a}s(M$e,"FromIntersect");function O$e(t,e,r){if(!tn(r)||lr(r))return r;let n=t.additionalProperties;for(let o of Object.getOwnPropertyNames(r)){if(cr(t.properties,o)){r[o]=dc(t.properties[o],e,r[o]);continue}if(Dg(n)&&cn(n,e,r[o])){r[o]=dc(n,e,r[o]);continue}delete r[o]}return r}s(O$e,"FromObject");function U$e(t,e,r){if(!tn(r))return r;let n=t.additionalProperties,o=Object.getOwnPropertyNames(r),[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of o){if(l.test(u)){r[u]=dc(c,e,r[u]);continue}if(Dg(n)&&cn(n,e,r[u])){r[u]=dc(n,e,r[u]);continue}delete r[u]}return r}s(U$e,"FromRecord");function H$e(t,e,r){return dc(Vn(t,e),e,r)}s(H$e,"FromRef");function q$e(t,e,r){return dc(Vn(t,e),e,r)}s(q$e,"FromThis");function G$e(t,e,r){if(!lr(r))return r;if(Xi(t.items))return[];let n=Math.min(r.length,t.items.length);for(let o=0;o<n;o++)r[o]=dc(t.items[o],e,r[o]);return r.length>n?r.slice(0,n):r}s(G$e,"FromTuple");function V$e(t,e,r){for(let n of t.anyOf)if(P$e(n)&&cn(n,e,r))return dc(n,e,r);return r}s(V$e,"FromUnion");function dc(t,e,r){let n=Fn(t.$id)?ta(t,e):e,o=t;switch(o[Oe]){case"Array":return F$e(o,n,r);case"Import":return L$e(o,n,r);case"Intersect":return M$e(o,n,r);case"Object":return O$e(o,n,r);case"Record":return U$e(o,n,r);case"Ref":return H$e(o,n,r);case"This":return q$e(o,n,r);case"Tuple":return G$e(o,n,r);case"Union":return V$e(o,n,r);default:return r}}s(dc,"Visit");function zk(...t){return t.length===3?dc(t[0],t[1],t[2]):dc(t[0],[],t[1])}s(zk,"Clean");f();function jk(t){return Fn(t)&&!isNaN(t)&&!isNaN(parseFloat(t))}s(jk,"IsStringNumeric");function W$e(t){return wa(t)||Od(t)||zt(t)}s(W$e,"IsValueToString");function _w(t){return t===!0||zt(t)&&t===1||wa(t)&&t===BigInt("1")||Fn(t)&&(t.toLowerCase()==="true"||t==="1")}s(_w,"IsValueTrue");function ww(t){return t===!1||zt(t)&&(t===0||Object.is(t,-0))||wa(t)&&t===BigInt("0")||Fn(t)&&(t.toLowerCase()==="false"||t==="0"||t==="-0")}s(ww,"IsValueFalse");function $$e(t){return Fn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s($$e,"IsTimeStringWithTimeZone");function Y$e(t){return Fn(t)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(Y$e,"IsTimeStringWithoutTimeZone");function z$e(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(t)}s(z$e,"IsDateTimeStringWithTimeZone");function j$e(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(t)}s(j$e,"IsDateTimeStringWithoutTimeZone");function K$e(t){return Fn(t)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(t)}s(K$e,"IsDateString");function J$e(t,e){let r=Ame(t);return r===e?r:t}s(J$e,"TryConvertLiteralString");function X$e(t,e){let r=pme(t);return r===e?r:t}s(X$e,"TryConvertLiteralNumber");function Z$e(t,e){let r=hme(t);return r===e?r:t}s(Z$e,"TryConvertLiteralBoolean");function eYe(t,e){return Fn(t.const)?J$e(e,t.const):zt(t.const)?X$e(e,t.const):Od(t.const)?Z$e(e,t.const):e}s(eYe,"TryConvertLiteral");function hme(t){return _w(t)?!0:ww(t)?!1:t}s(hme,"TryConvertBoolean");function tYe(t){let e=s(r=>r.split(".")[0],"truncateInteger");return jk(t)?BigInt(e(t)):zt(t)?BigInt(Math.trunc(t)):ww(t)?BigInt(0):_w(t)?BigInt(1):t}s(tYe,"TryConvertBigInt");function Ame(t){return _A(t)&&t.description!==void 0?t.description.toString():W$e(t)?t.toString():t}s(Ame,"TryConvertString");function pme(t){return jk(t)?parseFloat(t):_w(t)?1:ww(t)?0:t}s(pme,"TryConvertNumber");function rYe(t){return jk(t)?parseInt(t):zt(t)?Math.trunc(t):_w(t)?1:ww(t)?0:t}s(rYe,"TryConvertInteger");function nYe(t){return Fn(t)&&t.toLowerCase()==="null"?null:t}s(nYe,"TryConvertNull");function iYe(t){return Fn(t)&&t==="undefined"?void 0:t}s(iYe,"TryConvertUndefined");function oYe(t){return x0(t)?t:zt(t)?new Date(t):_w(t)?new Date(1):ww(t)?new Date(0):jk(t)?new Date(parseInt(t)):Y$e(t)?new Date(`1970-01-01T${t}.000Z`):$$e(t)?new Date(`1970-01-01T${t}`):j$e(t)?new Date(`${t}.000Z`):z$e(t)?new Date(t):K$e(t)?new Date(`${t}T00:00:00.000Z`):t}s(oYe,"TryConvertDate");function sYe(t,e,r){return(lr(r)?r:[r]).map(o=>hf(t.items,e,o))}s(sYe,"FromArray");function aYe(t,e,r){return tYe(r)}s(aYe,"FromBigInt");function cYe(t,e,r){return hme(r)}s(cYe,"FromBoolean");function lYe(t,e,r){return oYe(r)}s(lYe,"FromDate");function uYe(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return hf(o,[...e,...n],r)}s(uYe,"FromImport");function fYe(t,e,r){return rYe(r)}s(fYe,"FromInteger");function dYe(t,e,r){return t.allOf.reduce((n,o)=>hf(o,e,n),r)}s(dYe,"FromIntersect");function hYe(t,e,r){return eYe(t,r)}s(hYe,"FromLiteral");function AYe(t,e,r){return nYe(r)}s(AYe,"FromNull");function pYe(t,e,r){return pme(r)}s(pYe,"FromNumber");function mYe(t,e,r){if(!tn(r))return r;for(let n of Object.getOwnPropertyNames(t.properties))cr(r,n)&&(r[n]=hf(t.properties[n],e,r[n]));return r}s(mYe,"FromObject");function gYe(t,e,r){if(!tn(r))return r;let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=t.patternProperties[o];for(let[c,l]of Object.entries(r))r[c]=hf(a,e,l);return r}s(gYe,"FromRecord");function yYe(t,e,r){return hf(Vn(t,e),e,r)}s(yYe,"FromRef");function CYe(t,e,r){return Ame(r)}s(CYe,"FromString");function EYe(t,e,r){return Fn(r)||zt(r)?Symbol(r):r}s(EYe,"FromSymbol");function IYe(t,e,r){return hf(Vn(t,e),e,r)}s(IYe,"FromThis");function xYe(t,e,r){return lr(r)&&!Xi(t.items)?r.map((o,a)=>a<t.items.length?hf(t.items[a],e,o):o):r}s(xYe,"FromTuple");function vYe(t,e,r){return iYe(r)}s(vYe,"FromUndefined");function bYe(t,e,r){for(let n of t.anyOf){let o=hf(n,e,Wn(r));if(cn(n,e,o))return o}return r}s(bYe,"FromUnion");function hf(t,e,r){let n=ta(t,e),o=t;switch(t[Oe]){case"Array":return sYe(o,n,r);case"BigInt":return aYe(o,n,r);case"Boolean":return cYe(o,n,r);case"Date":return lYe(o,n,r);case"Import":return uYe(o,n,r);case"Integer":return fYe(o,n,r);case"Intersect":return dYe(o,n,r);case"Literal":return hYe(o,n,r);case"Null":return AYe(o,n,r);case"Number":return pYe(o,n,r);case"Object":return mYe(o,n,r);case"Record":return gYe(o,n,r);case"Ref":return yYe(o,n,r);case"String":return CYe(o,n,r);case"Symbol":return EYe(o,n,r);case"This":return IYe(o,n,r);case"Tuple":return xYe(o,n,r);case"Undefined":return vYe(o,n,r);case"Union":return bYe(o,n,r);default:return r}}s(hf,"Visit");function Kk(...t){return t.length===3?hf(t[0],t[1],t[2]):hf(t[0],[],t[1])}s(Kk,"Convert");f();f();var Av=class extends ur{static{s(this,"TransformDecodeCheckError")}constructor(e,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},A$=class extends ur{static{s(this,"TransformDecodeError")}constructor(e,r,n,o){super(o instanceof Error?o.message:"Unknown error"),this.schema=e,this.path=r,this.value=n,this.error=o}};function ho(t,e,r){try{return Zn(t)?t[uo].Decode(r):r}catch(n){throw new A$(t,e,r,n)}}s(ho,"Default");function TYe(t,e,r,n){return lr(n)?ho(t,r,n.map((o,a)=>Af(t.items,e,`${r}/${a}`,o))):ho(t,r,n)}s(TYe,"FromArray");function _Ye(t,e,r,n){if(!tn(n)||jc(n))return ho(t,r,n);let o=bk(t),a=o.map(h=>h[0]),c={...n};for(let[h,A]of o)h in c&&(c[h]=Af(A,e,`${r}/${h}`,c[h]));if(!Zn(t.unevaluatedProperties))return ho(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.unevaluatedProperties,d={...c};for(let h of l)a.includes(h)||(d[h]=ho(u,`${r}/${h}`,d[h]));return ho(t,r,d)}s(_Ye,"FromIntersect");function wYe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=Af(a,[...e,...o],r,n);return ho(t,r,c)}s(wYe,"FromImport");function SYe(t,e,r,n){return ho(t,r,Af(t.not,e,r,n))}s(SYe,"FromNot");function BYe(t,e,r,n){if(!tn(n))return ho(t,r,n);let o=cc(t),a={...n};for(let d of o)cr(a,d)&&(Xi(a[d])&&(!BA(t.properties[d])||Mi.IsExactOptionalProperty(a,d))||(a[d]=Af(t.properties[d],e,`${r}/${d}`,a[d])));if(!fo(t.additionalProperties))return ho(t,r,a);let c=Object.getOwnPropertyNames(a),l=t.additionalProperties,u={...a};for(let d of c)o.includes(d)||(u[d]=ho(l,`${r}/${d}`,u[d]));return ho(t,r,u)}s(BYe,"FromObject");function RYe(t,e,r,n){if(!tn(n))return ho(t,r,n);let o=Object.getOwnPropertyNames(t.patternProperties)[0],a=new RegExp(o),c={...n};for(let h of Object.getOwnPropertyNames(n))a.test(h)&&(c[h]=Af(t.patternProperties[o],e,`${r}/${h}`,c[h]));if(!fo(t.additionalProperties))return ho(t,r,c);let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,d={...c};for(let h of l)a.test(h)||(d[h]=ho(u,`${r}/${h}`,d[h]));return ho(t,r,d)}s(RYe,"FromRecord");function kYe(t,e,r,n){let o=Vn(t,e);return ho(t,r,Af(o,e,r,n))}s(kYe,"FromRef");function DYe(t,e,r,n){let o=Vn(t,e);return ho(t,r,Af(o,e,r,n))}s(DYe,"FromThis");function NYe(t,e,r,n){return lr(n)&&lr(t.items)?ho(t,r,t.items.map((o,a)=>Af(o,e,`${r}/${a}`,n[a]))):ho(t,r,n)}s(NYe,"FromTuple");function QYe(t,e,r,n){for(let o of t.anyOf){if(!cn(o,e,n))continue;let a=Af(o,e,r,n);return ho(t,r,a)}return ho(t,r,n)}s(QYe,"FromUnion");function Af(t,e,r,n){let o=ta(t,e),a=t;switch(t[Oe]){case"Array":return TYe(a,o,r,n);case"Import":return wYe(a,o,r,n);case"Intersect":return _Ye(a,o,r,n);case"Not":return SYe(a,o,r,n);case"Object":return BYe(a,o,r,n);case"Record":return RYe(a,o,r,n);case"Ref":return kYe(a,o,r,n);case"Symbol":return ho(a,r,n);case"This":return DYe(a,o,r,n);case"Tuple":return NYe(a,o,r,n);case"Union":return QYe(a,o,r,n);default:return ho(a,r,n)}}s(Af,"Visit");function pv(t,e,r){return Af(t,e,"",r)}s(pv,"TransformDecode");f();var mv=class extends ur{static{s(this,"TransformEncodeCheckError")}constructor(e,r,n){super("The encoded value does not match the expected schema"),this.schema=e,this.value=r,this.error=n}},p$=class extends ur{static{s(this,"TransformEncodeError")}constructor(e,r,n,o){super(`${o instanceof Error?o.message:"Unknown error"}`),this.schema=e,this.path=r,this.value=n,this.error=o}};function Ba(t,e,r){try{return Zn(t)?t[uo].Encode(r):r}catch(n){throw new p$(t,e,r,n)}}s(Ba,"Default");function PYe(t,e,r,n){let o=Ba(t,r,n);return lr(o)?o.map((a,c)=>pf(t.items,e,`${r}/${c}`,a)):o}s(PYe,"FromArray");function FYe(t,e,r,n){let o=globalThis.Object.values(t.$defs),a=t.$defs[t.$ref],c=Ba(t,r,n);return pf(a,[...e,...o],r,c)}s(FYe,"FromImport");function LYe(t,e,r,n){let o=Ba(t,r,n);if(!tn(n)||jc(n))return o;let a=bk(t),c=a.map(A=>A[0]),l={...o};for(let[A,p]of a)A in l&&(l[A]=pf(p,e,`${r}/${A}`,l[A]));if(!Zn(t.unevaluatedProperties))return l;let u=Object.getOwnPropertyNames(l),d=t.unevaluatedProperties,h={...l};for(let A of u)c.includes(A)||(h[A]=Ba(d,`${r}/${A}`,h[A]));return h}s(LYe,"FromIntersect");function MYe(t,e,r,n){return Ba(t.not,r,Ba(t,r,n))}s(MYe,"FromNot");function OYe(t,e,r,n){let o=Ba(t,r,n);if(!tn(o))return o;let a=cc(t),c={...o};for(let h of a)cr(c,h)&&(Xi(c[h])&&(!BA(t.properties[h])||Mi.IsExactOptionalProperty(c,h))||(c[h]=pf(t.properties[h],e,`${r}/${h}`,c[h])));if(!fo(t.additionalProperties))return c;let l=Object.getOwnPropertyNames(c),u=t.additionalProperties,d={...c};for(let h of l)a.includes(h)||(d[h]=Ba(u,`${r}/${h}`,d[h]));return d}s(OYe,"FromObject");function UYe(t,e,r,n){let o=Ba(t,r,n);if(!tn(n))return o;let a=Object.getOwnPropertyNames(t.patternProperties)[0],c=new RegExp(a),l={...o};for(let A of Object.getOwnPropertyNames(n))c.test(A)&&(l[A]=pf(t.patternProperties[a],e,`${r}/${A}`,l[A]));if(!fo(t.additionalProperties))return l;let u=Object.getOwnPropertyNames(l),d=t.additionalProperties,h={...l};for(let A of u)c.test(A)||(h[A]=Ba(d,`${r}/${A}`,h[A]));return h}s(UYe,"FromRecord");function HYe(t,e,r,n){let o=Vn(t,e),a=pf(o,e,r,n);return Ba(t,r,a)}s(HYe,"FromRef");function qYe(t,e,r,n){let o=Vn(t,e),a=pf(o,e,r,n);return Ba(t,r,a)}s(qYe,"FromThis");function GYe(t,e,r,n){let o=Ba(t,r,n);return lr(t.items)?t.items.map((a,c)=>pf(a,e,`${r}/${c}`,o[c])):[]}s(GYe,"FromTuple");function VYe(t,e,r,n){for(let o of t.anyOf){if(!cn(o,e,n))continue;let a=pf(o,e,r,n);return Ba(t,r,a)}for(let o of t.anyOf){let a=pf(o,e,r,n);if(cn(t,e,a))return Ba(t,r,a)}return Ba(t,r,n)}s(VYe,"FromUnion");function pf(t,e,r,n){let o=ta(t,e),a=t;switch(t[Oe]){case"Array":return PYe(a,o,r,n);case"Import":return FYe(a,o,r,n);case"Intersect":return LYe(a,o,r,n);case"Not":return MYe(a,o,r,n);case"Object":return OYe(a,o,r,n);case"Record":return UYe(a,o,r,n);case"Ref":return HYe(a,o,r,n);case"This":return qYe(a,o,r,n);case"Tuple":return GYe(a,o,r,n);case"Union":return VYe(a,o,r,n);default:return Ba(a,r,n)}}s(pf,"Visit");function gv(t,e,r){return pf(t,e,"",r)}s(gv,"TransformEncode");f();function WYe(t,e){return Zn(t)||Fs(t.items,e)}s(WYe,"FromArray");function $Ye(t,e){return Zn(t)||Fs(t.items,e)}s($Ye,"FromAsyncIterator");function YYe(t,e){return Zn(t)||Fs(t.returns,e)||t.parameters.some(r=>Fs(r,e))}s(YYe,"FromConstructor");function zYe(t,e){return Zn(t)||Fs(t.returns,e)||t.parameters.some(r=>Fs(r,e))}s(zYe,"FromFunction");function jYe(t,e){return Zn(t)||Zn(t.unevaluatedProperties)||t.allOf.some(r=>Fs(r,e))}s(jYe,"FromIntersect");function KYe(t,e){let r=globalThis.Object.getOwnPropertyNames(t.$defs).reduce((o,a)=>[...o,t.$defs[a]],[]),n=t.$defs[t.$ref];return Zn(t)||Fs(n,[...r,...e])}s(KYe,"FromImport");function JYe(t,e){return Zn(t)||Fs(t.items,e)}s(JYe,"FromIterator");function XYe(t,e){return Zn(t)||Fs(t.not,e)}s(XYe,"FromNot");function ZYe(t,e){return Zn(t)||Object.values(t.properties).some(r=>Fs(r,e))||fo(t.additionalProperties)&&Fs(t.additionalProperties,e)}s(ZYe,"FromObject");function eze(t,e){return Zn(t)||Fs(t.item,e)}s(eze,"FromPromise");function tze(t,e){let r=Object.getOwnPropertyNames(t.patternProperties)[0],n=t.patternProperties[r];return Zn(t)||Fs(n,e)||fo(t.additionalProperties)&&Zn(t.additionalProperties)}s(tze,"FromRecord");function rze(t,e){return Zn(t)?!0:Fs(Vn(t,e),e)}s(rze,"FromRef");function nze(t,e){return Zn(t)?!0:Fs(Vn(t,e),e)}s(nze,"FromThis");function ize(t,e){return Zn(t)||!Xi(t.items)&&t.items.some(r=>Fs(r,e))}s(ize,"FromTuple");function oze(t,e){return Zn(t)||t.anyOf.some(r=>Fs(r,e))}s(oze,"FromUnion");function Fs(t,e){let r=ta(t,e),n=t;if(t.$id&&m$.has(t.$id))return!1;switch(t.$id&&m$.add(t.$id),t[Oe]){case"Array":return WYe(n,r);case"AsyncIterator":return $Ye(n,r);case"Constructor":return YYe(n,r);case"Function":return zYe(n,r);case"Import":return KYe(n,r);case"Intersect":return jYe(n,r);case"Iterator":return JYe(n,r);case"Not":return XYe(n,r);case"Object":return ZYe(n,r);case"Promise":return eze(n,r);case"Record":return tze(n,r);case"Ref":return rze(n,r);case"This":return nze(n,r);case"Tuple":return ize(n,r);case"Union":return oze(n,r);default:return Zn(t)}}s(Fs,"Visit");var m$=new Set;function PA(t,e){return m$.clear(),Fs(t,e)}s(PA,"HasTransform");function mme(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]];if(!cn(e,r,n))throw new Av(e,n,$d(e,r,n).First());return PA(e,r)?pv(e,r,n):n}s(mme,"Decode");f();function FA(t,e){let r=cr(t,"default")?t.default:void 0,n=Rg(r)?r():Wn(r);return Xi(e)?n:tn(e)&&tn(n)?Object.assign(n,e):e}s(FA,"ValueOrDefault");function g$(t){return Dg(t)&&"default"in t}s(g$,"HasDefaultProperty");function sze(t,e,r){if(lr(r)){for(let o=0;o<r.length;o++)r[o]=_0(t.items,e,r[o]);return r}let n=FA(t,r);if(!lr(n))return n;for(let o=0;o<n.length;o++)n[o]=_0(t.items,e,n[o]);return n}s(sze,"FromArray");function aze(t,e,r){return x0(r)?r:FA(t,r)}s(aze,"FromDate");function cze(t,e,r){let n=globalThis.Object.values(t.$defs),o=t.$defs[t.$ref];return _0(o,[...e,...n],r)}s(cze,"FromImport");function lze(t,e,r){let n=FA(t,r);return t.allOf.reduce((o,a)=>{let c=_0(a,e,n);return tn(c)?{...o,...c}:c},{})}s(lze,"FromIntersect");function uze(t,e,r){let n=FA(t,r);if(!tn(n))return n;let o=Object.getOwnPropertyNames(t.properties);for(let a of o){let c=_0(t.properties[a],e,n[a]);Xi(c)||(n[a]=_0(t.properties[a],e,n[a]))}if(!g$(t.additionalProperties))return n;for(let a of Object.getOwnPropertyNames(n))o.includes(a)||(n[a]=_0(t.additionalProperties,e,n[a]));return n}s(uze,"FromObject");function fze(t,e,r){let n=FA(t,r);if(!tn(n))return n;let o=t.additionalProperties,[a,c]=Object.entries(t.patternProperties)[0],l=new RegExp(a);for(let u of Object.getOwnPropertyNames(n))l.test(u)&&g$(c)&&(n[u]=_0(c,e,n[u]));if(!g$(o))return n;for(let u of Object.getOwnPropertyNames(n))l.test(u)||(n[u]=_0(o,e,n[u]));return n}s(fze,"FromRecord");function dze(t,e,r){return _0(Vn(t,e),e,FA(t,r))}s(dze,"FromRef");function hze(t,e,r){return _0(Vn(t,e),e,r)}s(hze,"FromThis");function Aze(t,e,r){let n=FA(t,r);if(!lr(n)||Xi(t.items))return n;let[o,a]=[t.items,Math.max(t.items.length,n.length)];for(let c=0;c<a;c++)c<o.length&&(n[c]=_0(o[c],e,n[c]));return n}s(Aze,"FromTuple");function pze(t,e,r){let n=FA(t,r);for(let o of t.anyOf){let a=_0(o,e,Wn(n));if(cn(o,e,a))return a}return n}s(pze,"FromUnion");function _0(t,e,r){let n=ta(t,e),o=t;switch(o[Oe]){case"Array":return sze(o,n,r);case"Date":return aze(o,n,r);case"Import":return cze(o,n,r);case"Intersect":return lze(o,n,r);case"Object":return uze(o,n,r);case"Record":return fze(o,n,r);case"Ref":return dze(o,n,r);case"This":return hze(o,n,r);case"Tuple":return Aze(o,n,r);case"Union":return pze(o,n,r);default:return FA(o,r)}}s(_0,"Visit");function Jk(...t){return t.length===3?_0(t[0],t[1],t[2]):_0(t[0],[],t[1])}s(Jk,"Default");f();f();var mf={};Io(mf,{Delete:()=>gze,Format:()=>Sw,Get:()=>Cze,Has:()=>yze,Set:()=>mze,ValuePointerRootDeleteError:()=>Zk,ValuePointerRootSetError:()=>Xk});f();var Xk=class extends ur{static{s(this,"ValuePointerRootSetError")}constructor(e,r,n){super("Cannot set root value"),this.value=e,this.path=r,this.update=n}},Zk=class extends ur{static{s(this,"ValuePointerRootDeleteError")}constructor(e,r){super("Cannot delete root value"),this.value=e,this.path=r}};function gme(t){return t.indexOf("~")===-1?t:t.replace(/~1/g,"/").replace(/~0/g,"~")}s(gme,"Escape");function*Sw(t){if(t==="")return;let[e,r]=[0,0];for(let n=0;n<t.length;n++)t.charAt(n)==="/"?(n===0||(r=n,yield gme(t.slice(e,r))),e=n+1):r=n;yield gme(t.slice(e))}s(Sw,"Format");function mze(t,e,r){if(e==="")throw new Xk(t,e,r);let[n,o,a]=[null,t,""];for(let c of Sw(e))o[c]===void 0&&(o[c]={}),n=o,o=o[c],a=c;n[a]=r}s(mze,"Set");function gze(t,e){if(e==="")throw new Zk(t,e);let[r,n,o]=[null,t,""];for(let a of Sw(e)){if(n[a]===void 0||n[a]===null)return;r=n,n=n[a],o=a}if(Array.isArray(r)){let a=parseInt(o);r.splice(a,1)}else delete r[o]}s(gze,"Delete");function yze(t,e){if(e==="")return!0;let[r,n,o]=[null,t,""];for(let a of Sw(e)){if(n[a]===void 0)return!1;r=n,n=n[a],o=a}return Object.getOwnPropertyNames(r).includes(o)}s(yze,"Has");function Cze(t,e){if(e==="")return t;let r=t;for(let n of Sw(e)){if(r[n]===void 0)return;r=r[n]}return r}s(Cze,"Get");f();function Eze(t,e){if(!tn(e))return!1;let r=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],n=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];return r.length!==n.length?!1:r.every(o=>rE(t[o],e[o]))}s(Eze,"ObjectType");function Ize(t,e){return x0(e)&&t.getTime()===e.getTime()}s(Ize,"DateType");function xze(t,e){return!lr(e)||t.length!==e.length?!1:t.every((r,n)=>rE(r,e[n]))}s(xze,"ArrayType");function vze(t,e){return!Yl(e)||t.length!==e.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(e).constructor.name?!1:t.every((r,n)=>rE(r,e[n]))}s(vze,"TypedArrayType");function bze(t,e){return t===e}s(bze,"ValueType");function rE(t,e){if(x0(t))return Ize(t,e);if(Yl(t))return vze(t,e);if(lr(t))return xze(t,e);if(tn(t))return Eze(t,e);if(jc(t))return bze(t,e);throw new Error("ValueEquals: Unable to compare value")}s(rE,"Equal");var Tze=ti({type:Sn("insert"),path:b0(),value:lf()}),_ze=ti({type:Sn("update"),path:b0(),value:lf()}),wze=ti({type:Sn("delete"),path:b0()}),Cme=ei([Tze,_ze,wze]),eD=class extends ur{static{s(this,"ValueDiffError")}constructor(e,r){super(r),this.value=e}};function tD(t,e){return{type:"update",path:t,value:e}}s(tD,"CreateUpdate");function Eme(t,e){return{type:"insert",path:t,value:e}}s(Eme,"CreateInsert");function Ime(t){return{type:"delete",path:t}}s(Ime,"CreateDelete");function yme(t){if(globalThis.Object.getOwnPropertySymbols(t).length>0)throw new eD(t,"Cannot diff objects with symbols")}s(yme,"AssertDiffable");function*Sze(t,e,r){if(yme(e),yme(r),!gW(r))return yield tD(t,r);let n=globalThis.Object.getOwnPropertyNames(e),o=globalThis.Object.getOwnPropertyNames(r);for(let a of o)cr(e,a)||(yield Eme(`${t}/${a}`,r[a]));for(let a of n)cr(r,a)&&(rE(e,r)||(yield*rD(`${t}/${a}`,e[a],r[a])));for(let a of n)cr(r,a)||(yield Ime(`${t}/${a}`))}s(Sze,"ObjectType");function*Bze(t,e,r){if(!lr(r))return yield tD(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*rD(`${t}/${n}`,e[n],r[n]);for(let n=0;n<r.length;n++)n<e.length||(yield Eme(`${t}/${n}`,r[n]));for(let n=e.length-1;n>=0;n--)n<r.length||(yield Ime(`${t}/${n}`))}s(Bze,"ArrayType");function*Rze(t,e,r){if(!Yl(r)||e.length!==r.length||globalThis.Object.getPrototypeOf(e).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield tD(t,r);for(let n=0;n<Math.min(e.length,r.length);n++)yield*rD(`${t}/${n}`,e[n],r[n])}s(Rze,"TypedArrayType");function*kze(t,e,r){e!==r&&(yield tD(t,r))}s(kze,"ValueType");function*rD(t,e,r){if(gW(e))return yield*Sze(t,e,r);if(lr(e))return yield*Bze(t,e,r);if(Yl(e))return yield*Rze(t,e,r);if(jc(e))return yield*kze(t,e,r);throw new eD(e,"Unable to diff value")}s(rD,"Visit");function xme(t,e){return[...rD("",t,e)]}s(xme,"Diff");function Dze(t){return t.length>0&&t[0].path===""&&t[0].type==="update"}s(Dze,"IsRootUpdate");function Nze(t){return t.length===0}s(Nze,"IsIdentity");function vme(t,e){if(Dze(e))return Wn(e[0].value);if(Nze(e))return Wn(t);let r=Wn(t);for(let n of e)switch(n.type){case"insert":{mf.Set(r,n.path,n.value);break}case"update":{mf.Set(r,n.path,n.value);break}case"delete":{mf.Delete(r,n.path);break}}return r}s(vme,"Patch");f();function bme(...t){let[e,r,n]=t.length===3?[t[0],t[1],t[2]]:[t[0],[],t[1]],o=PA(e,r)?gv(e,r,n):n;if(!cn(e,r,o))throw new mv(e,o,$d(e,r,o).First());return o}s(bme,"Encode");f();function nD(t){return tn(t)&&!lr(t)}s(nD,"IsStandardObject");var iD=class extends ur{static{s(this,"ValueMutateError")}constructor(e){super(e)}};function Qze(t,e,r,n){if(!nD(r))mf.Set(t,e,Wn(n));else{let o=Object.getOwnPropertyNames(r),a=Object.getOwnPropertyNames(n);for(let c of o)a.includes(c)||delete r[c];for(let c of a)o.includes(c)||(r[c]=null);for(let c of a)y$(t,`${e}/${c}`,r[c],n[c])}}s(Qze,"ObjectType");function Pze(t,e,r,n){if(!lr(r))mf.Set(t,e,Wn(n));else{for(let o=0;o<n.length;o++)y$(t,`${e}/${o}`,r[o],n[o]);r.splice(n.length)}}s(Pze,"ArrayType");function Fze(t,e,r,n){if(Yl(r)&&r.length===n.length)for(let o=0;o<r.length;o++)r[o]=n[o];else mf.Set(t,e,Wn(n))}s(Fze,"TypedArrayType");function Lze(t,e,r,n){r!==n&&mf.Set(t,e,n)}s(Lze,"ValueType");function y$(t,e,r,n){if(lr(n))return Pze(t,e,r,n);if(Yl(n))return Fze(t,e,r,n);if(nD(n))return Qze(t,e,r,n);if(jc(n))return Lze(t,e,r,n)}s(y$,"Visit");function Tme(t){return Yl(t)||jc(t)}s(Tme,"IsNonMutableValue");function Mze(t,e){return nD(t)&&lr(e)||lr(t)&&nD(e)}s(Mze,"IsMismatchedValue");function _me(t,e){if(Tme(t)||Tme(e))throw new iD("Only object and array types can be mutated at the root level");if(Mze(t,e))throw new iD("Cannot assign due type mismatch of assignable values");y$(t,"",t,e)}s(_me,"Mutate");f();var oD=class extends ur{static{s(this,"ParseError")}constructor(e){super(e)}},C$;(function(t){let e=new Map([["Assert",(a,c,l)=>($k(a,c,l),l)],["Cast",(a,c,l)=>Tw(a,c,l)],["Clean",(a,c,l)=>zk(a,c,l)],["Clone",(a,c,l)=>Wn(l)],["Convert",(a,c,l)=>Kk(a,c,l)],["Decode",(a,c,l)=>PA(a,c)?pv(a,c,l):l],["Default",(a,c,l)=>Jk(a,c,l)],["Encode",(a,c,l)=>PA(a,c)?gv(a,c,l):l]]);function r(a){e.delete(a)}s(r,"Delete"),t.Delete=r;function n(a,c){e.set(a,c)}s(n,"Set"),t.Set=n;function o(a){return e.get(a)}s(o,"Get"),t.Get=o})(C$||(C$={}));var wme=["Clone","Clean","Default","Convert","Assert","Decode"];function Oze(t,e,r,n){return t.reduce((o,a)=>{let c=C$.Get(a);if(Xi(c))throw new oD(`Unable to find Parse operation '${a}'`);return c(e,r,o)},n)}s(Oze,"ParseValue");function Sme(...t){let[e,r,n,o]=t.length===4?[t[0],t[1],t[2],t[3]]:t.length===3?lr(t[0])?[t[0],t[1],[],t[2]]:[wme,t[0],t[1],t[2]]:t.length===2?[wme,t[0],[],t[1]]:(()=>{throw new oD("Invalid Arguments")})();return Oze(e,r,n,o)}s(Sme,"Parse");f();var qg={};Io(qg,{Assert:()=>$k,Cast:()=>Tw,Check:()=>cn,Clean:()=>zk,Clone:()=>Wn,Convert:()=>Kk,Create:()=>tu,Decode:()=>mme,Default:()=>Jk,Diff:()=>xme,Edit:()=>Cme,Encode:()=>bme,Equal:()=>rE,Errors:()=>$d,Hash:()=>Ug,Mutate:()=>_me,Parse:()=>Sme,Patch:()=>vme,ValueErrorIterator:()=>Hg});f();var Uze="gpt-4o-copilot",nE=class t{constructor(e,r=!0){this._ctx=e;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ga(this._ctx,n=>this.refreshAvailableModels(n))}static{s(this,"AvailableModelsManager")}async refreshAvailableModels(e){await this.refreshModels(e);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(e){this.onModelsFetchedCallbacks.push(e)}getDefaultModelId(){if(this.fetchedModelData){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(e)return e.id}return Uze}parseModelsResponse(e){try{return qg.Parse(Hpe,e)}catch(r){Qo.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(e){let r=await this.fetchModels(e);r&&(this.fetchedModelData=r)}async fetchModels(e){return this.customModels=e.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=e.getTokenValue("editor_preview_features")=="0",await this.fetch(e)}async fetch(e){let r=await fW(this._ctx,"/models",e);return r.ok?this.parseModelsResponse(await r.json())?.data??[]:(Qo.error(this._ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),null)}getGenericCompletionModels(){let e=t.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return t.mapCompletionModels(e)}getTokenizerForModel(e){let n=this.getGenericCompletionModels().find(o=>o.modelId===e);return n?n.tokenizer:"o200k_base"}static filterCompletionModels(e,r){return e.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(e,r){return e.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(e){return e.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview,tokenizer:r.capabilities.tokenizer}))}getCurrentModelRequestInfo(e=void 0){let r=this.getDefaultModelId(),n=qpe(this._ctx);if(n){let l=this.getGenericCompletionModels().map(u=>u.modelId);l.includes(n)||(l.length>0&&Qo.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let o=es(this._ctx,Ft.DebugOverrideEngine)||es(this._ctx,Ft.DebugOverrideEngineLegacy);if(o)return new Gg(o,"override");let a=e?this._ctx.get(Sr).customEngine(e):"",c=e?this._ctx.get(Sr).customEngineTargetEngine(e):void 0;return n?a&&c&&n===c?new Gg(a,"exp"):new Gg(n,"modelpicker"):a?new Gg(a,"exp"):this.customModels.length>0?new Gg(this.customModels[0],"custommodel"):new Gg(r,"default")}},Gg=class{constructor(e,r){this.modelId=e;this.modelChoiceSource=r}static{s(this,"ModelRequestInfo")}get headers(){return{}}};function Rw(t,e=void 0){let r=t.get(nE),n=r.getCurrentModelRequestInfo(e),o=r.getTokenizerForModel(n.modelId);return{headers:n.headers,modelId:n.modelId,engineChoiceSource:n.modelChoiceSource,tokenizer:o}}s(Rw,"getEngineRequestInfo");f();f();var ia=class{static{s(this,"FileSystem")}};var $me=Et(Wme());function Yme(t){if(t===void 0||t===0)return"";let e=kw(t);if(e==="github/github")return e;let r=dje(t)?.toLowerCase();return r!==void 0?r:""}s(Yme,"getDogFood");function kw(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}s(kw,"tryGetGitHubNWO");function dje(t){if(t!==void 0&&t!==0&&(t.hostname.endsWith("azure.com")||t.hostname.endsWith("visualstudio.com")))return t.owner+"/"+t.repo}s(dje,"tryGetADONWO");function v$(t,e){let r=Jh(e);return hje(t,r)}s(v$,"extractRepoInfoInBackground");var hje=yje(Aje,1e4);async function Aje(t,e){let r=Fre(e);if(!r)return;let n=await mje(t,r);if(!n)return;let o=t.get(ia),a=zs(n,".git","config"),c;try{c=await o.readFileString(a)}catch{return}let l=gje(c)??"",u=pje(l),d={uri:n};return u===void 0?{baseFolder:d,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:d,url:l,...u}}s(Aje,"extractRepoInfo");function pje(t){let e;try{if(e=(0,$me.default)(t),e.resource==""||e.owner==""||e.name==""||e.pathname=="")return}catch{return}return{hostname:e.resource,owner:e.owner,repo:e.name,pathname:e.pathname}}s(pje,"parseRepoUrl");async function mje(t,e){let r=e+"_add_to_make_longer",n=t.get(ia);for(;e!=="file:///"&&e.length<r.length;){let o=zs(e,".git","config"),a=!1;try{await n.stat(o),a=!0}catch{a=!1}if(a)return e;r=e,e=Jh(e)}}s(mje,"getRepoBaseUri");function gje(t){let e=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,o=/^\s*\[/,a,c,l=!1;for(let u of t.split(`
`))if(l&&a!==void 0){if(a+=u,u.endsWith("\\"))a=a.substring(0,a.length-1);else if(l=!1,c==="origin")return a}else{let d=u.match(e)??u.match(r);if(d)c=d[1];else if(u.match(o))c=void 0;else{if(a&&c!=="origin")continue;{let h=u.match(n);if(h){if(a=h[1],a.endsWith("\\"))a=a.substring(0,a.length-1),l=!0;else if(c==="origin")return a}}}}return a}s(gje,"getRepoUrlFromConfigText");var x$=class{static{s(this,"CompletedComputation")}constructor(e){this.result=e}};function yje(t,e){let r=new jr(e),n=new Set;return(o,...a)=>{let c=JSON.stringify(a),l=r.get(c);if(l)return l.result;if(n.has(c))return 0;let u=t(o,...a);return n.add(c),u.then(d=>{r.set(c,new x$(d)),n.delete(c)}),0}}s(yje,"computeInBackgroundAndMemoize");f();var Dw=500,zme=8192-Dw,jme=4,sD=10,Kme=1e3*5,aD={prefix:35,suffix:15,stableContext:35,volatileContext:15},Cje={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function Nw(t){return t=t.toLowerCase(),Cje[t]??t}s(Nw,"normalizeLanguageId");var b$=class{constructor(e){this.ctx=e;this.cache=new jr(200)}static{s(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(e,r){let n=e.stringify()+`
`+JSON.stringify(r),o=this.cache.get(n);return o||(o=new T$(()=>this.ctx.get($y).fetchExperiments(this.ctx,r,e.toHeaders()),1e3*60*60),this.cache.set(n,o)),o.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},T$=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}static{s(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Ije(t){return"uri"in t}s(Ije,"isCompletionsFiltersInfo");var Sr=class t{constructor(e){this.ctx=e;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new b$(this.ctx)}static{s(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}registerDynamicFilterGroup(e){this.dynamicFilterGroups.push(e)}getDynamicFilterValues(){let e={};for(let r of this.dynamicFilterGroups)Object.assign(e,r());for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}registerUpcomingDynamicFilter(e,r){this.upcomingDynamicFilters[e]=r}async updateExPValuesAndAssignments(e,r,n=on.createAndMarkAsIssued()){if(n instanceof Qw)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let o=r&&Ije(r)?v$(this.ctx,r.uri):void 0,a=kw(o)??"",c=Yme(o)??"",l=r?.languageId??"",u=Rw(this.ctx).modelId,d=gte(e),h=e.getTokenValue("ft")??"",A=e.getTokenValue("ol")??"",p=e.getTokenValue("cml")??"",g=e.getTokenValue("tid")??"",E=e.endpoints,v={"X-Copilot-Repository":a,"X-Copilot-FileType":l,"X-Copilot-UserKind":d,"X-Copilot-Dogfood":c,"X-Copilot-Engine":u,"X-Copilot-CustomModel":h,"X-Copilot-Orgs":A,"X-Copilot-CustomModelNames":p,"X-Copilot-CopilotTrackingId":g},w=this.getGranularityDirectory(),_=this.makeFilterSettings(v),S=w.extendFilters(_),D=await this.getExpConfig(S.newFilterSettings,E);w.update(_,+(D.variables.copilotbycallbuckets??NaN),+(D.variables.copilottimeperiodsizeinh??NaN));let N=w.extendFilters(_),P=N.newFilterSettings,O=await this.getExpConfig(P,E),Y=new Promise(ne=>setTimeout(ne,t.upcomingDynamicFilterCheckDelayMs));for(let ne of N.otherFilterSettingsToPrefetch)Y=Y.then(async()=>{await new Promise(oe=>setTimeout(oe,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(ne,E)});return this.prepareForUpcomingFilters(P,E),new Qw(n.properties,n.measurements,n.issuedTime,{filters:P,exp:O})}async fetchTokenAndUpdateExPValuesAndAssignments(e,r){let n=await this.ctx.get(Ei).getToken();return await this.updateExPValuesAndAssignments(n,e,r)}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.ctx.get(Ys).machineId;this.granularityDirectory=new bR(e,this.ctx.get(Wy))}return this.granularityDirectory}makeFilterSettings(e){return new Yy({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e,r){try{return this.assignments.fetchExpConfig(e,r)}catch(n){return Yu.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(n)}`)}}async prepareForUpcomingFilters(e,r){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[n,o]of Object.entries(this.upcomingDynamicFilters))await new Promise(a=>setTimeout(a,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(n,o()),r)}stringify(){let e=this.assignments.getCachedExpConfig(new Yy({}));return JSON.stringify(e?.variables??{})}async getFallbackExpAndFilters(){let e=this.makeFilterSettings({}),r=B6(this.ctx),n=await this.getExpConfig(e,r);return{filters:e,exp:n}}disableLogProb(e){return e.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(e){return e.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(e){return e.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(e){return e.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(e){return e.filtersAndExp.exp.variables.CopilotSuffixPercent??aD.suffix}suffixMatchThreshold(e){return e.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??sD}cppHeadersEnableSwitch(e){return e.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(e){return e.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}contextProviders(e){let r=e.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}contextProviderTimeBudget(e){return e.filtersAndExp.exp.variables.copilotcontextprovidertimebudget??150}includeNeighboringFiles(e){return e.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}excludeRelatedFiles(e){return e.filtersAndExp.exp.variables.copilotexcluderelatedfiles??!1}maxPromptCompletionTokens(e){return e.filtersAndExp.exp.variables.maxpromptcompletionTokens??zme+Dw}ideChatMaxRequestTokens(e){return e.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(e){return e.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(e){return e.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}workspaceContextCoordinator(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcoordinator??!1}workspaceContextCacheTime(e){return e.filtersAndExp.exp.variables.copilotworkspacecontextcachetime??Kme}stableContextPercent(e){return e.filtersAndExp.exp.variables.copilotstablecontextpercent??aD.stableContext}volatileContextPercent(e){return e.filtersAndExp.exp.variables.copilotvolatilecontextpercent??aD.volatileContext}cppContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotjavacontextproviderparams}multiLanguageContextProviderParams(e){return e.filtersAndExp.exp.variables.copilotmultilanguagecontextproviderparams}tsContextProviderParams(e){return e.filtersAndExp.exp.variables.copilottscontextproviderparams}completionsDebounce(e){return e.filtersAndExp.exp.variables.copilotcompletionsdebounce}enableElectronFetcher(e){return e.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(e){return e.filtersAndExp.exp.variables.copilotasynccompletionstimeout??200}enablePromptContextProxyField(e){return e.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(e){return e.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(e){return e.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!0}longLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??9}shortLookaheadSize(e){return e.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}maxMultilineTokens(e){return e.filtersAndExp.exp.variables.copilotmaxmultilinetokens??200}multilineAfterAcceptLines(e){return e.filtersAndExp.exp.variables.copilotmultilineafteracceptlines??1}enableNESXTab(e){return e.filtersAndExp.exp.variables.copilotnesxtab??!1}getNESXTabModelID(e){return e.filtersAndExp.exp.variables.copilotnesxtabmodelid??"copilot-nes-xtab"}completionsDelay(e){return e.filtersAndExp.exp.variables.copilotcompletionsdelay??200}singleLineUnlessAccepted(e){return e.filtersAndExp.exp.variables.copilotsinglelineunlessaccepted??!1}};f();f();f();var cD=Et(Jme());var w$={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c-sharp",java:"java",php:"php",c:"cpp",cpp:"cpp"};function Pw(t){return t in w$&&t!=="csharp"&&t!=="java"&&t!=="php"&&t!=="c"&&t!=="cpp"}s(Pw,"isSupportedLanguageId");function Xme(t){if(!(t in w$))throw new Error(`Unrecognized language: ${t}`);return w$[t]}s(Xme,"languageIdToWasmLanguage");var _$=new Map;async function xje(t){let e;try{e=await Mk(`tree-sitter-${t}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new uv(`Could not load tree-sitter-${t}.wasm`,r):r}return cD.default.Language.load(e)}s(xje,"loadWasmLanguage");function vje(t){let e=Xme(t);if(!_$.has(e)){let r=xje(e);_$.set(e,r)}return _$.get(e)}s(vje,"getLanguage");var S$=class extends Error{static{s(this,"WrappedError")}constructor(e,r){super(e,{cause:r})}};async function yv(t,e){return(await B$(t,e))[0]}s(yv,"parseTreeSitter");async function B$(t,e){await cD.default.init({locateFile:s(a=>jW(a),"locateFile")});let r;try{r=new cD.default}catch(a){throw a&&typeof a=="object"&&"message"in a&&typeof a.message=="string"&&a.message.includes("table index is out of bounds")?new S$(`Could not init Parse for language <${t}>`,a):a}let n=await vje(t);r.setLanguage(n);let o=r.parse(e);return r.delete(),[o,n.version]}s(B$,"parseTreeSitterIncludingVersion");function bje(t,e){let r=[];for(let n of t){if(!n[1]){let o=e.tree.getLanguage();n[1]=o.query(n[0])}r.push(...n[1].matches(e))}return r}s(bje,"innerQuery");var Tje=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Zme(t){return bje([Tje],t).length==1}s(Zme,"queryPythonIsDocstring");var Yd=class{constructor(e){this.node=e;this.children=[];this.collapsed=!1}static{s(this,"StatementNode")}addChild(e){e.parent=this,e.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=e),this.children.push(e)}childrenFinished(){}containsStatement(e){return this.node.startIndex<=e.node.startIndex&&this.node.endIndex>=e.node.endIndex}statementAt(e){if(this.node.startIndex>e||this.node.endIndex<e)return;let r;return this.children.find(n=>(r=n.statementAt(e),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(e="",r=""){let n=[`${e}${this.description}`];return this.children.forEach(o=>{n.push(o.dump(`${r}+- `,o.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(e="",r="",n=!1){if(this.parent){let o=this.parent.dumpPath(e,r,!0),a=o.length-o.lastIndexOf(`
`)-1-r.length,c=" ".repeat(a),l=n?`
${r}${c}+- `:"";return o+this.description+l}else{let o=n?`
${r}+- `:"";return e+this.description+o}}},Ra=class{constructor(e,r,n,o){this.languageId=e;this.text=r;this.startOffset=n;this.endOffset=o;this.statements=[]}static{s(this,"StatementTree")}static isSupported(e){return Cv.languageIds.has(e)||Ev.languageIds.has(e)||Fw.languageIds.has(e)||Iv.languageIds.has(e)||Lw.languageIds.has(e)||Mw.languageIds.has(e)||Ow.languageIds.has(e)||Uw.languageIds.has(e)||Hw.languageIds.has(e)}static isTrimmedByDefault(e){return Cv.languageIds.has(e)||Ev.languageIds.has(e)||Iv.languageIds.has(e)}static create(e,r,n,o){if(Cv.languageIds.has(e))return new Cv(e,r,n,o);if(Ev.languageIds.has(e))return new Ev(e,r,n,o);if(Fw.languageIds.has(e))return new Fw(e,r,n,o);if(Iv.languageIds.has(e))return new Iv(e,r,n,o);if(Ow.languageIds.has(e))return new Ow(e,r,n,o);if(Lw.languageIds.has(e))return new Lw(e,r,n,o);if(Mw.languageIds.has(e))return new Mw(e,r,n,o);if(Uw.languageIds.has(e))return new Uw(e,r,n,o);if(Hw.languageIds.has(e))return new Hw(e,r,n,o);throw new Error(`Unsupported languageId: ${e}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(e){let r;return this.statements.find(n=>(r=n.statementAt(e),r!==void 0)),r}async build(){let e=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,{startPosition:this.offsetToPosition(this.startOffset),endPosition:this.offsetToPosition(this.endOffset)}).forEach(o=>{let a=this.createNode(o.node);for(;e.length>0&&!e[0].containsStatement(a);)e.shift()?.childrenFinished();e.length>0?e[0].addChild(a):this.addStatement(a),e.unshift(a)}),e.forEach(o=>o.childrenFinished())}addStatement(e){e.parent=void 0,e.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=e),this.statements.push(e)}async parse(){return this.tree||(this.tree=await yv(this.languageId,this.text)),this.tree}getStatementQuery(e){return this.getQuery(e.getLanguage(),this.getStatementQueryText())}getQuery(e,r){return e.query(r)}offsetToPosition(e){let r=this.text.slice(0,e).split(`
`),n=r.length-1,o=r[r.length-1].length;return{row:n,column:o}}dump(e=""){let r=[];return this.statements.forEach((n,o)=>{let a=`[${o}]`,c=" ".repeat(a.length);r.push(n.dump(`${e} ${a} `,`${e} ${c} `))}),r.join(`
`)}},lD=class t extends Yd{static{s(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("alternative")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},Cv=class extends Ra{static{s(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx"])}createNode(e){return new lD(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (field_definition)
        ] @statement`}},Ev=class extends Ra{static{s(this,"TSStatementTree")}static{this.languageIds=new Set(["typescript","typescriptreact"])}createNode(e){return new lD(e)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},R$=class t extends Yd{static{s(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},Fw=class extends Ra{static{s(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(e){return new R$(e)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},k$=class t extends Yd{static{s(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Iv=class extends Ra{static{s(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(e){return new k$(e)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},D$=class t extends Yd{static{s(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Lw=class extends Ra{static{s(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(e){return new D$(e)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},N$=class t extends Yd{static{s(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}},Mw=class extends Ra{static{s(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(e){return new N$(e)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},Q$=class t extends Yd{static{s(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},Ow=class extends Ra{static{s(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(e){return new Q$(e)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},P$=class t extends Yd{static{s(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},Uw=class extends Ra{static{s(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(e){return new P$(e)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}},F$=class t extends Yd{static{s(this,"CStatementNode")}static{this.compoundTypeNames=new Set(["declaration","function_definition","enum_specifier","field_declaration_list","type_definition","compound_statement","if_statement","switch_statement","while_statement","for_statement","do_statement","preproc_if","preproc_ifdef","namespace_definition","class_specifier","field_declaration_list","concept_definition","template_declaration"])}get isCompoundStatementType(){return!this.collapsed&&t.compoundTypeNames.has(this.node.type)}childrenFinished(){(this.isSingleLineDeclarationStatement()||this.isSingleLineConceptDefinition())&&this.collapse()}isSingleLineDeclarationStatement(){return!(this.node.type!=="declaration"||this.node.startPosition.row!==this.node.endPosition.row)}isSingleLineConceptDefinition(){return!(this.node.type!=="concept_definition"||this.node.startPosition.row!==this.node.endPosition.row)}},Hw=class extends Ra{static{s(this,"CStatementTree")}static{this.languageIds=new Set(["c","cpp"])}createNode(e){return new F$(e)}getStatementQueryText(){return`[
            (declaration)
            (function_definition)
            (type_definition)
            (field_declaration)
            (enum_specifier)
            (return_statement)
            (compound_statement)
            (if_statement)
            (expression_statement)
            (switch_statement)
            (break_statement)
            (case_statement)
            (while_statement)
            (for_statement)
            (do_statement)
            (goto_statement)
            (labeled_statement)
            (preproc_if)
            (preproc_def)
            (preproc_ifdef)
            (preproc_include)
            (preproc_call)
            (preproc_function_def)
            (continue_statement)

            ;C++ specific:
            (namespace_definition)
            (class_specifier)
            (field_declaration_list)
            (field_declaration)
            (concept_definition)
            (compound_requirement)
            (template_declaration)
            (using_declaration)
            (alias_declaration)
            (static_assert_declaration)
        ] @statement`}};var qw=class{constructor(e,r,n){this.languageId=e;this.prefix=r;this.completion=n}static{s(this,"BlockTrimmer")}static isSupported(e){return Ra.isSupported(e)}static isTrimmedByDefault(e){return Ra.isTrimmedByDefault(e)}async withParsedStatementTree(e){var n=[];try{let r=Ate(n,Ra.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await e(r)}catch(o){var a=o,c=!0}finally{pte(n,a,c)}}trimmedCompletion(e){return e===void 0?this.completion:this.completion.substring(0,e)}getStatementAtCursor(e){return e.statementAt(Math.max(this.prefix.length-1,0))??e.statements[0]}getContainingBlockOffset(e){let r;if(e&&this.isCompoundStatement(e))r=e;else if(e){let n=e.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(e){if(!e||!e.nextSibling)return!1;let r=this.asCompletionOffset(e.node.endIndex),n=this.asCompletionOffset(e.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(e){return e===void 0?void 0:e-this.prefix.length}isCompoundStatement(e){return e.isCompoundStatementType||e.children.length>0}};f();var _Ir=ee.Object({proxy:ee.Optional(ee.String()),proxyStrictSSL:ee.Optional(ee.Boolean()),proxyAuthorization:ee.Optional(ee.String()),proxyKerberosServicePrincipal:ee.Optional(ee.String())});var xv={};Io(xv,{activationEvents:()=>Wje,badges:()=>Vje,browser:()=>$je,bugs:()=>Fje,build:()=>Rje,buildType:()=>kje,categories:()=>qje,contributes:()=>L$,default:()=>Zje,dependencies:()=>Jje,description:()=>Sje,devDependencies:()=>Kje,displayName:()=>wje,enabledApiProposals:()=>zje,engines:()=>Hje,extensionPack:()=>Uje,homepage:()=>Qje,icon:()=>Mje,keywords:()=>Gje,license:()=>Pje,main:()=>Yje,name:()=>_je,overrides:()=>Xje,preview:()=>Nje,pricing:()=>Oje,publisher:()=>Dje,qna:()=>Lje,scripts:()=>jje,version:()=>Bje});var _je="copilot",wje="GitHub Copilot",Sje="Your AI pair programmer",Bje="1.368.0",Rje="1779",kje="prod",Dje="GitHub",Nje=!1,Qje="https://github.com/features/copilot?editor=vscode",Pje="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Fje={url:"https://github.com/microsoft/vscode/issues"},Lje="https://github.com/github-community/community/discussions/categories/copilot",Mje="assets/Copilot-App-Icon.png",Oje="Trial",Uje=["GitHub.copilot-chat","GitHub.copilot"],Hje={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},qje=["AI","Chat","Programming Languages","Machine Learning"],Gje=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Vje=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],Wje=["onStartupFinished"],$je="./dist/web",Yje="./dist/extension",zje=["inlineCompletionsAdditions"],L$={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.generateComparison",title:"Open Comparison Panel",enablement:"github.copilot.activated && !isWeb && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.acceptCursorComparisonPanelSolution",title:"Accept Comparison Panel Suggestion at the Cursor",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.previousComparisonPanelSolution",title:"Navigate to the Previous Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.nextComparisonPanelSolution",title:"Navigate to the Next Comparison Panel Suggestion",enablement:"github.copilot.comparisonPanelVisible && github.copilot.comparisonPanelEnabled",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github-copilot-completions-debugger-view.refresh",title:"Refresh",icon:"$(refresh)"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.acceptCursorComparisonPanelSolution",key:"ctrl+shift+/",mac:"ctrl+shift+/",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.previousComparisonPanelSolution",key:"alt+shift+[",mac:"alt+shift+[",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"github.copilot.nextComparisonPanelSolution",key:"alt+shift+]",mac:"alt+shift+]",when:"activeWebviewPanelId == 'GitHub Copilot Comparison' && github.copilot.comparisonPanelEnabled"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completions Model"__ command or open the model picker (from the Copilot menu in the VS Code title bar, select __"Configure Code Completions"__ then __"Change Completions Model"__. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable auto triggering of Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). You can still trigger suggestions manually using `Alt + \\`"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],viewsContainers:{activitybar:[{id:"github-copilot-completions-debugger-panel",title:"Debugger",icon:"$(bug)",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator"}]},views:{"github-copilot-completions-debugger-panel":[{id:"github-copilot-completions-debugger-view",name:"Debugger",when:"config.github.copilot.internal.showWorkspaceContextDebugger && config.github.copilot.internal.useWorkspaceContextCoordinator",icon:"$(bug)"}]},menus:{"view/title":[{command:"github-copilot-completions-debugger-view.refresh",when:"view == github-copilot-completions-debugger-view",group:"navigation"}]}},jje={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/deviceFlow.ts --save-as-test-token",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"test:prepare-msbench":"tsx script/setupMsbench.ts","test:run-msbench":"tsx lsp-client/test/msbench/agent/index.ts","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},Kje={"@azure/identity":"^4.11.0","@azure/keyvault-secrets":"^4.10.0","@datadog/datadog-ci":"^3.17.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^8.0.0","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.16.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.6.0","@yao-pkg/pkg":"^6.6.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^17.0.1",electron:"^28.1.4",esbuild:"^0.25.8","esbuild-plugin-copy":"^2.1.1",eslint:"^9.32.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",glob:"^11.0.3",globals:"^16.3.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.2.0",proxy:"^2.1.1","simple-git":"^3.28.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.9.2","typescript-eslint":"^8.39.1","vscode-dts":"^0.3.3","@vscode/tree-sitter-wasm":"0.0.5-php.2"},Jje={"@adobe/helix-fetch":"github:devm33/helix-fetch#2a08fa939591a0e14f34f611adcc3ed767579e9a","@anthropic-ai/sdk":"^0.56.0","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.9","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.17.0","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.39","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^8.0.2",dldr:"^0.0.10",events:"^3.3.0","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.3",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.2.0","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.23.0","windows-ca-certs":"^0.2.2",yargs:"^17.7.2"},Xje={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Zje={name:_je,displayName:wje,description:Sje,version:Bje,build:Rje,buildType:kje,publisher:Dje,preview:Nje,homepage:Qje,license:Pje,bugs:Fje,qna:Lje,icon:Mje,pricing:Oje,extensionPack:Uje,engines:Hje,categories:qje,keywords:Gje,badges:Vje,activationEvents:Wje,browser:$je,main:Yje,enabledApiProposals:zje,contributes:L$,scripts:jje,devDependencies:Kje,dependencies:Jje,overrides:Xje};var Ft={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",ToolConfirmAutoApprove:"agent.toolConfirmAutoApprove",MaxToolCallingLoop:"agent.maxToolCallingLoop",CompletionsDelay:"completionsDelay",CompletionsDebounce:"completionsDebounce",IsSamplingEnabled:"agent.isSamplingEnabled",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",UseWorkspaceContextCoordinator:"internal.useWorkspaceContextCoordinator",ShowWorkspaceContextDebugger:"internal.showWorkspaceContextDebugger",IncludeNeighboringFiles:"internal.includeNeighboringFiles",ExcludeRelatedFiles:"internal.excludeRelatedFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",NESXTab:"internal.useXTab",UseSplitContextPrompt:"internal.useSplitContextPrompt",UseCompletionsComparisonPanel:"internal.useCompletionsComparisonPanel",ComparisonPanelModelIds:"internal.comparisonPanelModelIds",ComparisonPanelRandomizedMode:"internal.comparisonPanelRandomizedMode"};var bv=class{static{s(this,"BlockModeConfig")}},uD=class extends bv{static{s(this,"ConfigBlockModeConfig")}forLanguage(e,r,n){let o=e.get(Sr).overrideBlockMode(n);if(o)return M$(o,r);let a=e.get(Sr).enableProgressiveReveal(n);return(es(e,Ft.AlwaysRequestMultiline)??a)||qw.isTrimmedByDefault(r)?M$("moremultiline",r):r=="ruby"?"parsing":Pw(r)?"parsingandserver":"server"}};function eKe(t){return["parsing","parsingandserver","moremultiline"].includes(t)}s(eKe,"blockModeRequiresTreeSitter");function M$(t,e){return t==="moremultiline"&&Ra.isSupported(e)?t:eKe(t)&&!Pw(e)?"server":t}s(M$,"toApplicableBlockMode");var W0=class{static{s(this,"ConfigProvider")}requireReady(){return Promise.resolve()}},fD=class extends W0{constructor(){super(...arguments);this.onDidChangeCopilotSettings=s(()=>({dispose:s(()=>{},"dispose")}),"onDidChangeCopilotSettings");this.onDidChangeHttpSettings=this.onDidChangeCopilotSettings}static{s(this,"DefaultsOnlyConfigProvider")}getConfig(r){return rKe(r)}getOptionalConfig(r){return nKe(r)}dumpForTelemetry(){return{}}getHttpSettings(){return{proxy:""}}};function tKe(t){return t?.type==="object"&&"properties"in t}s(tKe,"isContributesObject");function rKe(t){if(vv.has(t))return vv.get(t);throw new Error(`Missing config default value: ${WT}.${t}`)}s(rKe,"getConfigDefaultForKey");function nKe(t){return vv.get(t)}s(nKe,"getOptionalConfigDefaultForKey");var vv=new Map([[Ft.DebugOverrideCppHeadersEnableSwitch,!1],[Ft.RelatedFilesVSCodeCSharp,!1],[Ft.RelatedFilesVSCodeTypeScript,!1],[Ft.RelatedFilesVSCode,!1],[Ft.IncludeNeighboringFiles,!1],[Ft.ExcludeRelatedFiles,!1],[Ft.ContextProviders,[]],[Ft.DebugUseEditorFetcher,null],[Ft.DebugUseElectronFetcher,null],[Ft.DebugOverrideLogLevels,{}],[Ft.DebugSnippyOverrideUrl,""],[Ft.FetchStrategy,"auto"],[Ft.ToolConfirmAutoApprove,!1],[Ft.MaxToolCallingLoop,25],[Ft.UseSubsetMatching,null],[Ft.ContextProviderTimeBudget,void 0],[Ft.DebugOverrideCapiUrl,""],[Ft.DebugTestOverrideCapiUrl,""],[Ft.DebugOverrideProxyUrl,""],[Ft.DebugTestOverrideProxyUrl,""],[Ft.DebugOverrideEngine,""],[Ft.AlwaysRequestMultiline,void 0],[Ft.ModelAlwaysTerminatesSingleline,void 0],[Ft.TrimCompletionsAggressively,void 0],[Ft.CompletionsDebounce,void 0],[Ft.NESXTab,void 0],[Ft.UseWorkspaceContextCoordinator,void 0],[Ft.ShowWorkspaceContextDebugger,!1],[Ft.CompletionsDelay,void 0],[Ft.UseSplitContextPrompt,void 0],[Ft.UseCompletionsComparisonPanel,!1],[Ft.ComparisonPanelModelIds,["gpt-4o-copilot","chat-v6"]],[Ft.ComparisonPanelRandomizedMode,!1],[Ft.IsSamplingEnabled,!1],[Ft.ShowEditorCompletions,void 0],[Ft.EnableAutoCompletions,void 0],[Ft.DelayCompletions,void 0],[Ft.FilterCompletions,void 0]]);for(let t of Object.values(Ft)){let e=L$.configuration[0],r=[],n=`${WT}.${t}`.split(".");for(;n.length>0;){r.push(n.shift());let o=e.properties[r.join(".")];if(tKe(o))r.length=0,e=o;else if(n.length==0&&o?.default!==void 0){if(vv.has(t))throw new Error(`Duplicate config default value ${WT}.${t}`);vv.set(t,o.default)}}if(!vv.has(t))throw new Error(`Missing config default value ${WT}.${t}`)}function es(t,e){return t.get(W0).getConfig(e)}s(es,"getConfig");function ege(t){return t.get(W0).dumpForTelemetry()}s(ege,"dumpForTelemetry");var Ks=class{constructor(){this.packageJson=xv}static{s(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function CO(t){return t.get(Ks).isProduction()}s(CO,"isProduction");function Sse(t){return t.get(Ks).getBuildType()==="dev"}s(Sse,"isDevBuild");function IO(t){return t.get(Ks).getBuildType()}s(IO,"getBuildType");function tge(t){return t.get(Ks).getBuild()}s(tge,"getBuild");function O$(t){return t.get(Ks).getVersion()}s(O$,"getVersion");var Ys=class{constructor(e,r,n="none",o="desktop"){this.sessionId=e;this.machineId=r;this.remoteName=n;this.uiKind=o}static{s(this,"EditorSession")}};function zd({name:t,version:e}){return`${t}/${e}`}s(zd,"formatNameAndVersion");var js=class{static{s(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}getEditorPluginSpecificFilters(){return[]}},O8="2025-05-01";function Py(t){let e=t.get(js);return{"Editor-Version":zd(e.getEditorInfo()),"Editor-Plugin-Version":zd(e.getEditorPluginInfo()),"Copilot-Language-Server-Version":O$(t)}}s(Py,"editorVersionHeaders");var Ure="Iv1.b507a08c87ecfe98";var b2=class{static{s(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??Ure}};f();var dD=Et(KT()),hD=Et(require("os"));var iKe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function oKe(t){let e={type:t.name,value:t.message},r=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(t.toString()+`
`)){e.stacktrace=[];for(let n of r.slice(t.toString().length+1).split(/\n/).reverse()){let o=n.match(iKe),a={filename:"",function:""};o&&(a.function=o[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??a.function,a.filename=(o[4]?.trim()??a.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),o[5]&&o[5]!==":0"&&(a.lineno=o[5].slice(1)),o[6]&&o[5]!==":0"&&(a.colno=o[6].slice(1)),a.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(a.filename)),e.stacktrace.push(a)}}return e}s(oKe,"buildExceptionDetail");function sKe(t,e){let r=t.get(js),n=r.getEditorInfo(),o=t.get(V0),a={"#editor":n.devName??n.name,"#editor_version":zd({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":zd(r.getEditorPluginInfo()),"#session_id":t.get(Ys).sessionId,"#machine_id":t.get(Ys).machineId,"#architecture":hD.arch(),"#os_platform":hD.platform(),...e};return o.trackingId&&(a.user=o.trackingId,a["#tracking_id"]=o.trackingId),a}s(sKe,"buildContext");function rge(t,e){let r=t.get(Ks),n=t.get(js).getEditorInfo(),o=typeof process<"u"?process.versions.node:"web",a={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:sKe(t,{"#node_version":o}),sensitive_context:{}},c=[];a.exception_detail=[];let l=0,u=e;for(;u instanceof Error&&l<10;){let h=oKe(u);a.exception_detail.unshift(h),c.unshift([u,h]),l+=1,u=u.cause}let d=[];for(let[h,A]of c)if(A.stacktrace&&A.stacktrace.length>0){d.push(`${A.type}: ${h.code??""}`);let p=[...A.stacktrace].reverse();for(let g of p)if(g.filename?.startsWith("/github-copilot/"))return a;for(let g of p)if(g.in_app){d.push(`${g.filename?.replace(/^\.\//,"")}:${g.lineno}:${g.colno}`);break}d.push(`${p[0].filename?.replace(/^\.\//,"")}`)}else return a;return a.exception_detail.length>0&&(a.rollup_id=(0,dD.SHA256)(dD.enc.Utf16.parse(d.join(`
`))).toString()),a}s(rge,"buildPayload");f();var Gw=class{static{s(this,"FailingTelemetryReporter")}sendTelemetryEvent(e,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(e,r,n,o){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};f();var iE=class{constructor(e=5){this.perTenMinutes=e;this.cache=new jr}static{s(this,"ExceptionRateLimiter")}isThrottled(e){let r=Date.now(),n=this.cache.get(e)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(e,n),!1)}};f();var t0=class{constructor(){this.promises=new Set}static{s(this,"PromiseQueue")}register(e){this.promises.add(e),e.finally(()=>this.promises.delete(e))}async flush(){await Promise.allSettled(this.promises)}};f();var oge=require("os"),sge=Et(require("path"));function Vw(t){return t.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(Vw,"redactPaths");var cKe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),lKe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function H$(t){if(cKe.has(t))return t;for(let e of lKe)if(e.test(t))return t;return Vw(t).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(H$,"redactMessage");function AD(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(AD,"escapeForRegExp");var uKe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+AD((0,oge.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function U$(t){return t.replace(uKe,"~")}s(U$,"redactHomeDir");var age="[\\\\/]?([^:)]*)(?=:\\d)",nge=new RegExp(AD(sge.sep),"g"),ige=new RegExp(AD(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+age,"gi");function q$(t,e,r=!1,n=[]){let o=new Error(e(t));o.name=t.name,typeof t.syscall=="string"&&(o.syscall=t.syscall),typeof t.code=="string"&&(o.code=t.code),typeof t.errno=="number"&&(o.errno=t.errno),o.stack=void 0;let a=t.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),c;for(let l of[t.toString(),`${t.name}: ${t.message}`])if(a?.startsWith(l+`
`)){c=a.slice(l.length+1).split(/\n/);break}if(c){o.stack=o.toString();for(let l of c)if(ige.test(l))o.stack+=`
${Vw(l.replace(ige,(u,d)=>"./"+d.replace(nge,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))o.stack+=`
${Vw(l)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let A=new RegExp(AD(h.replace(/[\\/]$/,""))+age,"gi");if(A.test(l)){o.stack+=`
${Vw(l.replace(A,(p,g)=>d+g.replace(nge,"/")))}`,u=!0;break}}if(u)continue;r?o.stack+=`
${U$(l)}`:o.stack+=`
    at [redacted]:0:0`}}else r&&a&&(o.stack=U$(a));return t.cause instanceof Error&&(o.cause=q$(t.cause,e,r,n)),o}s(q$,"cloneError");function cge(t){let e=t.message;return typeof t.path=="string"&&t.path.length>0&&(e=e.replaceAll(t.path,"<path>")),e}s(cge,"errorMessageWithoutPath");function lge(t,e){return q$(t,s(function(n){return U$(cge(n))},"prepareMessage"),!0,e)}s(lge,"prepareErrorForRestrictedTelemetry");function uge(t,e,r=!1){return q$(t,s(function(o){if(r)return H$(cge(o));let a="[redacted]";return typeof o.code=="string"&&(a=o.code+" "+a),typeof o.syscall=="string"?a=Vw(o.syscall)+" "+a:"erroredSysCall"in o&&typeof o.erroredSysCall=="string"&&(a=o.erroredSysCall+" "+a),a},"prepareMessage"),!1,e)}s(uge,"redactError");f();var G$=class{static{s(this,"TypeCheck")}constructor(e,r,n,o){this.schema=e,this.references=r,this.checkFunc=n,this.code=o,this.hasTransform=PA(e,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(e){return $d(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new Av(this.schema,e,this.Errors(e).First());return this.hasTransform?pv(this.schema,this.references,e):e}Encode(e){let r=this.hasTransform?gv(this.schema,this.references,e):e;if(!this.checkFunc(r))throw new mv(this.schema,e,this.Errors(e).First());return r}},LA;(function(t){function e(a){return a===36}s(e,"DollarSign"),t.DollarSign=e;function r(a){return a===95}s(r,"IsUnderscore"),t.IsUnderscore=r;function n(a){return a>=65&&a<=90||a>=97&&a<=122}s(n,"IsAlpha"),t.IsAlpha=n;function o(a){return a>=48&&a<=57}s(o,"IsNumeric"),t.IsNumeric=o})(LA||(LA={}));var pD;(function(t){function e(a){return a.length===0?!1:LA.IsNumeric(a.charCodeAt(0))}s(e,"IsFirstCharacterNumeric");function r(a){if(e(a))return!1;for(let c=0;c<a.length;c++){let l=a.charCodeAt(c);if(!(LA.IsAlpha(l)||LA.IsNumeric(l)||LA.DollarSign(l)||LA.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(a){return a.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function o(a,c){return r(c)?`${a}.${c}`:`${a}['${n(c)}']`}s(o,"Encode"),t.Encode=o})(pD||(pD={}));var V$;(function(t){function e(r){let n=[];for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);LA.IsNumeric(a)||LA.IsAlpha(a)?n.push(r.charAt(o)):n.push(`_${a}_`)}return n.join("").replace(/__/g,"_")}s(e,"Encode"),t.Encode=e})(V$||(V$={}));var W$;(function(t){function e(r){return r.replace(/'/g,"\\'")}s(e,"Escape"),t.Escape=e})(W$||(W$={}));var $$=class extends ur{static{s(this,"TypeCompilerUnknownTypeError")}constructor(e){super("Unknown type"),this.schema=e}},mD=class extends ur{static{s(this,"TypeCompilerTypeGuardError")}constructor(e){super("Preflight validation check failed to guard for the given schema"),this.schema=e}},oE;(function(t){function e(c,l,u){return Mi.ExactOptionalPropertyTypes?`('${l}' in ${c} ? ${u} : true)`:`(${pD.Encode(c,l)} !== undefined ? ${u} : true)`}s(e,"IsExactOptionalProperty"),t.IsExactOptionalProperty=e;function r(c){return Mi.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null)`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}))`}s(r,"IsObjectLike"),t.IsObjectLike=r;function n(c){return Mi.AllowArrayObject?`(typeof ${c} === 'object' && ${c} !== null && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`:`(typeof ${c} === 'object' && ${c} !== null && !Array.isArray(${c}) && !(${c} instanceof Date) && !(${c} instanceof Uint8Array))`}s(n,"IsRecordLike"),t.IsRecordLike=n;function o(c){return Mi.AllowNaN?`typeof ${c} === 'number'`:`Number.isFinite(${c})`}s(o,"IsNumberLike"),t.IsNumberLike=o;function a(c){return Mi.AllowNullVoid?`(${c} === undefined || ${c} === null)`:`${c} === undefined`}s(a,"IsVoidLike"),t.IsVoidLike=a})(oE||(oE={}));var Vg;(function(t){function e(le){return le[Oe]==="Any"||le[Oe]==="Unknown"}s(e,"IsAnyOrUnknown");function*r(le,Xe,ge){yield"true"}s(r,"FromAny");function*n(le,Xe,ge){yield"true"}s(n,"FromArgument");function*o(le,Xe,ge){yield`Array.isArray(${ge})`;let[ft,st]=[Ct("value","any"),Ct("acc","number")];zt(le.maxItems)&&(yield`${ge}.length <= ${le.maxItems}`),zt(le.minItems)&&(yield`${ge}.length >= ${le.minItems}`);let $e=Ae(le.items,Xe,"value");if(yield`${ge}.every((${ft}) => ${$e})`,eo(le.contains)||zt(le.minContains)||zt(le.maxContains)){let Mr=eo(le.contains)?le.contains:Jr(),xn=Ae(Mr,Xe,"value"),qr=zt(le.minContains)?[`(count >= ${le.minContains})`]:[],Jt=zt(le.maxContains)?[`(count <= ${le.maxContains})`]:[],gi=`const count = value.reduce((${st}, ${ft}) => ${xn} ? acc + 1 : acc, 0)`,Yo=["(count > 0)",...qr,...Jt].join(" && ");yield`((${ft}) => { ${gi}; return ${Yo}})(${ge})`}le.uniqueItems===!0&&(yield`((${ft}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${ge})`)}s(o,"FromArray");function*a(le,Xe,ge){yield`(typeof value === 'object' && Symbol.asyncIterator in ${ge})`}s(a,"FromAsyncIterator");function*c(le,Xe,ge){yield`(typeof ${ge} === 'bigint')`,wa(le.exclusiveMaximum)&&(yield`${ge} < BigInt(${le.exclusiveMaximum})`),wa(le.exclusiveMinimum)&&(yield`${ge} > BigInt(${le.exclusiveMinimum})`),wa(le.maximum)&&(yield`${ge} <= BigInt(${le.maximum})`),wa(le.minimum)&&(yield`${ge} >= BigInt(${le.minimum})`),wa(le.multipleOf)&&(yield`(${ge} % BigInt(${le.multipleOf})) === 0`)}s(c,"FromBigInt");function*l(le,Xe,ge){yield`(typeof ${ge} === 'boolean')`}s(l,"FromBoolean");function*u(le,Xe,ge){yield*ie(le.returns,Xe,`${ge}.prototype`)}s(u,"FromConstructor");function*d(le,Xe,ge){yield`(${ge} instanceof Date) && Number.isFinite(${ge}.getTime())`,zt(le.exclusiveMaximumTimestamp)&&(yield`${ge}.getTime() < ${le.exclusiveMaximumTimestamp}`),zt(le.exclusiveMinimumTimestamp)&&(yield`${ge}.getTime() > ${le.exclusiveMinimumTimestamp}`),zt(le.maximumTimestamp)&&(yield`${ge}.getTime() <= ${le.maximumTimestamp}`),zt(le.minimumTimestamp)&&(yield`${ge}.getTime() >= ${le.minimumTimestamp}`),zt(le.multipleOfTimestamp)&&(yield`(${ge}.getTime() % ${le.multipleOfTimestamp}) === 0`)}s(d,"FromDate");function*h(le,Xe,ge){yield`(typeof ${ge} === 'function')`}s(h,"FromFunction");function*A(le,Xe,ge){let ft=globalThis.Object.getOwnPropertyNames(le.$defs).reduce((st,$e)=>[...st,le.$defs[$e]],[]);yield*ie(Xl(le.$ref),[...Xe,...ft],ge)}s(A,"FromImport");function*p(le,Xe,ge){yield`Number.isInteger(${ge})`,zt(le.exclusiveMaximum)&&(yield`${ge} < ${le.exclusiveMaximum}`),zt(le.exclusiveMinimum)&&(yield`${ge} > ${le.exclusiveMinimum}`),zt(le.maximum)&&(yield`${ge} <= ${le.maximum}`),zt(le.minimum)&&(yield`${ge} >= ${le.minimum}`),zt(le.multipleOf)&&(yield`(${ge} % ${le.multipleOf}) === 0`)}s(p,"FromInteger");function*g(le,Xe,ge){let ft=le.allOf.map(st=>Ae(st,Xe,ge)).join(" && ");if(le.unevaluatedProperties===!1){let st=rt(`${new RegExp(DA(le))};`),$e=`Object.getOwnPropertyNames(${ge}).every(key => ${st}.test(key))`;yield`(${ft} && ${$e})`}else if(eo(le.unevaluatedProperties)){let st=rt(`${new RegExp(DA(le))};`),$e=`Object.getOwnPropertyNames(${ge}).every(key => ${st}.test(key) || ${Ae(le.unevaluatedProperties,Xe,`${ge}[key]`)})`;yield`(${ft} && ${$e})`}else yield`(${ft})`}s(g,"FromIntersect");function*E(le,Xe,ge){yield`(typeof value === 'object' && Symbol.iterator in ${ge})`}s(E,"FromIterator");function*v(le,Xe,ge){typeof le.const=="number"||typeof le.const=="boolean"?yield`(${ge} === ${le.const})`:yield`(${ge} === '${W$.Escape(le.const)}')`}s(v,"FromLiteral");function*w(le,Xe,ge){yield"false"}s(w,"FromNever");function*_(le,Xe,ge){yield`(!${Ae(le.not,Xe,ge)})`}s(_,"FromNot");function*S(le,Xe,ge){yield`(${ge} === null)`}s(S,"FromNull");function*D(le,Xe,ge){yield oE.IsNumberLike(ge),zt(le.exclusiveMaximum)&&(yield`${ge} < ${le.exclusiveMaximum}`),zt(le.exclusiveMinimum)&&(yield`${ge} > ${le.exclusiveMinimum}`),zt(le.maximum)&&(yield`${ge} <= ${le.maximum}`),zt(le.minimum)&&(yield`${ge} >= ${le.minimum}`),zt(le.multipleOf)&&(yield`(${ge} % ${le.multipleOf}) === 0`)}s(D,"FromNumber");function*N(le,Xe,ge){yield oE.IsObjectLike(ge),zt(le.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${le.minProperties}`),zt(le.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${le.maxProperties}`);let ft=Object.getOwnPropertyNames(le.properties);for(let st of ft){let $e=pD.Encode(ge,st),Mr=le.properties[st];if(le.required&&le.required.includes(st))yield*ie(Mr,Xe,$e),(NA(Mr)||e(Mr))&&(yield`('${st}' in ${ge})`);else{let xn=Ae(Mr,Xe,$e);yield oE.IsExactOptionalProperty(ge,st,xn)}}if(le.additionalProperties===!1)if(le.required&&le.required.length===ft.length)yield`Object.getOwnPropertyNames(${ge}).length === ${ft.length}`;else{let st=`[${ft.map($e=>`'${$e}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${ge}).every(key => ${st}.includes(key))`}if(typeof le.additionalProperties=="object"){let st=Ae(le.additionalProperties,Xe,`${ge}[key]`),$e=`[${ft.map(Mr=>`'${Mr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${ge}).every(key => ${$e}.includes(key) || ${st}))`}}s(N,"FromObject");function*P(le,Xe,ge){yield`${ge} instanceof Promise`}s(P,"FromPromise");function*O(le,Xe,ge){yield oE.IsRecordLike(ge),zt(le.minProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length >= ${le.minProperties}`),zt(le.maxProperties)&&(yield`Object.getOwnPropertyNames(${ge}).length <= ${le.maxProperties}`);let[ft,st]=Object.entries(le.patternProperties)[0],$e=rt(`${new RegExp(ft)}`),Mr=Ae(st,Xe,"value"),xn=eo(le.additionalProperties)?Ae(le.additionalProperties,Xe,ge):le.additionalProperties===!1?"false":"true",qr=`(${$e}.test(key) ? ${Mr} : ${xn})`;yield`(Object.entries(${ge}).every(([key, value]) => ${qr}))`}s(O,"FromRecord");function*Y(le,Xe,ge){let ft=Vn(le,Xe);if(ue.functions.has(le.$ref))return yield`${Je(le.$ref)}(${ge})`;yield*ie(ft,Xe,ge)}s(Y,"FromRef");function*ne(le,Xe,ge){let ft=rt(`${new RegExp(le.source,le.flags)};`);yield`(typeof ${ge} === 'string')`,zt(le.maxLength)&&(yield`${ge}.length <= ${le.maxLength}`),zt(le.minLength)&&(yield`${ge}.length >= ${le.minLength}`),yield`${ft}.test(${ge})`}s(ne,"FromRegExp");function*oe(le,Xe,ge){yield`(typeof ${ge} === 'string')`,zt(le.maxLength)&&(yield`${ge}.length <= ${le.maxLength}`),zt(le.minLength)&&(yield`${ge}.length >= ${le.minLength}`),le.pattern!==void 0&&(yield`${rt(`${new RegExp(le.pattern)};`)}.test(${ge})`),le.format!==void 0&&(yield`format('${le.format}', ${ge})`)}s(oe,"FromString");function*he(le,Xe,ge){yield`(typeof ${ge} === 'symbol')`}s(he,"FromSymbol");function*$(le,Xe,ge){yield`(typeof ${ge} === 'string')`,yield`${rt(`${new RegExp(le.pattern)};`)}.test(${ge})`}s($,"FromTemplateLiteral");function*K(le,Xe,ge){yield`${Je(le.$ref)}(${ge})`}s(K,"FromThis");function*xe(le,Xe,ge){if(yield`Array.isArray(${ge})`,le.items===void 0)return yield`${ge}.length === 0`;yield`(${ge}.length === ${le.maxItems})`;for(let ft=0;ft<le.items.length;ft++)yield`${Ae(le.items[ft],Xe,`${ge}[${ft}]`)}`}s(xe,"FromTuple");function*ce(le,Xe,ge){yield`${ge} === undefined`}s(ce,"FromUndefined");function*J(le,Xe,ge){yield`(${le.anyOf.map(st=>Ae(st,Xe,ge)).join(" || ")})`}s(J,"FromUnion");function*W(le,Xe,ge){yield`${ge} instanceof Uint8Array`,zt(le.maxByteLength)&&(yield`(${ge}.length <= ${le.maxByteLength})`),zt(le.minByteLength)&&(yield`(${ge}.length >= ${le.minByteLength})`)}s(W,"FromUint8Array");function*Z(le,Xe,ge){yield"true"}s(Z,"FromUnknown");function*re(le,Xe,ge){yield oE.IsVoidLike(ge)}s(re,"FromVoid");function*te(le,Xe,ge){let ft=ue.instances.size;ue.instances.set(ft,le),yield`kind('${le[Oe]}', ${ft}, ${ge})`}s(te,"FromKind");function*ie(le,Xe,ge,ft=!0){let st=Fn(le.$id)?[...Xe,le]:Xe,$e=le;if(ft&&Fn(le.$id)){let Mr=Je(le.$id);if(ue.functions.has(Mr))return yield`${Mr}(${ge})`;{ue.functions.set(Mr,"<deferred>");let xn=lt(Mr,le,Xe,"value",!1);return ue.functions.set(Mr,xn),yield`${Mr}(${ge})`}}switch($e[Oe]){case"Any":return yield*r($e,st,ge);case"Argument":return yield*n($e,st,ge);case"Array":return yield*o($e,st,ge);case"AsyncIterator":return yield*a($e,st,ge);case"BigInt":return yield*c($e,st,ge);case"Boolean":return yield*l($e,st,ge);case"Constructor":return yield*u($e,st,ge);case"Date":return yield*d($e,st,ge);case"Function":return yield*h($e,st,ge);case"Import":return yield*A($e,st,ge);case"Integer":return yield*p($e,st,ge);case"Intersect":return yield*g($e,st,ge);case"Iterator":return yield*E($e,st,ge);case"Literal":return yield*v($e,st,ge);case"Never":return yield*w($e,st,ge);case"Not":return yield*_($e,st,ge);case"Null":return yield*S($e,st,ge);case"Number":return yield*D($e,st,ge);case"Object":return yield*N($e,st,ge);case"Promise":return yield*P($e,st,ge);case"Record":return yield*O($e,st,ge);case"Ref":return yield*Y($e,st,ge);case"RegExp":return yield*ne($e,st,ge);case"String":return yield*oe($e,st,ge);case"Symbol":return yield*he($e,st,ge);case"TemplateLiteral":return yield*$($e,st,ge);case"This":return yield*K($e,st,ge);case"Tuple":return yield*xe($e,st,ge);case"Undefined":return yield*ce($e,st,ge);case"Union":return yield*J($e,st,ge);case"Uint8Array":return yield*W($e,st,ge);case"Unknown":return yield*Z($e,st,ge);case"Void":return yield*re($e,st,ge);default:if(!v0.Has($e[Oe]))throw new $$(le);return yield*te($e,st,ge)}}s(ie,"Visit");let ue={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Ae(le,Xe,ge,ft=!0){return`(${[...ie(le,Xe,ge,ft)].join(" && ")})`}s(Ae,"CreateExpression");function Je(le){return`check_${V$.Encode(le)}`}s(Je,"CreateFunctionName");function rt(le){let Xe=`local_${ue.variables.size}`;return ue.variables.set(Xe,`const ${Xe} = ${le}`),Xe}s(rt,"CreateVariable");function lt(le,Xe,ge,ft,st=!0){let[$e,Mr]=[`
`,gi=>"".padStart(gi," ")],xn=Ct("value","any"),qr=Vt("boolean"),Jt=[...ie(Xe,ge,ft,st)].map(gi=>`${Mr(4)}${gi}`).join(` &&${$e}`);return`function ${le}(${xn})${qr} {${$e}${Mr(2)}return (${$e}${Jt}${$e}${Mr(2)})
}`}s(lt,"CreateFunction");function Ct(le,Xe){let ge=ue.language==="typescript"?`: ${Xe}`:"";return`${le}${ge}`}s(Ct,"CreateParameter");function Vt(le){return ue.language==="typescript"?`: ${le}`:""}s(Vt,"CreateReturns");function Hr(le,Xe,ge){let ft=lt("check",le,Xe,"value"),st=Ct("value","any"),$e=Vt("boolean"),Mr=[...ue.functions.values()],xn=[...ue.variables.values()],qr=Fn(le.$id)?`return function check(${st})${$e} {
  return ${Je(le.$id)}(value)
}`:`return ${ft}`;return[...xn,...Mr,qr].join(`
`)}s(Hr,"Build");function Dn(...le){let Xe={language:"javascript"},[ge,ft,st]=le.length===2&&lr(le[1])?[le[0],le[1],Xe]:le.length===2&&!lr(le[1])?[le[0],[],le[1]]:le.length===3?[le[0],le[1],le[2]]:le.length===1?[le[0],[],Xe]:[null,[],Xe];if(ue.language=st.language,ue.variables.clear(),ue.functions.clear(),ue.instances.clear(),!eo(ge))throw new mD(ge);for(let $e of ft)if(!eo($e))throw new mD($e);return Hr(ge,ft,st)}s(Dn,"Code"),t.Code=Dn;function br(le,Xe=[]){let ge=Dn(le,Xe,{language:"javascript"}),ft=globalThis.Function("kind","format","hash",ge),st=new Map(ue.instances);function $e(Jt,gi,Yo){if(!v0.Has(Jt)||!st.has(gi))return!1;let Mn=v0.Get(Jt),zo=st.get(gi);return Mn(zo,Yo)}s($e,"typeRegistryFunction");function Mr(Jt,gi){return cf.Has(Jt)?cf.Get(Jt)(gi):!1}s(Mr,"formatRegistryFunction");function xn(Jt){return Ug(Jt)}s(xn,"hashFunction");let qr=ft($e,Mr,xn);return new G$(le,Xe,qr,ge)}s(br,"Compile"),t.Compile=br})(Vg||(Vg={}));var ID=Et(KT());f();f();var ka=[];for(let t=0;t<256;++t)ka.push((t+256).toString(16).slice(1));function fge(t,e=0){return(ka[t[e+0]]+ka[t[e+1]]+ka[t[e+2]]+ka[t[e+3]]+"-"+ka[t[e+4]]+ka[t[e+5]]+"-"+ka[t[e+6]]+ka[t[e+7]]+"-"+ka[t[e+8]]+ka[t[e+9]]+"-"+ka[t[e+10]]+ka[t[e+11]]+ka[t[e+12]]+ka[t[e+13]]+ka[t[e+14]]+ka[t[e+15]]).toLowerCase()}s(fge,"unsafeStringify");f();var dge=require("crypto");var yD=new Uint8Array(256),gD=yD.length;function Y$(){return gD>yD.length-16&&((0,dge.randomFillSync)(yD),gD=0),yD.slice(gD,gD+=16)}s(Y$,"rng");f();f();var hge=require("crypto"),z$={randomUUID:hge.randomUUID};function fKe(t,e,r){if(z$.randomUUID&&!e&&!t)return z$.randomUUID();t=t||{};let n=t.random??t.rng?.()??Y$();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)e[r+o]=n[o];return e}return fge(n)}s(fKe,"v4");var gf=fKe;var xD=Et(Ca());function Tv(t){return t===1}s(Tv,"isRestricted");var dKe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],Ww=8192,hKe=21;var Qc=class{static{s(this,"TelemetryReporters")}getReporter(e,r=0){return Tv(r)?this.getRestrictedReporter(e):this.reporter}getRestrictedReporter(e){if(vD(e))return this.reporterRestricted;if(JT(e))return new Gw}getFTReporter(e){if(Age(e))return this.reporterFT;if(JT(e))return new Gw}setReporter(e){this.reporter=e}setRestrictedReporter(e){this.reporterRestricted=e}setFTReporter(e){this.reporterFT=e}async deactivate(){let e=[this.reporter,this.reporterRestricted,this.reporterFT];this.reporter=this.reporterRestricted=this.reporterFT=void 0,await Promise.all(e.map(r=>r?.dispose()))}},AKe=ee.Object({},{additionalProperties:ee.String()}),pKe=ee.Object({meanLogProb:ee.Optional(ee.Number()),meanAlternativeLogProb:ee.Optional(ee.Number())},{additionalProperties:ee.Number()}),mKe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function gKe(t){return mKe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(gKe,"isOomError");function yKe(t){return lO(t)?"network":gKe(t)||t.code==="EMFILE"||t.code==="ENFILE"||t.syscall==="uv_cwd"&&(t.code==="ENOENT"||t.code=="EIO")||t.code==="CopilotPromptLoadFailure"||`${t.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(yKe,"getErrorType");var on=class t{static{s(this,"TelemetryData")}static{this.validateTelemetryProperties=Vg.Compile(AKe)}static{this.validateTelemetryMeasurements=Vg.Compile(pKe)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},r0())}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime);return a.displayedTime=this.displayedTime,a}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=r0())}async extendWithExpTelemetry(e){let{filters:r,exp:n}=await e.get(Sr).getFallbackExpAndFilters();n.addToTelemetry(e,this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(e){this.properties.editor_version=zd(e.get(js).getEditorInfo()),this.properties.editor_plugin_version=zd(e.get(js).getEditorPluginInfo());let r=e.get(Ys);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${O$(e)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=e.get(js);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=zd(n.getEditorInfo());let o=e.get(ms);this.properties.fetcher=o.name;let a=e.get(W0).getHttpSettings();this.properties.proxy_enabled=a.proxy?"true":"false",this.properties.proxy_auth=a.proxyAuthorization?"true":"false",this.properties.proxy_kerberos_spn=a.proxyKerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=a.proxyStrictSSL!==!1?"true":"false"}extendWithConfigProperties(e){let r=ege(e);r["copilot.build"]=tge(e),r["copilot.buildType"]=IO(e),this.properties={...this.properties,...r}}extendWithRequestId(e){let r={headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(Tv(e))return r;let n={};for(let o in r)t.keysToRemoveFromStandardTelemetryHack.includes(o)||(n[o]=r[o]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements);for(let e in this.measurements)isNaN(this.measurements[e])&&delete this.measurements[e]}multiplexProperties(){this.properties=t.multiplexProperties(this.properties)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let o=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[o]=e[n]}return r}static multiplexProperties(e){let r={...e};for(let n in e){let o=e[n],a=o?.length??0;if(a>Ww){let c=0,l=0;for(;a>0&&l<hKe;){l+=1;let u=n;l>1&&(u=n+"_"+(l<10?"0":"")+l);let d=c+Ww;a<Ww&&(d=c+a),r[u]=o.slice(c,d),a-=Ww,c+=Ww}}}return r}updateMeasurements(e){let r=e-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=e-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=IKe(e))}validateData(e,r){let n;if(t.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...t.validateTelemetryProperties.Errors(this.properties)])}),!t.validateTelemetryMeasurements.Check(this.measurements)){let o=JSON.stringify([...t.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:o}:(n.problem="both",n.error+=`; ${o}`)}if(n===void 0)return!0;if(JT(e))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Zh(e,"invalidTelemetryData",t.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Tv(r)&&Zh(e,"invalidTelemetryData_in_secure",t.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(e,r,n,o){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateMeasurements(o),this.validateData(e,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,bKe(e))}},Qw=class t extends on{static{s(this,"TelemetryWithExp")}constructor(e,r,n,o){super(e,r,n),this.filtersAndExp=o}extendedBy(e,r){let n={...this.properties,...e},o={...this.measurements,...r},a=new t(n,o,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}extendWithExpTelemetry(e){return this.filtersAndExp.exp.addToTelemetry(e,this),this.filtersAndExp.filters.addToTelemetry(this),Promise.resolve()}static createEmptyConfigForTesting(){return new t({},{},0,{filters:new Yy({}),exp:Yu.createEmptyConfig()})}};function ED(t,e,r,n){t.get(Qc).getReporter(t,e)?.sendTelemetryEvent(r,on.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(ED,"sendTelemetryEvent");function CKe(t,e,r,n){t.get(Qc).getReporter(t,e)?.sendTelemetryErrorEvent(r,on.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(CKe,"sendTelemetryErrorEvent");function EKe(t,e,r,n){t.get(Qc).getFTReporter(t)?.sendTelemetryEvent(r,on.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties),n.measurements)}s(EKe,"sendFTTelemetryEvent");function K$(t){return{promptCharLen:t.prefix.length+(t.context?.reduce((e,r)=>e+r.length,0)??0),promptSuffixCharLen:t.suffix.length}}s(K$,"telemetrizePromptLength");function r0(){return performance.now()}s(r0,"now");function IKe(t){return Math.floor(t/1e3)}s(IKe,"nowSeconds");function vD(t){return t.get(V0).optedIn}s(vD,"shouldSendRestricted");function Age(t){return t.get(V0).ftFlag!==""}s(Age,"shouldSendFinetuningTelemetry");function ir(t,e,r,n){return t.get(t0).register(xKe(t,e,r0(),r?.extendedBy(),n))}s(ir,"telemetry");async function xKe(t,e,r,n,o=0){let a=n||on.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o??!1,"IncludeExp",r),(!Tv(o)||vD(t))&&ED(t,o,e,a),Tv(o)&&dKe.includes(e)&&Age(t)&&EKe(t,o,e,a)}s(xKe,"_telemetry");function Rse(t,e){return t.get(t0).register(vKe(t,e,r0()))}s(Rse,"telemetryExpProblem");async function vKe(t,e,r){let n="expProblem",o=on.createAndMarkAsIssued(e,{});await o.makeReadyForSending(t,0,"SkipExp",r),ED(t,0,n,o)}s(vKe,"_telemetryExpProblem");function bKe(t){let e=t.get(js),r={unique_id:gf(),common_extname:e.getEditorPluginInfo().name,common_extversion:e.getEditorPluginInfo().version,common_vscodeversion:zd(e.getEditorInfo())};return{...t.get(V0).getProperties(),...r}}s(bKe,"createRequiredProperties");var j$=class extends Error{static{s(this,"CopilotNonError")}constructor(e){let r;try{r=JSON.stringify(e)}catch{r=String(e)}super(r),this.name="CopilotNonError",this.code=(0,ID.SHA256)(ID.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function xd(t,e,r,n,o){return t.get(t0).register(pge(t,e,r0(),r,{...n},o))}s(xd,"telemetryException");async function pge(t,e,r,n,o,a){let c;if(e instanceof Error){if(c=e,c.name==="Canceled"&&c.message==="Canceled"||c.name==="CodeExpectedError"||km(c)||c instanceof Bm||c instanceof xD.ConnectionError||c instanceof xD.ResponseError)return}else{if(c=new j$(e),e&&typeof e=="object"&&e.name==="ExitStatus")return;if(c.stack?.startsWith(`${c}
`)){let v=c.stack.slice(`${c}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(v[0]??"")&&v.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(v[0]??"")&&v.shift(),c.stack=`${c}
${v.join(`
`)}`}}let l=t.get(js).getEditorInfo(),u;l.root&&(u=[{prefix:`${l.name}:`,path:l.root}]);let d=vD(t),h=uge(c,u,d),A=yKe(c),p=A==="exception",g=on.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:h.stack||h.toString(),message:h.message,...o});if(await g.makeReadyForSending(t,0,"IncludeExp",r),a?.exception_detail)for(let v of a.exception_detail)v.value&&(d?v.value=H$(v.value):v.value="[redacted]");if(a??=rge(t,h),a.context={...a.context,"copilot_event.unique_id":g.properties.unique_id,"#restricted_telemetry":d?"true":"false"},n&&(a.context["#origin"]=n,a.transaction=n),a.rollup_id!=="auto"&&(g.properties.errno=a.rollup_id),a.created_at=new Date(g.issuedTime).toISOString(),d){let v=lge(c,u),w=on.createAndMarkAsIssued({origin:n??"",type:c.name,code:`${c.code??""}`,reason:v.stack||v.toString(),message:v.message,...o});a.rollup_id!=="auto"&&(w.properties.errno=a.rollup_id),await w.makeReadyForSending(t,1,"IncludeExp",r),w.properties.unique_id=g.properties.unique_id,g.properties.restricted_unique_id=w.properties.unique_id,ED(t,1,`error.${A}`,w)}let E=a.rollup_id==="auto"?c.stack??"":a.rollup_id;p&&!t.get(iE).isThrottled(E)&&(g.properties.failbot_payload=JSON.stringify(a)),ED(t,0,`error.${A}`,g)}s(pge,"_telemetryException");function Xh(t,e,r,n){let o=s(async(...a)=>{try{await e(...a)}catch(c){await pge(t,c,r0(),r,n)}},"wrapped");return(...a)=>t.get(t0).register(o(...a))}s(Xh,"telemetryCatch");function Zh(t,e,r,n){return t.get(t0).register(TKe(t,e,r0(),r?.extendedBy(),n))}s(Zh,"telemetryError");async function TKe(t,e,r,n,o=0){if(Tv(o)&&!vD(t))return;let a=n||on.createAndMarkAsIssued({},{});await a.makeReadyForSending(t,o,"IncludeExp",r),CKe(t,o,e,a)}s(TKe,"_telemetryError");function mge(t,e,r,n,o){let a=on.createAndMarkAsIssued({completionTextJson:JSON.stringify(e),choiceIndex:o.toString()});if(r.logprobs)for(let[c,l]of Object.entries(r.logprobs))a.properties["logprobs_"+c]=JSON.stringify(l)??"unset";return a.extendWithRequestId(n),ir(t,"engine.completion",a,1)}s(mge,"logEngineCompletion");function gge(t,e,r){let n={promptJson:JSON.stringify({prefix:e.prefix,context:e.context}),promptSuffixJson:JSON.stringify(e.suffix)};if(e.context){let a=r.properties["request.option.extra"]?JSON.parse(r.properties["request.option.extra"]):{};a.context=e.context,n["request.option.extra"]=JSON.stringify(a)}let o=r.extendedBy(n);return ir(t,"engine.prompt",o,1)}s(gge,"logEnginePrompt");var bD=class{static{s(this,"InstallationManager")}async startup(e){await this.isNewInstall(e)?(await this.markInstalled(e),this.handleInstall(e,await this.wasPreviouslyInstalled(e))):await this.isNewUpgrade(e)&&(await this.markUpgraded(e),this.handleUpgrade(e))}uninstall(e){return this.handleUninstall(e)}handleInstall(e,r){r?ir(e,"installed.reinstall"):ir(e,"installed.new")}handleUpgrade(e){ir(e,"installed.upgrade")}handleUninstall(e){ir(e,"uninstalled")}};var TD=class extends bD{static{s(this,"VsCodeUninstallationManager")}isNewInstall(){throw new Error("not callable from an uninstall script")}markInstalled(){throw new Error("not callable from an uninstall script")}wasPreviouslyInstalled(){throw new Error("not callable from an uninstall script")}isNewUpgrade(){throw new Error("not callable from an uninstall script")}markUpgraded(){throw new Error("not callable from an uninstall script")}};f();f();f();f();var _Ke={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1,showPanelMessage:!1},$w=class{constructor(){this.capabilities={..._Ke};this.emitter=new zm;this.onDidSetCapabilities=this.emitter.event}static{s(this,"CopilotCapabilitiesProvider")}setCapabilities(e){let r;for(r in e){let n=e[r];n!==void 0&&(this.capabilities[r]=n)}this.emitter.fire(this.capabilities)}getCapabilities(){return this.capabilities}};f();f();f();f();function J$(t,e){let r=_v(t,e);return r===-1?void 0:t[r]}s(J$,"findLastMonotonous");function _v(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?o=c+1:a=c}return o-1}s(_v,"findLastIdxMonotonous");function _D(t,e,r=0,n=t.length){let o=r,a=n;for(;o<a;){let c=Math.floor((o+a)/2);e(t[c])?a=c:o=c+1}return o}s(_D,"findFirstIdxMonotonousOrArrLen");var yge=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=_v(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};f();var X$=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?wD.isErrorNoTelemetry(e)?new wD(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Cge=new X$;function sE(t){Cge.onUnexpectedError(t)}s(sE,"onBugIndicatingError");function Sv(t){wKe(t)||Cge.onUnexpectedError(t)}s(Sv,"onUnexpectedError");var Z$="Canceled";function wKe(t){return t instanceof wv?!0:t instanceof Error&&t.name===Z$&&t.message===Z$}s(wKe,"isCancellationError");var wv=class extends Error{static{s(this,"CancellationError")}constructor(){super(Z$),this.name=this.message}};var wD=class t extends Error{static{s(this,"ErrorNoTelemetry")}constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof t)return e;let r=new t;return r.message=e.message,r.stack=e.stack,r}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}},Ls=class t extends Error{static{s(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};var Ige;(l=>{function t(u){return u<0}l.isLessThan=t,s(t,"isLessThan");function e(u){return u<=0}l.isLessThanOrEqual=e,s(e,"isLessThanOrEqual");function r(u){return u>0}l.isGreaterThan=r,s(r,"isGreaterThan");function n(u){return u===0}l.isNeitherLessOrGreaterThan=n,s(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(Ige||={});function SD(t,e){return(r,n)=>e(t(r),t(n))}s(SD,"compareBy");var BD=s((t,e)=>t-e,"numberComparator");var Ege=class t{constructor(e){this.iterate=e}static{s(this,"CallbackIterable")}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(o=>((n||Ige.isGreaterThan(e(o,r)))&&(n=!1,r=o),!0)),r}};f();function Tge(t,e){let r=Object.create(null);for(let n of t){let o=e(n),a=r[o];a||(a=r[o]=[]),a.push(n)}return r}s(Tge,"groupBy");var vge,bge,xge=class{constructor(e,r){this.toKey=r;this._map=new Map;this[vge]="SetWithKey";for(let n of e)this.add(n)}static{s(this,"SetWithKey")}get size(){return this._map.size}add(e){let r=this.toKey(e);return this._map.set(r,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(let e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(let e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,r){this._map.forEach(n=>e.call(r,n,n,this))}[(bge=Symbol.iterator,vge=Symbol.toStringTag,bge)](){return this.values()}};f();function eY(t,e){let r=this,n=!1,o;return function(){if(n)return o;if(n=!0,e)try{o=t.apply(r,arguments)}finally{e()}else o=t.apply(r,arguments);return o}}s(eY,"createSingleCallFunction");f();var tY;(D=>{function t(N){return N&&typeof N=="object"&&typeof N[Symbol.iterator]=="function"}D.is=t,s(t,"is");let e=Object.freeze([]);function r(){return e}D.empty=r,s(r,"empty");function*n(N){yield N}D.single=n,s(n,"single");function o(N){return t(N)?N:n(N)}D.wrap=o,s(o,"wrap");function a(N){return N||e}D.from=a,s(a,"from");function*c(N){for(let P=N.length-1;P>=0;P--)yield N[P]}D.reverse=c,s(c,"reverse");function l(N){return!N||N[Symbol.iterator]().next().done===!0}D.isEmpty=l,s(l,"isEmpty");function u(N){return N[Symbol.iterator]().next().value}D.first=u,s(u,"first");function d(N,P){let O=0;for(let Y of N)if(P(Y,O++))return!0;return!1}D.some=d,s(d,"some");function h(N,P){for(let O of N)if(P(O))return O}D.find=h,s(h,"find");function*A(N,P){for(let O of N)P(O)&&(yield O)}D.filter=A,s(A,"filter");function*p(N,P){let O=0;for(let Y of N)yield P(Y,O++)}D.map=p,s(p,"map");function*g(N,P){let O=0;for(let Y of N)yield*P(Y,O++)}D.flatMap=g,s(g,"flatMap");function*E(...N){for(let P of N)yield*P}D.concat=E,s(E,"concat");function v(N,P,O){let Y=O;for(let ne of N)Y=P(Y,ne);return Y}D.reduce=v,s(v,"reduce");function*w(N,P,O=N.length){for(P<-N.length&&(P=0),P<0&&(P+=N.length),O<0?O+=N.length:O>N.length&&(O=N.length);P<O;P++)yield N[P]}D.slice=w,s(w,"slice");function _(N,P=Number.POSITIVE_INFINITY){let O=[];if(P===0)return[O,N];let Y=N[Symbol.iterator]();for(let ne=0;ne<P;ne++){let oe=Y.next();if(oe.done)return[O,D.empty()];O.push(oe.value)}return[O,{[Symbol.iterator](){return Y}}]}D.consume=_,s(_,"consume");async function S(N){let P=[];for await(let O of N)P.push(O);return Promise.resolve(P)}D.asyncToArray=S,s(S,"asyncToArray")})(tY||={});f();var rY=class{constructor(e,r){this.uri=e;this.value=r}static{s(this,"ResourceMapEntry")}};function BKe(t){return Array.isArray(t)}s(BKe,"isEntries");var Sge,RD=class t{constructor(e,r){this[Sge]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(BKe(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,o]of e)this.set(n,o)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{s(this,"ResourceMap")}static{this.defaultToKey=s(e=>e.toString(),"defaultToKey")}set(e,r){return this.map.set(this.toKey(e),new rY(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,o]of this.map)e(o.value,o.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(Sge=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},Bge,_ge=class{constructor(e,r){this[Bge]="ResourceSet";!e||typeof e=="function"?this._map=new RD(e):(this._map=new RD(r),e.forEach(this.add,this))}static{s(this,"ResourceSet")}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,o)=>e.call(r,o,o,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Bge=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Rge,wge=class{constructor(){this[Rge]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{s(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let o=this._map.get(e);if(o)o.value=r,n!==0&&this.touch(o,n);else{switch(o={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,o=this._head;for(;o;){if(r?e.bind(r)(o.value,o.key,this):e(o.value,o.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.key,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}values(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:n.value,done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}entries(){let e=this,r=this._state,n=this._head,o={[Symbol.iterator](){return o},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let a={value:[n.key,n.value],done:!1};return n=n.next,a}else return{value:void 0,done:!0}}};return o}[(Rge=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,o=e.previous;e===this._tail?(o.next=void 0,this._tail=o):(n.previous=o,o.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,o=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=o,o.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};var kD=class{constructor(){this.map=new Map}static{s(this,"SetMap")}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var RKe=!1,Bv=null;var kge=class t{constructor(){this.livingDisposables=new Map}static{s(this,"DisposableTracker")}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let o=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,o),o}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let u=new Map,d=[...this.livingDisposables.values()].filter(A=>A.source!==null&&!this.getRootParent(A,u).isSingleton);if(d.length===0)return;let h=new Set(d.map(A=>A.value));if(n=d.filter(A=>!(A.parent&&h.has(A.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function o(u){function d(A,p){for(;A.length>0&&p.some(g=>typeof g=="string"?g===A[0]:A[0].match(g));)A.shift()}s(d,"removePrefix");let h=u.source.split(`
`).map(A=>A.trim().replace("at ","")).filter(A=>A!=="");return d(h,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),h.reverse()}s(o,"getStackTracePath");let a=new kD;for(let u of n){let d=o(u);for(let h=0;h<=d.length;h++)a.add(d.slice(0,h).join(`
`),u)}n.sort(SD(u=>u.idx,BD));let c="",l=0;for(let u of n.slice(0,e)){l++;let d=o(u),h=[];for(let A=0;A<d.length;A++){let p=d[A];p=`(shared with ${a.get(d.slice(0,A+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let E=a.get(d.slice(0,A).join(`
`)),v=Tge([...E].map(w=>o(w)[A]),w=>w);delete v[d[A]];for(let[w,_]of Object.entries(v))h.unshift(`    - stacktraces of ${_.length} other leaks continue with ${w}`);h.unshift(p)}c+=`


==================== Leaking disposable ${l}/${n.length}: ${u.value.constructor.name} ====================
${h.join(`
`)}
============================================================

`}return n.length>e&&(c+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:c}}};function kKe(t){Bv=t}s(kKe,"setDisposableTracker");if(RKe){let t="__is_disposable_tracked__";kKe(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==nl.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==nl.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function Rv(t){return Bv?.trackDisposable(t),t}s(Rv,"trackDisposable");function kv(t){Bv?.markAsDisposed(t)}s(kv,"markAsDisposed");function nY(t,e){Bv?.setParent(t,e)}s(nY,"setParentOfDisposable");function DKe(t,e){if(Bv)for(let r of t)Bv.setParent(r,e)}s(DKe,"setParentOfDisposables");function Dge(t){if(tY.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}s(Dge,"dispose");function Nge(...t){let e=MA(()=>Dge(t));return DKe(t,e),e}s(Nge,"combinedDisposable");function MA(t){let e=Rv({dispose:eY(()=>{kv(e),t()})});return e}s(MA,"toDisposable");var jd=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;Rv(this)}static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(kv(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Dge(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return nY(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),nY(e,null))}},nl=class{constructor(){this._store=new jd;Rv(this),nY(this._store,this)}static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){kv(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var Yw=class extends nl{static{s(this,"ChatQuotaService")}constructor(e){super(),this._register(Ga(e,r=>{this.processUserInfoQuotaSnapshot(r.userInfo?.raw)}))}get quotaExhausted(){return this._quotaInfo?this._quotaInfo.used>=this._quotaInfo.quota&&!this._quotaInfo.overageEnabled:!1}get overagesEnabled(){return this._quotaInfo?this._quotaInfo.overageEnabled:!1}clearQuota(){this._quotaInfo=void 0}processQuotaHeaders(e){let r=e.get("x-quota-snapshot-premium_models")||e.get("x-quota-snapshot-premium_interactions");if(r)try{let n=new URLSearchParams(r),o=parseInt(n.get("ent")||"0",10),a=parseFloat(n.get("ov")||"0.0"),c=n.get("ovPerm")==="true",l=parseFloat(n.get("rem")||"0.0"),u=n.get("rst"),d;u?d=new Date(u):(d=new Date,d.setMonth(d.getMonth()+1));let h=Math.max(0,o*(1-l/100));this._quotaInfo={quota:o,used:h,overageUsed:a,overageEnabled:c,resetDate:d}}catch(n){console.error("Failed to parse quota header",n)}}processUserInfoQuotaSnapshot(e){!e||!e.quota_snapshots||!e.quota_reset_date||(this._quotaInfo={overageEnabled:e.quota_snapshots.premium_interactions.overage_permitted,overageUsed:e.quota_snapshots.premium_interactions.overage_count,quota:e.quota_snapshots.premium_interactions.entitlement,resetDate:new Date(e.quota_reset_date),used:Math.max(0,e.quota_snapshots.premium_interactions.entitlement*(1-e.quota_snapshots.premium_interactions.percent_remaining/100))})}};f();f();f();var Qge=Et(Ca()),evr=ee.Object({accessToken:ee.Optional(ee.String({minLength:1})),handle:ee.Optional(ee.String({minLength:1})),login:ee.Optional(ee.String({minLength:1})),githubAppId:ee.Optional(ee.String({minLength:1})),apiUrl:ee.Optional(ee.String({})),serverUrl:ee.Optional(ee.String({})),tokenEndpoint:ee.Optional(ee.String({}))}),NKe;(r=>(r.method="github/didChangeAuth",r.type=new Qge.ProtocolNotificationType(r.method)))(NKe||={});f();var Pge=Et(Ca()),QKe;(r=>(r.method="copilot/ipCodeCitation",r.type=new Pge.NotificationType(r.method)))(QKe||={});f();var Fge=Et(Ca()),PKe;(r=>(r.method="context/update",r.type=new Fge.ProtocolRequestType(r.method)))(PKe||={});f();f();f();var Uo=Et(Ca()),FKe=ee.String(),LKe=ee.Object({uri:FKe}),aE=ee.Intersect([LKe,ee.Object({version:ee.Optional(ee.Integer())})]),hvr=ee.Required(aE),Wg=ee.Object({line:ee.Integer({minimum:0}),character:ee.Integer({minimum:0})}),Lge=ee.Object({start:Wg,end:Wg}),iY=ee.Union([ee.Integer(),ee.String()]),Avr=ee.Object({isCancellationRequested:ee.Boolean(),onCancellationRequested:ee.Any()});f();var Mge=Et(Ca()),MKe;(r=>(r.method="textDocument/didFocus",r.type=new Mge.ProtocolNotificationType(r.method)))(MKe||={});f();var OKe=ee.Object({didChangeFeatureFlags:ee.Boolean(),fetch:ee.Boolean(),ipCodeCitation:ee.Boolean(),redirectedTelemetry:ee.Boolean(),related:ee.Boolean(),token:ee.Boolean(),watchedFiles:ee.Boolean(),showPanelMessage:ee.Boolean()}),UKe=ee.Object({name:ee.String(),version:ee.String(),readableName:ee.Optional(ee.String())}),Oge=ee.Object({name:ee.String(),version:ee.Optional(ee.String()),readableName:ee.Optional(ee.String())}),Ivr=ee.Object({editorInfo:ee.Optional(Oge),editorPluginInfo:ee.Optional(Oge),relatedPluginInfo:ee.Optional(ee.Array(UKe)),copilotIntegrationId:ee.Optional(ee.String()),copilotCapabilities:ee.Optional(ee.Partial(OKe)),githubAppId:ee.Optional(ee.String())});f();var zw=Et(Ca());var Uge=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(Uge||{}),HKe=ee.Enum(Uge),qKe=ee.Object({triggerKind:HKe,selectedCompletionInfo:ee.Optional(ee.Object({text:ee.String(),range:Lge,tooltipSignature:ee.Optional(ee.String())}))}),Hge=ee.Object({textDocument:aE,position:Wg,formattingOptions:ee.Optional(ee.Object({tabSize:ee.Optional(ee.Union([ee.Integer({minimum:1}),ee.String()])),insertSpaces:ee.Optional(ee.Union([ee.Boolean(),ee.String()]))})),context:qKe,data:ee.Optional(ee.Unknown())}),GKe;(r=>(r.method="textDocument/inlineCompletion",r.type=new zw.ProtocolRequestType(r.method)))(GKe||={});var qge=ee.Object({command:ee.Object({arguments:ee.Tuple([ee.String({minLength:1})])})}),wvr=ee.Object({item:qge}),VKe;(r=>(r.method="textDocument/didShowCompletion",r.type=new zw.ProtocolNotificationType(r.method)))(VKe||={});var Svr=ee.Object({item:qge,acceptedLength:ee.Integer({minimum:1})}),WKe;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new zw.ProtocolNotificationType(r.method)))(WKe||={});f();var Gge=Et(Ca()),$Ke;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new Gge.ProtocolRequestType(r.method)))($Ke||={});f();var Vge=Et(Ca()),Fvr=ee.Object({textDocument:aE,position:Wg}),YKe=ee.Object({command:ee.Object({arguments:ee.Tuple([ee.String({minLength:1})])})}),Lvr=ee.Object({item:YKe}),zKe;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new Vge.ProtocolNotificationType(r.method)))(zKe||={});f();var DD=Et(Ca());var Vvr=ee.Object({textDocument:aE,position:Wg,partialResultToken:ee.Optional(iY),workDoneToken:ee.Optional(iY)}),jKe;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new DD.ProtocolRequestType(n.method),n.partialResult=new DD.ProgressType))(jKe||={});f();var Wge=Et(Ca()),KKe;(r=>(r.method="copilot/related",r.type=new Wge.ProtocolRequestType(r.method)))(KKe||={});f();var $ge=Et(Ca()),JKe;(r=>(r.method="statusNotification",r.type=new $ge.ProtocolNotificationType(r.method)))(JKe||={});var Yge=Et(require("events"));var ND="CompletionRequested",Dv=class{constructor(e){this.ctx=e}static{s(this,"CompletionNotifier")}#e=new Yge.default;notifyRequest(e,r,n,o,a){return this.#e.emit(ND,{completionId:r,completionState:e,telemetryData:n,cancellationToken:o,options:a})}onRequest(e){let r=Xh(this.ctx,e,`event.${ND}`);return this.#e.on(ND,r),Uo.Disposable.create(()=>this.#e.off(ND,r))}};f();var oY=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name=`UnregisteredContextErrorFor${r.name}`}static{s(this,"UnregisteredContextError")}},QD=class{constructor(){this.instances=new Map}static{s(this,"Context")}get(e){let r=this.tryGet(e);if(r)return r;throw new oY(e)}tryGet(e){let r=this.instances.get(e);if(r)return r}set(e,r){if(this.tryGet(e))throw new Error(`An instance of ${e.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(e,r),this.instances.set(e,r)}forceSet(e,r){this.assertIsInstance(e,r),this.instances.set(e,r)}assertIsInstance(e,r){if(!(r instanceof e)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${e.name} is not an instance of it (${n}).`)}}};f();f();f();f();var cE={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};f();var zge=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],jge={".php":[".blade"]},PD=Object.keys(cE).flatMap(t=>cE[t].extensions);var sY=Et(require("node:path"));var Qv=class{constructor(e,r,n){this.languageId=e;this.isGuess=r;this.fileExtension=n}static{s(this,"Language")}},jw=class{static{s(this,"LanguageDetection")}},aY=new Map,Nv=new Map;for(let[t,{extensions:e,filenames:r}]of Object.entries(cE)){for(let n of e)aY.set(n,[...aY.get(n)??[],t]);for(let n of r??[])Nv.set(n,[...Nv.get(n)??[],t])}var cY=class extends jw{static{s(this,"FilenameAndExensionLanguageDetection")}detectLanguage(e){let r=Fm(e.uri),n=sY.extname(r).toLowerCase(),o=this.extensionWithoutTemplateLanguage(r,n),a=this.detectLanguageId(r,o),c=this.computeFullyQualifiedExtension(n,o);return a?new Qv(a.languageId,a.isGuess,c):new Qv(e.languageId,!0,c)}extensionWithoutTemplateLanguage(e,r){if(zge.includes(r)){let n=e.substring(0,e.lastIndexOf(".")),o=sY.extname(n).toLowerCase();if(o.length>0&&PD.includes(o)&&this.isExtensionValidForTemplateLanguage(r,o))return o}return r}isExtensionValidForTemplateLanguage(e,r){let n=jge[e];return!n||n.includes(r)}detectLanguageId(e,r){if(Nv.has(e))return{languageId:Nv.get(e)[0],isGuess:!1};let n=aY.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;e.includes(".");)if(e=e.replace(/\.[^.]*$/,""),Nv.has(e))return{languageId:Nv.get(e)[0],isGuess:!1}}computeFullyQualifiedExtension(e,r){return e!==r?r+e:e}},lY=class extends jw{constructor(r){super();this.delegate=r}static{s(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),o=n.languageId;return o==="c"||o==="cpp"?new Qv("cpp",n.isGuess,n.fileExtension):n}},uY=class extends jw{constructor(r){super();this.delegate=r}static{s(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Qv(r.languageId,!0,""):this.delegate.detectLanguage(r)}},XKe=new lY(new uY(new cY));function Kge({uri:t,languageId:e}){let r=XKe.detectLanguage({uri:t,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?e:r.languageId}s(Kge,"detectLanguage");f();var FD=class t{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let o=Zge(n.range),a=this.offsetAt(o.start),c=this.offsetAt(o.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(c,this._content.length);let l=Math.max(o.start.line,0),u=Math.max(o.end.line,0),d=this._lineOffsets,h=Jge(n.text,!1,a);if(u-l===h.length)for(let p=0,g=h.length;p<g;p++)d[p+l+1]=h[p];else h.length<1e4?d.splice(l+1,u-l,...h):this._lineOffsets=d=d.slice(0,l+1).concat(h,d.slice(u+1));let A=n.text.length-(c-a);if(A!==0)for(let p=l+1+h.length,g=d.length;p<g;p++)d[p]=d[p]+A}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Jge(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return{line:0,character:e};for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let o=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,o);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&Xge(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},$g;(function(t){function e(o,a,c,l){return new FD(o,a,c,l)}s(e,"create"),t.create=e;function r(o,a,c){if(o instanceof FD)return o.update(a,c),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),t.update=r;function n(o,a){let c=o.getText(),l=fY(a.map(ZKe),(h,A)=>{let p=h.range.start.line-A.range.start.line;return p===0?h.range.start.character-A.range.start.character:p}),u=0,d=[];for(let h of l){let A=o.offsetAt(h.range.start);if(A<u)throw new Error("Overlapping edit");A>u&&d.push(c.substring(u,A)),h.newText.length&&d.push(h.newText),u=o.offsetAt(h.range.end)}return d.push(c.substr(u)),d.join("")}s(n,"applyEdits"),t.applyEdits=n})($g||($g={}));function fY(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),o=t.slice(r);fY(n,e),fY(o,e);let a=0,c=0,l=0;for(;a<n.length&&c<o.length;)e(n[a],o[c])<=0?t[l++]=n[a++]:t[l++]=o[c++];for(;a<n.length;)t[l++]=n[a++];for(;c<o.length;)t[l++]=o[c++];return t}s(fY,"mergeSort");function Jge(t,e,r=0){let n=e?[r]:[];for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);Xge(a)&&(a===13&&o+1<t.length&&t.charCodeAt(o+1)===10&&o++,n.push(r+o+1))}return n}s(Jge,"computeLineOffsets");function Xge(t){return t===13||t===10}s(Xge,"isEOL");function Zge(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}s(Zge,"getWellformedRange");function ZKe(t){let e=Zge(t.range);return e!==t.range?{newText:t.newText,range:e}:t}s(ZKe,"getWellformedEdit");f();var e1e;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(e1e||(e1e={}));var dY;(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(dY||(dY={}));var t1e;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(t1e||(t1e={}));var LD;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(LD||(LD={}));var n0;(function(t){function e(n,o){return n===Number.MAX_VALUE&&(n=LD.MAX_VALUE),o===Number.MAX_VALUE&&(o=LD.MAX_VALUE),{line:n,character:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.uinteger(o.line)&&Qe.uinteger(o.character)}s(r,"is"),t.is=r})(n0||(n0={}));var Ui;(function(t){function e(n,o,a,c){if(Qe.uinteger(n)&&Qe.uinteger(o)&&Qe.uinteger(a)&&Qe.uinteger(c))return{start:n0.create(n,o),end:n0.create(a,c)};if(n0.is(n)&&n0.is(o))return{start:n,end:o};throw new Error(`Range#create called with invalid arguments[${n}, ${o}, ${a}, ${c}]`)}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&n0.is(o.start)&&n0.is(o.end)}s(r,"is"),t.is=r})(Ui||(Ui={}));var MD;(function(t){function e(n,o){return{uri:n,range:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&(Qe.string(o.uri)||Qe.undefined(o.uri))}s(r,"is"),t.is=r})(MD||(MD={}));var r1e;(function(t){function e(n,o,a,c){return{targetUri:n,targetRange:o,targetSelectionRange:a,originSelectionRange:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.targetRange)&&Qe.string(o.targetUri)&&Ui.is(o.targetSelectionRange)&&(Ui.is(o.originSelectionRange)||Qe.undefined(o.originSelectionRange))}s(r,"is"),t.is=r})(r1e||(r1e={}));var hY;(function(t){function e(n,o,a,c){return{red:n,green:o,blue:a,alpha:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.numberRange(o.red,0,1)&&Qe.numberRange(o.green,0,1)&&Qe.numberRange(o.blue,0,1)&&Qe.numberRange(o.alpha,0,1)}s(r,"is"),t.is=r})(hY||(hY={}));var n1e;(function(t){function e(n,o){return{range:n,color:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&hY.is(o.color)}s(r,"is"),t.is=r})(n1e||(n1e={}));var i1e;(function(t){function e(n,o,a){return{label:n,textEdit:o,additionalTextEdits:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.string(o.label)&&(Qe.undefined(o.textEdit)||Fv.is(o))&&(Qe.undefined(o.additionalTextEdits)||Qe.typedArray(o.additionalTextEdits,Fv.is))}s(r,"is"),t.is=r})(i1e||(i1e={}));var o1e;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(o1e||(o1e={}));var s1e;(function(t){function e(n,o,a,c,l,u){let d={startLine:n,endLine:o};return Qe.defined(a)&&(d.startCharacter=a),Qe.defined(c)&&(d.endCharacter=c),Qe.defined(l)&&(d.kind=l),Qe.defined(u)&&(d.collapsedText=u),d}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.uinteger(o.startLine)&&Qe.uinteger(o.startLine)&&(Qe.undefined(o.startCharacter)||Qe.uinteger(o.startCharacter))&&(Qe.undefined(o.endCharacter)||Qe.uinteger(o.endCharacter))&&(Qe.undefined(o.kind)||Qe.string(o.kind))}s(r,"is"),t.is=r})(s1e||(s1e={}));var AY;(function(t){function e(n,o){return{location:n,message:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&MD.is(o.location)&&Qe.string(o.message)}s(r,"is"),t.is=r})(AY||(AY={}));var a1e;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(a1e||(a1e={}));var c1e;(function(t){t.Unnecessary=1,t.Deprecated=2})(c1e||(c1e={}));var l1e;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&Qe.string(n.href)}s(e,"is"),t.is=e})(l1e||(l1e={}));var OD;(function(t){function e(n,o,a,c,l,u){let d={range:n,message:o};return Qe.defined(a)&&(d.severity=a),Qe.defined(c)&&(d.code=c),Qe.defined(l)&&(d.source=l),Qe.defined(u)&&(d.relatedInformation=u),d}s(e,"create"),t.create=e;function r(n){var o;let a=n;return Qe.defined(a)&&Ui.is(a.range)&&Qe.string(a.message)&&(Qe.number(a.severity)||Qe.undefined(a.severity))&&(Qe.integer(a.code)||Qe.string(a.code)||Qe.undefined(a.code))&&(Qe.undefined(a.codeDescription)||Qe.string((o=a.codeDescription)===null||o===void 0?void 0:o.href))&&(Qe.string(a.source)||Qe.undefined(a.source))&&(Qe.undefined(a.relatedInformation)||Qe.typedArray(a.relatedInformation,AY.is))}s(r,"is"),t.is=r})(OD||(OD={}));var Pv;(function(t){function e(n,o,...a){let c={title:n,command:o};return Qe.defined(a)&&a.length>0&&(c.arguments=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.title)&&Qe.string(o.command)}s(r,"is"),t.is=r})(Pv||(Pv={}));var Fv;(function(t){function e(a,c){return{range:a,newText:c}}s(e,"replace"),t.replace=e;function r(a,c){return{range:{start:a,end:a},newText:c}}s(r,"insert"),t.insert=r;function n(a){return{range:a,newText:""}}s(n,"del"),t.del=n;function o(a){let c=a;return Qe.objectLiteral(c)&&Qe.string(c.newText)&&Ui.is(c.range)}s(o,"is"),t.is=o})(Fv||(Fv={}));var pY;(function(t){function e(n,o,a){let c={label:n};return o!==void 0&&(c.needsConfirmation=o),a!==void 0&&(c.description=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Qe.string(o.label)&&(Qe.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(Qe.string(o.description)||o.description===void 0)}s(r,"is"),t.is=r})(pY||(pY={}));var Lv;(function(t){function e(r){let n=r;return Qe.string(n)}s(e,"is"),t.is=e})(Lv||(Lv={}));var u1e;(function(t){function e(a,c,l){return{range:a,newText:c,annotationId:l}}s(e,"replace"),t.replace=e;function r(a,c,l){return{range:{start:a,end:a},newText:c,annotationId:l}}s(r,"insert"),t.insert=r;function n(a,c){return{range:a,newText:"",annotationId:c}}s(n,"del"),t.del=n;function o(a){let c=a;return Fv.is(c)&&(pY.is(c.annotationId)||Lv.is(c.annotationId))}s(o,"is"),t.is=o})(u1e||(u1e={}));var mY;(function(t){function e(n,o){return{textDocument:n,edits:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&IY.is(o.textDocument)&&Array.isArray(o.edits)}s(r,"is"),t.is=r})(mY||(mY={}));var gY;(function(t){function e(n,o,a){let c={kind:"create",uri:n};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="create"&&Qe.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||Qe.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Qe.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Lv.is(o.annotationId))}s(r,"is"),t.is=r})(gY||(gY={}));var yY;(function(t){function e(n,o,a,c){let l={kind:"rename",oldUri:n,newUri:o};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),c!==void 0&&(l.annotationId=c),l}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="rename"&&Qe.string(o.oldUri)&&Qe.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||Qe.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||Qe.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||Lv.is(o.annotationId))}s(r,"is"),t.is=r})(yY||(yY={}));var CY;(function(t){function e(n,o,a){let c={kind:"delete",uri:n};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(c.options=o),a!==void 0&&(c.annotationId=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&o.kind==="delete"&&Qe.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||Qe.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||Qe.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||Lv.is(o.annotationId))}s(r,"is"),t.is=r})(CY||(CY={}));var EY;(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(o=>Qe.string(o.kind)?gY.is(o)||yY.is(o)||CY.is(o):mY.is(o)))}s(e,"is"),t.is=e})(EY||(EY={}));var f1e;(function(t){function e(n){return{uri:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)}s(r,"is"),t.is=r})(f1e||(f1e={}));var d1e;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&Qe.integer(o.version)}s(r,"is"),t.is=r})(d1e||(d1e={}));var IY;(function(t){function e(n,o){return{uri:n,version:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&(o.version===null||Qe.integer(o.version))}s(r,"is"),t.is=r})(IY||(IY={}));var h1e;(function(t){function e(n,o,a,c){return{uri:n,languageId:o,version:a,text:c}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.string(o.uri)&&Qe.string(o.languageId)&&Qe.integer(o.version)&&Qe.string(o.text)}s(r,"is"),t.is=r})(h1e||(h1e={}));var xY;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}s(e,"is"),t.is=e})(xY||(xY={}));var Kw;(function(t){function e(r){let n=r;return Qe.objectLiteral(r)&&xY.is(n.kind)&&Qe.string(n.value)}s(e,"is"),t.is=e})(Kw||(Kw={}));var A1e;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(A1e||(A1e={}));var p1e;(function(t){t.PlainText=1,t.Snippet=2})(p1e||(p1e={}));var m1e;(function(t){t.Deprecated=1})(m1e||(m1e={}));var g1e;(function(t){function e(n,o,a){return{newText:n,insert:o,replace:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.newText)&&Ui.is(o.insert)&&Ui.is(o.replace)}s(r,"is"),t.is=r})(g1e||(g1e={}));var y1e;(function(t){t.asIs=1,t.adjustIndentation=2})(y1e||(y1e={}));var C1e;(function(t){function e(r){let n=r;return n&&(Qe.string(n.detail)||n.detail===void 0)&&(Qe.string(n.description)||n.description===void 0)}s(e,"is"),t.is=e})(C1e||(C1e={}));var E1e;(function(t){function e(r){return{label:r}}s(e,"create"),t.create=e})(E1e||(E1e={}));var I1e;(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}s(e,"create"),t.create=e})(I1e||(I1e={}));var UD;(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(e,"fromPlainText"),t.fromPlainText=e;function r(n){let o=n;return Qe.string(o)||Qe.objectLiteral(o)&&Qe.string(o.language)&&Qe.string(o.value)}s(r,"is"),t.is=r})(UD||(UD={}));var x1e;(function(t){function e(r){let n=r;return!!n&&Qe.objectLiteral(n)&&(Kw.is(n.contents)||UD.is(n.contents)||Qe.typedArray(n.contents,UD.is))&&(r.range===void 0||Ui.is(r.range))}s(e,"is"),t.is=e})(x1e||(x1e={}));var v1e;(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}s(e,"create"),t.create=e})(v1e||(v1e={}));var b1e;(function(t){function e(r,n,...o){let a={label:r};return Qe.defined(n)&&(a.documentation=n),Qe.defined(o)?a.parameters=o:a.parameters=[],a}s(e,"create"),t.create=e})(b1e||(b1e={}));var T1e;(function(t){t.Text=1,t.Read=2,t.Write=3})(T1e||(T1e={}));var _1e;(function(t){function e(r,n){let o={range:r};return Qe.number(n)&&(o.kind=n),o}s(e,"create"),t.create=e})(_1e||(_1e={}));var w1e;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(w1e||(w1e={}));var S1e;(function(t){t.Deprecated=1})(S1e||(S1e={}));var B1e;(function(t){function e(r,n,o,a,c){let l={name:r,kind:n,location:{uri:a,range:o}};return c&&(l.containerName=c),l}s(e,"create"),t.create=e})(B1e||(B1e={}));var R1e;(function(t){function e(r,n,o,a){return a!==void 0?{name:r,kind:n,location:{uri:o,range:a}}:{name:r,kind:n,location:{uri:o}}}s(e,"create"),t.create=e})(R1e||(R1e={}));var k1e;(function(t){function e(n,o,a,c,l,u){let d={name:n,detail:o,kind:a,range:c,selectionRange:l};return u!==void 0&&(d.children=u),d}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.name)&&Qe.number(o.kind)&&Ui.is(o.range)&&Ui.is(o.selectionRange)&&(o.detail===void 0||Qe.string(o.detail))&&(o.deprecated===void 0||Qe.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s(r,"is"),t.is=r})(k1e||(k1e={}));var D1e;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(D1e||(D1e={}));var HD;(function(t){t.Invoked=1,t.Automatic=2})(HD||(HD={}));var N1e;(function(t){function e(n,o,a){let c={diagnostics:n};return o!=null&&(c.only=o),a!=null&&(c.triggerKind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.typedArray(o.diagnostics,OD.is)&&(o.only===void 0||Qe.typedArray(o.only,Qe.string))&&(o.triggerKind===void 0||o.triggerKind===HD.Invoked||o.triggerKind===HD.Automatic)}s(r,"is"),t.is=r})(N1e||(N1e={}));var Q1e;(function(t){function e(n,o,a){let c={title:n},l=!0;return typeof o=="string"?(l=!1,c.kind=o):Pv.is(o)?c.command=o:c.edit=o,l&&a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return o&&Qe.string(o.title)&&(o.diagnostics===void 0||Qe.typedArray(o.diagnostics,OD.is))&&(o.kind===void 0||Qe.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||Pv.is(o.command))&&(o.isPreferred===void 0||Qe.boolean(o.isPreferred))&&(o.edit===void 0||EY.is(o.edit))}s(r,"is"),t.is=r})(Q1e||(Q1e={}));var P1e;(function(t){function e(n,o){let a={range:n};return Qe.defined(o)&&(a.data=o),a}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(o.range)&&(Qe.undefined(o.command)||Pv.is(o.command))}s(r,"is"),t.is=r})(P1e||(P1e={}));var F1e;(function(t){function e(n,o){return{tabSize:n,insertSpaces:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Qe.uinteger(o.tabSize)&&Qe.boolean(o.insertSpaces)}s(r,"is"),t.is=r})(F1e||(F1e={}));var L1e;(function(t){function e(n,o,a){return{range:n,target:o,data:a}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(o.range)&&(Qe.undefined(o.target)||Qe.string(o.target))}s(r,"is"),t.is=r})(L1e||(L1e={}));var M1e;(function(t){function e(n,o){return{range:n,parent:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&Ui.is(o.range)&&(o.parent===void 0||t.is(o.parent))}s(r,"is"),t.is=r})(M1e||(M1e={}));var O1e;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(O1e||(O1e={}));var U1e;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(U1e||(U1e={}));var H1e;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(e,"is"),t.is=e})(H1e||(H1e={}));var q1e;(function(t){function e(n,o){return{range:n,text:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&Qe.string(o.text)}s(r,"is"),t.is=r})(q1e||(q1e={}));var G1e;(function(t){function e(n,o,a){return{range:n,variableName:o,caseSensitiveLookup:a}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&Qe.boolean(o.caseSensitiveLookup)&&(Qe.string(o.variableName)||o.variableName===void 0)}s(r,"is"),t.is=r})(G1e||(G1e={}));var V1e;(function(t){function e(n,o){return{range:n,expression:o}}s(e,"create"),t.create=e;function r(n){let o=n;return o!=null&&Ui.is(o.range)&&(Qe.string(o.expression)||o.expression===void 0)}s(r,"is"),t.is=r})(V1e||(V1e={}));var W1e;(function(t){function e(n,o){return{frameId:n,stoppedLocation:o}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.defined(o)&&Ui.is(n.stoppedLocation)}s(r,"is"),t.is=r})(W1e||(W1e={}));var vY;(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(vY||(vY={}));var bY;(function(t){function e(n){return{value:n}}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&(o.tooltip===void 0||Qe.string(o.tooltip)||Kw.is(o.tooltip))&&(o.location===void 0||MD.is(o.location))&&(o.command===void 0||Pv.is(o.command))}s(r,"is"),t.is=r})(bY||(bY={}));var $1e;(function(t){function e(n,o,a){let c={position:n,label:o};return a!==void 0&&(c.kind=a),c}s(e,"create"),t.create=e;function r(n){let o=n;return Qe.objectLiteral(o)&&n0.is(o.position)&&(Qe.string(o.label)||Qe.typedArray(o.label,bY.is))&&(o.kind===void 0||vY.is(o.kind))&&o.textEdits===void 0||Qe.typedArray(o.textEdits,Fv.is)&&(o.tooltip===void 0||Qe.string(o.tooltip)||Kw.is(o.tooltip))&&(o.paddingLeft===void 0||Qe.boolean(o.paddingLeft))&&(o.paddingRight===void 0||Qe.boolean(o.paddingRight))}s(r,"is"),t.is=r})($1e||($1e={}));var Y1e;(function(t){function e(r){return{kind:"snippet",value:r}}s(e,"createSnippet"),t.createSnippet=e})(Y1e||(Y1e={}));var z1e;(function(t){function e(r,n,o,a){return{insertText:r,filterText:n,range:o,command:a}}s(e,"create"),t.create=e})(z1e||(z1e={}));var j1e;(function(t){function e(r){return{items:r}}s(e,"create"),t.create=e})(j1e||(j1e={}));var K1e;(function(t){t.Invoked=0,t.Automatic=1})(K1e||(K1e={}));var J1e;(function(t){function e(r,n){return{range:r,text:n}}s(e,"create"),t.create=e})(J1e||(J1e={}));var X1e;(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(e,"create"),t.create=e})(X1e||(X1e={}));var Z1e;(function(t){function e(r){let n=r;return Qe.objectLiteral(n)&&dY.is(n.uri)&&Qe.string(n.name)}s(e,"is"),t.is=e})(Z1e||(Z1e={}));var eye;(function(t){function e(a,c,l,u){return new TY(a,c,l,u)}s(e,"create"),t.create=e;function r(a){let c=a;return!!(Qe.defined(c)&&Qe.string(c.uri)&&(Qe.undefined(c.languageId)||Qe.string(c.languageId))&&Qe.uinteger(c.lineCount)&&Qe.func(c.getText)&&Qe.func(c.positionAt)&&Qe.func(c.offsetAt))}s(r,"is"),t.is=r;function n(a,c){let l=a.getText(),u=o(c,(h,A)=>{let p=h.range.start.line-A.range.start.line;return p===0?h.range.start.character-A.range.start.character:p}),d=l.length;for(let h=u.length-1;h>=0;h--){let A=u[h],p=a.offsetAt(A.range.start),g=a.offsetAt(A.range.end);if(g<=d)l=l.substring(0,p)+A.newText+l.substring(g,l.length);else throw new Error("Overlapping edit");d=p}return l}s(n,"applyEdits"),t.applyEdits=n;function o(a,c){if(a.length<=1)return a;let l=a.length/2|0,u=a.slice(0,l),d=a.slice(l);o(u,c),o(d,c);let h=0,A=0,p=0;for(;h<u.length&&A<d.length;)c(u[h],d[A])<=0?a[p++]=u[h++]:a[p++]=d[A++];for(;h<u.length;)a[p++]=u[h++];for(;A<d.length;)a[p++]=d[A++];return a}s(o,"mergeSort")})(eye||(eye={}));var TY=class{static{s(this,"FullTextDocument")}constructor(e,r,n,o){this._uri=e,this._languageId=r,this._version=n,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let o=0;o<r.length;o++){n&&(e.push(o),n=!1);let a=r.charAt(o);n=a==="\r"||a===`
`,a==="\r"&&o+1<r.length&&r.charAt(o+1)===`
`&&o++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,o=r.length;if(o===0)return n0.create(0,e);for(;n<o;){let c=Math.floor((n+o)/2);r[c]>e?o=c:n=c+1}let a=n-1;return n0.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],o=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,o),n)}get lineCount(){return this.getLineOffsets().length}},Qe;(function(t){let e=Object.prototype.toString;function r(g){return typeof g<"u"}s(r,"defined"),t.defined=r;function n(g){return typeof g>"u"}s(n,"undefined"),t.undefined=n;function o(g){return g===!0||g===!1}s(o,"boolean"),t.boolean=o;function a(g){return e.call(g)==="[object String]"}s(a,"string"),t.string=a;function c(g){return e.call(g)==="[object Number]"}s(c,"number"),t.number=c;function l(g,E,v){return e.call(g)==="[object Number]"&&E<=g&&g<=v}s(l,"numberRange"),t.numberRange=l;function u(g){return e.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}s(u,"integer"),t.integer=u;function d(g){return e.call(g)==="[object Number]"&&0<=g&&g<=2147483647}s(d,"uinteger"),t.uinteger=d;function h(g){return e.call(g)==="[object Function]"}s(h,"func"),t.func=h;function A(g){return g!==null&&typeof g=="object"}s(A,"objectLiteral"),t.objectLiteral=A;function p(g,E){return Array.isArray(g)&&g.every(E)}s(p,"typedArray"),t.typedArray=p})(Qe||(Qe={}));var qD=class{static{s(this,"LocationFactory")}static{this.range=Ui.create.bind(Ui)}static{this.position=n0.create.bind(n0)}},GD=class t{constructor(e,r,n){this.uri=e;this._textDocument=r;this.detectedLanguageId=n}static{s(this,"CopilotTextDocument")}static withChanges(e,r,n){let o=$g.create(e.clientUri,e.clientLanguageId,n,e.getText());return $g.update(o,r,n),new t(e.uri,o,e.detectedLanguageId)}applyEdits(e){let r=$g.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return $g.update(r,e.map(n=>({text:n.newText,range:n.range})),this.version),new t(this.uri,r,this.detectedLanguageId)}static create(e,r,n,o,a=Kge({uri:e,languageId:r})){return new t(yd(e),$g.create(e,r,n,o),a)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(e){return this._textDocument.getText(e)}positionAt(e){return this._textDocument.positionAt(e)}offsetAt(e){return this._textDocument.offsetAt(e)}lineAt(e){let r=typeof e=="number"?e:e.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Ui.create(r,0,r+1,0),o=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),a=Ui.create(n0.create(r,0),n0.create(r,o.length)),c=o.trim().length===0;return{text:o,range:a,isEmptyOrWhitespace:c}}};f();f();f();f();var Jw={isBlocked:!1,reason:"VALID_FILE"},VD={isBlocked:!1,reason:"NO_MATCHING_POLICY"},tye={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},lE={all:"all",repo:"repo"},Yg=new Vr("contentExclusion");f();f();var WD=class{static{s(this,"PolicyEvaluator")}};f();f();f();var rye=new Vr("repository"),uE=class t{constructor(){this.data={}}static{s(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(e){let r=this.getAll(e);return r?r[r.length-1]:void 0}getAll(e){return this.data[this.normalizeKey(e)]}add(e,r){e in this.data||(this.data[e]=[]),this.data[e].push(r)}getSectionValues(e,r){let n=`${e}.`.toLowerCase(),o=`.${r}`.toLowerCase();return Object.keys(this.data).filter(a=>a.startsWith(n)&&a.endsWith(o)).map(a=>a.slice(n.length,-o.length))}concat(e){return this.getEntries().concat(e.getEntries()).reduce((r,[n,o])=>(o.forEach(a=>r.add(n,a)),r),new t)}normalizeKey(e){let r=e.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},yf=class{static{s(this,"GitConfigLoader")}},$D=class extends yf{constructor(r){super();this.loaders=r}static{s(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let o of this.loaders){let a=await o.getConfig(r,n);if(a)return a}}};f();var nye=require("os");var YD=class{constructor(e){this.url=e;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{s(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return Pm.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let e=this.url.indexOf(":");return this.url.substring(0,e+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let e;try{e=Pm.parse(this.url)}catch(r){this._error=r;return}this._scheme=e.scheme,this.setAuthority(e.authority),this.setPath(e.path)}setAuthority(e){this._authority=e;let r=e.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let e=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(e&&((0,nye.platform)()!=="win32"||(e.groups?.host?.length??0)>1)){let r=e.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(e){if(this.isADO())try{this._path=decodeURIComponent(e);return}catch{}this._path=e}};var zD=class{static{s(this,"GitRemoteResolver")}async resolveRemote(e,r){let n=await e.get(yf).getConfig(e,r);if(!n)return;let o=this.getRemotes(n),a=o.filter(c=>c.url.isGitHub());if(a.length)return a.find(c=>c.name==="origin")?.url??a[0].url;if(o.length)return o.find(c=>c.name==="origin")?.url??o[0].url}getRemotes(e){let r=this.getInsteadOfRules(e);return e.getSectionValues("remote","url").map(n=>({name:n,url:new YD(this.applyInsteadOfRules(r,e.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(e,r){for(let n of e)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(e){return e.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:e.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var eJe=100,_Y=class{constructor(e,r){this.baseFolder=e;this.remote=r;this.setNWO()}static{s(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let e=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=e?.[0],this._name=e?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&e?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=e?.[1],this._owner=e?.[2],this._name=e?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=e?.[1],this._name=e?.[3]):(this._adoOrganization=e?.[0],this._owner=e?.[1],this._name=e?.[3])}}},OA=class t{constructor(e){this.ctx=e;this.remoteResolver=new zD;this.cache=new jr(eJe)}static{s(this,"RepositoryManager")}async getRepo({uri:e}){let r,n=[];do{if(this.cache.has(e.toString())){let a=this.cache.get(e);return this.updateCache(n,a),a}n.push(e.toString());let o=await this.tryGetRepoForFolder(e);if(o)return this.updateCache(n,o),o;r=e,e=Jh(e)}while(e!==r);this.updateCache(n,void 0)}updateCache(e,r){e.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(e){return await this.isBaseRepoFolder(e)?new _Y(typeof e=="string"?{uri:e}:e,await this.repoUrl(e)):void 0}async isBaseRepoFolder(e){return await t.getRepoConfigLocation(this.ctx,e)!==void 0}async repoUrl(e){return await this.remoteResolver.resolveRemote(this.ctx,e)}static async getRepoConfigLocation(e,r){try{let n=e.get(ia),o=zs(r,".git");if((await n.stat(o)).type&1)return await this.getConfigLocationForGitfile(n,r,o);let c=zs(o,"config");return await n.stat(c),c}catch{return}}static async getConfigLocationForGitfile(e,r,n){let a=(await e.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!a)return;let c=My(r,a[1]),l=zs(c,"config");if(await this.tryStat(e,l)!==void 0)return l;let u=zs(c,"config.worktree");if(await this.tryStat(e,u)!==void 0)return u;let d=zs(c,"commondir");c=My(c,(await e.readFileString(d)).trimEnd());let h=zs(c,"config");return await e.stat(h),h}static async tryStat(e,r){try{return await e.stat(r)}catch{return}}};f();var wY=s((t,e)=>{if(qg.Check(t,e))return e;let r=`Typebox schema validation failed:
${[...qg.Errors(t,e)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");f();f();f();var jD=new WeakMap;function KD(t,e){if(t==null||typeof t!="object")return String(t);let r,n="",o=0,a=Object.prototype.toString.call(t);if(a!=="[object RegExp]"&&a!=="[object Date]"&&jD.has(t))return jD.get(t);switch(jD.set(t,"~"+ ++e),a){case"[object Set]":r=Array.from(t);case"[object Array]":for(r||(r=t),n+="a";o<r.length;n+=KD(r[o++],e));break;case"[object Object]":for(n+="o",r=Object.keys(t).sort();o<r.length;n+=r[o]+KD(t[r[o++]],e));break;case"[object Map]":for(n+="o",r=Array.from(t.keys()).sort();o<r.length;n+=r[o]+KD(t.get(r[o++]),e));break;case"[object Date]":return"d"+ +t;case"[object RegExp]":return"r"+t.source+t.flags;default:throw new Error(`Unsupported value ${t}`)}return jD.set(t,n),n}s(KD,"t");function JD(t){return KD(t,0)}s(JD,"r");var SY=new WeakMap;function iye(t,e,r=JD(e)){let n,o,a=SY.get(t);a||(SY.set(t,a=[[],o=[],n=[]]),queueMicrotask(function(){let d,h=0;function A(p){for(;d=n[h++];d.r(p));}s(A,"o"),SY.delete(t),t(o).then(function(p){if(p.length!==n.length)return A(new Error("loader value length mismatch"));for(;d=p[h++],h<=p.length;d instanceof Error?n[h-1].r(d):n[h-1].s(d));},A)}));let c=a[0].indexOf(r);if(~c)return a[2][c].p;let l=a[0].push(r)-1,u=a[2][l]={};return a[1][l]=e,u.p=new Promise(function(d,h){u.s=d,u.r=h})}s(iye,"n");var oye=new WeakMap;function tJe(t,e,r,n=JD(r)){if(e||(e=oye.get(t)),e||oye.set(t,e=new Map),e.has(n))return Promise.resolve(e.get(n));let o=iye(t,r,n);return e.set(n,o),o.catch(()=>e.delete(n)),o}s(tJe,"n");function sye(t,e){return function(r,n){return tJe(t,e,r,n)}}s(sye,"o");f();var wye=Et(Cye(),1);f();var Zw=s(t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");f();f();var lJe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},e3=s(t=>t.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),uJe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Eye=s(t=>t.join(""),"rangesToString"),Iye=s((t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],o=[],a=r+1,c=!1,l=!1,u=!1,d=!1,h=r,A="";e:for(;a<t.length;){let v=t.charAt(a);if((v==="!"||v==="^")&&a===r+1){d=!0,a++;continue}if(v==="]"&&c&&!u){h=a+1;break}if(c=!0,v==="\\"&&!u){u=!0,a++;continue}if(v==="["&&!u){for(let[w,[_,S,D]]of Object.entries(lJe))if(t.startsWith(w,a)){if(A)return["$.",!1,t.length-r,!0];a+=w.length,D?o.push(_):n.push(_),l=l||S;continue e}}if(u=!1,A){v>A?n.push(e3(A)+"-"+e3(v)):v===A&&n.push(e3(v)),A="",a++;continue}if(t.startsWith("-]",a+1)){n.push(e3(v+"-")),a+=2;continue}if(t.startsWith("-",a+1)){A=v,a+=2;continue}n.push(e3(v)),a++}if(h<a)return["",!1,0,!1];if(!n.length&&!o.length)return["$.",!1,t.length-r,!0];if(o.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!d){let v=n[0].length===2?n[0].slice(-1):n[0];return[uJe(v),!1,h-r,!1]}let p="["+(d?"^":"")+Eye(n)+"]",g="["+(d?"":"^")+Eye(o)+"]";return[n.length&&o.length?"("+p+"|"+g+")":n.length?p:g,l,h-r,!0]},"parseClass");f();var zg=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var fJe=new Set(["!","?","+","*","@"]),xye=s(t=>fJe.has(t),"isExtglobType"),dJe="(?!(?:^|/)\\.\\.?(?:$|/))",XD="(?!\\.)",hJe=new Set(["[","."]),AJe=new Set(["..","."]),pJe=new Set("().*{}+?[]^$\\!"),mJe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),kY="[^/]",vye=kY+"*?",bye=kY+"+?",Mv=class t{static{s(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#c;#l;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#s=this.#e===this?[]:this.#e.#s,e==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let e of this.#n)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#l!==void 0?this.#l:this.type?this.#l=this.type+"("+this.#n.map(e=>String(e)).join("|")+")":this.#l=this.#n.map(e=>String(e)).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#s.pop();){if(e.type!=="!")continue;let r=e,n=r.#r;for(;n;){for(let o=r.#o+1;!n.type&&o<n.#n.length;o++)for(let a of e.#n){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(n.#n[o])}r=n,n=r.#r}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let e=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let e=this.#r;for(let r=0;r<this.#o;r++){let n=e.#n[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#n.length:0;return this.#o===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#n)r.copyIn(n);return r}static#u(e,r,n,o){let a=!1,c=!1,l=-1,u=!1;if(r.type===null){let g=n,E="";for(;g<e.length;){let v=e.charAt(g++);if(a||v==="\\"){a=!a,E+=v;continue}if(c){g===l+1?(v==="^"||v==="!")&&(u=!0):v==="]"&&!(g===l+2&&u)&&(c=!1),E+=v;continue}else if(v==="["){c=!0,l=g,u=!1,E+=v;continue}if(!o.noext&&xye(v)&&e.charAt(g)==="("){r.push(E),E="";let w=new t(v,r);g=t.#u(e,w,g,o),r.push(w);continue}E+=v}return r.push(E),g}let d=n+1,h=new t(null,r),A=[],p="";for(;d<e.length;){let g=e.charAt(d++);if(a||g==="\\"){a=!a,p+=g;continue}if(c){d===l+1?(g==="^"||g==="!")&&(u=!0):g==="]"&&!(d===l+2&&u)&&(c=!1),p+=g;continue}else if(g==="["){c=!0,l=d,u=!1,p+=g;continue}if(xye(g)&&e.charAt(d)==="("){h.push(p),p="";let E=new t(g,h);h.push(E),d=t.#u(e,E,d,o);continue}if(g==="|"){h.push(p),p="",A.push(h),h=new t(null,r);continue}if(g===")")return p===""&&r.#n.length===0&&(r.#f=!0),h.push(p),p="",r.push(...A,h),d;p+=g}return r.type=null,r.#t=void 0,r.#n=[e.substring(n-1)],d}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#u(e,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let e=this.toString(),[r,n,o,a]=this.toRegExpSource();if(!(o||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let l=(this.#c.nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:e})}get options(){return this.#c}toRegExpSource(e){let r=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){let u=this.isStart()&&this.isEnd(),d=this.#n.map(g=>{let[E,v,w,_]=typeof g=="string"?t.#A(g,this.#t,u):g.toRegExpSource(e);return this.#t=this.#t||w,this.#i=this.#i||_,E}).join(""),h="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&AJe.has(this.#n[0]))){let E=hJe,v=r&&E.has(d.charAt(0))||d.startsWith("\\.")&&E.has(d.charAt(2))||d.startsWith("\\.\\.")&&E.has(d.charAt(4)),w=!r&&!e&&E.has(d.charAt(0));h=v?dJe:w?XD:""}let A="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(A="(?:$|\\/)"),[h+d+A,zg(d),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",o=this.type==="!"?"(?:(?!(?:":"(?:",a=this.#d(r);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){let u=this.toString();return this.#n=[u],this.type=null,this.#t=void 0,[u,zg(this.toString()),!1,!1]}let c=!n||e||r||!XD?"":this.#d(!0);c===a&&(c=""),c&&(a=`(?:${a})(?:${c})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?XD:"")+bye;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!e?XD:"")+vye+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&c?")":this.type==="*"&&c?")?":`)${this.type}`;l=o+a+u}return[l,zg(a),this.#t=!!this.#t,this.#i]}#d(e){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,o,a,c]=r.toRegExpSource(e);return this.#i=this.#i||c,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#A(e,r,n=!1){let o=!1,a="",c=!1;for(let l=0;l<e.length;l++){let u=e.charAt(l);if(o){o=!1,a+=(pJe.has(u)?"\\":"")+u;continue}if(u==="\\"){l===e.length-1?a+="\\\\":o=!0;continue}if(u==="["){let[d,h,A,p]=Iye(e,l);if(A){a+=d,c=c||h,l+=A-1,r=r||p;continue}}if(u==="*"){n&&e==="*"?a+=bye:a+=vye,r=!0;continue}if(u==="?"){a+=kY,r=!0;continue}a+=mJe(u)}return[a,zg(e),!!r,c]}};f();var DY=s((t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Da=s((t,e,r={})=>(Zw(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Ov(e,r).match(t)),"minimatch"),gJe=/^\*+([^+@!?\*\[\(]*)$/,yJe=s(t=>e=>!e.startsWith(".")&&e.endsWith(t),"starDotExtTest"),CJe=s(t=>e=>e.endsWith(t),"starDotExtTestDot"),EJe=s(t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),"starDotExtTestNocase"),IJe=s(t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),"starDotExtTestNocaseDot"),xJe=/^\*+\.\*+$/,vJe=s(t=>!t.startsWith(".")&&t.includes("."),"starDotStarTest"),bJe=s(t=>t!=="."&&t!==".."&&t.includes("."),"starDotStarTestDot"),TJe=/^\.\*+$/,_Je=s(t=>t!=="."&&t!==".."&&t.startsWith("."),"dotStarTest"),wJe=/^\*+$/,SJe=s(t=>t.length!==0&&!t.startsWith("."),"starTest"),BJe=s(t=>t.length!==0&&t!=="."&&t!=="..","starTestDot"),RJe=/^\?+([^+@!?\*\[\(]*)?$/,kJe=s(([t,e=""])=>{let r=Sye([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocase"),DJe=s(([t,e=""])=>{let r=Bye([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},"qmarksTestNocaseDot"),NJe=s(([t,e=""])=>{let r=Bye([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTestDot"),QJe=s(([t,e=""])=>{let r=Sye([t]);return e?n=>r(n)&&n.endsWith(e):r},"qmarksTest"),Sye=s(([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},"qmarksTestNoExt"),Bye=s(([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),Rye=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Tye={win32:{sep:"\\"},posix:{sep:"/"}},PJe=Rye==="win32"?Tye.win32.sep:Tye.posix.sep;Da.sep=PJe;var nu=Symbol("globstar **");Da.GLOBSTAR=nu;var FJe="[^/]",LJe=FJe+"*?",MJe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",OJe="(?:(?!(?:\\/|^)\\.).)*?",UJe=s((t,e={})=>r=>Da(r,t,e),"filter");Da.filter=UJe;var ru=s((t,e={})=>Object.assign({},t,e),"ext"),HJe=s(t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Da;let e=Da;return Object.assign(s((n,o,a={})=>e(n,o,ru(t,a)),"m"),{Minimatch:class extends e.Minimatch{static{s(this,"Minimatch")}constructor(o,a={}){super(o,ru(t,a))}static defaults(o){return e.defaults(ru(t,o)).Minimatch}},AST:class extends e.AST{static{s(this,"AST")}constructor(o,a,c={}){super(o,a,ru(t,c))}static fromGlob(o,a={}){return e.AST.fromGlob(o,ru(t,a))}},unescape:s((n,o={})=>e.unescape(n,ru(t,o)),"unescape"),escape:s((n,o={})=>e.escape(n,ru(t,o)),"escape"),filter:s((n,o={})=>e.filter(n,ru(t,o)),"filter"),defaults:s(n=>e.defaults(ru(t,n)),"defaults"),makeRe:s((n,o={})=>e.makeRe(n,ru(t,o)),"makeRe"),braceExpand:s((n,o={})=>e.braceExpand(n,ru(t,o)),"braceExpand"),match:s((n,o,a={})=>e.match(n,o,ru(t,a)),"match"),sep:e.sep,GLOBSTAR:nu})},"defaults");Da.defaults=HJe;var kye=s((t,e={})=>(Zw(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,wye.default)(t)),"braceExpand");Da.braceExpand=kye;var qJe=s((t,e={})=>new Ov(t,e).makeRe(),"makeRe");Da.makeRe=qJe;var GJe=s((t,e,r={})=>{let n=new Ov(e,r);return t=t.filter(o=>n.match(o)),n.options.nonull&&!t.length&&t.push(e),t},"match");Da.match=GJe;var _ye=/[?*]|[+@!]\(.*?\)|\[|\]/,VJe=s(t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),Ov=class{static{s(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){Zw(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||Rye,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let o=this.globParts.map((a,c,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=a[0]===""&&a[1]===""&&(a[2]==="?"||!_ye.test(a[2]))&&!_ye.test(a[3]),d=/^[a-z]:/i.test(a[0]);if(u)return[...a.slice(0,4),...a.slice(4).map(h=>this.parse(h))];if(d)return[a[0],...a.slice(1).map(h=>this.parse(h))]}return a.map(u=>this.parse(u))});if(this.debug(this.pattern,o),this.set=o.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){let c=this.set[a];c[0]===""&&c[1]===""&&this.globParts[a][2]==="?"&&typeof c[3]=="string"&&/^[a-z]:$/i.test(c[3])&&(c[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o]==="**"&&(e[n][o]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let o=n;for(;r[o+1]==="**";)o++;o!==n&&r.splice(n,o-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,o)=>{let a=n[n.length-1];return o==="**"&&a==="**"?n:o===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(o),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let o=1;o<e.length-1;o++){let a=e[o];o===1&&a===""&&e[0]===""||(a==="."||a==="")&&(r=!0,e.splice(o,1),o--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let o=e[n-1];o&&o!=="."&&o!==".."&&o!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let o=-1;for(;(o=n.indexOf("**",o+1))!==-1;){let c=o;for(;n[c+1]==="**";)c++;c>o&&n.splice(o+1,c-o);let l=n[o+1],u=n[o+2],d=n[o+3];if(l!==".."||!u||u==="."||u===".."||!d||d==="."||d==="..")continue;r=!0,n.splice(o,1);let h=n.slice(0);h[o]="**",e.push(h),o--}if(!this.preserveMultipleSlashes){for(let c=1;c<n.length-1;c++){let l=n[c];c===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(c,1),c--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){let c=n[a-1];if(c&&c!=="."&&c!==".."&&c!=="**"){r=!0;let u=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...u),n.length===0&&n.push(""),a-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let o=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);if(o){e[r]=[],e[n]=o;break}}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let o=0,a=0,c=[],l="";for(;o<e.length&&a<r.length;)if(e[o]===r[a])c.push(l==="b"?r[a]:e[o]),o++,a++;else if(n&&e[o]==="**"&&r[a]===e[o+1])c.push(e[o]),o++;else if(n&&r[a]==="**"&&e[o]===r[a+1])c.push(r[a]),a++;else if(e[o]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(l==="b")return!1;l="a",c.push(e[o]),o++,a++}else if(r[a]==="*"&&e[o]&&(this.options.dot||!e[o].startsWith("."))&&e[o]!=="**"){if(l==="a")return!1;l="b",c.push(r[a]),o++,a++}else return!1;return e.length===r.length&&c}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let o=0;o<e.length&&e.charAt(o)==="!";o++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let o=this.options;if(this.isWindows){let v=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),w=!v&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),_=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),S=!_&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),D=w?3:v?0:void 0,N=S?3:_?0:void 0;if(typeof D=="number"&&typeof N=="number"){let[P,O]=[e[D],r[N]];P.toLowerCase()===O.toLowerCase()&&(r[N]=P,N>D?r=r.slice(N):D>N&&(e=e.slice(D)))}}let{optimizationLevel:a=1}=this.options;a>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var c=0,l=0,u=e.length,d=r.length;c<u&&l<d;c++,l++){this.debug("matchOne loop");var h=r[l],A=e[c];if(this.debug(r,h,A),h===!1)return!1;if(h===nu){this.debug("GLOBSTAR",[r,h,A]);var p=c,g=l+1;if(g===d){for(this.debug("** at the end");c<u;c++)if(e[c]==="."||e[c]===".."||!o.dot&&e[c].charAt(0)===".")return!1;return!0}for(;p<u;){var E=e[p];if(this.debug(`
globstar while`,e,p,r,g,E),this.matchOne(e.slice(p),r.slice(g),n))return this.debug("globstar found match!",p,u,E),!0;if(E==="."||E===".."||!o.dot&&E.charAt(0)==="."){this.debug("dot detected!",e,p,r,g);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,g),p===u))}let v;if(typeof h=="string"?(v=A===h,this.debug("string match",h,A,v)):(v=h.test(A),this.debug("pattern match",h,A,v)),!v)return!1}if(c===u&&l===d)return!0;if(c===u)return n;if(l===d)return c===u-1&&e[c]==="";throw new Error("wtf?")}braceExpand(){return kye(this.pattern,this.options)}parse(e){Zw(e);let r=this.options;if(e==="**")return nu;if(e==="")return"";let n,o=null;(n=e.match(wJe))?o=r.dot?BJe:SJe:(n=e.match(gJe))?o=(r.nocase?r.dot?IJe:EJe:r.dot?CJe:yJe)(n[1]):(n=e.match(RJe))?o=(r.nocase?r.dot?DJe:kJe:r.dot?NJe:QJe)(n):(n=e.match(xJe))?o=r.dot?bJe:vJe:(n=e.match(TJe))&&(o=_Je);let a=Mv.fromGlob(e,this.options).toMMPattern();return o&&typeof a=="object"&&Reflect.defineProperty(a,"test",{value:o}),a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?LJe:r.dot?MJe:OJe,o=new Set(r.nocase?["i"]:[]),a=e.map(u=>{let d=u.map(h=>{if(h instanceof RegExp)for(let A of h.flags.split(""))o.add(A);return typeof h=="string"?VJe(h):h===nu?nu:h._src});return d.forEach((h,A)=>{let p=d[A+1],g=d[A-1];h!==nu||g===nu||(g===void 0?p!==void 0&&p!==nu?d[A+1]="(?:\\/|"+n+"\\/)?"+p:d[A]=n:p===void 0?d[A-1]=g+"(?:\\/|"+n+")?":p!==nu&&(d[A-1]=g+"(?:\\/|\\/"+n+"\\/)"+p,d[A+1]=nu))}),d.filter(h=>h!==nu).join("/")}).join("|"),[c,l]=e.length>1?["(?:",")"]:["",""];a="^"+c+a+l+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...o].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let o=this.slashSplit(e);this.debug(this.pattern,"split",o);let a=this.set;this.debug(this.pattern,"set",a);let c=o[o.length-1];if(!c)for(let l=o.length-2;!c&&l>=0;l--)c=o[l];for(let l=0;l<a.length;l++){let u=a[l],d=o;if(n.matchBase&&u.length===1&&(d=[c]),this.matchOne(d,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return Da.defaults(e).Minimatch}};Da.AST=Mv;Da.Minimatch=Ov;Da.escape=DY;Da.unescape=zg;var NY="contentExclusion",ZD=class extends WD{static{s(this,"CopilotContentExclusion")}#e;#t=new jr(1e4);#i=new jr(200);constructor(e){super(),this.#e=e}async evaluate(e,r){try{e=My(e).toString();let n=await this.getGitRepo({uri:e}),o=await this.#n(n?.url??lE.all);if(!o)return VD;let a=n?.baseFolder?.uri??"file://",c=this.evaluateFilePathRules(e,a,o);if(c.isBlocked)return c;let l=this.evaluateTextBasedRules(e,o,r);if(l.isBlocked)return l}catch(n){return Yg.exception(this.#e,n,`${NY}.evaluate`),tye}return Jw}evaluateFilePathRules(e,r,n){let o=e;if(this.#t.has(o))return this.#t.get(o);let a=Jw,c,l=pO(e.replace(r,""));e:for(let u of n)for(let d of u.paths)if(Da(l,d,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=QY(u,"FILE_BLOCKED_PATH"),c=d;break e}return Yg.debug(this.#e,`Evaluated path-based exclusion rules for <${e}>`,{result:a,baseUri:r,fileName:l,matchingPattern:c}),this.#t.set(o,a),a}evaluateTextBasedRules(e,r,n){let o=r.filter(l=>l.ifAnyMatch),a=r.filter(l=>l.ifNoneMatch);if(!n||o.length===0&&a.length===0)return Jw;let c=this.evaluateFileContent(o,a,n);return Yg.debug(this.#e,`Evaluated text-based exclusion rules for <${e}>`,{result:c}),c}evaluateFileContent(e,r,n){for(let o of e)if(o.ifAnyMatch&&o.ifAnyMatch.length>0&&o.ifAnyMatch.map(c=>Dye(c)).some(c=>c.test(n)))return QY(o,"FILE_BLOCKED_TEXT_BASED");for(let o of r)if(o.ifNoneMatch&&o.ifNoneMatch.length>0&&!o.ifNoneMatch.map(c=>Dye(c)).some(c=>c.test(n)))return QY(o,"FILE_BLOCKED_TEXT_BASED");return Jw}async refresh(){try{let e=[...this.#i.keys()];this.reset(),await Promise.all(e.map(r=>this.#o(r)))}catch(e){xd(this.#e,e,`${NY}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(e){if(this.#r?.length)return this.#r;let r=await this.#o(e.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(e){this.#r=e}#o=sye(async e=>{let r=await this.#e.get(Ei).getGitHubSession();if(!r)throw new Bm("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",o=new URL(n,r.apiUrl),a=e.includes(lE.all);e.filter(d=>d!==lE.all).length>0&&o.searchParams.set("repos",e.filter(d=>d!==lE.all).join(",")),o.searchParams.set("scope",a?lE.all:lE.repo);let l=await zT(this.#e,r,o.href),u=await l.json();if(!l.ok){if(l.status===404)return Array.from(e,()=>[]);throw this.#s("fetch.error",{message:u.message}),new jh(l)}return this.#s("fetch.success"),wY(jJe,u).map(d=>d.rules)},this.#i);async getGitRepo(e){let n=await this.#e.get(OA).getRepo(Jh(e));if(!n||!n?.remote)return;let o=n.remote.getUrlForApi();if(o)return{baseFolder:n.baseFolder,url:o}}#s(e,r,n){ir(this.#e,`${NY}.${e}`,on.createAndMarkAsIssued(r,n))}};function Dye(t){if(!t.startsWith("/")&&!t.endsWith("/"))return new RegExp(t);let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}s(Dye,"stringToRegex");function QY(t,e){return{isBlocked:!0,message:`Your ${t.source.type.toLowerCase()} '${t.source.name}' has disabled Copilot for this file`,reason:e}}s(QY,"fileBlockedEvaluationResult");var WJe=ee.Object({name:ee.String(),type:ee.String()}),$Je=ee.Object({paths:ee.Array(ee.String()),ifNoneMatch:ee.Optional(ee.Array(ee.String())),ifAnyMatch:ee.Optional(ee.Array(ee.String())),source:WJe}),YJe=ee.Array($Je),zJe=ee.Object({rules:YJe,last_updated_at:ee.String(),scope:ee.String()}),jJe=ee.Array(zJe);var Kd=class{constructor(e){this.ctx=e;this.#e=!1;this.#t=new ZD(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async e=>{if(!this.#e)return;if(!e.document){this.updateStatusIcon(!1);return}let r=await this.ctx.get(ri).getTextDocumentValidation(e.document),n=r.status==="invalid",o=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,o)},"onDidChangeActiveTextEditor");let r=Xh(this.ctx,this.onDidChangeActiveTextEditor,"Content exclusions focus change");this.ctx.get(ri).onDidFocusTextDocument(r),Ga(this.ctx,n=>{this.#e=n.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{s(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(e,r,n){if(!this.#e)return{isBlocked:!1};let o=[],a=s(async(u,d)=>{let h=performance.now(),A=await d.evaluate(e,r),p=performance.now();return o.push({key:u,result:A,elapsedMs:Math.round(p-h)}),A},"track"),l=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of o)this.#i(u.key,e,u.result,u.elapsedMs)}catch(u){Yg.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(l.isBlocked,l.message),l}updateStatusIcon(e,r){this.#e&&(e?this.ctx.get(ks).setInactive(r??"Copilot is disabled"):this.ctx.get(ks).clearInactive())}#i(e,r,n,o){let a=r+e;if(this.evaluateResultCache.get(a)===n.reason)return!1;if(this.evaluateResultCache.set(a,n.reason??"UNKNOWN"),n.reason===VD.reason)return Yg.debug(this.ctx,`[${e}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},u={contentExclusionEvalMs:o};return ir(this.ctx,e,on.createAndMarkAsIssued(l,u)),ir(this.ctx,e,on.createAndMarkAsIssued({...l,path:r},u),1),Yg.debug(this.ctx,`[${e}] ${r}`,n),!0}setTestingRules(e){this.#t.setTestingRules(e)}set __contentExclusions(e){this.#t=e}get __contentExclusions(){return this.#t}};async function t3(t,e,r){let n=await t.get(Kd).evaluate(e.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}s(t3,"isDocumentValid");var ri=class{constructor(e){this.ctx=e}static{s(this,"TextDocumentManager")}async textDocuments(){let e=this.getTextDocumentsUnsafe(),r=[];for(let n of e)(await t3(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(e){let r=yd(e.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(e){return this.getTextDocumentWithValidation(e).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(e,r){return t3(this.ctx,e,r)}async getTextDocumentValidation(e){try{let r=this.getTextDocumentUnsafe(e)?.getText()??await this.readTextDocumentFromDisk(e.uri);return r===void 0?this.notFoundResult(e):this.validateTextDocument(e,r)}catch{return this.notFoundResult(e)}}async getTextDocumentWithValidation(e){let r=this.getTextDocumentUnsafe(e);if(!r)return this.notFoundResult(e);let n=await this.validateTextDocument(e,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:e}){return{status:"notfound",message:`Document for URI could not be found: ${e}`}}async readTextDocumentFromDisk(e){try{if((await this.ctx.get(ia).stat(e)).size>5*1024*1024)return}catch{return}return await this.ctx.get(ia).readFileString(e)}getWorkspaceFolder(e){let r=yd(e.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(yd(n.uri)))}getRelativePath(e){if(e.uri.startsWith("untitled:"))return;let r=yd(e.uri);for(let n of this.getWorkspaceFolders()){let o=yd(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(o))return r.slice(o.length)}return Fm(r)}};var jg=class{constructor(e){this.ctx=e}static{s(this,"FileReader")}getRelativePath(e){return this.ctx.get(ri).getRelativePath(e)??Fm(e.uri)}getOrReadTextDocument(e){return this.readFile(e.uri)}getOrReadTextDocumentWithFakeClientProperties(e){return this.readFile(e.uri)}async readFile(e){let n=await this.ctx.get(ri).getTextDocumentWithValidation({uri:e});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(e)>1)return{status:"notfound",message:"File too large"};let a=await this.doReadFile(e),c=await t3(this.ctx,{uri:e},a);return c.status==="valid"?{status:"valid",document:GD.create(e,"UNKNOWN",-1,a)}:c}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(e){return await this.ctx.get(ia).readFileString(e)}async getFileSizeMB(e){return(await this.ctx.get(ia).stat(e)).size/1024/1024}};f();f();var UA=class{constructor(){this.resolve=s(()=>{},"resolve");this.reject=s(()=>{},"reject");this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}static{s(this,"Deferred")}};function Uv(t,e=void 0){return new Promise(r=>setTimeout(()=>r(e),t))}s(Uv,"delay");f();var PY=class{constructor(){this.observers=new Set}static{s(this,"Subject")}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}next(e){for(let r of this.observers)r.next(e)}error(e){for(let r of this.observers)r.error?.(e)}complete(){for(let e of this.observers)e.complete?.()}},tN=class extends PY{static{s(this,"ReplaySubject")}subscribe(e){let r=super.subscribe(e);return this._value!==void 0&&e.next(this._value),r}next(e){this._value=e,super.next(e)}};var Hv=class{constructor(e){this.ctx=e;this.#e=new Vr("AsyncCompletionManager");this.requests=new jr(100);this.mostRecentRequestId=""}static{s(this,"AsyncCompletionManager")}#e;clear(){this.requests.clear()}shouldWaitForAsyncCompletions(e,r){for(let[n,o]of this.requests)if(FY(e,r,o))return!0;return!1}updateCompletion(e,r){let n=this.requests.get(e);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(e,r,n,o,a){this.#e.debug(this.ctx,`[${e}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let c=new tN;return this.requests.set(e,{state:2,cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c}),a.then(l=>{if(this.requests.delete(e),l.type!=="success"){this.#e.debug(this.ctx,`[${e}] Request failed with`,l.reason),c.error(l.reason);return}let u={cancellationTokenSource:o,headerRequestId:e,prefix:r,prompt:n,subject:c,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(e,u),c.next(u),c.complete()}).catch(l=>{this.#e.error(this.ctx,`[${e}] Request errored with`,l),this.requests.delete(e),c.error(l)})}getFirstMatchingRequestWithTimeout(e,r,n,o,a){let c=this.ctx.get(Sr).asyncCompletionsTimeout(a);return c<0?(this.#e.debug(this.ctx,`[${e}] Waiting for completions without timeout`),this.getFirstMatchingRequest(e,r,n,o)):(this.#e.debug(this.ctx,`[${e}] Waiting for completions with timeout of ${c}ms`),Promise.race([this.getFirstMatchingRequest(e,r,n,o),new Promise(l=>setTimeout(()=>l(null),c))]).then(l=>{if(l===null){this.#e.debug(this.ctx,`[${e}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(e,r,n,o){o||(this.mostRecentRequestId=e);let a=!1,c=new UA,l=new Map,u=s(h=>()=>{let A=l.get(h);A!==void 0&&(A(),l.delete(h),!a&&l.size===0&&(a=!0,this.#e.debug(this.ctx,`[${e}] No matching completions found`),c.resolve(void 0)))},"finishRequest"),d=s(h=>{if(FY(r,n,h)){if(h.state===0){let A=r.substring(h.prefix.length),{completionText:p}=h.choice;if(!p.startsWith(A)||p.length<=A.length){u(h.headerRequestId)();return}p=p.substring(A.length),h.choice.telemetryData.measurements.foundOffset=A.length,this.#e.debug(this.ctx,`[${e}] Found completion at offset ${A.length}: ${JSON.stringify(p)}`),c.resolve([{...h.choice,completionText:p},h.allChoicesPromise]),a=!0}}else this.cancelRequest(e,h),u(h.headerRequestId)()},"next");for(let[h,A]of this.requests)FY(r,n,A)?l.set(h,A.subject.subscribe({next:d,error:u(h),complete:u(h)})):this.cancelRequest(e,A);return c.promise.finally(()=>{for(let h of l.values())h()})}cancelRequest(e,r){e===this.mostRecentRequestId&&r.state!==0&&(this.#e.debug(this.ctx,`[${e}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function FY(t,e,r){if(r.prompt.suffix!==e.suffix||!t.startsWith(r.prefix))return!1;let n=t.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}s(FY,"isCandidate");f();f();var n3=class{constructor(e){this.maxSize=e;this.root=new r3;this.leafNodes=new Set}static{s(this,"LRURadixTrie")}set(e,r){let{node:n,remainingKey:o}=this.findClosestNode(e);if(o.length>0){for(let[a,c]of n.children)if(a.startsWith(o)){let l=a.slice(0,o.length),u=new r3;n.removeChild(a),n.addChild(l,u),u.addChild(a.slice(l.length),c),n=u,o=o.slice(l.length);break}if(o.length>0){let a=new r3;n.addChild(o,a),n=a}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(e){return this.findClosestNode(e).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(e){let{node:r,remainingKey:n}=this.findClosestNode(e);n.length>0||this.deleteNode(r)}findClosestNode(e){let r=!0,n=this.root,o=[{node:n,remainingKey:e}];for(;e.length>0&&r;){r=!1;for(let[a,c]of n.children)if(e.startsWith(a)){e=e.slice(a.length),o.unshift({node:c,remainingKey:e}),n=c,r=!0;break}}return{node:n,remainingKey:e,stack:o}}deleteNode(e){if(e.value=void 0,this.leafNodes.delete(e),e.parent===void 0||e.childCount>1)return;let{node:r,edge:n}=e.parent;if(e.childCount===1){let[a,c]=Array.from(e.children)[0];e.removeChild(a),r.removeChild(n),r.addChild(n+a,c);return}if(r.removeChild(n),r.parent===void 0)return;let o=r.parent;if(r.value===void 0&&r.childCount===1){let[a,c]=Array.from(r.children)[0],l=o.edge+a;r.removeChild(a),o.node.removeChild(o.edge),o.node.addChild(l,c)}}evictLeastRecentlyUsed(){let e=this.findLeastRecentlyUsed();e&&this.deleteNode(e)}findLeastRecentlyUsed(){let e;for(let r of this.leafNodes)(e===void 0||r.touched<e.touched)&&(e=r);return e}},r3=class{constructor(){this._children=new Map;this._touched=performance.now()}static{s(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(e,r){this._children.set(e,r),r.parent={node:this,edge:e}}removeChild(e){let r=this._children.get(e);r&&(r.parent=void 0),this._children.delete(e)}get value(){return this.touch(),this._value}set value(e){this.touch(),this._value=e}get touched(){return this._touched}touch(){this._touched=performance.now()}};var qv=class{constructor(){this.cache=new n3(100)}static{s(this,"CompletionsCache")}findAll(e,r){return this.cache.findAll(e).flatMap(({remainingKey:n,value:o})=>o.content.filter(a=>a.suffix===r&&a.choice.completionText.startsWith(n)&&a.choice.completionText.length>n.length).map(a=>({...a.choice,completionText:a.choice.completionText.slice(n.length),telemetryData:a.choice.telemetryData.extendedBy({},{foundOffset:n.length})})))}append(e,r,n){let o=this.cache.findAll(e);if(o.length>0&&o[0].remainingKey===""){let a=o[0].value.content;this.cache.set(e,{content:[...a,{suffix:r,choice:n}]})}else this.cache.set(e,{content:[{suffix:r,choice:n}]})}clear(){this.cache=new n3(100)}};f();f();f();f();f();f();f();f();f();async function*rN(t,e){for await(let r of t)yield e(r)}s(rN,"asyncIterableMap");async function*Nye(t,e){for await(let r of t)await e(r)&&(yield r)}s(Nye,"asyncIterableFilter");f();function Qye(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});return ir(t,"engine.messages",n,1)}s(Qye,"logEngineMessages");f();f();function Pye(t){if(t instanceof Error)return t.stack?t.stack:t.message;if(typeof t=="string")return t;try{return JSON.stringify(t)}catch{return String(t)}}s(Pye,"toString");var il=new Vr("streamChoices"),MY=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new qY;this.tool_calls=new UY;this.function_call=new HY;this.copilot_references=[];this.yielded=!1}static{s(this,"APIJsonDataStreaming")}append(e){e.text&&this.text.push(e.text),e.delta?.content&&e.delta.role!=="function"&&this.text.push(e.delta.content),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[])),e.copilot_annotations&&this.copilot_annotations.update(e.copilot_annotations),e.delta?.copilot_annotations&&this.copilot_annotations.update(e.delta.copilot_annotations),e.delta?.tool_calls&&e.delta.tool_calls.length>0&&this.tool_calls.update(e.delta.tool_calls),e.delta?.function_call&&this.function_call.update(e.delta.function_call),e?.finish_reason&&(this.finish_reason=e.finish_reason)}};function KJe(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!=""),r]}s(KJe,"splitChunk");var OY=class{constructor(){this.arguments=[]}static{s(this,"StreamingToolCall")}update(e){e.id&&(this.id=e.id),e.function.name&&(this.name=e.function.name),this.arguments.push(e.function.arguments)}},UY=class{constructor(){this.toolCalls=[]}static{s(this,"StreamingToolCalls")}update(e){e.forEach(r=>{let n=this.toolCalls.length>0?this.toolCalls[this.toolCalls.length-1]:void 0;(!n||r.id&&n.id!==r.id)&&(n=new OY,this.toolCalls.push(n)),n.update(r)})}getToolCalls(){return this.toolCalls}},HY=class{constructor(){this.arguments=[]}static{s(this,"StreamingFunctionCall")}update(e){e.name&&(this.name=e.name),this.arguments.push(e.arguments)}},qY=class{constructor(){this.current={}}static{s(this,"StreamCopilotAnnotations")}update(e){Object.entries(e).forEach(([r,n])=>{n.forEach(o=>this.update_namespace(r,o))})}update_namespace(e,r){this.current[e]||(this.current[e]=[]);let n=this.current[e],o=n.findIndex(a=>a.id===r.id);o>=0?n[o]=r:n.push(r)}for(e){return this.current[e]??[]}},Gv=class t{constructor(e,r,n,o,a,c,l){this.ctx=e;this.expectedNumChoices=r;this.response=n;this.body=o;this.telemetryData=a;this.dropCompletionReasons=c;this.cancellationToken=l;this.requestId=i3(this.response);this.stats=new VY;this.solutions={}}static{s(this,"SSEProcessor")}static create(e,r,n,o,a,c){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new t(e,r,n,l,o,a??[],c)}async*processSSE(e=()=>{}){try{yield*this.processSSEInner(e)}finally{this.cancel(),il.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),il.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(e){let r="",n=null,o,a;e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;il.debug(this.ctx,"chunk",c.toString());let[l,u]=KJe(r+c.toString());r=u;for(let d of l){let h=d.slice(5).trim();if(h=="[DONE]"){yield*this.finishSolutions(n,o,a,e);return}n=null;let A;try{A=JSON.parse(h)}catch{il.error(this.ctx,"Error parsing JSON stream data",d);continue}if(A.copilot_confirmation&&JJe(A.copilot_confirmation)&&await e("",{text:"",requestId:this.requestId,copilotConfirmation:A.copilot_confirmation}),A.copilot_references&&await e("",{text:"",requestId:this.requestId,copilotReferences:A.copilot_references}),A.choices===void 0){!A.copilot_references&&!A.copilot_confirmation&&(A.error!==void 0?il.error(this.ctx,"Error in response:",A.error.message):il.error(this.ctx,"Unexpected response with no choices or error: "+h)),A.copilot_errors&&await e("",{text:"",requestId:this.requestId,copilotErrors:A.copilot_errors});continue}if(o===void 0&&A.model&&(o=A.model),a===void 0&&A.usage&&(a=A.usage),this.allSolutionsDone()){r="";break e}for(let p=0;p<A.choices?.length;p++){let g=A.choices[p];il.debug(this.ctx,"choice",g),this.stats.add(g.index),g.index in this.solutions||(this.solutions[g.index]=new MY);let E=this.solutions[g.index];if(E==null)continue;E.append(g);let v=this.asSolutionDecision(),w=g.text?.indexOf(`
`)>-1||g.delta?.content?.indexOf(`
`)>-1;if(g.finish_reason||w){let S=E.text.join("");if(v=this.asSolutionDecision(await e(S,{text:S,index:g.index,requestId:this.requestId,annotations:E.copilot_annotations,copilotReferences:E.copilot_references,getAPIJsonData:s(()=>GY(E),"getAPIJsonData"),finished:!!g.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(g.finish_reason&&E.function_call.name!==void 0){n=g.finish_reason;continue}if(g.finish_reason&&(v.yieldSolution=!0,v.continueStreaming=!1),!v.yieldSolution)continue;let _=g.finish_reason??"client-trimmed";if(ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:_,engineName:o??"",engineChoiceSource:Rw(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(g.finish_reason)?this.solutions[g.index]=null:E.yielded||(this.stats.markYielded(g.index),yield{solution:E,finishOffset:v.finishOffset,reason:g.finish_reason,requestId:this.requestId,index:g.index,model:o,usage:a},E.yielded=!0),this.maybeCancel("after yielding finished choice"))return;v.continueStreaming||(this.solutions[g.index]=null)}}}for(let[c,l]of Object.entries(this.solutions)){let u=Number(c);if(l!=null&&(ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:o??""})),this.stats.markYielded(u),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u,model:o,usage:a},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&il.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{il.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(e){return e===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof e=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:e}:e}async*finishSolutions(e,r,n,o){for(let[a,c]of Object.entries(this.solutions)){let l=Number(a);if(c==null)continue;let u=c.text.join("");if(await o(u,{text:u,index:l,requestId:this.requestId,annotations:c.copilot_annotations,copilotReferences:c.copilot_references,getAPIJsonData:s(()=>GY(c),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!c.yielded&&(this.stats.markYielded(l),ir(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:e??"DONE",engineName:r??""})),yield{solution:c,finishOffset:void 0,reason:e??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(il.debug(this.ctx,"Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length==this.expectedNumChoices&&e.every(r=>r==null)}};function nN(t,e,r){let n=e.solution.text.join(""),o=!1;e.finishOffset!==void 0&&(il.debug(t,`solution ${e.index}: early finish at offset ${e.finishOffset}`),n=n.substring(0,e.finishOffset),o=!0),il.info(t,`solution ${e.index} returned. finish reason: [${e.reason}]`),il.debug(t,`solution ${e.index} details: finishOffset: [${e.finishOffset}]`);let a=GY(e.solution);return $Y(t,n,a,e.index,e.requestId,o,r)}s(nN,"prepareSolutionForReturn");function GY(t){let e=t.text.join(""),r=XJe(t),n=ZJe(t),o=t.copilot_annotations.current,a={text:e,tokens:t.text,tool_calls:r,function_call:n,copilot_annotations:o,finish_reason:t.finish_reason??"stop"};if(t.logprobs.length===0)return a;let c=t.logprobs.reduce((h,A)=>h.concat(A),[]),l=t.top_logprobs.reduce((h,A)=>h.concat(A),[]),u=t.text_offset.reduce((h,A)=>h.concat(A),[]),d=t.tokens.reduce((h,A)=>h.concat(A),[]);return{...a,logprobs:{token_logprobs:c,top_logprobs:l,text_offset:u,tokens:d}}}s(GY,"convertToAPIJsonData");function JJe(t){return typeof t.title=="string"&&typeof t.message=="string"&&!!t.confirmation}s(JJe,"isCopilotConfirmation");function Fye(t,e,r){if(!t)return{};try{return JSON.parse(t)}catch(n){throw new Error(`Failed to parse JSON for ${e} '${r}': ${Pye(n)}. Input: '${t}'`)}}s(Fye,"parseCallArguments");function XJe(t){let e=[],r=t.tool_calls.getToolCalls();for(let n of r)if(n.name){let o=n.arguments.join("").trim(),a=Fye(o,"tool call",n.name);e.push({type:"function",function:{name:n.name,arguments:a},approxNumTokens:n.arguments.length+1,id:n.id})}return e}s(XJe,"extractToolCalls");function ZJe(t){if(t.function_call.name){let e=t.function_call.arguments.join("").trim(),r=Fye(e,"function call",t.function_call.name);return{name:t.function_call.name,arguments:r}}}s(ZJe,"extractFunctionCall");var VY=class{constructor(){this.choices=new Map}static{s(this,"ChunkStats")}getChoiceStats(e){let r=this.choices.get(e);return r||(r=new WY,this.choices.set(e,r)),r}add(e){this.getChoiceStats(e).increment()}markYielded(e){this.getChoiceStats(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},WY=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{s(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};f();function eXe(t,e){return t!==null&&typeof t=="object"&&e in t}s(eXe,"hasKey");function Jd(t,e){return eXe(t,e)?t[e]:void 0}s(Jd,"getKey");var Mye=Et(Ca());var So=new Vr("fetchCompletions");function i3(t){return{headerRequestId:t.headers.get("x-request-id")||"",serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}s(i3,"getRequestId");function YY(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}s(YY,"getProcessingTime");function Oye(t){switch(t){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(Oye,"uiKindToIntent");var HA=class{static{s(this,"OpenAIFetcher")}};function tXe(t,e,r,n){return ZT(t,e,"proxy","v1/engines",r,n)}s(tXe,"getProxyEngineUrl");function Uye(t,e,r,n){for(let[o,a]of Object.entries(t)){if(r.includes(o))continue;let c=a;if(o==="extra"&&n){let l={...c};for(let u of n)delete l[u];c=l}e.properties[`request.option.${o}`]=JSON.stringify(c)??"undefined"}}s(Uye,"sanitizeRequestOptionTelemetry");async function Lye(t,e,r,n,o,a,c,l,u,d,h){let A=t.get(ks),p=tXe(t,c,r,n),g=u.extendedBy({endpoint:n,engineName:r,uiKind:l},K$(e));Uye(a,g,["prompt","suffix"],["context"]),g.properties.headerRequestId=o,ir(t,"request.sent",g);let E=r0(),v=Oye(l);return uO(t,p,c.token,v,o,a,d,h).then(w=>{let _=i3(w);g.extendWithRequestId(_);let S=r0()-E;return g.measurements.totalTimeMs=S,So.info(t,`Request ${o} at <${p}> finished with ${w.status} status after ${S}ms`),g.properties.status=String(w.status),So.debug(t,"request.response properties",g.properties),So.debug(t,"request.response measurements",g.measurements),So.debug(t,"prompt:",e),ir(t,"request.response",g),w}).catch(w=>{if(km(w))throw ir(t,"request.cancel",g),w;A.setWarning(Jd(w,"message")??"");let _=g.extendedBy({error:"Network exception"});ir(t,"request.shownWarning",_),g.properties.message=String(Jd(w,"name")??""),g.properties.code=String(Jd(w,"code")??""),g.properties.errno=String(Jd(w,"errno")??""),g.properties.type=String(Jd(w,"type")??"");let S=r0()-E;throw g.measurements.totalTimeMs=S,So.info(t,`Request ${o} at <${p}> rejected with ${String(w)} after ${S}ms`),So.debug(t,"request.error properties",g.properties),So.debug(t,"request.error measurements",g.measurements),ir(t,"request.error",g),w}).finally(()=>{gge(t,e,g)})}s(Lye,"fetchWithInstrumentation");async function rXe(t,e,r,n,o,a,c,l,u,d){let h=u.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});Uye(a,h,["messages"]),h.properties.headerRequestId=o,ir(t,"request.sent",h);let A=r0(),p=Oye(l),g=uW(t);YT()&&(g=await whe(t,g));try{let E=await uO(t,n,c.token,p,o,a,d,g),v=i3(E);h.extendWithRequestId(v);let w=r0()-A;return h.measurements.totalTimeMs=w,So.info(t,`Request ${o} at <${n}> finished with ${E.status} status after ${w}ms`),So.debug(t,"request.response properties",h.properties),So.debug(t,"request.response measurements",h.measurements),So.debug(t,"messages:",JSON.stringify(e)),ir(t,"request.response",h),E}catch(E){if(km(E))throw ir(t,"request.cancel",h),E;let v=h.extendedBy({error:"Network exception"});ir(t,"request.shownWarning",v),h.properties.message=String(Jd(E,"name")??""),h.properties.code=String(Jd(E,"code")??""),h.properties.errno=String(Jd(E,"errno")??""),h.properties.type=String(Jd(E,"type")??"");let w=r0()-A;throw h.measurements.totalTimeMs=w,So.info(t,`Request ${o} at <${n}> rejected with ${String(E)} after ${w}ms`),So.debug(t,"request.error properties",h.properties),So.debug(t,"request.error measurements",h.measurements),ir(t,"request.error",h),E}finally{Qye(t,e,h)}}s(rXe,"fetchChatWithInstrumentation");function zY(t){return Nye(t,e=>e.completionText.trim().length>0)}s(zY,"postProcessChoices");var nXe="github.copilot.completions.quotaExceeded",o3=class extends HA{static{s(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(ks),l="completions",u=await e.get(Ei).getToken(),d=await this.fetchWithParameters(e,l,r,u,n,a);if(d==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let g=d.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(E){So.exception(e,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(d.status!==200){let g=this.createTelemetryData(l,e,r);return this.handleError(e,c,g,d,u)}let A=Gv.create(e,r.count,d,n,[],a).processSSE(o),p=rN(A,g=>nN(e,g,n));return{type:"success",choices:zY(p),getProcessingTime:s(()=>YY(d),"getProcessingTime")}}async fetchAndStreamChat(e,r,n,o,a,c,l,u={},d){if(this.#e)return{type:"canceled",reason:this.#e};let h="https://copilot-proxy.githubusercontent.com/chat/completions",A={messages:r,model:l.id,stream:!0,...u},p=n.extendedBy({endpoint:h,model:l.name}),g=e.get(ks),E=await e.get(Ei).getToken(),v=await rXe(e,r,l.id,h,a,A,E,o,p,d);if(d?.isCancellationRequested){let D=v.body();try{D&&"destroy"in D&&typeof D.destroy=="function"?D.destroy():D instanceof ReadableStream&&D.cancel()}catch(N){So.exception(e,N,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(v.status!==200){let D=on.createAndMarkAsIssued({endpoint:h,engineName:l.name,uiKind:o,headerRequestId:a});return this.handleError(e,g,D,v,E)}let _=Gv.create(e,1,v,p,[],Mye.CancellationToken.None).processSSE(),S=rN(_,D=>nN(e,D,n));return{type:"success",choices:zY(S),getProcessingTime:s(()=>YY(v),"getProcessingTime")}}async fetchAndStreamSpeculation(e,r,n,o,a){if(this.#e)return{type:"canceled",reason:this.#e};let c=e.get(ks),l="speculation",u=await e.get(Ei).getToken(),d={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},speculation:r.speculation,ourRequestId:gf(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers,stops:r.stops},h=await this.fetchSpeculationWithParameters(e,l,d,u,n,a);if(h==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a?.isCancellationRequested){let E=h.body();try{E&&"destroy"in E&&typeof E.destroy=="function"?E.destroy():E instanceof ReadableStream&&E.cancel()}catch(v){So.exception(e,v,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(h.status!==200){let E=this.createTelemetryData(l,e,d);return this.handleError(e,c,E,h,u)}let p=Gv.create(e,1,h,n,[],a).processSSE(o),g=rN(p,E=>nN(e,E,n));return{type:"success",choices:zY(g),getProcessingTime:s(()=>YY(h),"getProcessingTime")}}createTelemetryData(e,r,n){return on.createAndMarkAsIssued({endpoint:e,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(e,r,n,o,a,c){let l={prompt:n.prompt.prefix,speculation:n.speculation,temperature:0,stream:!0,stop:n.stops??[]};return await Uv(0),c?.isCancellationRequested?"not-sent":await Lye(e,n.prompt,n.engineModelId,r,n.ourRequestId,l,o,n.uiKind,a,c,n.headers)}async fetchWithParameters(e,r,n,o,a,c){let l=e.get(Sr).disableLogProb(a),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:iN(e),temperature:jY(e,n.count),top_p:qye(e),n:n.count,stop:Hye(e,n.languageId),stream:!0,extra:n.extra};(n.requestLogProbs||!l)&&(u.logprobs=2);let d=kw(n.repoInfo);return d!==void 0&&(u.nwo=d),n.postOptions&&Object.assign(u,n.postOptions),n.prompt.context&&(u.extra.context=n.prompt.context),await Uv(0),c?.isCancellationRequested?"not-sent":await Lye(e,n.prompt,n.engineModelId,r,n.ourRequestId,u,o,n.uiKind,a,c,n.headers)}async handleError(e,r,n,o,a){let c=await o.text();if(o.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:nXe,title:"Learn More"});let u=Ga(e,d=>{this.#e=void 0,(d.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),u.dispose())});return{type:"failed",reason:this.#e}}if(o.status===466)return r.setError(c),So.info(e,c),{type:"failed",reason:`client not supported: ${c}`};if(o.clientError&&!o.headers.get("x-github-request-id")){let l=`Last response was a ${o.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;So.error(e,l),r.setWarning(l),n.properties.error=`Response status was ${o.status} with no x-github-request-id header`}else o.clientError?(So.warn(e,`Response status was ${o.status}:`,c),r.setWarning(`Last response was a ${o.status} error: ${c}`),n.properties.error=`Response status was ${o.status}: ${c}`):(r.setWarning(`Last response was a ${o.status} error`),n.properties.error=`Response status was ${o.status}`);return n.properties.status=String(o.status),ir(e,"request.shownWarning",n),o.status===401||o.status===403?(e.get(Ei).resetToken(o.status),{type:"failed",reason:`token expired or invalid: ${o.status}`}):o.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",So.warn(e,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):o.status===499?(So.info(e,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(So.error(e,"Unhandled status from server:",o.status,c),{type:"failed",reason:`unhandled status from server: ${o.status} ${c}`})}};function $Y(t,e,r,n,o,a,c){return mge(t,e,r,o,n),{completionText:e,meanLogProb:iXe(t,r),meanAlternativeLogProb:oXe(t,r),choiceIndex:n,requestId:o,blockFinished:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:c,copilotAnnotations:r.copilot_annotations,clientCompletionId:gf(),finishReason:r.finish_reason}}s($Y,"convertToAPIChoice");function iXe(t,e){if(e?.logprobs?.token_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--)r+=e.logprobs.token_logprobs[a],n+=1;return n>0?r/n:void 0}catch(r){Qo.exception(t,r,"Error calculating mean prob")}}s(iXe,"calculateMeanLogProb");function oXe(t,e){if(e?.logprobs?.top_logprobs)try{let r=0,n=0,o=50;for(let a=0;a<e.logprobs.token_logprobs.length-1&&o>0;a++,o--){let c={...e.logprobs.top_logprobs[a]};delete c[e.logprobs.tokens[a]],r+=Math.max(...Object.values(c)),n+=1}return n>0?r/n:void 0}catch(r){Qo.exception(t,r,"Error calculating mean prob")}}s(oXe,"calculateMeanAlternativeLogProb");function jY(t,e){return Fy(t)||e<=1?0:e<10?.2:e<20?.4:.8}s(jY,"getTemperatureForSamples");var sXe={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Hye(t,e){return sXe[e??""]??[`


`,"\n```"]}s(Hye,"getStops");function qye(t){return 1}s(qye,"getTopP");function iN(t){return Dw}s(iN,"getMaxSolutionTokens");f();f();var Vv=class{constructor(){this.cache=new jr(100)}static{s(this,"SpeculativeRequestCache")}set(e,r){this.cache.set(e,r)}async request(e){let r=this.cache.get(e);r!==void 0&&(this.cache.delete(e),await r())}};var Pwr=new Vr("getCompletions");f();f();f();f();f();f();f();f();var Vye=ee.Object({importance:ee.Optional(ee.Integer({minimum:0,maximum:100})),id:ee.Optional(ee.String()),origin:ee.Optional(ee.Union([ee.Literal("request"),ee.Literal("update")]))}),Wye=ee.Intersect([ee.Object({name:ee.String(),value:ee.String()}),Vye]),$ye=ee.Intersect([ee.Object({uri:ee.String(),value:ee.String(),additionalUris:ee.Optional(ee.Array(ee.String()))}),Vye]),aXe=[Wye,$ye],cXe=ee.Union(aXe),C3r=new Map([["Trait",Vg.Compile(Wye)],["CodeSnippet",Vg.Compile($ye)]]),lXe=s(t=>t,"ensureTypesAreEqual");lXe(!0);var uXe=ee.Object({contextItems:ee.Array(cXe)}),fXe=ee.Object({selector:ee.Array(ee.Union([ee.String(),ee.Object({language:ee.Optional(ee.String()),scheme:ee.Optional(ee.String()),pattern:ee.Optional(ee.String())})]))}),KY=ee.Object({id:ee.String()}),dXe=ee.Intersect([KY,fXe]),hXe=ee.Intersect([KY,uXe]),E3r=ee.Object({providers:ee.Array(dXe)}),I3r=ee.Object({providers:ee.Array(KY)}),AXe=ee.Object({providers:ee.Array(hXe),updating:ee.Optional(ee.Array(ee.String()))}),x3r=ee.Intersect([Hge,ee.Object({contextItems:ee.Optional(AXe)})]);function oN(t,e){return t.map(r=>{let n=r.data.filter(o=>o.type===e);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}s(oN,"filterContextItemsByType");f();f();var iu=class{constructor(e=()=>new JY){this.createStatistics=e;this.statistics=new jr(25)}static{s(this,"ContextProviderStatistics")}getStatisticsForCompletion(e){let r=this.statistics.get(e);if(r)return r;let n=this.createStatistics();return this.statistics.set(e,n),n}getPreviousStatisticsForCompletion(e){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let o=r[n];if(o!==e)return this.statistics.peek(o)}}},JY=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{s(this,"PerCompletionContextProviderStatistics")}addExpectations(e,r){let n=this._expectations.get(e)??[];this._expectations.set(e,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(e,r){this._lastResolution.set(e,r)}get(e){return this._statistics.get(e)}computeMatch(e){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let o=this._lastResolution.get(r)??"none";if(o==="none"||o==="error"){this._statistics.set(r,{usage:"none",resolution:o});continue}let a=[];for(let[d,h]of n){let A={id:d.id,type:d.type};if(d.origin&&(A.origin=d.origin),h==="content_excluded"){a.push({...A,usage:"none_content_excluded"});continue}let p=e.find(g=>g.source===d);p===void 0?a.push({...A,usage:"error"}):a.push({...A,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let l=a.reduce((d,h)=>h.usage==="full"?d+1:h.usage==="partial"?d+.5:d,0)/n.length,u=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:o,usage:u,usageDetails:a})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function sN(t){return t.map(e=>{if(!(e.source===void 0||e.expectedTokens===void 0||e.actualTokens===void 0))return{source:e.source,expectedTokens:e.expectedTokens,actualTokens:e.actualTokens}}).filter(e=>e!==void 0)}s(sN,"componentStatisticsToPromptMatcher");var pXe=Et(Ca());var aN=class{static{s(this,"ContextProviderRegistry")}},XY=class{static{s(this,"DefaultContextProviders")}};function cN(t,e,r){let n=t.get(iu).getStatisticsForCompletion(e);return r.map(a=>{let{providerId:c,resolution:l,resolutionTimeMs:u,matchScore:d,data:h}=a,A=n.get(c),p=A?.usage??"none";(d<=0||l==="none"||l==="error")&&(p="none");let g={providerId:c,resolution:l,resolutionTimeMs:u,usage:p,usageDetails:A?.usageDetails,matched:d>0,numResolvedItems:h.length},E=A?.usageDetails!==void 0?A?.usageDetails.filter(w=>w.usage==="full"||w.usage==="partial"||w.usage==="partial_content_excluded").length:void 0,v=A?.usageDetails!==void 0?A?.usageDetails.filter(w=>w.usage==="partial"||w.usage==="partial_content_excluded").length:void 0;return E!==void 0&&(g.numUsedItems=E),v!==void 0&&(g.numPartiallyUsedItems=v),g})}s(cN,"telemetrizeContextItems");function lN(t){return t.matchScore>0&&t.resolution!=="error"}s(lN,"matchContextItems");function mXe(t,e){let r=gXe(t,e),n=es(t,Ft.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let o=t.get(XY).getIds();return Array.from(new Set([...o,...r,...n]))}s(mXe,"getActiveContextProviders");function gXe(t,e){return wre(t)?["*"]:t.get(Sr).contextProviders(e)}s(gXe,"getExpContextProviders");function Wv(t,e){return mXe(t,e).length>0}s(Wv,"useContextProviderAPI");var fE=class{constructor(e){this.ctx=e;this.scheduledResolutions=new jr(25)}static{s(this,"ContextProviderBridge")}schedule(e,r,n,o,a,c){let l=this.ctx.get(aN),{textDocument:u,originalPosition:d,originalOffset:h,originalVersion:A,editsWithPosition:p}=e,g=l.resolveAllProviders(r,n,{uri:u.uri,languageId:u.detectedLanguageId,version:A,offset:h,position:d,proposedEdits:p.length>0?p:void 0},o,a,c?.data);this.scheduledResolutions.set(r,g)}async resolution(e){let r=this.scheduledResolutions.get(e);return r?await r:[]}};f();f();var uN=class{constructor(e,r,n){this.languageId=e;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{s(this,"BaseBlockParser")}async getNodeMatchAtPosition(e,r,n){let o=await yv(this.languageId,e);try{let c=o.rootNode.descendantForIndex(r);for(;c;){let l=this.nodeMatch[c.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(c.type))break;let u=this.nodeTypesWithBlockOrStmtChild.get(c.type);if((u==""?c.namedChildren[0]:c.childForFieldName(u))?.type==l)break}c=c.parent}return c?n(c):void 0}finally{o.delete()}}getNextBlockAtPosition(e,r,n){return this.getNodeMatchAtPosition(e,r,o=>{let a=o.children.reverse().find(c=>c.type==this.nodeMatch[o.type]);if(a){if(this.languageId=="python"&&a.parent){let c=a.parent.type==":"?a.parent.parent:a.parent,l=c?.nextSibling;for(;l&&l.type=="comment";){let u=l.startPosition.row==a.endPosition.row&&l.startPosition.column>=a.endPosition.column,d=l.startPosition.row>c.endPosition.row&&l.startPosition.column>c.startPosition.column;if(u||d)a=l,l=l.nextSibling;else break}}if(!(a.endIndex>=a.tree.rootNode.endIndex-1&&(a.hasError||a.parent.hasError)))return n(a)}})}async isBlockBodyFinished(e,r,n){let o=(e+r).trimEnd(),a=await this.getNextBlockAtPosition(o,n,c=>c.endIndex);if(a!==void 0&&a<o.length){let c=a-e.length;return c>0?c:void 0}}getNodeStart(e,r){let n=e.trimEnd();return this.getNodeMatchAtPosition(n,r,o=>o.startIndex)}},fN=class extends uN{constructor(r,n,o,a,c){super(r,a,c);this.blockEmptyMatch=n;this.lineMatch=o}static{s(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let o=await this.getNextBlockAtPosition(r,n,a=>{a.startIndex<n&&(n=a.startIndex);let c=r.substring(n,a.endIndex).trim();return c==""||c.replace(/\s/g,"")==this.blockEmptyMatch});return o===void 0||o}async isEmptyBlockStart(r,n){return n=zye(r,n),this.isBlockStart(yXe(r,n))&&this.isBlockBodyEmpty(r,n)}};function yXe(t,e){let r=t.lastIndexOf(`
`,e-1),n=t.indexOf(`
`,e);return n<0&&(n=t.length),t.slice(r+1,n)}s(yXe,"getLineAtOffset");function zye(t,e){let r=e;for(;r>0&&/\s/.test(t.charAt(r-1));)r--;return r}s(zye,"rewindToNearestNonWs");function Yye(t,e){let r=t.startIndex,n=t.startIndex-t.startPosition.column,o=e.substring(n,r);if(/^\s*$/.test(o))return o}s(Yye,"indent");function CXe(t,e,r){if(e.startPosition.row<=t.startPosition.row)return!1;let n=Yye(t,r),o=Yye(e,r);return n!==void 0&&o!==void 0&&n.startsWith(o)}s(CXe,"outdented");var Xd=class extends uN{constructor(r,n,o,a,c,l,u){super(r,n,o);this.startKeywords=a;this.blockNodeType=c;this.emptyStatementType=l;this.curlyBraceLanguage=u}static{s(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let o=r.text.trim();return this.curlyBraceLanguage&&(o.startsWith("{")&&(o=o.slice(1)),o.endsWith("}")&&(o=o.slice(0,-1)),o=o.trim()),!!(o.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&Zme(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let c=n;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;n=zye(r,n);let[o,a]=await B$(this.languageId,r);try{let c=o.rootNode.descendantForIndex(n-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let A=c;for(;A.parent;){if(A.type=="function_signature"||A.type=="method_signature"){let p=c.nextSibling;return p&&A.hasError&&CXe(A,p,r)?!0:!A.children.find(E=>E.type==";")&&A.endIndex<=n}A=A.parent}}let l=null,u=null,d=null,h=c;for(;h!=null;){if(h.type==this.blockNodeType){u=h;break}if(this.nodeMatch[h.type]){d=h;break}if(h.type=="ERROR"){l=h;break}h=h.parent}if(u!=null){if(!u.parent||!this.nodeMatch[u.parent.type])return!1;if(this.languageId=="python"){let A=u.previousSibling;if(A!=null&&A.hasError&&(A.text.startsWith('"""')||A.text.startsWith("'''")))return!0}return this.isBlockEmpty(u,n)}if(l!=null){if(l.previousSibling?.type=="module"||l.previousSibling?.type=="internal_module"||l.previousSibling?.type=="def")return!0;if(this.languageId==="python"&&a>=14&&l.hasError&&(l.text.startsWith('"')||l.text.startsWith("'"))){let E=l.parent?.type;if(E==="function_definition"||E==="class_definition"||E==="module")return!0}let A=[...l.children].reverse(),p=A.find(E=>this.startKeywords.includes(E.type)),g=A.find(E=>E.type==this.blockNodeType);if(p){switch(this.languageId){case"python":{p.type=="try"&&c.type=="identifier"&&c.text.length>4&&(g=A.find(w=>w.hasError)?.children.find(w=>w.type=="block"));let E,v=0;for(let w of l.children){if(w.type==":"&&v==0){E=w;break}w.type=="("&&(v+=1),w.type==")"&&(v-=1)}if(E&&p.endIndex<=E.startIndex&&E.nextSibling){if(p.type=="def"){let w=E.nextSibling;if(w.type=='"'||w.type=="'"||w.type=="ERROR"&&(w.text=='"""'||w.text=="'''"))return!0}return!1}break}case"javascript":{if(p.type==="class")if(a<=13){if(A.find(_=>_.type==="formal_parameters"))return!0}else{let w=l.children;for(let _=0;_<w.length;_++)if(w[_].type==="formal_parameters")return _+1===w.length||w[_+1]?.type==="{"&&_+2===w.length}let E=A.find(w=>w.type=="{");if(E&&E.startIndex>p.endIndex&&E.nextSibling!=null||A.find(w=>w.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}case"typescript":{let E=A.find(w=>w.type=="{");if(E&&E.startIndex>p.endIndex&&E.nextSibling!=null||A.find(w=>w.type=="do")&&p.type=="while"||p.type=="=>"&&p.nextSibling&&p.nextSibling.type!="{")return!1;break}}return g&&g.startIndex>p.endIndex?this.isBlockEmpty(g,n):!0}}if(d!=null){let A=this.nodeMatch[d.type],p=d.children.slice().reverse().find(g=>g.type==A);if(p)return this.isBlockEmpty(p,n);if(this.nodeTypesWithBlockOrStmtChild.has(d.type)){let g=this.nodeTypesWithBlockOrStmtChild.get(d.type),E=g==""?d.children[0]:d.childForFieldName(g);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{o.delete()}}},mSr={python:new Xd("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Xd("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Xd("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Xd("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_expression:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new fN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new fN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),"c-sharp":new Xd("csharp",{},new Map([]),[],"block",null,!0),java:new Xd("java",{},new Map([]),[],"block",null,!0),php:new Xd("php",{},new Map([]),[],"block",null,!0),cpp:new Xd("cpp",{},new Map([]),[],"block",null,!0)};var SSr=new Vr("parseBlock");var EXe=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(t=>t+"\\b")),BSr=new RegExp(`^(${EXe.join("|")})`);f();f();f();f();f();f();var IXe={tokenizerName:"o200k_base"};function xXe(t){return{...IXe,...t}}s(xXe,"cursorContextOptions");function s3(t,e={}){let r=xXe(e),n=uc(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let o=t.source.slice(0,t.offset);return r.maxLineCount!==void 0&&(o=o.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(o=n.takeLastLinesTokens(o,r.maxTokenLength)),{context:o,lineCount:o.split(`
`).length,tokenLength:n.tokenLength(o),tokenizerName:r.tokenizerName}}s(s3,"getCursorContext");f();f();var vXe={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function jye(t){let e=vXe[t.semantics],r=["snippets"].includes(t.semantics)?"these":"this";return{headline:t.relativePath?`Compare ${r} ${e} from ${t.relativePath}:`:`Compare ${r} ${e}:`,snippet:t.snippet}}s(jye,"announceSnippet");var ZY=class{constructor(e){this.keys=[];this.cache={};this.size=e}static{s(this,"FifoCache")}put(e,r){if(this.cache[e]=r,this.keys.length>this.size){this.keys.push(e);let n=this.keys.shift()??"";delete this.cache[n]}}get(e){return this.cache[e]}};var ez=class{static{s(this,"Tokenizer")}constructor(e){this.stopsForLanguage=wXe.get(e.languageId)??_Xe}tokenize(e){return new Set(bXe(e).filter(r=>!this.stopsForLanguage.has(r)))}},Kye=new ZY(20),$v=class{static{s(this,"WindowedMatcher")}constructor(e){this.referenceDoc=e,this.tokenizer=new ez(e)}get referenceTokens(){return Promise.resolve(this.createReferenceTokens())}createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,r="descending"){return r=="ascending"?e.sort((n,o)=>n.score>o.score?1:-1):r=="descending"?e.sort((n,o)=>n.score>o.score?-1:1):e}async retrieveAllSnippets(e,r="descending"){let n=[];if(e.source.length===0||(await this.referenceTokens).size===0)return n;let o=e.source.split(`
`),a=this.id()+":"+e.source,c=Kye.get(a)??[],l=c.length==0,u=l?o.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[h,A]]of this.getWindowsDelineations(o).entries()){if(l){let E=new Set;u.slice(h,A).forEach(v=>v.forEach(w=>E.add(w),E)),c.push(E)}let p=c[d],g=this.similarityScore(p,await this.referenceTokens);if(n.length&&h>0&&n[n.length-1].endLine>h){n[n.length-1].score<g&&(n[n.length-1].score=g,n[n.length-1].startLine=h,n[n.length-1].endLine=A);continue}n.push({score:g,startLine:h,endLine:A})}return l&&Kye.put(a,c),this.sortScoredSnippets(n,r)}findMatches(e,r){return this.findBestMatch(e,r)}async findBestMatch(e,r){if(e.source.length===0||(await this.referenceTokens).size===0)return[];let n=e.source.split(`
`),o=await this.retrieveAllSnippets(e,"descending");if(o.length===0)return[];let a=[];for(let c=0;c<o.length&&c<r;c++)if(o[c].score!==0){let l=n.slice(o[c].startLine,o[c].endLine).join(`
`);a.push({snippet:l,semantics:"snippet",provider:"similar-files",...o[c]})}return a}};function bXe(t){return t.split(/[^a-zA-Z0-9]/).filter(e=>e.length>0)}s(bXe,"splitIntoWords");var TXe=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),_Xe=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...TXe]),wXe=new Map([]);f();f();f();function tz(t,e,r){return{type:"virtual",indentation:t,subs:e,label:r}}s(tz,"virtualNode");function Jye(t,e,r,n,o){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:t,lineNumber:e,sourceLine:r,subs:n,label:o}}s(Jye,"lineNode");function rz(t){return{type:"blank",lineNumber:t,subs:[]}}s(rz,"blankNode");function dN(t){return{type:"top",indentation:-1,subs:t??[]}}s(dN,"topNode");function ou(t){return t.type==="blank"}s(ou,"isBlank");function a3(t){return t.type==="line"}s(a3,"isLine");function dE(t){return t.type==="virtual"}s(dE,"isVirtual");function Xye(t,e){return hE(t,r=>{r.label=r.label?e(r.label)?void 0:r.label:void 0},"bottomUp"),t}s(Xye,"clearLabelsIf");function hE(t,e,r){function n(o){r==="topDown"&&e(o),o.subs.forEach(a=>{n(a)}),r==="bottomUp"&&e(o)}s(n,"_visit"),n(t)}s(hE,"visitTree");function hN(t,e,r){let n=s(a=>{if(r!==void 0&&r(a))return a;{let c=a.subs.map(n).filter(l=>l!==void 0);return a.subs=c,e(a)}},"rebuild"),o=n(t);return o!==void 0?o:dN()}s(hN,"rebuildTree");f();function BXe(t){let e=t.split(`
`),r=e.map(d=>d.match(/^\s*/)[0].length),n=e.map(d=>d.trimLeft());function o(d){let[h,A]=a(d+1,r[d]);return[Jye(r[d],d,n[d],h),A]}s(o,"parseNode");function a(d,h){let A,p=[],g=d,E;for(;g<n.length&&(n[g]===""||r[g]>h);)if(n[g]==="")E===void 0&&(E=g),g+=1;else{if(E!==void 0){for(let v=E;v<g;v++)p.push(rz(v));E=void 0}[A,g]=o(g),p.push(A)}return E!==void 0&&(g=E),[p,g]}s(a,"parseSubs");let[c,l]=a(0,-1),u=l;for(;u<n.length&&n[u]==="";)c.push(rz(u)),u+=1;if(u<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${u} out of ${n.length}`);return dN(c)}s(BXe,"parseRaw");function c3(t,e){function r(n){if(a3(n)){let o=e.find(a=>a.matches(n.sourceLine));o&&(n.label=o.label)}}s(r,"visitor"),hE(t,r,"bottomUp")}s(c3,"labelLines");function AN(t){function e(r){if(dE(r)&&r.label===void 0){let n=r.subs.filter(o=>!ou(o));n.length===1&&(r.label=n[0].label)}}s(e,"visitor"),hE(t,e,"bottomUp")}s(AN,"labelVirtualInherited");function l3(t){return Object.keys(t).map(e=>{let r;return t[e].test?r=s(n=>t[e].test(n),"matches"):r=t[e],{matches:r,label:e}})}s(l3,"buildLabelRules");function nz(t){let r=hN(t,s(function(n){if(n.subs.length===0||n.subs.findIndex(c=>c.label==="closer"||c.label==="opener")===-1)return n;let o=[],a;for(let c=0;c<n.subs.length;c++){let l=n.subs[c],u=n.subs[c-1];if(l.label==="opener"&&u!==void 0&&a3(u))u.subs.push(l),l.subs.forEach(d=>u.subs.push(d)),l.subs=[];else if(l.label==="closer"&&a!==void 0&&(a3(l)||dE(l))&&l.indentation>=a.indentation){let d=o.length-1;for(;d>0&&ou(o[d]);)d-=1;if(a.subs.push(...o.splice(d+1)),l.subs.length>0){let h=a.subs.findIndex(E=>E.label!=="newVirtual"),A=a.subs.slice(0,h),p=a.subs.slice(h),g=p.length>0?[tz(l.indentation,p,"newVirtual")]:[];a.subs=[...A,...g,l]}else a.subs.push(l)}else o.push(l),ou(l)||(a=l)}return n.subs=o,n},"rebuilder"));return Xye(t,n=>n==="newVirtual"),r}s(nz,"combineClosersAndOpeners");function Zye(t,e=ou,r){return hN(t,s(function(o){if(o.subs.length<=1)return o;let a=[],c=[],l,u=!1;function d(h=!1){if(l!==void 0&&(a.length>0||!h)){let A=tz(l,c,r);a.push(A)}else c.forEach(A=>a.push(A))}s(d,"flushBlockIntoNewSubs");for(let h=0;h<o.subs.length;h++){let A=o.subs[h],p=e(A);!p&&u&&(d(),c=[]),u=p,c.push(A),ou(A)||(l=l??A.indentation)}return d(!0),o.subs=a,o},"rebuilder"))}s(Zye,"groupBlocks");function pN(t){return hN(t,s(function(r){return dE(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&dE(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}s(pN,"flattenVirtual");var RXe={opener:/^[[({]/,closer:/^[\])}]/},kXe=l3(RXe),eCe={};function iz(t,e){eCe[t]=e}s(iz,"registerLanguageSpecificParser");function oz(t,e){let r=BXe(t),n=eCe[e??""];return n?n(r):(c3(r,kXe),nz(r))}s(oz,"parseTree");function mN(t,e){let r=[],n=e.length;if(n==0)return[];if(n<t)return[[0,n]];for(let o=0;o<n-t+1;o++)r.push([o,o+t]);return r}s(mN,"getBasicWindowDelineations");var gN=class t extends $v{static{s(this,"FixedWindowSizeJaccardMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return mN(this.windowLength,e)}_getCursorContextInfo(e){return s3(e,{maxLineCount:this.windowLength})}similarityScore(e,r){return DXe(e,r)}};function DXe(t,e){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size/(t.size+e.size-r.size)}s(DXe,"computeScore");f();var yN=class t extends $v{static{s(this,"BlockTokenSubsetMatcher")}constructor(e,r){super(e),this.windowLength=r}static{this.FACTORY=s(e=>({to:s(r=>new t(r,e),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return mN(this.windowLength,e)}_getCursorContextInfo(e){return s3(e,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=t.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let e=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=e?this.referenceDoc.source.slice(e,r):s3(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(e){switch(e){case"csharp":return!0;default:return!1}}similarityScore(e,r){return NXe(e,r)}async getEnclosingMemberStart(e,r){let n;try{n=await yv(this.referenceDoc.languageId,e);let o=n.rootNode.namedDescendantForIndex(r);for(;o&&!(t.isMember(o)||t.isBlock(o));)o=o.parent??void 0;return o}finally{n?.delete()}}static isMember(e){switch(e?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(e){switch(e?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function NXe(t,e){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size}s(NXe,"computeScore");var QXe=0,PXe=60,FXe=4,LXe=1,MXe=20,OXe=1e4,tCe={snippetLength:PXe,threshold:QXe,maxTopSnippets:FXe,maxCharPerFile:OXe,maxNumberOfFiles:MXe,maxSnippetsPerFile:LXe,useSubsetMatching:!1};var sz={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function UXe(t,e){return(e.useSubsetMatching?yN.FACTORY(e.snippetLength):gN.FACTORY(e.snippetLength)).to(t)}s(UXe,"getMatcher");async function rCe(t,e,r){let n=UXe(t,r);return r.maxTopSnippets===0?[]:(await e.filter(a=>a.source.length<r.maxCharPerFile&&a.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(a,c)=>(await a).concat((await n.findMatches(c,r.maxSnippetsPerFile)).map(l=>({relativePath:c.relativePath,...l}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>r.threshold).sort((a,c)=>a.score-c.score).slice(-r.maxTopSnippets)}s(rCe,"getSimilarSnippets");function nCe(t,e){return{...sz,useSubsetMatching:az(t,e)}}s(nCe,"getCppSimilarFilesOptions");function iCe(t){return sz.maxTopSnippets}s(iCe,"getCppNumberOfSnippets");var HXe=new Map([["cpp",nCe]]);function CN(t,e,r){let n=HXe.get(r);return n?n(t,e):{...tCe,useSubsetMatching:az(t,e)}}s(CN,"getSimilarFilesOptions");var qXe=new Map([["cpp",iCe]]);function oCe(t,e){let r=qXe.get(e);return r?r(t):jme}s(oCe,"getNumberOfSnippets");function az(t,e){return(e.filtersAndExp.exp.variables.copilotsubsetmatching||es(t,Ft.UseSubsetMatching))??!1}s(az,"useSubsetMatching");f();f();f();f();var GXe="content_excluded";async function EN(t,e,r,n){let o=oN(r,"CodeSnippet");if(o.length===0)return[];let a=new Set,c=o.flatMap(h=>h.data.map(A=>(a.add(A.uri),A.additionalUris?.forEach(p=>a.add(p)),{providerId:h.providerId,data:A}))),l=t.get(ri),u=new Map;await Promise.all(Array.from(a).map(async h=>{u.set(h,await l.getTextDocumentValidation({uri:h}))}));let d=t.get(iu).getStatisticsForCompletion(e);return c.filter(h=>{let p=[h.data.uri,...h.data.additionalUris??[]].every(g=>u.get(g)?.status==="valid");return p?d.addExpectations(h.providerId,[[h.data,"included"]]):d.addExpectations(h.providerId,[[h.data,GXe]]),p}).map(h=>h.data)}s(EN,"getCodeSnippetsFromContextItems");function sCe(t,e){let r=t.get(ri);return e.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}s(sCe,"addRelativePathToCodeSnippets");f();function Ho(t){if(t.children)return Array.isArray(t.children)?t.children.join(""):t.children}s(Ho,"Text");function Kg(t){return t.children}s(Kg,"Chunk");f();function Gt(t,e,r){let n=[];Array.isArray(e.children)?n=e.children:e.children&&(n=[e.children]);let o={...e,children:n};return r&&(o.key=r),{type:t,props:o}}s(Gt,"functionComponentFunction");function Cf(t){return{type:"f",children:t}}s(Cf,"fragmentFunction");Cf.isFragmentFunction=!0;var IN=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(hc,d=>{d.codeSnippets!==r&&n(d.codeSnippets),d.document.uri!==o?.uri&&a(d.document)}),!r||r.length===0||!o)return;let c=sCe(t.ctx,r),l=new Map;for(let d of c){let h=d.relativePath??d.snippet.uri,A=l.get(h);A===void 0&&(A=[],l.set(h,A)),A.push(d)}let u=[];for(let[d,h]of l.entries()){let A=h.filter(p=>p.snippet.value.length>0);A.length>0&&u.push({chunkElements:A.map(p=>p.snippet),importance:Math.max(...A.map(p=>p.snippet.importance??0)),uri:d})}if(u.length!==0)return u.sort((d,h)=>h.importance-d.importance),u.reverse(),u.map(d=>{let h=[];return h.push(Gt(Ho,{children:`Compare ${d.chunkElements.length>1?"these snippets":"this snippet"} from ${d.uri}:`})),d.chunkElements.forEach((A,p)=>{h.push(Gt(Ho,{source:A,children:A.value},A.id)),d.chunkElements.length>1&&p<d.chunkElements.length-1&&h.push(Gt(Ho,{children:"---"}))}),Gt(Kg,{children:h})})},"CodeSnippets");f();function cz(t){return t.children}s(cz,"CompletionsContext");function lz(t){return t.children}s(lz,"StableCompletionsContext");function uz(t){return t.children}s(uz,"AdditionalCompletionsContext");function xN(t){return t.name===cz.name||t.name===lz.name||t.name===uz.name}s(xN,"isContextNode");f();f();f();function vN(t,e){if(t.length===0||e.length===0)return{score:t.length+e.length};let r=Array.from({length:t.length}).map(()=>Array.from({length:e.length}).map(()=>0));for(let n=0;n<t.length;n++)r[n][0]=n;for(let n=0;n<e.length;n++)r[0][n]=n;for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)r[o][n]=Math.min((o==0?n:r[o-1][n])+1,(n==0?o:r[o][n-1])+1,(o==0||n==0?Math.max(o,n):r[o-1][n-1])+(t[o]==e[n]?0:1));return{score:r[t.length-1][e.length-1]}}s(vN,"findEditDistanceScore");var u3=50;function fz(t){let e=t*4,r=t*.1;return Math.floor(e+r)}s(fz,"approximateMaxCharacters");function f3(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,d]=e.useState(),[h,A]=e.useState();e.useData(hc,g=>{let E=g.document;(g.document.uri!==r?.uri||E.getText()!==r?.getText())&&n(E),g.position!==o&&a(g.position),g.suffixMatchThreshold!==u&&d(g.suffixMatchThreshold),g.maxPromptTokens!==c&&l(g.maxPromptTokens),g.tokenizer!==h&&A(g.tokenizer)});let p=fz(c);return Gt(Cf,{children:[Gt(AE,{document:r,position:o,maxCharacters:p}),Gt(bN,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:h})]})}s(f3,"CurrentFile");function AE(t){if(t.document===void 0||t.position===void 0)return Gt(Ho,{});let e=t.document.getText({start:{line:0,character:0},end:t.position});return e.length>t.maxCharacters&&(e=e.slice(-t.maxCharacters)),Gt(Ho,{children:e})}s(AE,"BeforeCursor");function bN(t,e){let[r,n]=e.useState("");if(t.document===void 0||t.position===void 0)return Gt(Ho,{});let o=t.document.getText({start:t.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});o.length>t.maxCharacters&&(o=o.slice(0,t.maxCharacters));let a=o.replace(/^.*/,"").trimStart();if(a==="")return Gt(Ho,{});if(r===a)return Gt(Ho,{children:r});let c=a;if(r!==""){let l=uc(t.tokenizer),u=l.takeFirstTokens(a,u3);u.tokens.length>0&&100*vN(u.tokens,l.takeFirstTokens(r,u3).tokens)?.score<(t.suffixMatchThreshold??sD)*u.tokens.length&&(c=r)}return c!==r&&n(c),Gt(Ho,{children:c})}s(bN,"AfterCursor");function aCe(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0);e.useData(hc,d=>{let h=d.document;(d.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),d.position!==o&&a(d.position),d.maxPromptTokens!==c&&l(d.maxPromptTokens)});let u=fz(c);return Gt(AE,{document:r,position:o,maxCharacters:u})}s(aCe,"DocumentPrefix");function cCe(t,e){let[r,n]=e.useState(),[o,a]=e.useState(),[c,l]=e.useState(0),[u,d]=e.useState(),[h,A]=e.useState();e.useData(hc,g=>{let E=g.document;(g.document.uri!==r?.uri||E.getText()!==r?.getText())&&n(E),g.position!==o&&a(g.position),g.suffixMatchThreshold!==u&&d(g.suffixMatchThreshold),g.maxPromptTokens!==c&&l(g.maxPromptTokens),g.tokenizer!==h&&A(g.tokenizer)});let p=fz(c);return Gt(bN,{document:r,position:o,suffixMatchThreshold:u,maxCharacters:p,tokenizer:h})}s(cCe,"DocumentSuffix");f();var TN=class{static{s(this,"WishlistElision")}elide(e,r,n,o,a){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[c,l]=this.preparePrefixBlocks(e,a),{elidedSuffix:u,adjustedPrefixTokenLimit:d}=this.elideSuffix(n,o,r,l,a),h=this.elidePrefix(c,d,l,a);return{blocks:[u,...h],cycles:1}}preparePrefixBlocks(e,r){let n=0,o=new Set;return[e.map((c,l)=>{let u=0,h=c.value.split(/([^\n]*\n+)/).filter(p=>p!=="").map(p=>{let g=r.tokenLength(p);return u+=g,n+=g,{line:p,componentPath:c.componentPath,tokens:g}}),A=c.componentPath;if(o.has(A))throw new Error(`Duplicate component path in prefix blocks: ${A}`);return o.add(A),{...c,tokens:u,markedForRemoval:!1,originalIndex:l,lines:h}}),n]}elideSuffix(e,r,n,o,a){let c=e.value;if(c.length===0||r<=0)return{elidedSuffix:{...e,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};o<n&&(r=r+(n-o),n=o);let l=a.takeFirstTokens(c,r);return{elidedSuffix:{...e,value:c,tokens:a.tokenLength(c),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(e,r,n,o){let a=this.removeLowWeightPrefixBlocks(e,r,n),c=a.filter(h=>!h.markedForRemoval).flatMap(h=>h.lines);if(c.length===0)return[];let[l,u]=this.trimPrefixLinesToFit(c,r,o),d=u;return a.map(h=>{if(h.markedForRemoval)return d+h.tokens<=r&&!h.chunks?(d+=h.tokens,{...h,elidedValue:h.value,elidedTokens:h.tokens}):{...h,elidedValue:"",elidedTokens:0};let A=l.filter(g=>g.componentPath===h.componentPath&&g.line!=="").map(g=>g.line).join(""),p=h.tokens;return A!==h.value&&(p=A!==""?o.tokenLength(A):0),{...h,elidedValue:A,elidedTokens:p}})}removeLowWeightPrefixBlocks(e,r,n){let o=n;e.sort((a,c)=>a.weight-c.weight);for(let a of e){if(o<=r)break;if(a.weight!==1&&!(a.chunks&&a.markedForRemoval))if(a.chunks&&a.chunks.size>0)for(let c of e)!c.markedForRemoval&&c.chunks&&[...a.chunks].every(l=>c.chunks?.has(l))&&(c.markedForRemoval=!0,o-=c.tokens);else a.markedForRemoval=!0,o-=a.tokens}return e.sort((a,c)=>a.originalIndex-c.originalIndex)}trimPrefixLinesToFit(e,r,n){let o=0,a=[];for(let c=e.length-1;c>=0;c--){let l=e[c],u=l.tokens;if(o+u<=r)a.unshift(l),o+=u;else break}if(a.length===0){let c=e[e.length-1];if(c&&c.line.length>0){let u=n.takeLastTokens(c.line,r);return a.push({line:u.text,componentPath:c.componentPath,tokens:u.tokens.length}),[a,u.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[a,o]}};function lCe(t){return t.map(e=>e.elidedValue).join("")}s(lCe,"makePrompt");function uCe(t){return t.filter(e=>e.type==="prefix").map(e=>e.elidedValue).join("")}s(uCe,"makePrefixPrompt");function fCe(t){if(t.length===0)return[];let e=new Map;for(let o of t)if(o.type==="context"&&o.index!==void 0){e.has(o.index)||e.set(o.index,[]);let a=o.elidedValue.trim();a.length>0&&e.get(o.index).push(a)}let r=Math.max(...Array.from(e.keys()),-1),n=[];for(let o=0;o<=r;o++){let a=e.get(o);if(a&&a.length>0){let c=a.join(`
`).trim();n.push(c)}else n.push("")}return n}s(fCe,"makeContextPrompt");f();var Yv=class{constructor(e,r=dz()){this.snapshot=e;this.transformers=r}static{s(this,"SnapshotWalker")}walkSnapshot(e){this.walkSnapshotNode(this.snapshot,void 0,e,{})}walkSnapshotNode(e,r,n,o){let a=this.transformers.reduce((l,u)=>u(e,r,l),{...o});if(n(e,r,a))for(let l of e.children??[])this.walkSnapshotNode(l,e,n,a)}};function dz(){return[(t,e,r)=>{r.weight===void 0&&(r.weight=1);let n=t.props?.weight??1,o=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:o*r.weight}},(t,e,r)=>{if(t.name===Kg.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(t.path),{...r,chunks:n}}return r},(t,e,r)=>t.props?.source!==void 0?{...r,source:t.props.source}:r]}s(dz,"defaultTransformers");f();var hz={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},dCe={};for(let[t,e]of Object.entries(hz))if(e.markdownLanguageIds)for(let r of e.markdownLanguageIds)dCe[r]=t;else dCe[t]=t;var VXe={start:"//",end:""},WXe=["php","plaintext"],Az={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function hCe(t){return Object.values(Az).includes(t.trim())}s(hCe,"isShebangLine");function $Xe({source:t}){return t.startsWith("#!")||t.startsWith("<!DOCTYPE")}s($Xe,"hasLanguageMarker");function YXe(t,e){let r=hz[e]?hz[e].lineComment:VXe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${t}${n}`}return""}s(YXe,"comment");function qA(t,e){if(t==="")return"";let r=t.endsWith(`
`),o=(r?t.slice(0,-1):t).split(`
`).map(a=>YXe(a,e)).join(`
`);return r?o+`
`:o}s(qA,"commentBlockAsSingles");function _N(t){let{languageId:e}=t;return WXe.indexOf(e)===-1&&!$Xe(t)?e in Az?Az[e]:`Language: ${e}`:""}s(_N,"getLanguageMarker");function wN(t){return t.relativePath?`Path: ${t.relativePath}`:""}s(wN,"getPathMarker");function d3(t){return t===""||t.endsWith(`
`)?t:t+`
`}s(d3,"newLineEnded");var zXe=5,zv=class{constructor(){this.renderId=0;this.formatPrefix=lCe}static{s(this,"CompletionsPromptRenderer")}render(e,r,n){let o=this.renderId++,a=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let c=r.delimiter??"",l=r.tokenizer??"o200k_base",{prefixBlocks:u,suffixBlock:d,componentStatistics:h}=this.processSnapshot(e,c,r.languageId),{prefixTokenLimit:A,suffixTokenLimit:p}=this.getPromptLimits(d,r),g=performance.now(),E=new TN,{blocks:[v,...w]}=E.elide(u,A,d,p,uc(l)),_=performance.now(),S=this.formatPrefix(w),D=this.formatContext?this.formatContext(w):void 0,N=v.elidedValue,P=w.reduce((O,Y)=>O+Y.elidedTokens,0);return h.push(...jXe([...w,v])),{prefix:S,prefixTokens:P,suffix:N,suffixTokens:v.elidedTokens,context:D,status:"ok",metadata:{renderId:o,rendererName:"c",tokenizer:l,elisionTimeMs:_-g,renderTimeMs:performance.now()-a,componentStatistics:h,updateDataTimeMs:h.reduce((O,Y)=>O+(Y.updateDataTimeMs??0),0)}}}catch(c){return{status:"error",error:c}}}getPromptLimits(e,r){let n=e?.value??"",o=r.promptTokenLimit,a=r.suffixPercent;if(n.length==0||a==0)return{prefixTokenLimit:o,suffixTokenLimit:0};o=n.length>0?o-zXe:o;let c=Math.ceil(o*(a/100));return{prefixTokenLimit:o-c,suffixTokenLimit:c}}processSnapshot(e,r,n){let o=[],a=[],c=[],l=!1;if(new Yv(e,pz).walkSnapshot((h,A,p)=>{if(h===e||(h.name===f3.name&&(l=!0),h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&c.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.value===void 0||h.value===""))return!0;let g=p.chunks;if(p.type==="suffix")a.push({value:h3(h.value),type:"suffix",weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:g,source:p.source});else{let E=h.value.endsWith(r)?h.value:h.value+r,v=E;p.type==="prefix"?v=h.value:hCe(h.value)?v=E:v=qA(E,n),o.push({type:p.type==="prefix"?"prefix":"context",value:h3(v),weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:g,source:p.source})}return!0}),!l)throw new Error(`Node of type ${f3.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let d=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:d,componentStatistics:c}}},pz=[...dz(),(t,e,r)=>xN(t)?{...r,type:"context"}:r,(t,e,r)=>t.name===AE.name?{...r,type:"prefix"}:r,(t,e,r)=>t.name===bN.name?{...r,type:"suffix"}:r];function jXe(t){return t.map(e=>{let r={componentPath:e.componentPath};return e.tokens!==0&&(r.expectedTokens=e.tokens,r.actualTokens=e.elidedTokens),e.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=e.nodeStatistics.updateDataTimeMs),e.source&&(r.source=e.source),r})}s(jXe,"computeComponentStatistics");function h3(t){return t.replace(/\r\n?/g,`
`)}s(h3,"normalizeLineEndings");f();var SN=s((t,e)=>{let[r,n]=e.useState();if(e.useData(hc,o=>{o.document.uri!==r?.uri&&n(o.document)}),r){let o=t.ctx.get(ri),a=o.getRelativePath(r),c={uri:r.uri,source:r.getText(),relativePath:a,languageId:r.detectedLanguageId},l=o.findNotebook(r);return c.relativePath&&!l?Gt(KXe,{docInfo:c}):Gt(JXe,{docInfo:c})}},"DocumentMarker"),KXe=s(t=>Gt(Ho,{children:wN(t.docInfo)}),"PathMarker"),JXe=s(t=>Gt(Ho,{children:_N(t.docInfo)}),"LanguageMarker");f();f();f();f();function A3(t){if(!t()){debugger;t(),Sv(new Ls("Assertion Failed"))}}s(A3,"assertFn");f();f();f();f();f();var Jg=s((t,e)=>t===e,"strictEquals");f();f();var ACe=class t{static{s(this,"Node")}static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}};f();var XXe=globalThis.performance&&typeof globalThis.performance.now=="function",BN=class t{static{s(this,"StopWatch")}static create(e){return new t(e)}constructor(e){this._now=XXe&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var pCe=!1,ZXe=!1,m3;(ce=>{ce.None=s(()=>nl.None,"None");function e(J){if(ZXe){let{onDidAddListener:W}=J,Z=p3.create(),re=0;J.onDidAddListener=()=>{++re===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Z.print()),W?.()}}}s(e,"_addLeakageTraceLogic");function r(J,W){return g(J,()=>{},0,void 0,!0,void 0,W)}ce.defer=r,s(r,"defer");function n(J){return(W,Z=null,re)=>{let te=!1,ie;return ie=J(ue=>{if(!te)return ie?ie.dispose():te=!0,W.call(Z,ue)},null,re),te&&ie.dispose(),ie}}ce.once=n,s(n,"once");function o(J,W){return ce.once(ce.filter(J,W))}ce.onceIf=o,s(o,"onceIf");function a(J,W,Z){return A((re,te=null,ie)=>J(ue=>re.call(te,W(ue)),null,ie),Z)}ce.map=a,s(a,"map");function c(J,W,Z){return A((re,te=null,ie)=>J(ue=>{W(ue),re.call(te,ue)},null,ie),Z)}ce.forEach=c,s(c,"forEach");function l(J,W,Z){return A((re,te=null,ie)=>J(ue=>W(ue)&&re.call(te,ue),null,ie),Z)}ce.filter=l,s(l,"filter");function u(J){return J}ce.signal=u,s(u,"signal");function d(...J){return(W,Z=null,re)=>{let te=Nge(...J.map(ie=>ie(ue=>W.call(Z,ue))));return p(te,re)}}ce.any=d,s(d,"any");function h(J,W,Z,re){let te=Z;return a(J,ie=>(te=W(te,ie),te),re)}ce.reduce=h,s(h,"reduce");function A(J,W){let Z,re={onWillAddFirstListener(){Z=J(te.fire,te)},onDidRemoveLastListener(){Z?.dispose()}};W||e(re);let te=new Ef(re);return W?.add(te),te.event}s(A,"snapshot");function p(J,W){return W instanceof Array?W.push(J):W&&W.add(J),J}s(p,"addAndReturnDisposable");function g(J,W,Z=100,re=!1,te=!1,ie,ue){let Ae,Je,rt,lt=0,Ct,Vt={leakWarningThreshold:ie,onWillAddFirstListener(){Ae=J(Dn=>{lt++,Je=W(Je,Dn),re&&!rt&&(Hr.fire(Je),Je=void 0),Ct=s(()=>{let br=Je;Je=void 0,rt=void 0,(!re||lt>1)&&Hr.fire(br),lt=0},"doFire"),typeof Z=="number"?(clearTimeout(rt),rt=setTimeout(Ct,Z)):rt===void 0&&(rt=0,queueMicrotask(Ct))})},onWillRemoveListener(){te&&lt>0&&Ct?.()},onDidRemoveLastListener(){Ct=void 0,Ae.dispose()}};ue||e(Vt);let Hr=new Ef(Vt);return ue?.add(Hr),Hr.event}ce.debounce=g,s(g,"debounce");function E(J,W=0,Z){return ce.debounce(J,(re,te)=>re?(re.push(te),re):[te],W,void 0,!0,void 0,Z)}ce.accumulate=E,s(E,"accumulate");function v(J,W=(re,te)=>re===te,Z){let re=!0,te;return l(J,ie=>{let ue=re||!W(ie,te);return re=!1,te=ie,ue},Z)}ce.latch=v,s(v,"latch");function w(J,W,Z){return[ce.filter(J,W,Z),ce.filter(J,re=>!W(re),Z)]}ce.split=w,s(w,"split");function _(J,W=!1,Z=[],re){let te=Z.slice(),ie=J(Je=>{te?te.push(Je):Ae.fire(Je)});re&&re.add(ie);let ue=s(()=>{te?.forEach(Je=>Ae.fire(Je)),te=null},"flush"),Ae=new Ef({onWillAddFirstListener(){ie||(ie=J(Je=>Ae.fire(Je)),re&&re.add(ie))},onDidAddFirstListener(){te&&(W?setTimeout(ue):ue())},onDidRemoveLastListener(){ie&&ie.dispose(),ie=null}});return re&&re.add(Ae),Ae.event}ce.buffer=_,s(_,"buffer");function S(J,W){return s((re,te,ie)=>{let ue=W(new N);return J(function(Ae){let Je=ue.evaluate(Ae);Je!==D&&re.call(te,Je)},void 0,ie)},"fn")}ce.chain=S,s(S,"chain");let D=Symbol("HaltChainable");class N{constructor(){this.steps=[]}static{s(this,"ChainableSynthesis")}map(W){return this.steps.push(W),this}forEach(W){return this.steps.push(Z=>(W(Z),Z)),this}filter(W){return this.steps.push(Z=>W(Z)?Z:D),this}reduce(W,Z){let re=Z;return this.steps.push(te=>(re=W(re,te),re)),this}latch(W=(Z,re)=>Z===re){let Z=!0,re;return this.steps.push(te=>{let ie=Z||!W(te,re);return Z=!1,re=te,ie?te:D}),this}evaluate(W){for(let Z of this.steps)if(W=Z(W),W===D)break;return W}}function P(J,W,Z=re=>re){let re=s((...Ae)=>ue.fire(Z(...Ae)),"fn"),te=s(()=>J.on(W,re),"onFirstListenerAdd"),ie=s(()=>J.removeListener(W,re),"onLastListenerRemove"),ue=new Ef({onWillAddFirstListener:te,onDidRemoveLastListener:ie});return ue.event}ce.fromNodeEventEmitter=P,s(P,"fromNodeEventEmitter");function O(J,W,Z=re=>re){let re=s((...Ae)=>ue.fire(Z(...Ae)),"fn"),te=s(()=>J.addEventListener(W,re),"onFirstListenerAdd"),ie=s(()=>J.removeEventListener(W,re),"onLastListenerRemove"),ue=new Ef({onWillAddFirstListener:te,onDidRemoveLastListener:ie});return ue.event}ce.fromDOMEventEmitter=O,s(O,"fromDOMEventEmitter");function Y(J,W){return new Promise(Z=>n(J)(Z,null,W))}ce.toPromise=Y,s(Y,"toPromise");function ne(J){let W=new Ef;return J.then(Z=>{W.fire(Z)},()=>{W.fire(void 0)}).finally(()=>{W.dispose()}),W.event}ce.fromPromise=ne,s(ne,"fromPromise");function oe(J,W){return J(Z=>W.fire(Z))}ce.forward=oe,s(oe,"forward");function he(J,W,Z){return W(Z),J(re=>W(re))}ce.runAndSubscribe=he,s(he,"runAndSubscribe");class ${constructor(W,Z){this._observable=W;this._counter=0;this._hasChanged=!1;let re={onWillAddFirstListener:s(()=>{W.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{W.removeObserver(this)},"onDidRemoveLastListener")};Z||e(re),this.emitter=new Ef(re),Z&&Z.add(this.emitter)}static{s(this,"EmitterObserver")}beginUpdate(W){this._counter++}handlePossibleChange(W){}handleChange(W,Z){this._hasChanged=!0}endUpdate(W){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function K(J,W){return new $(J,W).emitter.event}ce.fromObservable=K,s(K,"fromObservable");function xe(J){return(W,Z,re)=>{let te=0,ie=!1,ue={beginUpdate(){te++},endUpdate(){te--,te===0&&(J.reportChanges(),ie&&(ie=!1,W.call(Z)))},handlePossibleChange(){},handleChange(){ie=!0}};J.addObserver(ue),J.reportChanges();let Ae={dispose(){J.removeObserver(ue)}};return re instanceof jd?re.add(Ae):Array.isArray(re)&&re.push(Ae),Ae}}ce.fromObservableLight=xe,s(xe,"fromObservableLight")})(m3||={});var mz=class t{constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${t._idPool++}`,t.all.add(this)}static{s(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(e){this._stopWatch=new BN,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},mCe=-1;var gz=class t{constructor(e,r,n=(t._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=r;this.name=n;this._warnCountdown=0}static{s(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[a,c]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${c}):`;console.warn(l),console.warn(a);let u=new yz(l,a);this._errorHandler(u)}return()=>{let a=this._stacks.get(e.value)||0;this._stacks.set(e.value,a-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,r=0;for(let[n,o]of this._stacks)(!e||r<o)&&(e=[n,o],r=o);return e}},p3=class t{constructor(e){this.value=e}static{s(this,"Stacktrace")}static create(){let e=new Error;return new t(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},yz=class extends Error{static{s(this,"ListenerLeakError")}constructor(e,r){super(e),this.name="ListenerLeakError",this.stack=r}},Cz=class extends Error{static{s(this,"ListenerRefusalError")}constructor(e,r){super(e),this.name="ListenerRefusalError",this.stack=r}},eZe=0,jv=class{constructor(e){this.value=e;this.id=eZe++}static{s(this,"UniqueContainer")}},tZe=2,rZe=s((t,e)=>{if(t instanceof jv)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},"forEachListener"),Ef=class{constructor(e){this._size=0;this._options=e,this._leakageMon=mCe>0||this._options?.leakWarningThreshold?new gz(e?.onListenerError??Sv,this._options?.leakWarningThreshold??mCe):void 0,this._perfMon=this._options?._profName?new mz(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{s(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(pCe){let e=this._listeners;queueMicrotask(()=>{rZe(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],h=new Cz(`${u}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||Sv)(h),nl.None}if(this._disposed)return nl.None;r&&(e=e.bind(r));let o=new jv(e),a,c;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(o.stack=p3.create(),a=this._leakageMon.check(o.stack,this._size+1)),pCe&&(o.stack=c??p3.create()),this._listeners?this._listeners instanceof jv?(this._deliveryQueue??=new Ez,this._listeners=[this._listeners,o]):this._listeners.push(o):(this._options?.onWillAddFirstListener?.(this),this._listeners=o,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=MA(()=>{a?.(),this._removeListener(o)});return n instanceof jd?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let o=this._deliveryQueue.current===this;if(this._size*tZe<=r.length){let a=0;for(let c=0;c<r.length;c++)r[c]?r[a++]=r[c]:o&&a<this._deliveryQueue.end&&(this._deliveryQueue.end--,a<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=a}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||Sv;if(!n){e.value(r);return}try{e.value(r)}catch(o){n(o)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof jv)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Ez=class{constructor(){this.i=-1;this.end=0}static{s(this,"EventDeliveryQueuePrivate")}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};f();var If=class{constructor(e,r,n){this.owner=e;this.debugNameSource=r;this.referenceFn=n}static{s(this,"DebugNameData")}getDebugName(e){return ECe(e,this)}},gCe=new Map,Iz=new WeakMap;function ECe(t,e){let r=Iz.get(t);if(r)return r;let n=nZe(t,e);if(n){let o=gCe.get(n)??0;o++,gCe.set(n,o);let a=o===1?n:`${n}#${o}`;return Iz.set(t,a),a}}s(ECe,"getDebugName");function nZe(t,e){let r=Iz.get(t);if(r)return r;let n=e.owner?oZe(e.owner)+".":"",o,a=e.debugNameSource;if(a!==void 0)if(typeof a=="function"){if(o=a(),o!==void 0)return n+o}else return n+a;let c=e.referenceFn;if(c!==void 0&&(o=RN(c),o!==void 0))return n+o;if(e.owner!==void 0){let l=iZe(e.owner,t);if(l!==void 0)return n+l}}s(nZe,"computeDebugName");function iZe(t,e){for(let r in t)if(t[r]===e)return r}s(iZe,"findKey");var yCe=new Map,CCe=new WeakMap;function oZe(t){let e=CCe.get(t);if(e)return e;let r=sZe(t),n=yCe.get(r)??0;n++,yCe.set(r,n);let o=n===1?r:`${r}#${n}`;return CCe.set(t,o),o}s(oZe,"formatOwner");function sZe(t){let e=t.constructor;return e?e.name:"Object"}s(sZe,"getClassName");function RN(t){let e=t.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(n?n[1]:void 0)?.trim()}s(RN,"getFunctionName");f();var pE;function DN(t){pE?pE instanceof kN?pE.loggers.push(t):pE=new kN([pE,t]):pE=t}s(DN,"addLogger");function qo(){return pE}s(qo,"getLogger");var xz;function ICe(t){xz=t}s(ICe,"setLogObservableFn");function xCe(t){xz&&xz(t)}s(xCe,"logObservable");var kN=class{constructor(e){this.loggers=e}static{s(this,"ComposedLogger")}handleObservableCreated(e){for(let r of this.loggers)r.handleObservableCreated(e)}handleOnListenerCountChanged(e,r){for(let n of this.loggers)n.handleOnListenerCountChanged(e,r)}handleObservableUpdated(e,r){for(let n of this.loggers)n.handleObservableUpdated(e,r)}handleAutorunCreated(e){for(let r of this.loggers)r.handleAutorunCreated(e)}handleAutorunDisposed(e){for(let r of this.loggers)r.handleAutorunDisposed(e)}handleAutorunDependencyChanged(e,r,n){for(let o of this.loggers)o.handleAutorunDependencyChanged(e,r,n)}handleAutorunStarted(e){for(let r of this.loggers)r.handleAutorunStarted(e)}handleAutorunFinished(e){for(let r of this.loggers)r.handleAutorunFinished(e)}handleDerivedDependencyChanged(e,r,n){for(let o of this.loggers)o.handleDerivedDependencyChanged(e,r,n)}handleDerivedCleared(e){for(let r of this.loggers)r.handleDerivedCleared(e)}handleBeginTransaction(e){for(let r of this.loggers)r.handleBeginTransaction(e)}handleEndTransaction(e){for(let r of this.loggers)r.handleEndTransaction(e)}};var vCe;function bCe(t){vCe=t}s(bCe,"_setRecomputeInitiallyAndOnChange");var TCe;function _Ce(t){TCe=t}s(_Ce,"_setKeepObserved");var vz;function wCe(t){vz=t}s(wCe,"_setDerivedOpts");var NN=class{static{s(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,r){let n=r===void 0?void 0:e,o=r===void 0?e:r;return vz({owner:n,debugName:s(()=>{let a=RN(o);if(a!==void 0)return a;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(o.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:o},a=>o(this.read(a),a))}flatten(){return vz({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,r){return e.add(vCe(this,r)),this}keepObserved(e){return e.add(TCe(this)),this}get debugValue(){return this.get()}},mE=class extends NN{constructor(){super();this.observers=new Set;qo()?.handleObservableCreated(this)}static{s(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&qo()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&qo()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!qo();return xCe(this),r||qo()?.handleObservableCreated(this),this}};function QN(t,e){let r=new g3(t,e);try{t(r)}finally{r.finish()}}s(QN,"transaction");function bz(t,e,r){t?e(t):QN(e,r)}s(bz,"subtransaction");var g3=class{constructor(e,r){this._fn=e;this._getDebugName=r;this.updatingObservers=[];qo()?.handleBeginTransaction(this)}static{s(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():RN(this._fn)}updateObserver(e,r){this.updatingObservers.push({observer:e,observable:r}),e.beginUpdate(r)}finish(){let e=this.updatingObservers;for(let r=0;r<e.length;r++){let{observer:n,observable:o}=e[r];n.endUpdate(o)}this.updatingObservers=null,qo()?.handleEndTransaction(this)}};f();f();function y3(t){return new PN(new If(void 0,void 0,t),t,void 0,void 0)}s(y3,"autorun");var PN=class{constructor(e,r,n,o){this._debugNameData=e;this._runFn=r;this.createChangeSummary=n;this._handleChange=o;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),qo()?.handleAutorunCreated(this),this._runIfNeeded(),Rv(this)}static{s(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),qo()?.handleAutorunDisposed(this),kv(this)}_runIfNeeded(){if(this.state===3)return;let e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;try{if(!this.disposed){qo()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){sE(n)}finally{this._isRunning=!1}}}finally{this.disposed||qo()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(e){this.state===3&&(this.state=1),this.updateCount++}endUpdate(e){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}A3(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this._isDependency(e)&&(this.state=1)}handleChange(e,r){if(this._isDependency(e)){qo()?.handleAutorunDependencyChanged(this,e,r);try{(this._handleChange?this._handleChange({changedObservable:e,change:r,didChange:s(o=>o===e,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){sE(n)}}}_isDependency(e){return this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)}readObservable(e){if(!this._isRunning)throw new Ls("The reader object cannot be used outside its compute function!");if(this.disposed)return e.get();e.addObserver(this);let r=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),r}};(e=>e.Observer=PN)(y3||={});f();function Tz(t,e){return new gE(new If(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??Jg)}s(Tz,"derivedOpts");wCe(Tz);var gE=class extends mE{constructor(r,n,o,a,c=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=o;this._handleChange=a;this._handleLastObserverRemoved=c;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{s(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,qo()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,o=this.value;this.state=3;let a=!1;this._isComputing=!0;try{let c=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,c)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}a=n&&!this._equalityComparator(o,this.value),qo()?.handleObservableUpdated(this,{oldValue:o,newValue:this.value,change:void 0,didChange:a,hadValue:n})}catch(c){sE(c)}if(this._isComputing=!1,a)for(let c of this.observers)c.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Ls("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let o of this.observers)o.handlePossibleChange(this);if(n)for(let o of this.observers)o.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let o of n)o.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let o=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let a of o)a.endUpdate(this)}}A3(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){qo()?.handleDerivedDependencyChanged(this,r,n);let o=!1;try{o=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:s(c=>c===r,"didChange")},this.changeSummary):!0}catch(c){sE(c)}let a=this.state===3;if(o&&(this.state===1||a)&&(this.state=2,a))for(let c of this.observers)c.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Ls("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};f();f();function wz(...t){let e,r,n;return t.length===3?[e,r,n]=t:[r,n]=t,new Xg(new If(e,void 0,n),r,n,()=>Xg.globalTransaction,Jg)}s(wz,"observableFromEvent");var Xg=class extends mE{constructor(r,n,o,a,c){super();this._debugNameData=r;this.event=n;this._getValue=o;this._getTransaction=a;this._equalityComparator=c;this.hasValue=!1;this.handleEvent=s(r=>{let n=this._getValue(r),o=this.value,a=!this.hasValue||!this._equalityComparator(o,n),c=!1;a&&(this.value=n,this.hasValue&&(c=!0,bz(this._getTransaction(),l=>{qo()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:a,hadValue:this.hasValue});for(let u of this.observers)l.updateObserver(u,this),u.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),c||qo()?.handleObservableUpdated(this,{oldValue:o,newValue:n,change:void 0,didChange:a,hadValue:this.hasValue})},"handleEvent")}static{s(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=Xg;function e(n,o){let a=!1;Xg.globalTransaction===void 0&&(Xg.globalTransaction=n,a=!0);try{o()}finally{a&&(Xg.globalTransaction=void 0)}}r.batchEventsGlobally=e,s(e,"batchEventsGlobally")})(wz||={});function BCe(t){let e=new FN(!1,void 0);return t.addObserver(e),MA(()=>{t.removeObserver(e)})}s(BCe,"keepObserved");_Ce(BCe);function RCe(t,e){let r=new FN(!0,e);return t.addObserver(r),e?e(t.get()):t.reportChanges(),MA(()=>{t.removeObserver(r)})}s(RCe,"recomputeInitiallyAndOnChange");bCe(RCe);var FN=class{constructor(e,r){this._forceRecompute=e;this._handleValue=r;this._counter=0}static{s(this,"KeepAliveObserver")}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,r){}};f();f();f();var kCe=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),DCe;(n=>{function t(o){return o===n.None||o===n.Cancelled||o instanceof Sz?!0:!o||typeof o!="object"?!1:typeof o.isCancellationRequested=="boolean"&&typeof o.onCancellationRequested=="function"}n.isCancellationToken=t,s(t,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:m3.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:kCe})})(DCe||={});var Sz=class{constructor(){this._isCancelled=!1;this._emitter=null}static{s(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?kCe:(this._emitter||(this._emitter=new Ef),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};f();var LN;function QCe(t){LN||(LN=new E3,DN(LN)),LN.addFilteredObj(t)}s(QCe,"logObservableToConsole");var E3=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{s(this,"ConsoleObservableLogger")}addFilteredObj(e){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(e)}_isIncluded(e){return this._filteredObjects?.has(e)??!0}textToConsoleArgs(e){return lZe([Kv(dZe("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Kv(" "),su(C3(e.oldValue,70),{color:"red",strikeThrough:!0}),Kv(" "),su(C3(e.newValue,60),{color:"green"})]:[Kv(" (unchanged)")]:[Kv(" "),su(C3(e.newValue,60),{color:"green"}),Kv(" (initial)")]}handleObservableCreated(e){if(e instanceof gE){let r=e;if(this.changedObservablesSets.set(r,new Set),!1){let o=[];r.__debugUpdating=o;let a=r.beginUpdate;r.beginUpdate=l=>(o.push(l),a.apply(r,[l]));let c=r.endUpdate;r.endUpdate=l=>{let u=o.indexOf(l);return u===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),o.splice(u,1),c.apply(r,[l])}}}}handleOnListenerCountChanged(e,r){}handleObservableUpdated(e,r){if(this._isIncluded(e)){if(e instanceof gE){this._handleDerivedRecomputed(e,r);return}console.log(...this.textToConsoleArgs([Jv("observable value changed"),su(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(e){if(e.size!==0)return su(" (changed deps: "+[...e].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e)?.add(r)}_handleDerivedRecomputed(e,r){if(!this._isIncluded(e))return;let n=this.changedObservablesSets.get(e);n&&(console.log(...this.textToConsoleArgs([Jv("derived recomputed"),su(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear())}handleDerivedCleared(e){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Jv("derived cleared"),su(e.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(e,r){this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Jv("observable from event triggered"),su(e.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){this._isIncluded(e)&&this.changedObservablesSets.set(e,new Set)}handleAutorunDisposed(e){}handleAutorunDependencyChanged(e,r,n){this._isIncluded(e)&&this.changedObservablesSets.get(e).add(r)}handleAutorunStarted(e){let r=this.changedObservablesSets.get(e);r&&(this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Jv("autorun"),su(e.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let r=e.getDebugName();r===void 0&&(r=""),this._isIncluded(e)&&console.log(...this.textToConsoleArgs([Jv("transaction"),su(r,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function lZe(t){let e=new Array,r=[],n="";function o(c){if("length"in c)for(let l of c)l&&o(l);else"text"in c?(n+=`%c${c.text}`,e.push(c.style),c.data&&r.push(...c.data)):"data"in c&&r.push(...c.data)}s(o,"process"),o(t);let a=[n,...e];return a.push(...r),a}s(lZe,"consoleTextToArgs");function Kv(t){return su(t,{color:"black"})}s(Kv,"normalText");function Jv(t){return su(hZe(`${t}: `,10),{color:"black",bold:!0})}s(Jv,"formatKind");function su(t,e={color:"black"}){function r(o){return Object.entries(o).reduce((a,[c,l])=>`${a}${c}:${l};`,"")}s(r,"objToCss");let n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:r(n)}}s(su,"styled");function C3(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?uZe(t,e):fZe(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}s(C3,"formatValue");function uZe(t,e){let r="[ ",n=!0;for(let o of t){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${C3(o,e-r.length)}`}return r+=" ]",r}s(uZe,"formatArray");function fZe(t,e){if(typeof t.toString=="function"&&t.toString!==Object.prototype.toString){let o=t.toString();return o.length<=e?o:o.substring(0,e-3)+"..."}let r="{ ",n=!0;for(let[o,a]of Object.entries(t)){if(n||(r+=", "),r.length-5>e){r+="...";break}n=!1,r+=`${o}: ${C3(a,e-r.length)}`}return r+=" }",r}s(fZe,"formatObject");function dZe(t,e){let r="";for(let n=1;n<=e;n++)r+=t;return r}s(dZe,"repeat");function hZe(t,e){for(;t.length<e;)t+=" ";return t}s(hZe,"padStr");ICe(QCe);var mZe=!1;mZe&&DN(new E3);f();var PCe;(r=>{r.PlainText="plaintext";function e(n){return n}r.create=e,s(e,"create")})(PCe||={});f();f();f();function gZe(t){return t}s(gZe,"identity");var MN=class{constructor(e,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof e=="function"?(this._fn=e,this._computeKey=gZe):(this._fn=r,this._computeKey=e.getCacheKey)}static{s(this,"LRUCachedFunction")}get(e){let r=this._computeKey(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(e)),this.lastCache}};f();f();var I3=class{constructor(e){this.executor=e;this._didRun=!1}static{s(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};f();var xkr=String.fromCharCode(65279);var FCe=class t{static{s(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=yZe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,o=1;for(;o<=n;)if(e<r[3*o])o=2*o;else if(e>r[3*o+1])o=2*o+1;else return r[3*o+2];return 0}};function yZe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(yZe,"getGraphemeBreakRawData");var LCe=class t{constructor(e){this.confusableDictionary=e}static{s(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new I3(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new MN({getCacheKey:JSON.stringify},e=>{function r(h){let A=new Map;for(let p=0;p<h.length;p+=2)A.set(h[p],h[p+1]);return A}s(r,"arrayToMap");function n(h,A){let p=new Map(h);for(let[g,E]of A)p.set(g,E);return p}s(n,"mergeMaps");function o(h,A){if(!h)return A;let p=new Map;for(let[g,E]of h)A.has(g)&&p.set(g,E);return p}s(o,"intersectMaps");let a=this.ambiguousCharacterData.value,c=e.filter(h=>!h.startsWith("_")&&h in a);c.length===0&&(c=["_default"]);let l;for(let h of c){let A=r(a[h]);l=o(l,A)}let u=r(a._common),d=n(u,l);return new t(d)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new I3(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},MCe=class t{static{s(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(t.getRawData())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static containsInvisibleCharacter(e){for(let r=0;r<e.length;r++){let n=e.codePointAt(r);if(typeof n=="number"&&t.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return t.getData()}};f();var x3=class t{constructor(e,r){this.start=e;this.endExclusive=r;if(e>r)throw new Ls(`Invalid range: ${this.toString()}`)}static{s(this,"OffsetRange")}static fromTo(e,r){return new t(e,r)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let o=n;for(;o<r.length&&r[o].start<=e.endExclusive;)o++;if(n===o)r.splice(n,0,e);else{let a=Math.min(e.start,r[n].start),c=Math.max(e.endExclusive,r[o-1].endExclusive);r.splice(n,o-n,new t(a,c))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}static emptyAt(e){return new t(e,e)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersectionLength(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return Math.max(0,n-r)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Ls(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Ls(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}joinRightTouching(e){if(this.endExclusive!==e.start)throw new Ls(`Invalid join: ${this.toString()} and ${e.toString()}`);return new t(this.start,e.endExclusive)}};f();var GA=class t{static{s(this,"Position")}constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(this.lineNumber+e,this.column+r)}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,o=r.lineNumber|0;if(n===o){let a=e.column|0,c=r.column|0;return a-c}return n-o}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};f();var xf=class t{static{s(this,"Range")}constructor(e,r,n,o){e>n||e===n&&r>o?(this.startLineNumber=n,this.startColumn=o,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=o)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,o,a,c;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,o=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,o=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,o=e.startColumn),r.endLineNumber>e.endLineNumber?(a=r.endLineNumber,c=r.endColumn):r.endLineNumber===e.endLineNumber?(a=r.endLineNumber,c=Math.max(r.endColumn,e.endColumn)):(a=e.endLineNumber,c=e.endColumn),new t(n,o,a,c)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,o=e.startColumn,a=e.endLineNumber,c=e.endColumn,l=r.startLineNumber,u=r.startColumn,d=r.endLineNumber,h=r.endColumn;return n<l?(n=l,o=u):n===l&&(o=Math.max(o,u)),a>d?(a=d,c=h):a===d&&(c=Math.min(c,h)),n>a||n===a&&o>c?null:new t(n,o,a,c)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new GA(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new GA(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,r){if(e&&r){let a=e.startLineNumber|0,c=r.startLineNumber|0;if(a===c){let l=e.startColumn|0,u=r.startColumn|0;if(l===u){let d=e.endLineNumber|0,h=r.endLineNumber|0;if(d===h){let A=e.endColumn|0,p=r.endColumn|0;return A-p}return d-h}return l-u}return a-c}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};f();f();var yE=class t{static{s(this,"LineRange")}static ofLength(e,r){return new t(e,e+r)}static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static{this.compareByStart=SD(e=>e.startLineNumber,BD)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new ON(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new ON(e[n].slice()));return r.ranges}static join(e){if(e.length===0)throw new Ls("lineRanges cannot be empty");let r=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let o=1;o<e.length;o++)r=Math.min(r,e[o].startLineNumber),n=Math.max(n,e[o].endLineNumberExclusive);return new t(r,n)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Ls(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}containsRange(e){return this.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}intersectsOrTouches(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new xf(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new xf(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}toOffsetRange(){return new x3(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(e){return this.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-this.endLineNumberExclusive:e.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-e.endLineNumberExclusive:0}distanceToLine(e){return this.contains(e)?0:e<this.startLineNumber?this.startLineNumber-e:e-this.endLineNumberExclusive}addMargin(e,r){return new t(this.startLineNumber-e,this.endLineNumberExclusive+r)}},ON=class t{constructor(e=[]){this._normalizedRanges=e}static{s(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=_D(this._normalizedRanges,o=>o.endLineNumberExclusive>=e.startLineNumber),n=_v(this._normalizedRanges,o=>o.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let o=this._normalizedRanges[r];this._normalizedRanges[r]=o.join(e)}else{let o=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,o)}}contains(e){let r=J$(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=J$(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,o=0,a=null;for(;n<this._normalizedRanges.length||o<e._normalizedRanges.length;){let c=null;if(n<this._normalizedRanges.length&&o<e._normalizedRanges.length){let l=this._normalizedRanges[n],u=e._normalizedRanges[o];l.startLineNumber<u.startLineNumber?(c=l,n++):(c=u,o++)}else n<this._normalizedRanges.length?(c=this._normalizedRanges[n],n++):(c=e._normalizedRanges[o],o++);a===null?a=c:a.endLineNumberExclusive>=c.startLineNumber?a=new yE(a.startLineNumber,Math.max(a.endLineNumberExclusive,c.endLineNumberExclusive)):(r.push(a),a=c)}return a!==null&&r.push(a),new t(r)}subtractFrom(e){let r=_D(this._normalizedRanges,c=>c.endLineNumberExclusive>=e.startLineNumber),n=_v(this._normalizedRanges,c=>c.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let o=[],a=e.startLineNumber;for(let c=r;c<n;c++){let l=this._normalizedRanges[c];l.startLineNumber>a&&o.push(new yE(a,l.startLineNumber)),a=l.endLineNumberExclusive}return a<e.endLineNumberExclusive&&o.push(new yE(a,e.endLineNumberExclusive)),new t(o)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,o=0;for(;n<this._normalizedRanges.length&&o<e._normalizedRanges.length;){let a=this._normalizedRanges[n],c=e._normalizedRanges[o],l=a.intersect(c);l&&!l.isEmpty&&r.push(l),a.endLineNumberExclusive<c.endLineNumberExclusive?n++:o++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};var Bz=class t{constructor(e,r){this.lineCount=e;this.columnCount=r}static{s(this,"TextLength")}static{this.zero=new t(0,0)}static lengthDiffNonNegative(e,r){return r.isLessThan(e)?t.zero:e.lineCount===r.lineCount?new t(0,r.columnCount-e.columnCount):new t(r.lineCount-e.lineCount,r.columnCount)}static betweenPositions(e,r){return e.lineNumber===r.lineNumber?new t(0,r.column-e.column):new t(r.lineNumber-e.lineNumber,r.column-1)}static fromPosition(e){return new t(e.lineNumber-1,e.column-1)}static ofRange(e){return t.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let r=0,n=0;for(let o of e)o===`
`?(r++,n=0):n++;return new t(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(e){return this.lineCount!==e.lineCount?this.lineCount<e.lineCount:this.columnCount<e.columnCount}isGreaterThan(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>e.columnCount}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}equals(e){return this.lineCount===e.lineCount&&this.columnCount===e.columnCount}compare(e){return this.lineCount!==e.lineCount?this.lineCount-e.lineCount:this.columnCount-e.columnCount}add(e){return e.lineCount===0?new t(this.lineCount,this.columnCount+e.columnCount):new t(this.lineCount+e.lineCount,e.columnCount)}createRange(e){return this.lineCount===0?new xf(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new xf(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new xf(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return yE.ofLength(1,this.lineCount)}addToPosition(e){return this.lineCount===0?new GA(e.lineNumber,e.column+this.columnCount):new GA(e.lineNumber+this.lineCount,this.columnCount+1)}addToRange(e){return xf.fromPositions(this.addToPosition(e.getStartPosition()),this.addToPosition(e.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};f();f();f();var UN=class extends nl{static{s(this,"RecentEditsProvider")}};function CZe(t,e=!1,r=void 0,n){if(e&&(r===void 0||n===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let o=t.startLine-1,a=t.endLine-1;return!!(e&&(Math.abs(o-r)<=n||Math.abs(a-r)<=n))}s(CZe,"editIsTooCloseToCursor");var HN=s((t,e)=>{let[r,n]=e.useState();return e.useData(hc,async o=>{if(!o.document)return;let a=t.ctx.get(UN);if(a.isEnabled())a.start();else return;let c=a.config,l=a.getRecentEdits(),u=new Set,d=t.ctx.get(ri),h=[];for(let p=l.length-1;p>=0&&!(h.length>=c.maxEdits);p--){let g=l[p];if(!await d.getTextDocument({uri:g.file}))continue;let E=!u.has(g.file);if(u.size+(E?1:0)>c.maxFiles)break;let w=g.file===o.document?.uri,_=w?o.position.line:void 0;if(CZe(g,w,_,c.activeDocDistanceLimitFromCursor))continue;let D=a.getEditSummary(g);if(D){u.add(g.file);let N=d.getRelativePath({uri:g.file});h.unshift(d3(`File: ${N}`)+d3(D))}}if(h.length===0){n(void 0);return}let A=d3("These are recently edited files. Do not suggest code that has been deleted.")+h.join("")+d3("End of recent edits");n(A)}),r?Gt(Kg,{children:Gt(Ho,{children:r})}):void 0},"RecentEdits");f();f();f();f();var OCe=new jr;function UCe(t){return[...t].sort((e,r)=>{let n=OCe.get(e.uri)??0;return(OCe.get(r.uri)??0)-n})}s(UCe,"sortByAccessTimes");var qN=class{constructor(e){this.docManager=e}static{s(this,"OpenTabFiles")}truncateDocs(e,r,n,o){let a=new Map,c=0;for(let l of e)if(!(c+l.getText().length>CE.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&Rz(n,l.detectedLanguageId)&&(a.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),c+=l.getText().length),a.size>=o))break;return a}async getNeighborFiles(e,r,n){let o=new Map,a=new Map;return o=this.truncateDocs(UCe(await this.docManager.textDocuments()),e,r,n),a.set("opentabs",Array.from(o.keys()).map(c=>c.toString())),{docs:o,neighborSource:a}}};f();f();function HCe(t,e,r){return async function(...n){return await Promise.race([t.apply(this,n),new Promise(o=>{setTimeout(o,e,r)})])}}s(HCe,"shortCircuit");f();function EZe(...t){return JSON.stringify(t,(e,r)=>typeof r=="object"?r:String(r))}s(EZe,"defaultHash");function kz(t,e={}){let{hash:r=EZe,cache:n=new Map}=e;return function(...o){let a=r.apply(this,o);if(n.has(a))return n.get(a);let c=t.apply(this,o);return c instanceof Promise&&(c=c.catch(l=>{throw n.delete(a),l})),n.set(a,c),c}}s(kz,"memoize");var GN={entries:new Map,traits:[]},Dz=class extends jr{constructor(r,n=120*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{s(this,"PromiseExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let o=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),o}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.delete(r)}},ol=new Vr("relatedFiles"),IZe=1e3,VN=class extends Error{static{s(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},Nz=class t{constructor(e){this.context=e}static{s(this,"RelatedFilesProvider")}async getRelatedFiles(e,r,n){let o=await this.getRelatedFilesResponse(e,r,n);if(o===void 0)return;let a={entries:new Map,traits:o.traits??[]};for(let c of o.entries){let l=a.entries.get(c.type);l||(l=new Map,a.entries.set(c.type,l));for(let u of c.uris)try{ol.debug(this.context,`Processing ${u}`);let d=await this.getFileContent(u);if(!d||d.length==0){ol.debug(this.context,`Skip ${u} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(u,d)){ol.debug(this.context,`Skip ${u} due content exclusion.`);continue}d=t.dropBOM(d),l.set(u,d)}catch(d){ol.warn(this.context,d)}}return a}async getFileContent(e){try{return this.context.get(ia).readFileString(e)}catch(r){ol.debug(this.context,r)}}async isContentExcluded(e,r){try{return(await this.context.get(Kd).evaluate(e,r)).isBlocked}catch(n){ol.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(e){return e.charCodeAt(0)===65279?e.slice(1):e}},xZe=3,qCe=new Dz(IZe);async function GCe(t,e,r,n,o){let a=performance.now(),c;try{c=await o.getRelatedFiles(e,r,n)}catch(u){ol.exception(t,u,".getRelatedFiles"),c=void 0}c===void 0&&(qCe.bumpRetryCount(e.uri)>=xZe?c=GN:c=void 0);let l=performance.now()-a;if(ol.debug(t,c!==void 0?`Fetched ${[...c.entries.values()].map(u=>u.size).reduce((u,d)=>u+d,0)} related files for '${e.uri}' in ${l}ms.`:`Failing fetching files for '${e.uri}' in ${l}ms.`),c===void 0)throw new VN;return c}s(GCe,"getRelatedFiles");var Qz=kz(GCe,{cache:qCe,hash:s((t,e,r,n,o)=>`${e.uri}`,"hash")});Qz=HCe(Qz,200,GN);async function VCe(t,e,r,n,o,a=!1){let c=t.get(Nz),l=GN;try{let u={uri:e.uri,clientLanguageId:e.clientLanguageId,data:o};l=a?await GCe(t,u,r,n,c):await Qz(t,u,r,n,c)}catch(u){l=GN,u instanceof VN&&ir(t,"getRelatedFilesList",r)}return ol.debug(t,l!=null?`Fetched following traits ${l.traits.map(u=>`{${u.name} : ${u.value}}`).join("")} for '${e.uri}'`:`Failing fecthing traits for '${e.uri}'.`),l}s(VCe,"getRelatedFilesAndTraits");function Rz(t,e){return Nw(t)===Nw(e)}s(Rz,"considerNeighborFile");var CE=class t{static{s(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){t.instance=void 0}static async getNeighborFilesAndTraits(e,r,n,o,a,c,l){let u=e.get(ri);t.instance===void 0&&(t.instance=new qN(u));let d={...await t.instance.getNeighborFiles(r,n,t.MAX_NEIGHBOR_FILES),traits:[]};if(vZe(e,o))return d;let h=await u.getTextDocument({uri:r});if(!h)return ol.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),d;let A=u.getWorkspaceFolder(h);if(!A)return ol.debug(e,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),d;let p=await VCe(e,h,o,a,c,l);return p.entries.size===0?(ol.debug(e,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),d.traits.push(...p.traits),d):(p.entries.forEach((g,E)=>{let v=[];g.forEach((w,_)=>{let S=t.getRelativePath(_,A.uri);if(!S||d.docs.has(_))return;let D={relativePath:S,uri:_,source:w};v.unshift(D),d.docs.set(_,D)}),v.length>0&&d.neighborSource.set(E,v.map(w=>w.uri.toString()))}),d.traits.push(...p.traits),d)}static basename(e){return decodeURIComponent(e.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(e,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return e.toString().startsWith(n)?e.toString().slice(n.length):t.basename(e)}};function vZe(t,e){return t.get(Sr).excludeRelatedFiles(e)||es(t,Ft.ExcludeRelatedFiles)}s(vZe,"isExcludeRelatedFilesActive");function WCe(t,e){return t.get(Sr).includeNeighboringFiles(e)||es(t,Ft.IncludeNeighboringFiles)}s(WCe,"isIncludeNeighborFilesActive");var WN=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState([]);e.useData(hc,async u=>{u.document.uri!==r?.uri&&a([]),n(u.document);let d=CE.defaultEmptyResult();u.turnOffSimilarFiles||(d=await CE.getNeighborFilesAndTraits(t.ctx,u.document.uri,u.document.detectedLanguageId,u.telemetryData,u.cancellationToken,u.data));let h=await c(u.telemetryData,u.document,u,d);a(h)});async function c(u,d,h,A){let p=Xv(t.ctx,u,d.detectedLanguageId);return(await l(p,u,d,h,A)).filter(E=>E.snippet.length>0).sort((E,v)=>E.score-v.score).map(E=>({...jye(E),score:E.score}))}s(c,"produceSimilarFiles");async function l(u,d,h,A,p){let g=u.similarFilesOptions||CN(t.ctx,d,h.detectedLanguageId),v=t.ctx.get(ri).getRelativePath(h),w={uri:h.uri,source:h.getText(),offset:h.offsetAt(A.position),relativePath:v,languageId:h.detectedLanguageId};return await rCe(w,Array.from(p.docs.values()),g)}return s(l,"findSimilarSnippets"),Gt(Cf,{children:[...o.map((u,d)=>Gt(bZe,{snippet:u}))]})},"SimilarFiles"),bZe=s((t,e)=>Gt(Kg,{children:[Gt(Ho,{children:t.snippet.headline}),Gt(Ho,{children:t.snippet.snippet})]}),"SimilarFile");f();f();var $N=s((t,e)=>{let[r,n]=e.useState(),[o,a]=e.useState();if(e.useData(hc,c=>{c.traits!==r&&n(c.traits);let l=Nw(c.document.detectedLanguageId);l!==o&&a(l)}),!(!r||r.length===0||!o))return Gt(Cf,{children:[Gt(Ho,{children:`Consider this related information:
`}),...r.map(c=>Gt(Ho,{source:c,children:`${c.name}: ${c.value}`},c.id))]})},"Traits");function $Ce(t){return Gt(Cf,{children:[Gt(lz,{children:[Gt(SN,{ctx:t,weight:.7}),Gt($N,{weight:.6}),Gt(IN,{ctx:t,weight:.9}),Gt(WN,{ctx:t,weight:.8})]}),Gt(cCe,{weight:1}),Gt(uz,{children:Gt(HN,{ctx:t,weight:.99})}),Gt(aCe,{weight:1})]})}s($Ce,"splitContextCompletionsPrompt");f();var YCe=0;function TZe(){YCe=0}s(TZe,"resetContextIndex");function _Ze(){return YCe++}s(_Ze,"getNextContextIndex");var YN=class extends zv{constructor(){super(...arguments);this.formatPrefix=uCe;this.formatContext=fCe}static{s(this,"SplitContextPromptRenderer")}processSnapshot(r,n){let o=[],a=[],c=[],l=!1;if(TZe(),new Yv(r,wZe).walkSnapshot((h,A,p)=>{if(h===r||(h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&c.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.name===AE.name&&(l=!0),h.value===void 0||h.value===""))return!0;let g=p.chunks,E=p.type;if(E==="suffix")a.push({value:h3(h.value),type:"suffix",weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:g,source:p.source});else{let v=E==="prefix",w=v||h.value.endsWith(n)?h.value:h.value+n;o.push({type:v?"prefix":"context",value:h3(w),weight:p.weight,componentPath:h.path,nodeStatistics:h.statistics,chunks:g,source:p.source,index:v?void 0:p.index})}return!0}),!l)throw new Error(`Node of type ${AE.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let d=a.length===1?a[0]:{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:d,componentStatistics:c}}},wZe=[...pz,(t,e,r)=>xN(t)?{...r,index:_Ze()}:r];f();function zN(t,e,r){let n=oN(r,"Trait");for(let a of n)SZe(t,e,a.data,a.providerId);return n.flatMap(a=>a.data).sort((a,c)=>(a.importance??0)-(c.importance??0))}s(zN,"getTraitsFromContextItems");function SZe(t,e,r,n){let o=t.get(iu).getStatisticsForCompletion(e);r.forEach(a=>{o.addExpectations(n,[[a,"included"]])})}s(SZe,"setupExpectationsForTraits");var BZe=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function jN(t,e,r,n,o,a){if(r.length>0){let c={};c.detectedLanguageId=n,c.languageId=o;for(let u of r){let d=BZe.get(u.name);d&&(c[d]=u.value)}let l=a.extendedBy(c,{});return ir(e,t,l)}}s(jN,"ReportTraitsTelemetry");f();f();f();var KN=class{constructor(e){this.states=e;this.currentIndex=0;this.stateChanged=!1}static{s(this,"UseState")}useState(e){let r=this.currentIndex;if(this.states[r]===void 0){let o=typeof e=="function"?e():e;this.states[r]=o}let n=s(o=>{let a=typeof o=="function"?o(this.states[r]):o;this.states[r]=a,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},JN=class{constructor(e){this.measureUpdateTime=e;this.consumers=[]}static{s(this,"UseData")}useData(e,r){this.consumers.push(n=>{if(e(n))return r(n)})}async updateData(e){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(e);this.measureUpdateTime(performance.now()-r)}}};var XN=class{constructor(e){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(e,"$",0)}static{s(this,"VirtualPromptReconciler")}reconcile(e){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return e?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,e),this.vTree)}reconcileNode(e,r,n,o){if(!e.children&&!e.lifecycle)return e;let a=e;if(e.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(e);a=this.virtualizeElement(e.component,r,n);let u=this.collectChildPaths(a);this.cleanupState(l,u)}else if(e.children){let l=[];for(let u=0;u<e.children.length;u++){let d=e.children[u];if(d){let h=this.reconcileNode(d,e.path,u,o);h!==void 0&&l.push(h)}}a.children=l}return a}virtualizeElement(e,r,n){if(!(typeof e>"u")){if(typeof e=="string"||typeof e=="number")return{name:typeof e,path:`${r}[${n}]`,props:{value:e},component:e};if(RZe(e.type)){let o=e.type(e.props.children),a=r!=="$"?`[${n}]`:"",c=`${r}${a}.${o.type}`,l=o.children.map((u,d)=>this.virtualizeElement(u,c,d));return this.ensureUniqueKeys(l),{name:o.type,path:c,children:l.flat().filter(u=>u!==void 0),component:e}}return this.virtualizeFunctionComponent(r,n,e,e.type)}}virtualizeFunctionComponent(e,r,n,o){let a=n.props.key?`["${n.props.key}"]`:`[${r}]`,c=`${e}${a}.${o.name}`,l=new Fz(this.getOrCreateLifecycleData(c)),u=o(n.props,l),A=(Array.isArray(u)?u:[u]).map((p,g)=>this.virtualizeElement(p,c,g)).flat().filter(p=>p!==void 0);return this.ensureUniqueKeys(A),{name:o.name,path:c,props:n.props,children:A,component:n,lifecycle:l}}ensureUniqueKeys(e){let r=new Map;for(let o of e){if(!o)continue;let a=o.props?.key;a&&r.set(a,(r.get(a)||0)+1)}let n=Array.from(r.entries()).filter(([o,a])=>a>1).map(([o])=>o);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(e){let r=[];if(e?.children)for(let n of e.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(e,r){for(let n of e)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(e){return this.lifecycleData.has(e)||this.lifecycleData.set(e,new Pz([])),this.lifecycleData.get(e)}createPipe(){return{pump:s(async e=>{await this.pumpData(e)},"pump")}}async pumpData(e){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(e,this.vTree)}async recursivelyPumpData(e,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(e);for(let n of r.children||[])await this.recursivelyPumpData(e,n)}},Pz=class{static{s(this,"PromptElementLifecycleData")}constructor(e){this.state=e,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let e=this._updateTimeMs;return this._updateTimeMs=0,e}},Fz=class{constructor(e){this.lifecycleData=e;this.stateHook=new KN(e.state),this.dataHook=new JN(r=>{e._updateTimeMs=r})}static{s(this,"PromptElementLifecycle")}useState(e){return this.stateHook.useState(e)}useData(e,r){this.dataHook.useData(e,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function RZe(t){return typeof t=="function"&&"isFragmentFunction"in t}s(RZe,"isFragmentFunction");var v3=class{static{s(this,"VirtualPrompt")}constructor(e){this.reconciler=new XN(e)}snapshotNode(e,r){if(!e)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let o of e.children??[]){let a=this.snapshotNode(o,r);if(a==="cancelled")return"cancelled";a!==void 0&&n.push(a)}return{value:e.props?.value?.toString(),name:e.name,path:e.path,props:e.props,children:n,statistics:{updateDataTimeMs:e.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(e){try{let r=this.reconciler.reconcile(e);if(e?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,e);return n==="cancelled"||e?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};function hc(t){if(!t||typeof t!="object")return!1;let e=t;return!(!e.document||!e.position||e.position.line===void 0||e.position.character===void 0||!e.telemetryData)}s(hc,"isCompletionRequestData");var Lz={default:{promptFunction:zCe,renderer:zv},splitContext:{promptFunction:$Ce,renderer:YN}};function zCe(t){return Gt(Cf,{children:[Gt(cz,{children:[Gt(SN,{ctx:t,weight:.7}),Gt($N,{weight:.6}),Gt(IN,{ctx:t,weight:.9}),Gt(WN,{ctx:t,weight:.8}),Gt(HN,{ctx:t,weight:.99})]}),Gt(f3,{weight:1})]})}s(zCe,"defaultCompletionsPrompt");var ZN=class{constructor(e,r,n){this.ctx=e;this.promptOrdering=n??"default",this.virtualPrompt=r??new v3(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe(),this.renderer=this.getRenderer()}static{s(this,"ComponentsCompletionsPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}async createPromptUnsafe({completionId:e,completionState:r,telemetryData:n,promptOpts:o},a){let{maxPromptLength:c,suffixPercent:l,suffixMatchThreshold:u}=Xv(this.ctx,n,r.textDocument.detectedLanguageId),d=await this.failFastPrompt(r.textDocument,r.position,l,a);if(d)return d;let h=o?.separateContext?"splitContext":"default";this.setPromptOrdering(h);let A=performance.now(),{traits:p,codeSnippets:g,turnOffSimilarFiles:E,resolvedContextItems:v}=await this.resolveContext(e,r,n,a,o);if(await this.updateComponentData(r.textDocument,r.position,p,g,n,E,c,a,o,u,o?.tokenizer),a?.isCancellationRequested)return VA;let w=this.virtualPrompt.snapshot(a),_=w.status;if(_==="cancelled")return VA;if(_==="error")return this.errorPrompt(w.error);let S=this.renderer.render(w.snapshot,{delimiter:`
`,tokenizer:o?.tokenizer,promptTokenLimit:c,suffixPercent:l,languageId:r.textDocument.detectedLanguageId},a);if(S.status==="cancelled")return VA;if(S.status==="error")return this.errorPrompt(S.error);let[D,N]=b3(S.prefix),P={...S,prefix:D},O;if(Wv(this.ctx,n)){let ne=sN(S.metadata.componentStatistics);this.ctx.get(iu).getStatisticsForCompletion(e).computeMatch(ne),O=cN(this.ctx,e,v),Qo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(O)}'`)}let Y=performance.now();return this.resetIfEmpty(S),this.successPrompt(P,Y,A,N,O)}async updateComponentData(e,r,n,o,a,c,l,u,d={},h,A){let p=this.createRequestData(e,r,a,u,d,l,n,o,c,h,A);await this.pipe.pump(p)}async resolveContext(e,r,n,o,a={}){let c=[],l,u,d=!1;if(Wv(this.ctx,n)){c=await this.ctx.get(fE).resolution(e);let{textDocument:h}=r,A=c.filter(lN);DZe(this.ctx,h.detectedLanguageId,A,n)||(d=!0),l=zN(this.ctx,e,A),jN("contextProvider.traits",this.ctx,l,h.detectedLanguageId,h.detectedLanguageId,n),u=await EN(this.ctx,e,A,h.detectedLanguageId)}return{traits:l,codeSnippets:u,turnOffSimilarFiles:d,resolvedContextItems:c}}async failFastPrompt(e,r,n,o){if(o?.isCancellationRequested)return VA;if((await this.ctx.get(Kd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return rQ;if((n>0?e.getText().length:e.offsetAt(r))<eQ)return tQ}createRequestData(e,r,n,o,a,c,l,u,d,h,A){return{document:e,position:r,telemetryData:n,cancellationToken:o,data:a.data,traits:l,codeSnippets:u,turnOffSimilarFiles:d,suffixMatchThreshold:h,maxPromptTokens:c,tokenizer:A}}resetIfEmpty(e){e.prefix.length===0&&e.suffix.length===0&&this.reset()}successPrompt(e,r,n,o,a){return{type:"prompt",prompt:{prefix:e.prefix,prefixTokens:e.prefixTokens,suffix:e.suffix,suffixTokens:e.suffixTokens,context:e.context,isFimEnabled:e.suffix.length>0},computeTimeMs:r-n,trailingWs:o,neighborSource:new Map,metadata:e.metadata,contextProvidersTelemetry:a}}errorPrompt(e){return xd(this.ctx,e,"PromptComponents.CompletionsPromptFactory"),this.reset(),Zv}reset(){this.renderer=this.getRenderer(),this.virtualPrompt=new v3(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}setPromptOrdering(e){this.promptOrdering!==e&&(this.promptOrdering=e,this.reset())}completionsPrompt(){return(Lz[this.promptOrdering]?.promptFunction??zCe)(this.ctx)}getRenderer(){let e=Lz[this.promptOrdering]??Lz.default;return new e.renderer}};function DZe(t,e,r,n){let o=["cpp","c"];return WCe(t,n)||o.includes(e)||!r.some(c=>c.data.some(l=>l.type==="CodeSnippet"))}s(DZe,"similarFilesEnabled");f();f();f();f();f();var nQ="[...]",NZe=0,Zd=-1;function Go(){return NZe++}s(Go,"getAvailableNodeId");function QZe(t,e){let r=t.children.map(n=>n.elisionMarker??e);return[...t.text.entries()].map(([n,o])=>n===0?o:r[n-1]+o).join("")}s(QZe,"elideChildren");function Mz(t,e=nQ){return r=>t.tokenLength(QZe(r,e))}s(Mz,"getTokenizerCostFunction");f();var eb=class{static{s(this,"PriorityQueue")}constructor(e){if(this.heap=e?[...e]:[],this.heap.length>0)for(let r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.siftDown(r)}get size(){return this.heap.length}insert(e,r){let n={item:e,priority:r};this.heap.push(n);let o=this.heap.length-1;this.siftUp(o)}peek(){return this.heap.length===0?null:this.heap[0]}pop(){if(this.heap.length===0)return null;let e=this.heap[0],r=this.heap.pop();return this.heap.length>0&&(this.heap[0]=r,this.siftDown(0)),e}clear(){let e=this.heap;return this.heap=[],e}siftUp(e){let r=this.heap[e];for(;e>0;){let n=Math.floor((e-1)/2);if(this.heap[n].priority>=r.priority)break;this.heap[e]=this.heap[n],e=n}this.heap[e]=r}siftDown(e){for(;e<this.size-1;){let r=e,n=2*e+1,o=n+1;if(n<this.size&&this.heap[n].priority>this.heap[r].priority&&(r=n),o<this.size&&this.heap[o].priority>this.heap[r].priority&&(r=o),r===e)break;let a=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=a,e=r}}};var Ac=class{constructor(e,r,n,o,a=0,c=!1,l=nQ,u=!1){this.id=e;this.text=r;this.children=n;this.cost=o;this.weight=a;this.canMerge=c;this.elisionMarker=l;this.requireRenderedChild=u;this.weightFromChild=!1;if(r.length!==n.length+1)throw new Error(`Text fragments length (${r.length}) must be equal to children length (${n.length}) + 1`);this.weight=Math.max(a,0)}static{s(this,"RenderNode")}get value(){return this.weight/Math.max(this.cost,1)}get isRenderedChildRequired(){return this.requireRenderedChild||this.weightFromChild}updateWeights(e){let r=this.recursivelyRectifyWeights(e);for(let{item:n,priority:o}of r.clear())for(let a of n.nodes)a.weight=o*a.cost}recursivelyRectifyWeights(e){let r=this.children.map(c=>c.recursivelyRectifyWeights(e)),n=Math.max(0,e?e(this):this.weight);if(n===0&&r.reduce((c,l)=>c+l.size,0)===0)return this.weight=0,new eb([]);let o=new eb(r.flatMap(c=>c.clear())),a={nodes:[this],totalCost:this.cost,totalWeight:n};for(this.weightFromChild=!1;(o.peek()?.priority??0)>a.totalWeight/a.totalCost;){let{item:c}=o.pop();a.nodes.push(...c.nodes),a.totalCost+=c.totalCost,a.totalWeight+=c.totalWeight,this.weightFromChild=!0}return o.insert(a,a.totalWeight/a.totalCost),o}};function jCe(t,e={}){let{budget:r,mask:n,costFunction:o}=e,a=n??[],c=new Set(Array.isArray(a)?a:[a]);if((r??t.cost)<t.cost||c.has(t.id))return{text:t.elisionMarker,cost:o?o(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map};if(r===void 0){let A=s(w=>c.has(w.id),"elider"),p=[],g=new Map;if(Uz(t,p,A,g),p.length===0)return Oz(t,o);let E=p.join(""),v=o?o(E):[...g.values()].reduce((w,_)=>w+_.cost,0);return{text:E,cost:v,renderedNodes:g}}let l=new Map,u=[],d=new eb([{item:t,priority:t.value}]),h=r;for(;h>0&&d.size>0;){let{item:A}=d.pop();if(!c.has(A.id)&&A.cost<=h){h-=A.cost,l.set(A.id,A),u.push(A);for(let p of A.children)d.insert(p,p.value)}}for(;l.size>0;){let A=[],p=s(w=>!l.has(w.id),"elider"),g=new Map;if(Uz(t,A,p,g),A.length===0)return Oz(t,o);let E=A.join("");if(o===void 0){let w=[...g.values()].reduce((_,S)=>_+S.cost,0);return{text:E,cost:w,renderedNodes:g}}let v=o(E);if(v<=r)return{text:E,cost:v,renderedNodes:g};for(l=g;u.length>0&&v>r;){let w=u.pop();l.has(w.id)&&(v-=w.cost,l.delete(w.id))}if(u.length===0)break}return Oz(t,o)}s(jCe,"render");function Oz(t,e){return{text:t.elisionMarker,cost:e?e(t.elisionMarker):t.elisionMarker.length,renderedNodes:new Map}}s(Oz,"renderEmpty");function Uz(t,e,r,n,o=!1){let a=e.length;if(r(t))return a>=2&&(o||e[a-2]===t.elisionMarker&&e[a-1].trim().length===0)?(e.pop(),!1):(e.push(t.elisionMarker),!1);let c=t.isRenderedChildRequired,l=!0;for(let[u,d]of t.children.entries())e.push(t.text[u]??""),l=Uz(d,e,r,n,d.canMerge&&!l),c&&=!l;if(c){for(;e.length>a;)e.pop();return!1}return e.push(t.text[t.text.length-1]??""),n.set(t.id,t),!0}s(Uz,"recursivelyRender");function T3(t,e,r=nQ){let n=t.children.map(c=>T3(c,e,r));r=t.elisionMarker??r;let o=e(t);return new Ac(t.id,t.text,n,o,0,t.canMerge,r)}s(T3,"snapshot");var Zg=new Ac(Go(),[""],[],0);f();function au(t,e,r){let n=t.get(e);return n===void 0&&(n=r(e),t.set(e,n)),n}s(au,"setDefault");var ZCe=2e4,KCe=0,JCe=new jr;function eEe(t,e,r,n){KCe++;let o=r.promptOpts?.tokenizer??"o200k_base",a=performance.now(),{root:c,mask:l,statistics:u}=t.snapshot(r,n),d=performance.now(),h=new Set(l),A=JCe?.get(c.id),p;if(A&&A.budget>=e&&A.render.cost<=e&&A.tokenizer===o&&h.size===A.mask.size&&[...h].every(S=>A.mask.has(S)))p=A.render;else{let S=uc(o);p=jCe(c,{budget:e,mask:l,costFunction:s(N=>S.tokenLength(N),"costFunction")}),JCe.set(c.id,{budget:e,mask:h,tokenizer:o,render:p})}let{text:g,cost:E,renderedNodes:v}=p,w=performance.now();for(let[S,D]of u?.entries()??[])D.actualTokens=v.get(S)?.cost??0;let _={renderId:KCe,rendererName:"renderNode",tokenizer:o,elisionTimeMs:w-d,renderTimeMs:d-a,updateDataTimeMs:0,componentStatistics:[{componentPath:t.name,actualTokens:E}]};return{root:c,renderedNodes:v,text:g,cost:E,metadata:_}}s(eEe,"renderWithMetadata");function tEe(t,e){return r=>{let n=r.text.join("")+`
`;return au(e,n,()=>t.tokenLength(n)+1)}}s(tEe,"cachedLineCostFunction");function rEe(t,e,r){let o=t.split(`
`).map(h=>({id:Go(),text:[h],children:[],canMerge:!0})),a=[""];o.length>=1&&a.push(...Array(o.length-1).fill(`
`),"");let c={id:Go(),text:a,children:o,canMerge:!0},u=T3(c,s(h=>h.id===c.id?0:e(h),"nodeCostFunction")),d=r?o.length:1;for(let h of u.children)h.weight=d*Math.max(1,h.cost),d+=r?-1:1;return u}s(rEe,"getLinewiseNode");var iQ=class{constructor(){this.name="basicPrefix";this.costCache=new jr(ZCe)}static{s(this,"BasicPrefixComponent")}snapshot(e){let{completionState:r,promptOpts:n}=e,o=r.textDocument.getText({start:{line:0,character:0},end:r.position}),a=uc(n?.tokenizer),c=tEe(a,this.costCache);return{root:rEe(o,c,!1)}}},XCe={root:Zg,text:"",cost:0},oQ=class{constructor(e){this.ctx=e;this.name="cachedSuffix";this.cache=new jr(5);this.costCache=new jr(ZCe)}static{s(this,"CachedSuffixComponent")}snapshot(e){return{root:this.getCachedSuffix(e).root}}estimatedCost(e,r){return this.getCachedSuffix(e).cost}getCachedSuffix(e){let{completionState:r,telemetryData:n,promptOpts:o}=e,c=r.textDocument.getText({start:r.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}}).replace(/^.*/,"").trimStart();if(c==="")return XCe;let l=this.cache.get(r.textDocument.uri)||XCe;if(l.text===c)return l;let u=this.ctx.get(Sr).suffixMatchThreshold(n);if(l.text!==""){let g=new Og,E=g.takeFirstTokens(c,u3);if(E.tokens.length>0&&100*vN(E.tokens,g.takeFirstTokens(l.text,u3).tokens)?.score<u*E.tokens.length)return l}let d=uc(o?.tokenizer),h=tEe(d,this.costCache),A=rEe(c,h,!0),p=A.children.reduce((g,E)=>g+E.cost+1,0);return{root:A,cost:p,text:c}}},sQ=class{constructor(){this.name="traitProvider"}static{s(this,"TraitComponent")}snapshot(e,r){let{promptOpts:n}=e,o=uc(n?.tokenizer);if(!r||r.traits.length===0)return{root:Zg};let a=new Map,c=0,l=[],u=new Map;for(let p of r.traits){let g=Go(),E=`${p.name}: ${p.value}`,v=new Ac(g,[E],[],o.tokenLength(E));l.push(v),u.set(g,{componentPath:p.id,source:p,expectedTokens:v.cost}),a.set(g,p.importance??0),c+=p.importance??0}let h=[`Related context:
`,...new Array(l.length).fill(`
`)],A=new Ac(Go(),h,l,0,0,!0,"");return A.updateWeights(p=>(a.get(p.id)??0)/(c||1)),{root:A,statistics:u}}},aQ=class{constructor(e){this.ctx=e;this.name="contextProvider"}static{s(this,"CodeSnippetComponent")}snapshot(e,r){let{promptOpts:n}=e,o=uc(n?.tokenizer);if(!r||r.codeSnippets.length===0)return{root:Zg};let a=new Map;for(let g of r.codeSnippets){let E=g.uri;au(a,E,()=>[]).push(g)}let c=new Map,l=[],u=new Map,d=0,h=this.ctx.get(ri);for(let[g,E]of a.entries()){let v=h.getRelativePath({uri:g})??g,_=[`Compare ${E.length>1?"these snippets":"this snippet"} from ${v}:
`,...new Array(E.length).fill(`
`)],S=[];for(let D of E){let N=Go();u.set(N,D.importance??0);let P=new Ac(N,[D.value],[],o.tokenLength(D.value));S.push(P),d+=D.importance??0,c.set(N,{componentPath:D.id,source:D,expectedTokens:P.cost})}l.push(new Ac(Go(),_,S,o.tokenLength(_.join("")),0,!0,""))}let A=new Array(l.length+1).fill(""),p=new Ac(Go(),A,l,0,0,!0,"");return p.updateWeights(g=>(u.get(g.id)??0)/(d||1)),{root:p,statistics:c}}},cQ=class{constructor(e,r){this.name=e;this.components=r}static{s(this,"ConcatenatedContextComponent")}snapshot(e,r){let n=this.components.map(d=>d.snapshot(e,r)),o=n.map(d=>d.root).filter(d=>d.id!==Zg.id);if(o.length===0)return{root:Zg};let a=["",...Array(o.length-1).fill(`
`),""],c=new Ac(Go(),a,o,0,0,!0,"",!0),l=[],u=new Map;for(let d of n){for(let[h,A]of d.statistics?.entries()??[])u.set(h,A);d.mask&&l.push(...d.mask)}return{root:c,mask:l,statistics:u}}};var PZe=.8,lQ=class{constructor(e,r){this.ctx=e;this.components=r;this.renderId=0}static{s(this,"CascadingPromptFactory")}async prompt(e,r){try{return await this.createPromptUnsafe(e,r)}catch(n){return this.errorPrompt(n)}}getComponentAllocation(e){let r=this.ctx.get(Sr).suffixPercent(e),n=this.ctx.get(Sr).stableContextPercent(e),o=this.ctx.get(Sr).volatileContextPercent(e);if(r<0||r>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${r}`);if(n<0||n>100)throw new Error(`stableContextPercent must be between 0 and 100, but was ${n}`);if(o<0||o>100)throw new Error(`volatileContextPercent must be between 0 and 100, but was ${o}`);let a=100-r-n-o;if(a<=1||a>100)throw new Error(`prefixPercent must be between 1 and 100, but was ${a}`);return{prefix:a/100,suffix:r/100,stableContext:n/100,volatileContext:o/100}}async createPromptUnsafe(e,r){this.renderId++;let{completionId:n,completionState:o,telemetryData:a,promptOpts:c}=e,l=await this.failFastPrompt(o.textDocument,r);if(l)return l;let u=performance.now(),d;Wv(this.ctx,a)&&(d=await this.resolveContext(n,o,a,r));let h=performance.now()-u,A={},p={renderId:this.renderId,rendererName:"w",tokenizer:c?.tokenizer??"o200k_base",elisionTimeMs:0,renderTimeMs:0,updateDataTimeMs:h,componentStatistics:[]},g=o.textDocument.detectedLanguageId,{maxPromptLength:E}=Xv(this.ctx,a,g),v=this.getComponentAllocation(a),w=v.suffix*E,_=this.components.suffix.estimatedCost?.(e,d),S=["stableContext","volatileContext","prefix","suffix"];w>PZe*(_??0)&&(S=["stableContext","volatileContext","suffix","prefix"]);let D=0;for(let he of S){let $=D+E*v[he],K=eEe(this.components[he],$,e,d);D=$-K.cost,A[he]=K,FZe(p,K.metadata)}let[N,P]=b3(A.prefix.text),O=performance.now(),Y=Wv(this.ctx,a)?this.telemetrizeContext(n,p.componentStatistics,d?.resolvedContextItems??[]):[],ne=[A.stableContext.text.trim(),A.volatileContext.text.trim()];return{type:"prompt",prompt:{prefix:c?.separateContext?N:qA(ne.join(`
`),g)+`

`+N,prefixTokens:A.prefix.cost+A.stableContext.cost+A.volatileContext.cost,suffix:A.suffix.text,suffixTokens:A.suffix.cost,context:c?.separateContext?ne:void 0,isFimEnabled:A.suffix.text.length>0},computeTimeMs:O-u,trailingWs:P,neighborSource:new Map,metadata:p,contextProvidersTelemetry:Y}}async resolveContext(e,r,n,o){let a=await this.ctx.get(fE).resolution(e),{textDocument:c}=r,l=a.filter(lN),u=zN(this.ctx,e,l);jN("contextProvider.traits",this.ctx,u,c.detectedLanguageId,c.detectedLanguageId,n);let d=await EN(this.ctx,e,l,c.detectedLanguageId);return{traits:u,codeSnippets:d,resolvedContextItems:a}}telemetrizeContext(e,r,n){let o=sN(r);this.ctx.get(iu).getStatisticsForCompletion(e).computeMatch(o);let a=cN(this.ctx,e,n);return Qo.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(a)}'`),a}async failFastPrompt(e,r){if(r?.isCancellationRequested)return VA;if((await this.ctx.get(Kd).evaluate(e.uri,e.getText(),"UPDATE")).isBlocked)return rQ;if(e.getText().length<eQ)return tQ}errorPrompt(e){return xd(this.ctx,e,"WorkspaceContextPromptFactory"),Zv}};function FZe(t,e){t.elisionTimeMs+=e.elisionTimeMs,t.renderTimeMs+=e.renderTimeMs,t.updateDataTimeMs+=e.updateDataTimeMs,t.componentStatistics.push(...e.componentStatistics)}s(FZe,"aggregateMetadata");f();f();function LZe(t){return t.id!==void 0}s(LZe,"isNodeItem");function MZe(t){return!("uri"in t)&&!("id"in t)}s(MZe,"isNullItem");var OZe={"RecentDocumentProvider.RecentlyOpen":.1,"RecentDocumentProvider.RecentlyFocused":.1,"RecentDocumentProvider.RecentlyEdited":.1,RecentCompletionsRequestProvider:1,"ExtensionActivityProvider.CurrentSelection":5,"ExtensionActivityProvider.PrimarySelection":2,"ExtensionActivityProvider.Selection":.2,"ExtensionActivityProvider.VisibleRange":1,FileDirectoryDocumentProvider:.05,"SymbolContextProvider.Identifiers":.2,"SymbolContextProvider.Text":.2,"IndexingSymbolContextProvider.Text":1,"TreeProximityProvider.Parent":.3,"TreeProximityProvider.Children":.3,"TreeProximityProvider.Siblings":.3,"ExtensionReferenceProvider.References":.2,"ExtensionReferenceProvider.Definitions":1},e1="64f5ff7d-e507-4558-81cf-3bdacc3c5c00",tb=class{static{s(this,"WorkspaceContextWeights")}constructor(e){let r=new Map;for(let{uri:n,weight:o}of e)r.set(n,(r.get(n)??0)+o);this.documents=[...r.entries()].map(([n,o])=>({uri:n,weight:o})).sort((n,o)=>o.weight-n.weight),this.docWeights=r,this.nodes=e.filter(({id:n})=>n!==Zd),this.nodeWeights=new Map(e.map(({id:n,weight:o})=>[n,o]))}getNodeWeight(e){return this.nodeWeights.get(e)??0}getDocumentWeight(e){return this.docWeights.get(e)??0}},uQ=class{constructor(e,r){this.activeContext=e;this.config=r;this.sourceWeights=OZe;this.sourceContext=new Map;this.prevUpdateTime=void 0;this.prevItems=[];this.weights=new tb([])}static{s(this,"WorkspaceContextCoordinator")}getWeights(e){if(e){let r=this.sourceContext.get(e);return r?new tb(r.items):new tb([])}return this.weights}updateWeights(){let e=new Map,r=0,n=this.config.StaleWeightHalflife;for(let[o,{items:a,updateTime:c}]of this.sourceContext.entries()){let l=this.sourceWeights[o]??0;if(l<=0||a.length===0)continue;let u=.5**(-Math.max(0,(this.prevUpdateTime??c)-c)/n);l*=u,r+=l,this.aggregateWeights(a,e,l,!0)}if(r>0){if(this.weights.nodes.length>0){let o=r*this.config.Laziness,a=this.prevItems;this.aggregateWeights(a,e,o,!0)}for(let[o,a]of e.entries()){let c=this.activeContext.getDocument(o)?.document;if(c===void 0)continue;let l=a.get(Zd);if(l!==void 0&&l>0){a.delete(Zd);let u=0;for(let d of a.values())u+=d;if(u<=0){let d=c.getAllIds(),h=l/Math.max(d.length,1);for(let A of d)a.set(A,h)}else for(let[d,h]of[...a.entries()])a.set(d,h+l*(h/u))}}this.prevItems=this.truncateAndNormalize(e),this.weights=new tb(this.prevItems)}return this.prevUpdateTime=performance.now(),this.weights}pushWorkspaceContext(e,r){let n=performance.now(),o=this.addUriAndId(r),a=new Map;this.aggregateWeights(o,a);let c=this.truncateAndNormalize(a);this.sourceContext.set(e,{items:c,updateTime:n})}addUriAndId(e){return e.filter(r=>r.weight>0).map(r=>{if(MZe(r))return{weight:r.weight,uri:e1,id:Zd};let n=LZe(r)?r.id:Zd,o=r.uri??this.activeContext.getUri(n)??e1;return o===e1&&(n=Zd),{weight:r.weight,uri:o,id:n}})}aggregateWeights(e,r,n=1,o=!1){for(let{uri:a,id:c,weight:l}of e){if(l<=0||isNaN(l))continue;let u=au(r,a,()=>new Map),d=Zd;(!o||this.activeContext.getUri(c)!==void 0)&&(d=c),u.set(d,(u.get(d)??0)+l*n)}}truncateAndNormalize(e){let r=[],n=new Map,o=0;for(let[u,d]of e.entries()){let h=u!==e1?this.activeContext.normalizeUri(u)??e1:e1;for(let[A,p]of d.entries())u===e1||A===Zd?n.set(h,(n.get(h)??0)+p):r.push({uri:h,id:A,weight:p}),o+=p}if(o<=0)return[];n.delete(e1),r.sort((u,d)=>d.weight-u.weight);for(let{uri:u,weight:d}of r.slice(this.config.MaxActiveNodes,r.length))n.set(u,(n.get(u)??0)+d);let a=[...n.entries()].sort((u,d)=>d[1]-u[1]).slice(0,this.config.MaxActiveFiles).map(([u,d])=>({uri:u,id:Zd,weight:d}));return r.slice(0,this.config.MaxActiveNodes).concat(a).sort((u,d)=>d.weight-u.weight).map(u=>({...u,weight:u.weight/o}))}};f();f();var UZe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function HZe(t){return UZe.has(t.code??"")||t.name==="RangeError"&&t.message==="WebAssembly.Memory(): could not allocate memory"}s(HZe,"isOomError");function Hz(t,e,r,n=Qo){if(!km(e)){if(e instanceof Error){let o=e;HZe(o)?t.get(ks).setWarning("Out of memory"):o.code==="EMFILE"||o.code==="ENFILE"?t.get(ks).setWarning("Too many open files"):o.code==="CopilotPromptLoadFailure"?t.get(ks).setWarning("Corrupted Copilot installation"):`${o.code}`.startsWith("CopilotPromptWorkerExit")?t.get(ks).setWarning("Worker unexpectedly exited"):o.syscall==="uv_cwd"&&o.code==="ENOENT"&&t.get(ks).setWarning("Current working directory does not exist")}n.exception(t,e,r)}}s(Hz,"handleException");f();f();var fQ=class{static{s(this,"FileSearch")}};f();f();var dQ=class{constructor(e,r,n,o=!1){this.id=e;this.parts=r;this.text=n;this.canMerge=o}static{s(this,"ContextNode")}get startOffset(){return this.parts[0].root.startOffset}get endOffset(){return this.parts[this.parts.length-1].root.endOffset}get syntaxRoots(){return this.parts.map(e=>e.root)}get children(){return this.parts.flatMap(e=>e.children)}get syntaxLimits(){return this.children.flatMap(e=>e.syntaxRoots)}*syntaxNodes(){let e=new Set(this.syntaxLimits.map(r=>r.id));for(let r of this.syntaxRoots)yield*iEe(r,e)}findChild(e,r){if(e<this.startOffset||r>this.endOffset||r<e)return;let n=0,o=this.parts.length-1,a;for(;n<=o;){let l=Math.floor((n+o)/2);if(a=this.parts[l],a.root.startOffset<=e&&a.root.endOffset>=r)break;a.root.endOffset<e?n=l+1:o=l-1}if(a===void 0||o<n)return;n=0,o=a.children.length-1;let c;for(;n<=o;){let l=Math.floor((n+o)/2);if(c=a.children[l],c.startOffset<=e&&c.endOffset>=r)break;c.endOffset<e?n=l+1:o=l-1}if(!(c===void 0||o<n))return c}},qZe=6,hQ=class{constructor(e,r,n,o){this.textDocument=e;this.parser=r;this.minSize=n;this.updateId=Go();this.syntaxToAbstract=new Map;this.nodeById=new Map;this.minSize=Math.max(n,1),this.maxSize=Math.max(o??2*this.minSize,this.minSize+1),this._syntaxRoot=this.parser.parse(e,!0),this._root=this.buildTree()}static{s(this,"ContextDocument")}get uri(){return this.textDocument.uri}get version(){return this.updateId}get document(){return this.textDocument}get rootId(){return this._root.id}get root(){return this._root}get syntaxRoot(){return this._syntaxRoot}getNode(e){return this.nodeById.get(e)}getAllIds(){return Array.from(this.nodeById.keys())}findNode(e,r){let n=this._root,o=n;for(;o;)n=o,o=n.findChild(e,r??e);return n}update(e){if(this.uri!==e.uri)throw new Error("Can't update ContextDocument using mismatched URI");this.textDocument=e,this._syntaxRoot=this.parser.parse(e,!0),this.recursivelyRemapNodes(this.root,()=>{}),this._root=this.buildTree(),this.updateId=Go()}recursivelyRemapNodes(e,r){let n=!0;for(let d of e.children)n=n&&this.recursivelyRemapNodes(d,r);if(!n)return this.invalidateNode(e),!1;let o=[];for(let{root:d,children:h}of e.parts){let A=r(d);if(A===void 0||A.type!==d.type)return this.invalidateNode(e),!1;o.push({root:A,children:h})}let a=o[0].root.parent,c=e.parts[0].root.parent;if((a&&this.canMergeChildren(a))!==(c&&this.canMergeChildren(c)))return this.invalidateNode(e),!1;let l=nEe(o,this.document);for(let[d,h]of l.entries())if(e.text[d]!==h)return this.invalidateNode(e),!1;let u=new dQ(e.id,o,e.text,e.canMerge);for(let{root:d}of e.parts)this.syntaxToAbstract.delete(d.id);for(let{root:d}of u.parts)this.syntaxToAbstract.set(d.id,u);return this.nodeById.set(e.id,u),!0}invalidateNode(e){for(let r of e.syntaxRoots)this.syntaxToAbstract.delete(r.id);this.nodeById.delete(e.id)}createNode(e,r=!1){e.sort((a,c)=>a.root.startOffset-c.root.startOffset);let n=nEe(e,this.document),o=new dQ(Go(),e,n,r);for(let{root:a}of e)this.syntaxToAbstract.set(a.id,o);return this.nodeById.set(o.id,o),o}buildTree(){let e=this.buildRecursively(this._syntaxRoot);return this.createNode([{root:this._syntaxRoot,children:e}])}buildRecursively(e){if(e.endOffset-e.startOffset<this.minSize)return[];let r=e.children;if(this.canMergeChildren(e)){let o=r.map(c=>this.syntaxToAbstract.get(c.id));for(let c=0;c<r.length;c++)if(o[c]===void 0){if(c>0&&o[c-1]!==void 0){let l=o[c-1];for(let u=c-1;u>=0&&o[u]?.id===l.id;u--)o[u]=void 0;this.invalidateNode(l)}if(c<r.length-1&&o[c+1]!==void 0){let l=o[c+1];for(;c<r.length&&o[c+1]?.id===l.id;)c++,o[c]=void 0;this.invalidateNode(l)}}let a=[];for(let c=0;c<r.length;void 0)if(o[c]!==void 0)for(a.push(o[c]);c<r.length&&o[c+1]?.id===o[c].id;)c++;else{let l=[];for(;c<r.length&&o[c]===void 0;){let u=r[c];l.push({root:u,children:this.buildRecursively(u)}),c++}a.push(...this.mergeChildren(l))}return a}let n=[];for(let o=0;o<r.length;o++){let a=r[o];if(this.syntaxToAbstract.has(a.id)){let u=this.syntaxToAbstract.get(a.id);n.push(u),o+=u.parts.length-1;continue}let c=this.buildRecursively(a),l=a.endOffset-a.startOffset-c.reduce((u,d)=>u+(d.endOffset-d.startOffset),0);this.canBeNode(a)&&l>=this.minSize?n.push(this.createNode([{root:a,children:c}])):n.push(...c)}return n}mergeChildren(e){if(e.length===0)return[];e.sort((p,g)=>p.root.startOffset-g.root.startOffset);let r=e[e.length-1].root.endOffset-e[0].root.startOffset,n=[];for(let p of e){let g=p.root.endOffset-p.root.startOffset;for(let E of p.children){let v=E.endOffset-E.startOffset;g-=v,r-=v}n.push(g)}if(r<this.minSize)return e.flatMap(p=>p.children);let o=[0],a=0,c=null,l={line:-1,size:-1},u=e[0].root.startOffset,d=e[0].root.range.start.line;for(let p=0;p<e.length;p++){let g=e[p];if(a+=n[p]+g.root.startOffset-u,a>this.minSize&&a<this.maxSize){let E={line:g.root.range.start.line-d,size:g.root.startOffset-u};(E.line>l.line||E.line==l.line&&E.size>l.size)&&(l=E,c=p)}u=g.root.endOffset,d=g.root.range.end.line,a>=this.maxSize&&(c=c??p,o.push(c+1),p=c,a=0,c=null,l={line:-1,size:-1},u=e[p+1]?.root.startOffset,d=e[p+1]?.root.range.start.line)}o.length==1?o.push(e.length):o[o.length-1]!==e.length&&(o[o.length-1]=e.length);let h=[],A=!1;for(let p=0;p<o.length-1;p++){let g=e.slice(o[p],o[p+1]);h.push(this.createNode(g,A)),A=!0}return h}canMergeChildren(e){return this.parser.labeler.canMergeChildren?.(e)??e.children.length>qZe}canBeNode(e){return this.parser.labeler.canBeNode?.(e)??!0}};function nEe(t,e){if(t.length===0)return[""];let r=[],n=e.positionAt(t[0].root.startOffset);for(let a of t.flatMap(c=>c.children).sort((c,l)=>c.startOffset-l.startOffset)){let c=e.positionAt(a.startOffset);r.push(e.getText({start:n,end:c})),n=e.positionAt(a.endOffset)}let o=e.positionAt(t[t.length-1].root.endOffset);return r.push(e.getText({start:n,end:o})),r}s(nEe,"buildText");function*iEe(t,e){yield t;for(let r of t.children)e.has(r.id)||(yield*iEe(r,e))}s(iEe,"walk");f();f();f();f();f();var GZe={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},VZe=l3(GZe);function oEe(t){let e=t;return c3(e,VZe),e=nz(e),e=pN(e),AN(e),hE(e,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!ou(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),e}s(oEe,"processJava");f();var WZe={heading:/^# /,subheading:/^## /,subsubheading:/### /},$Ze=l3(WZe);function sEe(t){let e=t;if(c3(e,$Ze),ou(e))return e;function r(a){if(a.label==="heading")return 1;if(a.label==="subheading")return 2;if(a.label==="subsubheading")return 3}s(r,"headingLevel");let n=[e],o=[...e.subs];e.subs=[];for(let a of o){let c=r(a);if(c===void 0||ou(a))n[n.length-1].subs.push(a);else{for(;n.length<c;)n.push(n[n.length-1]);for(n[c-1].subs.push(a),n[c]=a;n.length>c+1;)n.pop()}}return e=Zye(e),e=pN(e),AN(e),e}s(sEe,"processMarkdown");f();iz("markdown",sEe);iz("java",oEe);var AQ=class{constructor(e,r,n,o,a,c){this.id=e;this.raw=r;this.children=n;this.source="indentation";this.parent=null;let l={start:{line:o,character:0},end:{line:a,character:c.lineAt(a).text.length}},u=c.getText(l),d=u.search(/\S/);if(d===-1){let p={line:a,character:0};this.startOffset=c.offsetAt(p),this.endOffset=this.startOffset,this.range={start:p,end:p};return}let h=u.search(/\S(?!.*\S)/s),A=c.offsetAt(l.start);this.startOffset=A+d,this.endOffset=A+h+1,this.range={start:c.positionAt(this.startOffset),end:c.positionAt(this.endOffset)}}static{s(this,"IndentationNode")}get type(){return this.raw.type}};function qz(t,e,r){let n=t.subs.map(u=>({subtree:u,node:qz(u,e,r)})).filter(u=>u.node!==null).sort((u,d)=>u.node.startOffset-d.node.startOffset),o=[],a=e;for(let u=n.length-1;u>=0;u--){let{subtree:d,node:h}=n[u];if(h.range.end.line>=a){let A=qz(d,a,r);A!==null&&(o.push(A),a=Math.min(A.range.start.line,a))}else o.push(h),a=Math.min(h.range.start.line,a)}o.sort((u,d)=>u.startOffset-d.startOffset);let c=e,l=0;if(o.length>0&&(c=Math.min(c,o[0].range.start.line),l=Math.max(l,o[o.length-1].range.end.line)),(t.type==="blank"||t.type==="line")&&(c=Math.min(c,t.lineNumber),l=Math.max(l,t.lineNumber),t.type==="blank"&&c===l))return null;if(l=Math.min(l,e-1),c<=l){let u=new AQ(Go(),t,o,c,l,r);for(let d of o)d.parent=u;return u}return null}s(qz,"recursivelyBuildNode");function aEe(t){let e=oz(t.getText(),t.detectedLanguageId);return qz(e,t.lineCount,t)??new AQ(Go(),e,[],0,t.lineCount-1,t)}s(aEe,"parse");var cEe={source:"indentation",parse:aEe,update(t,e){return{root:aEe(e),remapper:s(()=>{},"remapper")}},dispose:s(()=>{},"dispose"),labeler:{isIdentifier:s(t=>!1,"isIdentifier"),isText:s(t=>!0,"isText")}};async function lEe(t){return Promise.resolve(cEe)}s(lEe,"getParser");var YZe=new Vr("WorkspaceContextManager"),pQ=class{constructor(e,r){this.created=e;this.invalidated=r;this.updatedDocuments=Array.from(new Set([...e.entries(),...r.entries()].filter(([n,o])=>o.size>0).map(([n,o])=>n)))}static{s(this,"WorkspaceContextChanges")}getInvalidatedNodes(e){return this.getNodes(this.invalidated,e)}getCreatedNodes(e){return this.getNodes(this.created,e)}getNodes(e,r){return r===void 0?Array.from(e.entries()).flatMap(([n,o])=>[...o].map(a=>({uri:n,id:a}))):Array.from(e.get(r)??[]).map(n=>({uri:r,id:n}))}},mQ=class{constructor(e,r){this.item=e;this.disposalCallback=r}static{s(this,"CachedItem")}dispose(){this.disposalCallback(this.item)}},uEe=5e3,gQ=class{constructor(e,r){this.ctx=e;this.config=r;this.listenerDisposable=void 0;this.targetSet=new Set;this.activeDocuments=new Map;this.nodeToDoc=new Map;this.createdNodes=new Map;this.invalidatedNodes=new Map;this.parsers=new Map;this.staleDocuments=new Set;this.pendingUpdates=new Map;this.uriCache=new jr(uEe);this.allowedExtensions=new Set(PD);this.invalidDocumentCache=new b6(uEe,this.config.InvalidCacheTime),this.cachedDocuments=new T6(this.config.MaxActiveFiles)}static{s(this,"WorkspaceContextManager")}isStarted(){return this.listenerDisposable!==void 0}start(){this.isStarted()||(this.listenerDisposable=this.ctx.get(ri).onDidChangeTextDocument(e=>this.handleDocumentChange(e)))}setAllowedLanguages(e){this.allowedExtensions=new Set(e.flatMap(r=>cE[r]?.extensions??[]))}getActiveDocuments(){return Array.from(this.activeDocuments.values())}getNode(e){let r=this.nodeToDoc.get(e);if(r===void 0)return;let n=this.getDocument(r);if(n===void 0)return;let o=n.document.getNode(e);if(o!==void 0)return{...n,node:o}}getDocument(e){let r=this.activeDocuments.get(e);if(r!==void 0)return{document:r,isActive:!0};let n=this.cachedDocuments.get(e);if(n!==void 0)return{document:n.item,isActive:!1}}getUri(e){return this.nodeToDoc.get(e)}normalizeUri(e){let r,n=this.uriCache.get(e);if(n!==null){if(n!==void 0)r=n;else try{if(Qre(e),r=yd(e),!(this.ctx.get(ri).getWorkspaceFolder({uri:r})!==void 0)){this.uriCache.set(e,null);return}this.uriCache.set(e,r)}catch{this.uriCache.set(e,null);return}if(!(!this.allowedExtensions.has(Mre(r))||this.invalidDocumentCache.has(r)))return r}}dispose(){if(this.isStarted()){this.listenerDisposable?.dispose(),this.listenerDisposable=void 0;for(let e of this.parsers.values())e.dispose();this.parsers.clear(),this.activeDocuments.clear(),this.cachedDocuments.clear()}}trySetActiveDocuments(e){if(this.isStarted()){this.targetSet.clear();for(let r of e){let n=this.normalizeUri(r);n!==void 0&&(this.targetSet.add(n),this.updateDocument(n))}for(let r of[...this.activeDocuments.keys()])this.targetSet.has(r)||this.deactivateDocument(r)}}popChanges(){let e=new pQ(this.createdNodes,this.invalidatedNodes);return this.createdNodes=new Map,this.invalidatedNodes=new Map,e}async flushUpdates(e){if(e!==void 0){let r=this.pendingUpdates.get(e);r!==void 0&&await r}else await Promise.all([...this.pendingUpdates.values()])}isKnownDocument(e){return this.activeDocuments.has(e)||this.cachedDocuments.has(e)||this.pendingUpdates.has(e)}deactivateDocument(e){let r=this.activeDocuments.get(e);r!==void 0&&(this.activeDocuments.delete(e),this.pendingUpdates.has(e)||this.cachedDocuments.set(e,new mQ(r,n=>this.disposeDocument(n))))}async updateDocument(e){if(this.pendingUpdates.has(e))return;let r=new UA;this.pendingUpdates.set(e,r.promise);let n;this.activeDocuments.has(e)?n=this.activeDocuments.get(e):this.cachedDocuments.has(e)&&(n=this.cachedDocuments.get(e).item,this.cachedDocuments.uncache(e)),(n===void 0||this.staleDocuments.has(e))&&(this.staleDocuments.delete(e),n=await this.createUpdatedDocument(e,n)),n!==void 0&&this.isStarted()&&(this.targetSet.has(e)?this.activeDocuments.set(e,n):(this.activeDocuments.delete(e),this.cachedDocuments.set(e,new mQ(n,o=>this.disposeDocument(o))))),this.pendingUpdates.delete(e),r.resolve()}async createUpdatedDocument(e,r){let n=await this.readTextDocument(e);if(n===void 0){r!==void 0&&this.disposeDocument(r);return}let o;try{o=await this.getParser(n.detectedLanguageId)}catch{this.invalidDocumentCache.set(e,!0),r!==void 0&&this.disposeDocument(r);return}if(r!==void 0)if(n.detectedLanguageId!==r.document.detectedLanguageId)this.disposeDocument(r);else{let c=new Set(r.getAllIds());r.update(n);let l=new Set(r.getAllIds()),u=[...l].filter(h=>!c.has(h)),d=[...c].filter(h=>!l.has(h));return this.recordDocumentChanges(e,{created:u,invalidated:d}),r}let a=new hQ(n,o,this.config.MinNodeSize);return this.recordDocumentChanges(e,{created:a.getAllIds(),invalidated:[]}),a}disposeDocument(e){this.recordDocumentChanges(e.uri,{created:[],invalidated:e.getAllIds()})}recordDocumentChanges(e,r){let n=au(this.createdNodes,e,()=>new Set),o=au(this.invalidatedNodes,e,()=>new Set);for(let a of r.created)n.add(a),this.nodeToDoc.set(a,e);for(let a of r.invalidated)n.has(a)?n.delete(a):o.add(a),this.nodeToDoc.delete(a)}async getParser(e){let r=this.parsers.get(e);return r===void 0&&(r=await lEe(e),this.parsers.set(e,r)),r}async readTextDocument(e){if(this.invalidDocumentCache.has(e)||this.normalizeUri(e)===void 0)return;let r=this.ctx.get(ri),n=r.getWorkspaceFolder({uri:e}),o=!0;if(n!==void 0){let c=r.getRelativePath({uri:e});c!==void 0&&(await this.ctx.get(fQ).findFiles(c,{uri:n.uri},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0})).includes(e)&&(o=!1)}if(o){YZe.debug(this.ctx,`${e} is excluded from workspace context`),this.invalidDocumentCache.set(e,!0,3600*1e3);return}let a=await this.ctx.get(jg).getOrReadTextDocument({uri:e});if(a.status!=="valid"||a.document.uri!==e){this.invalidDocumentCache.set(e,!0);return}return a.document}handleDocumentChange(e){let r=e.document.uri;this.isKnownDocument(r)&&this.staleDocuments.add(r)}};var fEe=Et(require("events"));var zZe={UpdateInterval:500,InvalidCacheTime:1e3*60*10,StaleWeightHalflife:1e3*10,MinNodeSize:100,Laziness:.5,MaxActiveFiles:20,MaxActiveNodes:2e3},t1=class t{constructor(e){this.ctx=e;this.didStart=!1;this.didDispose=!1;this.deferredStart=new UA;this.config=zZe;this.emitter=new fEe.default;this.flushUpdatesPromise=void 0;this.emitter.setMaxListeners(27),this.contextManager=new gQ(e,this.config),this.coordinator=new uQ(this.contextManager,this.config),this.tokenEventDisposable=Ga(e,r=>{this.maybeStart(r)})}static{s(this,"WorkspaceContextFeature")}static{this.UpdateEventName="WorkspaceContextUpdate"}static{this.DisposeEventName="WorkspaceContextDispose"}async maybeStart(e){if(this.didStart||this.didDispose)return;let r=es(this.ctx,Ft.UseWorkspaceContextCoordinator);if(r===void 0&&e){let n=await this.ctx.get(Sr).updateExPValuesAndAssignments(e);r=this.isEnabled(n)}r&&(this.start(),this.tokenEventDisposable.dispose())}isActive(){return this.didStart&&!this.didDispose}get activation(){return this.deferredStart.promise}isEnabled(e){return es(this.ctx,Ft.UseWorkspaceContextCoordinator)??this.ctx.get(Sr).workspaceContextCoordinator(e)}start(){this.didStart||(this.didStart=!0,this.contextManager.start(),this.deferredStart.resolve(),this.loop())}dispose(){this.isActive()?(this.emitter.emit(t.DisposeEventName),this.contextManager.dispose()):!this.didDispose&&!this.didStart&&this.tokenEventDisposable.dispose(),this.didDispose=!0}pushWorkspaceContext(e,r){this.isActive()&&this.coordinator.pushWorkspaceContext(e,r)}getWorkspaceContext(){return this.contextManager}getWorkspaceContextWeights(){return this.coordinator.getWeights()}onUpdate(e){return this.emitter.on(t.UpdateEventName,e),Uo.Disposable.create(()=>this.emitter.off(t.UpdateEventName,e))}onDisposal(e){return this.emitter.on(t.DisposeEventName,e),Uo.Disposable.create(()=>this.emitter.off(t.DisposeEventName,e))}setContextLanguages(e){this.contextManager.setAllowedLanguages(e)}async loop(){try{for(;this.isActive();){let e=this.coordinator.updateWeights(),r=e.documents.slice(0,this.config.MaxActiveFiles).map(({uri:n})=>n);if(this.contextManager.trySetActiveDocuments(r),this.flushUpdatesPromise=this.contextManager.flushUpdates(),await this.flushUpdatesPromise,this.isActive()){let n=this.config.UpdateInterval,o={weights:e,context:this.contextManager,changes:this.contextManager.popChanges(),responseInterval:n};this.emitter.emit(t.UpdateEventName,o),await Uv(n)}}}catch(e){Hz(this.ctx,e,"WorkspaceContextFeature.loop"),this.dispose()}}};function Gz(t,e){let r=Xh(t,e,"event.WorkspaceContextUpdate");return t.get(t1).onUpdate(r)}s(Gz,"onWorkspaceContextUpdate");f();var jZe=2e4,yQ=class{constructor(e){this.ctx=e;this.name="workspaceContext";this.documents=new Map;this.root=Zg;this.costFunction=Mz(new Og);this.disposables=[];this.costCache=new jr(jZe);this.rootWithPathCache=new jr;this.disposables.push(Gz(e,r=>{(this.nextUpdateTime===void 0||performance.now()>=this.nextUpdateTime)&&setTimeout(()=>{this.update(r.weights,r.context)},0)}))}static{s(this,"WorkspaceContextPromptComponent")}snapshot(e){let{completionState:r,telemetryData:n}=e;this.nextUpdateTime=this.lastUpdateTime!==void 0?this.lastUpdateTime+this.ctx.get(Sr).workspaceContextCacheTime(n):performance.now();let o=au(this.rootWithPathCache,r.textDocument.uri,()=>{let c=Mz(uc(e.promptOpts?.tokenizer));this.costFunction=u=>au(this.costCache,u.id,()=>c(u));let l=this.getPathMarker(r);return new Ac(Go(),[`${l}
`,""],[this.root],1,0,!0,"")}),a=this.getMask(r.textDocument.uri);return{root:o,mask:a}}getRoot(){return this.root}getMask(e){let r=this.documents.get(e);return r===void 0?[]:[r.id]}getPathMarker(e){let r=e.textDocument,n=this.ctx.get(ri),o=n.getRelativePath(e.textDocument),a={uri:r.uri,source:"",relativePath:o,languageId:r.detectedLanguageId},c=n.findNotebook(r);return a.relativePath&&!c?qA(wN(a),a.languageId):qA(_N(a),a.languageId)}update(e,r){this.rootWithPathCache.clear(),this.documents.clear();for(let{uri:n}of e.documents){let o=r.getDocument(n);if(o?.isActive!==!0)continue;let a=this.createAnnotatedDocumentRoot(o.document),c=T3(a,this.costFunction);this.documents.set(n,c),c.updateWeights(u=>e.getNodeWeight(u.id)??0),c.requireRenderedChild=!0;let l=c.children[0];l.requireRenderedChild=l.children.length>0}this.root=this.createRootNode(),this.lastUpdateTime=performance.now()}createRootNode(){let e=new Array(this.documents.size+1).fill(""),r=[...this.documents.values()];return new Ac(Go(),e,r,1,0,!0,"")}createAnnotatedDocumentRoot(e){return{text:[this.getDocumentAnnotation(e.uri,e.document.detectedLanguageId),`

`],children:[e.root],id:Go(),elisionMarker:"",canMerge:!0}}getDocumentAnnotation(e,r){let o=this.ctx.get(ri).getRelativePath({uri:e});return qA(`Related portions of ${o??e}:
`,r)}dispose(){for(let e of this.disposables)e.dispose();this.disposables=[]}};f();f();var CQ=class extends lQ{static{s(this,"WorkspaceContextPromptFactory")}constructor(e){let r={stableContext:new yQ(e),prefix:new iQ,suffix:new oQ(e),volatileContext:new cQ("volatileContext",[new sQ,new aQ(e)])};super(e,r)}};var dEe=Et(Ca());var rb=class{static{s(this,"CompletionsPromptFactory")}};function hEe(t,e,r){return new Vz(new Wz(new $z(t,new ZN(t,e,r),new CQ(t),JZe)))}s(hEe,"createCompletionsPromptFactory");var Vz=class extends rb{constructor(r){super();this.delegate=r}static{s(this,"SequentialCompletionsPromptFactory")}async prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return VA;try{return await this.delegate.prompt(r,n)}catch{return Zv}}},KZe=1200,Wz=class{constructor(e){this.delegate=e}static{s(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(e,r){let n=new dEe.CancellationTokenSource,o=n.token;return r?.onCancellationRequested(()=>{n.cancel()}),await Promise.race([this.delegate.prompt(e,o),new Promise(a=>{setTimeout(()=>{n.cancel(),a(AEe)},KZe)})])}},$z=class{constructor(e,r,n,o){this.ctx=e;this.defaultDelegate=r;this.experimentalDelegate=n;this.fn=o}static{s(this,"ExperimentalCompletionsPromptFactory")}async prompt(e,r){return this.fn(this.ctx,e.telemetryData)?this.experimentalDelegate.prompt(e,r):this.defaultDelegate.prompt(e,r)}};function JZe(t,e){let r=t.get(t1);return r.isEnabled(e)&&r.isActive()}s(JZe,"workspaceContextEnabledAndActive");var eQ=10,tQ={type:"contextTooShort"},rQ={type:"copilotContentExclusion"},Zv={type:"promptError"},VA={type:"promptCancelled"},AEe={type:"promptTimeout"};function b3(t){let e=t.split(`
`),r=e[e.length-1],n=r.length-r.trimEnd().length,o=t.slice(0,t.length-n),a=t.slice(o.length);return[r.length==n?o:t,a]}s(b3,"trimLastLine");function Xv(t,e,r){let o=t.get(Sr).maxPromptCompletionTokens(e)-iN(t),a=oCe(e,r),c=CN(t,e,r),l=t.get(Sr).suffixPercent(e),u=t.get(Sr).suffixMatchThreshold(e);if(l<0||l>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${l}`);if(u<0||u>100)throw new Error(`suffixMatchThreshold must be between 0 and 100, but was ${u}`);return{maxPromptLength:o,similarFilesOptions:c,numberOfSnippets:a,suffixPercent:l,suffixMatchThreshold:u}}s(Xv,"getPromptOptions");f();f();var pEe=2.98410452738298,mEe=-.838732736843507,gEe=1.50314646255716,yEe=-.237798634012662,CEe={python:.314368072478742},EEe={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var XZe={link:s(t=>Math.exp(t)/(1+Math.exp(t)),"link"),unlink:s(t=>Math.log(t/(1-t)),"unlink")};function ZZe(t,e){let r=Math.min(...Array.from(e.keys()).filter(c=>c>=t)),n=Math.max(...Array.from(e.keys()).filter(c=>c<t)),o=e.get(r),a=e.get(n);return a+(o-a)*(t-n)/(r-n)}s(ZZe,"linearInterpolation");var nb=class{static{s(this,"Regressor")}constructor(e,r,n){this.name=e,this.coefficient=r,this.transformation=n||(o=>o)}contribution(e){return this.coefficient*this.transformation(e)}},Yz=class{constructor(e,r,n){this.link=XZe;if(this.intercept=e,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let o in n)this.logitsToQuantiles.set(n[o],Number(o))}static{s(this,"LogisticRegression")}predict(e,r){let n=this.intercept;for(let o of this.coefficients){let a=r[o.name];if(a===void 0)return NaN;n+=o.contribution(a)}return this.link.link(n)}quantile(e,r){let n=this.predict(e,r);return ZZe(n,this.logitsToQuantiles)}},ZOr=new Yz(pEe,[new nb("compCharLen",mEe,t=>Math.log(1+t)),new nb("meanLogProb",gEe),new nb("meanAlternativeLogProb",yEe)].concat(Object.entries(CEe).map(t=>new nb(t[0],t[1]))),EEe);f();f();var tet=Et(KT());var bHr=new Vr("ghostText");var _3=class t{constructor(e=!1){this.requestMultilineOverride=e}static{s(this,"ForceMultiLine")}static{this.default=new t}};var ib=class{constructor(){this.choices=[]}static{s(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(e,r,n,o){o!==2&&(this.prefix=e,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(e,r){let n=this.getRemainingPrefix(e,r);if(n!==void 0&&IEe(this.choices[0].completionText,n))return ret(this.choices,n)}hasAcceptedCurrentCompletion(e,r){let n=this.getRemainingPrefix(e,r);if(n===void 0)return!1;let o=n===this.choices?.[0].completionText,a=this.choices?.[0].finishReason;return o&&a==="stop"}getRemainingPrefix(e,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&e.startsWith(this.prefix))return e.substring(this.prefix.length)}};function ret(t,e){return t.filter(r=>IEe(r.completionText,e)).map(r=>({...r,completionText:r.completionText.substring(e.length)}))}s(ret,"adjustChoicesStart");function IEe(t,e){return t.startsWith(e)&&t.length>e.length}s(IEe,"startsWithAndExceeds");f();f();f();f();f();f();f();f();f();f();f();var xEe="code-referencing";var eh=new Vr(xEe);var net=3e3,zz=2,vEe=256,bEe=Math.log(vEe)/Math.log(zz)/zz,vf={connection:"disabled",maxAttempts:bEe,retryAttempts:0,initialWait:!1},EQ,IQ=[];function iet(){if(EQ)return EQ;function t(_){return IQ.push(_),()=>{let S=IQ.indexOf(_);S!==-1&&IQ.splice(S,1)}}s(t,"subscribe");function e(){for(let _ of IQ)_()}s(e,"afterUpdateConnection");function r(_){vf.connection!==_&&(vf.connection=_,e())}s(r,"updateConnection");function n(){return vf.connection==="connected"}s(n,"isConnected");function o(){return vf.connection==="disconnected"}s(o,"isDisconnected");function a(){return vf.connection==="retry"}s(a,"isRetrying");function c(){return vf.connection==="disabled"}s(c,"isDisabled");function l(){r("connected"),A(!1)}s(l,"setConnected");function u(){r("disconnected")}s(u,"setDisconnected");function d(){r("retry")}s(d,"setRetrying");function h(){r("disabled")}s(h,"setDisabled");function A(_){vf.initialWait!==_&&(vf.initialWait=_)}s(A,"setInitialWait");function p(_,S=net){a()||(d(),A(!0),E(_,S))}s(p,"enableRetry");function g(){return vf.initialWait}s(g,"isInitialWait");async function E(_,S){eh.info(_,`Attempting to reconnect in ${S}ms.`),await v(S),A(!1);let D=_.get(ms);function N(P,O){if(P>vEe){eh.info(O,"Max retry time reached, disabling."),h();return}let Y=s(async()=>{vf.retryAttempts=Math.min(vf.retryAttempts+1,bEe);try{eh.info(O,`Pinging service after ${P} second(s)`);let ne=await D.fetch(new URL("_ping",B6(O)["origin-tracker"]).href,{method:"GET",headers:{"content-type":"application/json"}});if(ne.status!==200||!ne.ok)N(P**2,O);else{eh.info(O,"Successfully reconnected."),l();return}}catch{N(P**2,O)}},"tryAgain");setTimeout(()=>void Y(),P*1e3)}s(N,"succeedOrRetry"),eh.info(_,"Attempting to reconnect."),N(zz,_)}s(E,"attemptToPing");let v=s(_=>new Promise(S=>setTimeout(S,_)),"timeout");function w(_){return{dispose:t(_)}}return s(w,"listen"),EQ={setConnected:l,setDisconnected:u,setRetrying:d,setDisabled:h,enableRetry:p,listen:w,isConnected:n,isDisconnected:o,isRetrying:a,isDisabled:c,isInitialWait:g},EQ}s(iet,"registerConnectionState");var oet=iet();f();var xQ={BadArguments:"BadArgumentsError",Unauthorized:"NotAuthorized",NotFound:"NotFoundError",RateLimit:"RateLimitError",InternalError:"InternalError",ConnectionError:"ConnectionError",Unknown:"UnknownError"},set={[xQ.Unauthorized]:"Invalid GitHub token. Please sign out from your GitHub account using VSCode UI and try again",[xQ.InternalError]:"Internal error: matches to public code will not be detected. It is advised to disable Copilot completions until the service is reconnected.",[xQ.RateLimit]:"You've reached your quota and limit, code matching will be unavailable until the limit resets"};f();var aet=/^[1-6][0-9][0-9]$/,cet=/([A-Z][a-z]+)/,uet="code_referencing",w3=class{constructor(e){this.baseKey=e}static{s(this,"CodeQuoteTelemetry")}buildKey(...e){return[uet,this.baseKey,...e].join(".")}},jz=class extends w3{static{s(this,"CopilotOutputLogTelemetry")}constructor(){super("github_copilot_log")}handleOpen({context:e}){let r=this.buildKey("open","count"),n=on.createAndMarkAsIssued();ir(e,r,n)}handleFocus({context:e}){let r=on.createAndMarkAsIssued(),n=this.buildKey("focus","count");ir(e,n,r)}handleWrite({context:e}){let r=on.createAndMarkAsIssued(),n=this.buildKey("write","count");ir(e,n,r)}},cqr=new jz,Kz=class extends w3{static{s(this,"MatchNotificationTelemetry")}constructor(){super("match_notification")}handleDoAction({context:e,actor:r}){let n=on.createAndMarkAsIssued({actor:r}),o=this.buildKey("acknowledge","count");ir(e,o,n)}handleDismiss({context:e,actor:r}){let n=on.createAndMarkAsIssued({actor:r}),o=this.buildKey("ignore","count");ir(e,o,n)}},lqr=new Kz,Jz=class extends w3{static{s(this,"SnippyTelemetry")}constructor(){super("snippy")}handleUnexpectedError({context:e,origin:r,reason:n}){let o=on.createAndMarkAsIssued({origin:r,reason:n});Zh(e,this.buildKey("unexpectedError"),o)}handleCompletionMissing({context:e,origin:r,reason:n}){let o=on.createAndMarkAsIssued({origin:r,reason:n});Zh(e,this.buildKey("completionMissing"),o)}handleSnippyNetworkError({context:e,origin:r,reason:n,message:o}){if(!r.match(aet)){eh.debug(e,"Invalid status code, not sending telemetry",{origin:r});return}let a=n.split(cet).filter(l=>!!l).join("_").toLowerCase(),c=on.createAndMarkAsIssued({message:o});Zh(e,this.buildKey(a,r),c)}},TEe=new Jz;f();var Xz=ee.Object({kind:ee.Literal("failure"),reason:ee.String(),code:ee.Number(),msg:ee.String(),meta:ee.Optional(ee.Any())}),det=ee.Object({matched_source:ee.String(),occurrences:ee.String(),capped:ee.Boolean(),cursor:ee.String(),github_url:ee.String()}),het=ee.Object({source:ee.String()}),Aet=ee.Object({snippets:ee.Array(det)}),pet=ee.Union([Aet,Xz]),met=ee.Object({cursor:ee.String()}),get=ee.Object({commit_id:ee.String(),license:ee.String(),nwo:ee.String(),path:ee.String(),url:ee.String()}),yet=ee.Object({has_next_page:ee.Boolean(),cursor:ee.String()}),Cet=ee.Object({count:ee.Record(ee.String(),ee.String())}),Eet=ee.Object({file_matches:ee.Array(get),page_info:yet,license_stats:Cet}),Iet=ee.Union([Eet,Xz]);f();var Nqr=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu");f();f();var DGr=new Vr("postInsertion");var jGr=new Vr("ghostText"),S3=class{constructor(){this.#i=[];this.linesAccepted=0}static{s(this,"LastGhostText")}#e;#t;#i;get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[],this.resetPartialAcceptanceState()}setState({uri:e},r){this.#t=e,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0,this.totalLength=void 0,this.linesLeft=void 0,this.linesAccepted=0}};function _Ee(t){let e=new QD;return e.set(W0,t),e.set(Wy,new Wy),e.set(Ks,new Ks),e.set(qv,new qv),e.set(Ei,new Ei(e)),e.set(Sr,new Sr(e)),e.set(iE,new iE),e.set(V0,new V0(e)),e.set(Qc,new Qc),e.set(Mm,new Mm),e.set(HA,new o3),e.set(bv,new uD),e.set($y,new IR),e.set(t0,new t0),e.set(Dv,new Dv(e)),e.set(jg,new jg(e)),e.set(t1,new t1(e)),e.set(rb,hEe(e)),e.set(S3,new S3),e.set(ib,new ib),e.set(_3,_3.default),e.set(OA,new OA(e)),e.set(nE,new nE(e)),e.set(b2,new b2),e.set(Hv,new Hv(e)),e.set($w,new $w),e.set(Yw,new Yw(e)),e.set(Vv,new Vv),e}s(_Ee,"createCommonContext");f();f();var vQ=class extends Error{static{s(this,"FetchSpeculationCanceledException")}constructor(e){super(e),this.name="FetchSpeculationCanceledException"}};f();var bQ=class extends Error{static{s(this,"FetchSpeculationFailedException")}constructor(e){super(e),this.name="FetchSpeculationFailedException"}};var GVr=ee.Object({prompt:ee.String(),speculation:ee.String(),languageId:ee.String(),stops:ee.Array(ee.String())}),B3=class{static{s(this,"SpeculationFetcher")}constructor(e){this.ctx=e}async fetchSpeculation(e,r){let o={prompt:e.prompt,speculation:e.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",stops:e.stops},a=await this.ctx.get(Ei).getToken(),c=await this.ctx.get(Sr).updateExPValuesAndAssignments(a),l=await this.ctx.get(HA).fetchAndStreamSpeculation(this.ctx,o,c,(u,d)=>{},r);switch(l.type){case"success":return l;case"canceled":throw new vQ(l.reason);case"failed":throw new bQ(l.reason)}}};f();f();function wEe(t){return Sre(t)}s(wEe,"verboseLogging");var TQ=class extends Qy{constructor(r){super();this.console=r}static{s(this,"ConsoleLog")}logIt(r,n,o,...a){n==1?this.console.error(`[${o}]`,...a):(n==2||wEe(r))&&this.console.warn(`[${o}]`,...a)}};f();var SEe=require("node:util");var _Q=class extends Rm{static{s(this,"TelemetryLogSenderImpl")}sendError(e,r,...n){Zh(e,"log",on.createAndMarkAsIssued({context:r,level:L8[1],message:_et(...n)}),1)}sendException(e,r,n){xd(e,r,n)}};function _et(...t){return t.map(e=>(0,SEe.inspect)(e)).join(" ")}s(_et,"telemetryMessage");f();var qwe=Et(require("crypto")),Gwe=Et(require("fs")),iL=Et(Uwe()),Vwe=require("tls"),Wwe=Et(Hwe());var h5=new Vr("certificates"),bc=class{static{s(this,"RootCertificateReader")}};function $we(t,e=process.platform){return new vZ(t,[new bZ,new TZ,Bmt(t,e)])}s($we,"getRootCertificateReader");function Bmt(t,e){switch(e){case"linux":return new _Z(t);case"darwin":return new wZ(t);case"win32":return new SZ(t);default:return new BZ}}s(Bmt,"createPlatformReader");var xZ=class extends bc{constructor(r,n){super();this.ctx=r;this.delegate=n}static{s(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return h5.warn(this.ctx,"Failed to read root certificates:",r),[]}}},vZ=class extends bc{constructor(r,n){super();this.ctx=r;this.delegates=n.map(o=>new xZ(r,o))}static{s(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),o=r.filter(a=>{try{let c=new qwe.X509Certificate(a),l=Date.parse(c.validTo);return isNaN(l)||l>n}catch(c){return h5.warn(this.ctx,"Failed to parse certificate",a,c),!1}});return r.length!==o.length&&h5.info(this.ctx,`Removed ${r.length-o.length} expired certificates`),o}},bZ=class extends bc{static{s(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return Vwe.rootCertificates}},TZ=class extends bc{static{s(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let e=process.env.NODE_EXTRA_CA_CERTS;return e?await Ywe(e):[]}},_Z=class extends bc{constructor(r){super();this.ctx=r}static{s(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let o=await Ywe(n);h5.debug(this.ctx,`Read ${o.length} certificates from ${n}`),r=r.concat(o)}return r}},wZ=class extends bc{constructor(r){super();this.ctx=r}static{s(this,"MacRootCertificateReader")}getAllRootCAs(){let r=iL.get({excludeBundled:!1,format:iL.Format.pem});return h5.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},SZ=class extends bc{constructor(r){super();this.ctx=r}static{s(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=Wwe.all();return h5.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},BZ=class extends bc{static{s(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function Ywe(t){let e;try{e=await Gwe.promises.readFile(t,{encoding:"utf8"})}catch{return[]}let r=e.match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(a=>a.length>0),o=new Set(n);return Array.from(o)}s(Ywe,"readCertsFromFile");f();var l3e=Et(require("http"));var ngt=407,La=new Vr("proxySocketFactory"),N1=class{static{s(this,"ProxySocketFactory")}},XE=class extends Error{static{s(this,"ProxySocketError")}constructor(e,r,n){super(e),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function u3e(t){return new NZ(t,new QZ(t))}s(u3e,"getProxySocketFactory");var NZ=class extends N1{constructor(r,n,o=new PZ,a=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=o;this.platform=a;this.successfullyAuthorized=new jr(20)}static{s(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(La.debug(this.ctx,"Proxy authorization already successful once, skipping 407 round trip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(o){if(o instanceof XE&&o.code===`ProxyStatusCode${ngt}`){La.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let a=await this.authorizeAndCreateSocket(r,n);if(a)return La.debug(this.ctx,"Proxy authorization successful, caching result"),ir(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),a}throw o}}async reauthorize(r,n){let o=await this.authorize(n);o&&(La.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+o)}async authorizeAndCreateSocket(r,n){let o=await this.authorize(n);if(La.debug(this.ctx,"Proxy authorization successful, received token"),o)return La.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+o,await this.delegate.createSocket(r,n)}async authorize(r){La.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),o=this.computeSpn(r);La.debug(this.ctx,"Initializing kerberos client using spn",o);let a=await n.initializeClient(o);La.debug(this.ctx,"Perform client side kerberos step");let c=await a.step("");return La.debug(this.ctx,"Received kerberos server response"),c}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return La.debug(this.ctx,"Using configured kerberos spn",n),n;let o=this.platform==="win32"?`HTTP/${r.hostname}`:`HTTP@${r.hostname}`;return La.debug(this.ctx,"Using default kerberos spn",o),o}getProxyCacheKey(r){return`${r.hostname}:${r.port}`}},QZ=class extends N1{constructor(r){super();this.ctx=r;this.userAgent=`GithubCopilot/${this.ctx.get(Ks).getVersion()}`}static{s(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let o=this.createConnectRequestOptions(r,n);return new Promise((a,c)=>{La.debug(this.ctx,"Attempting to establish connection to proxy");let l=l3e.request(o);l.useChunkedEncodingByDefault=!1,l.once("connect",(u,d,h)=>{La.debug(this.ctx,"Socket Connect returned status code",u.statusCode),l.removeAllListeners(),d.removeAllListeners(),u.statusCode!==200?(d.destroy(),c(new XE(`tunneling socket could not be established, statusCode=${u.statusCode}`,void 0,`ProxyStatusCode${u.statusCode}`))):h.length>0?(d.destroy(),c(new XE(`got non-empty response body from proxy, length=${h.length}`,void 0,"ProxyNonEmptyResponseBody"))):(La.debug(this.ctx,"Successfully established tunneling connection to proxy"),a(d))}),l.once("error",u=>{La.debug(this.ctx,"Proxy socket connection error",u.message),l.removeAllListeners(),c(new XE(`tunneling socket could not be established, cause=${u.message}`,u))}),l.on("timeout",()=>{La.debug(this.ctx,"Proxy socket connection timeout"),c(new XE(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${o.hostname}:${o.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let o=`${r.hostname}:${r.port}`,a={hostname:n.hostname,port:n.port,method:"CONNECT",path:o,agent:!1,headers:{host:o,"Proxy-Connection":"keep-alive","User-Agent":this.userAgent},timeout:r.timeout};return r.localAddress&&(a.localAddress=r.localAddress),this.configureProxyAuthorization(a,r,n.authorization),a}configureProxyAuthorization(r,n,o){r.headers["Proxy-Authorization"]=[],o&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(o).toString("base64")),typeof n.headers?.["Proxy-Authorization"]=="string"&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},PZ=class{static{s(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>Et(c3e()))}};f();var A3e=require("node:os");var igt=new Vr("repository"),ZE="\\\\",p3e="(?:[#;].*)",m5=`(?:[^"${ZE}]|${ZE}.)`,ogt="[0-9A-Za-z-]",f3e=`[A-Za-z]${ogt}*`,m3e=`\\s*${p3e}?$`,g3e=`(?:[^"${ZE};#]|${ZE}.)`,sgt=`(?:"${m5}*"|"${m5}*(?<strCont>${ZE})$)`,agt=`(?:${g3e}|${sgt})+`,cgt=`(?:(?<cont>${ZE})$)`,y3e=`(?<value>${agt})${cgt}?${m3e}`,d3e=new RegExp(`^${y3e}`),lgt=new RegExp(`^(?<value>${m5}*(?:(?<strCont>${ZE})$|(?<quote>")))`),ugt=new RegExp(`^\\s*(?:(?<key>${f3e})\\s*=\\s*${y3e}|(?<soloKey>${f3e})${m3e})`),fgt=new RegExp(`(?<value>${g3e}+)|"(?<string>${m5}*)"`,"g"),h3e="[-.0-9A-Za-z]+",dgt=`\\s+"(?<ext>${m5}*)"`,hgt=`\\s+"(?<extOnly>${m5}*)"`,Agt=new RegExp(`^\\s*\\[(?:(?<simple>${h3e})${dgt}|${hgt}|(?<simpleOnly>${h3e}))\\]`),pgt=new RegExp(`^\\s*${p3e}$`),FZ=class{constructor(e){this.content=e;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{s(this,"GitConfigParser")}parse(e){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=e,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(e){this.linesWithErrors.push(e)}parseSectionStart(){let e=this.line.match(Agt);e&&(e.groups?.simple?this.section=e.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(e.groups.ext):e.groups?.extOnly?this.section="."+this.unescapeBaseValue(e.groups.extOnly):this.section=e.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(e[0].length))}unescapeBaseValue(e){return e.replace(/\\(.)/g,"$1")}parseConfigPair(){let e=this.line.match(ugt);if(e){if(e.groups?.key){let r=this.handleContinued(e);this.configValueHandler?.(this.nameWithSection(e.groups.key.toLowerCase()),r)}else e.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(e.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(e){let r=e,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(lgt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(d3e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(d3e),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(e){return e.groups.strCont?e.groups.value.slice(0,-1):e.groups.value}normalizeValue(e){let r=!1,n=[...e.matchAll(fgt)].map(o=>o.groups?.value?(r=!0,this.unescapeValue(o.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(o.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(e){let r={n:`
`,t:"	",b:"\b"};return e.replace(/\\(.)/g,(n,o)=>r[o]||o)}nameWithSection(e){return this.section?this.section+"."+e:e}parseComment(){pgt.test(this.line)&&(this.line="")}},sL=class extends yf{static{s(this,"GitParsingConfigLoader")}async getConfig(e,r){let n=await OA.getRepoConfigLocation(e,r);if(!n)return;let o=await this.getParsedConfig(e,n);if(o)return this.mergeConfig(await this.baseConfig(e,n),o)}mergeConfig(...e){return e.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new uE)}async getParsedConfig(e,r,n=!0){let o=await this.tryLoadConfig(e,r,n);if(!o)return;let a=new FZ(o),c=new uE;return a.parse((l,u)=>c.add(l,u)),c}async tryLoadConfig(e,r,n){try{return await e.get(ia).readFileString(r)}catch(o){(n||!(o instanceof Error)||o.code!=="ENOENT")&&igt.warn(e,`Failed to load git config from ${JSON.stringify(r)}:`,o);return}}async baseConfig(e,r){let n=await this.commondirConfigUri(e,r),o=zs(this.xdgConfigUri(),"git","config"),a=zs(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(e,o,!1),await this.getParsedConfig(e,a,!1),n?await this.getParsedConfig(e,n,!1):void 0)}async commondirConfigUri(e,r){if(Fm(r).toLowerCase()!=="config.worktree")return;let n=Jh(r),o=zs(n,"commondir");try{let a=(await e.get(ia).readFileString(o)).trimEnd();return zs(My(n,a),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?w6(process.env.XDG_CONFIG_HOME):zs(this.homeUri(),".config")}homeUri(){return w6((0,A3e.homedir)())}};f();var C3e=require("child_process");var aL=class extends yf{static{s(this,"GitCLIConfigLoader")}runCommand(e,r,n){return new Promise((o,a)=>{(0,C3e.execFile)(r,n,{cwd:e},(c,l)=>{c?a(c):o(l)})})}async tryRunCommand(e,r,n,o){try{return await this.runCommand(r,n,o)}catch(a){rye.info(e,`Failed to run command '${n}' in ${r}:`,a);return}}async getConfig(e,r){let n=S6(r);if(n===void 0)return;let o=await this.tryRunCommand(e,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return o?this.extractConfig(o):void 0}extractConfig(e){let r=new uE;for(let n of e.split("\0").filter(o=>o)){let o=n.split(`
`,1)[0],a=n.slice(o.length+1);r.add(o,a)}return r}extraArgs(){return[]}};function E3e(t){let e=_Ee(t);return mgt(e),e.set(bc,$we(e)),e.set(N1,u3e(e)),e.set(yf,new $D([new aL,new sL])),e.set(B3,new B3(e)),e}s(E3e,"createProductionContext");function mgt(t){t.set(Qm,Qm.fromEnvironment(!1)),t.set(Rm,new _Q),t.set(Qy,new TQ(console))}s(mgt,"setupRudimentaryLogging");var wZr=new Vr("context");f();var cL=class extends Lm{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(r,this.getDefaultUrls())}static{s(this,"DefaultNetworkConfiguration")}getAuthAuthority(){return this.baseUrlObject.hostname}getConfiguredUrls(){return{serverUrl:this.baseUrlObject.href,apiUrl:this.apiUrl}}setConfiguredUrls(r,n){let o=this.getConfiguredUrls();this.recalculateUrlDefaults(r,n);let a=this.getConfiguredUrls();(o.apiUrl!==a.apiUrl||o.serverUrl!==a.serverUrl)&&r.get(Ei).resetToken(),r.get(Vu).updateSessionConfig(a)}recalculateUrlDefaults(r,n){let{serverUrl:o,apiUrl:a}=Oy({serverUrl:gO(r,n.serverUrl),apiUrl:gO(r,n.apiUrl)});this.baseUrlObject=new URL(o),this.apiUrl=a}getDefaultUrls(){return this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN?{apiUrl:this.env.GITHUB_API_URL,serverUrl:this.env.GITHUB_SERVER_URL}:{}}};f();var I3e=Et(require("crypto")),x3e=require("os");var ggt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function ygt(t){let e=t.replace(/-/g,":").toLowerCase();return!ggt.has(e)}s(ygt,"validateMacAddress");function Cgt(){let t=(0,x3e.networkInterfaces)();for(let e in t){let r=t[e];if(r){for(let{mac:n}of r)if(ygt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(Cgt,"getMac");var LZ;function Egt(){try{let t=Cgt();return I3e.createHash("sha256").update(t,"utf8").digest("hex")}catch{return}}s(Egt,"getMacMachineId");function v3e(){return LZ||(LZ=Egt()||gf()),LZ}s(v3e,"getMachineId");f();f();var b3e=Et(require("tls"));var lL=class{static{s(this,"RootCertificateConfigurator")}#e;constructor(e){this._certificateReader=e.get(bc)}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async createSecureContext(){let e=await this._certificateReader.getAllRootCAs(),n=b3e.createSecureContext({_vscodeAdditionalCaCerts:e}),o=n.context;for(let a of e)o.addCACert(a);return{secureContext:n,certs:e}}async applyToRequestOptions(e){this.#e??=this.createSecureContext();let r=await this.#e;e.secureContext=r.secureContext,e.ca=r.certs,e.cert=r.certs}};f();var I5=Et(SSe(),1),rtn={ALPN_HTTP2:I5.default.ALPN_HTTP2,ALPN_HTTP2C:I5.default.ALPN_HTTP2C,ALPN_HTTP1_1:I5.default.ALPN_HTTP1_1,ALPN_HTTP1_0:I5.default.ALPN_HTTP1_0},{fetch:ntn,context:BSe,reset:itn,noCache:otn,h1:stn,keepAlive:atn,h1NoCache:ctn,keepAliveNoCache:ltn,cacheStats:utn,clearCache:ftn,offPush:dtn,onPush:htn,createUrl:Atn,timeoutSignal:ptn,Body:mtn,Headers:gtn,Request:ytn,Response:Ctn,AbortController:Etn,AbortError:Itn,AbortSignal:xtn,FetchBaseError:vtn,FetchError:btn,ALPN_HTTP2:Ttn,ALPN_HTTP2C:_tn,ALPN_HTTP1_1:wtn,ALPN_HTTP1_0:Stn}=I5.default;var _L=class extends ms{constructor(r,n){super();this.name="HelixFetcher";this.certificateConfigurator=new lL(r),this.proxySocketFactory=r.get(N1),this.proxySocketTimeoutForTesting=n?.proxySocketTimeoutForTesting,r.get(W0).onDidChangeHttpSettings(o=>{this.fetchApi=this.createFetchApi(r,o)}),this.fetchApi=this.createFetchApi(r,r.get(W0).getHttpSettings())}static{s(this,"HelixFetcher")}maybeCreateSocketFactory(r,n){if(!r?.proxy)return;let o=new URL(r.proxy);return async a=>(a.rejectUnauthorized=r.proxyStrictSSL,a.timeout=n,await this.certificateConfigurator.applyToRequestOptions(a),await this.proxySocketFactory.createSocket(a,{hostname:o.hostname,port:o.port,authorization:r.proxyAuthorization,kerberosServicePrincipal:r.proxyKerberosServicePrincipal}))}createFetchApi(r,n){let o=r.get(Ks),a=this.proxySocketTimeoutForTesting;return BSe({userAgent:`GithubCopilot/${o.getVersion()}`,socketFactory:this.maybeCreateSocketFactory(n,a),rejectUnauthorized:n.proxyStrictSSL})}async fetch(r,n){let o=n.signal,a=!1;if(n.timeout){let d=new AbortController;setTimeout(()=>{d.abort(),a=!0},n.timeout),n.signal?.addEventListener("abort",()=>d.abort()),n.signal?.aborted&&d.abort(),o=d.signal}let c={...n,body:n.body?n.body:n.json,signal:o};await this.certificateConfigurator.applyToRequestOptions(c);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let u=await this.fetchApi.fetch(r,c).catch(d=>{throw a?new $T(`Request to <${r}> timed out after ${n.timeout}ms`,d):d});return new M8(u.status,u.statusText,u.headers,()=>u.text(),()=>u.body)}disconnectAll(){return this.fetchApi.reset()}};f();f();var wL=class extends t0{static{s(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var RSe=require("child_process");var Gyt=gf()+Date.now();async function kSe(){let t=E3e(new fD);return t.set(Lm,new cL(t)),t.set(jm,new ER),t.set(ms,new _L(t)),t.set(js,new dee(await Vyt())),t.set(Ys,new Ys(Gyt,v3e())),t.forceSet(t0,new wL),t.set(Vu,new Vu(t,xv.name)),t.get(Vu).initialize(!0),t}s(kSe,"createUninstallContext");async function Vyt(){let t="unknown";try{return await new Promise((e,r)=>{let n=(0,RSe.spawn)("code -v",{shell:!0,stdio:"pipe"});n.stdout?.on("data",o=>{t==="unknown"&&(t=o.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>e(t)),n.on("error",o=>r(o))})}catch{return t}}s(Vyt,"lookupVscodeVersion");var dee=class extends js{constructor(r){super();this.vscodeVersion=r}static{s(this,"UninstallEditorInfo")}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:xv.version}}getRelatedPluginInfo(){return[]}};async function Wyt(){let t=await kSe(),e=new TD;process.argv.includes("--dry-run")||await e.uninstall(t)}s(Wyt,"doUninstall");Wyt().then(()=>process.exit(0)).catch(t=>{console.error(t),process.exit(1)});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@azure/msal-node/dist/cache/serializer/Serializer.mjs:
@azure/msal-node/dist/cache/serializer/Deserializer.mjs:
@azure/msal-node/dist/internals.mjs:
@azure/msal-node/dist/utils/Constants.mjs:
@azure/msal-node/dist/utils/NetworkUtils.mjs:
@azure/msal-node/dist/network/HttpClient.mjs:
@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs:
@azure/msal-node/dist/error/ManagedIdentityError.mjs:
@azure/msal-node/dist/config/ManagedIdentityId.mjs:
@azure/msal-node/dist/error/NodeAuthError.mjs:
@azure/msal-node/dist/config/Configuration.mjs:
@azure/msal-node/dist/crypto/GuidGenerator.mjs:
@azure/msal-node/dist/utils/EncodingUtils.mjs:
@azure/msal-node/dist/crypto/HashUtils.mjs:
@azure/msal-node/dist/crypto/PkceGenerator.mjs:
@azure/msal-node/dist/crypto/CryptoProvider.mjs:
@azure/msal-node/dist/cache/NodeStorage.mjs:
@azure/msal-node/dist/cache/TokenCache.mjs:
@azure/msal-node/dist/client/ClientAssertion.mjs:
@azure/msal-node/dist/packageMetadata.mjs:
@azure/msal-node/dist/client/UsernamePasswordClient.mjs:
@azure/msal-node/dist/protocol/Authorize.mjs:
@azure/msal-node/dist/client/ClientApplication.mjs:
@azure/msal-node/dist/network/LoopbackClient.mjs:
@azure/msal-node/dist/client/DeviceCodeClient.mjs:
@azure/msal-node/dist/client/PublicClientApplication.mjs:
@azure/msal-node/dist/client/ClientCredentialClient.mjs:
@azure/msal-node/dist/client/OnBehalfOfClient.mjs:
@azure/msal-node/dist/client/ConfidentialClientApplication.mjs:
@azure/msal-node/dist/utils/TimeUtils.mjs:
@azure/msal-node/dist/network/HttpClientWithRetries.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs:
@azure/msal-node/dist/retry/LinearRetryStrategy.mjs:
@azure/msal-node/dist/retry/DefaultManagedIdentityRetryPolicy.mjs:
@azure/msal-node/dist/config/ManagedIdentityRequestParameters.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AppService.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/AzureArc.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/CloudShell.mjs:
@azure/msal-node/dist/retry/ExponentialRetryStrategy.mjs:
@azure/msal-node/dist/retry/ImdsRetryPolicy.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/Imds.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/ServiceFabric.mjs:
@azure/msal-node/dist/client/ManagedIdentitySources/MachineLearning.mjs:
@azure/msal-node/dist/client/ManagedIdentityClient.mjs:
@azure/msal-node/dist/client/ManagedIdentityApplication.mjs:
@azure/msal-node/dist/cache/distributed/DistributedCachePlugin.mjs:
@azure/msal-node/dist/index.mjs:
  (*! @azure/msal-node v3.6.3 2025-07-08 *)

@azure/msal-common/dist/utils/Constants.mjs:
@azure/msal-common/dist/error/AuthErrorCodes.mjs:
@azure/msal-common/dist/error/AuthError.mjs:
@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs:
@azure/msal-common/dist/error/ClientAuthError.mjs:
@azure/msal-common/dist/crypto/ICrypto.mjs:
@azure/msal-common/dist/logger/Logger.mjs:
@azure/msal-common/dist/packageMetadata.mjs:
@azure/msal-common/dist/authority/AuthorityOptions.mjs:
@azure/msal-common/dist/account/AuthToken.mjs:
@azure/msal-common/dist/utils/TimeUtils.mjs:
@azure/msal-common/dist/cache/utils/CacheHelpers.mjs:
@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs:
@azure/msal-common/dist/error/ClientConfigurationError.mjs:
@azure/msal-common/dist/utils/StringUtils.mjs:
@azure/msal-common/dist/request/ScopeSet.mjs:
@azure/msal-common/dist/account/ClientInfo.mjs:
@azure/msal-common/dist/account/AccountInfo.mjs:
@azure/msal-common/dist/authority/AuthorityType.mjs:
@azure/msal-common/dist/account/TokenClaims.mjs:
@azure/msal-common/dist/authority/ProtocolMode.mjs:
@azure/msal-common/dist/cache/entities/AccountEntity.mjs:
@azure/msal-common/dist/utils/UrlUtils.mjs:
@azure/msal-common/dist/url/UrlString.mjs:
@azure/msal-common/dist/authority/AuthorityMetadata.mjs:
@azure/msal-common/dist/error/CacheErrorCodes.mjs:
@azure/msal-common/dist/error/CacheError.mjs:
@azure/msal-common/dist/cache/CacheManager.mjs:
@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs:
@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs:
@azure/msal-common/dist/config/ClientConfiguration.mjs:
@azure/msal-common/dist/account/CcsCredential.mjs:
@azure/msal-common/dist/constants/AADServerParamKeys.mjs:
@azure/msal-common/dist/request/RequestParameterBuilder.mjs:
@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs:
@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs:
@azure/msal-common/dist/utils/FunctionWrappers.mjs:
@azure/msal-common/dist/authority/RegionDiscovery.mjs:
@azure/msal-common/dist/authority/Authority.mjs:
@azure/msal-common/dist/authority/AuthorityFactory.mjs:
@azure/msal-common/dist/error/ServerError.mjs:
@azure/msal-common/dist/network/RequestThumbprint.mjs:
@azure/msal-common/dist/network/ThrottlingUtils.mjs:
@azure/msal-common/dist/error/NetworkError.mjs:
@azure/msal-common/dist/client/BaseClient.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs:
@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs:
@azure/msal-common/dist/utils/ProtocolUtils.mjs:
@azure/msal-common/dist/crypto/PopTokenGenerator.mjs:
@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs:
@azure/msal-common/dist/response/ResponseHandler.mjs:
@azure/msal-common/dist/utils/ClientAssertionUtils.mjs:
@azure/msal-common/dist/client/AuthorizationCodeClient.mjs:
@azure/msal-common/dist/client/RefreshTokenClient.mjs:
@azure/msal-common/dist/client/SilentFlowClient.mjs:
@azure/msal-common/dist/protocol/Authorize.mjs:
@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs:
@azure/msal-common/dist/index-node.mjs:
@azure/msal-common/dist/index.mjs:
  (*! @azure/msal-common v15.8.1 2025-07-08 *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
